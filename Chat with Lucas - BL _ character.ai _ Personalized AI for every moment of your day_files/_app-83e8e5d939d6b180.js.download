(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{76918:function(e,t,n){"use strict";n.d(t,{Sb:function(){return s},bM:function(){return i},x:function(){return o}});var r=n(58117),i=function(e){return void 0===e&&(e="$default_instance"),r.V.getInstance(e)},o=function(e,t){i(t).identityStore.editIdentity().setUserId(e).commit()},s=function(e,t){i(t).identityStore.editIdentity().setDeviceId(e).commit()}},9911:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var r=function(){var e="ampIntegrationContext";return"undefined"!=typeof globalThis&&void 0!==globalThis[e]?globalThis[e]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==n.g?n.g:void 0}},33670:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(22970),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.send=function(e,t){return(0,r.mG)(this,void 0,void 0,function(){var n,i;return(0,r.Jh)(this,function(r){switch(r.label){case 0:if("undefined"==typeof fetch)throw Error("FetchTransport is not supported");return[4,fetch(e,{headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(t),method:"POST"})];case 1:return[4,(n=r.sent()).text()];case 2:i=r.sent();try{return[2,this.buildResponse(JSON.parse(i))]}catch(e){return[2,this.buildResponse({code:n.status})]}return[2]}})})},t}(n(56938).d)},58117:function(e,t,n){"use strict";n.d(t,{V:function(){return u}});var r=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:i(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),i=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},o=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},e}(),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e,t){var n=typeof e;if(n!==typeof t)return!1;for(var r=0,i=["string","number","boolean","undefined"];r<i.length;r++)if(i[r]===n)return e===t;if(null==e&&null==t)return!0;if(null==e||null==t||e.length!==t.length)return!1;var o=Array.isArray(e),s=Array.isArray(t);if(o!==s)return!1;if(o&&s){for(var l=0;l<e.length;l++)if(!a(e[l],t[l]))return!1}else{if(!a(Object.keys(e).sort(),Object.keys(t).sort()))return!1;var c=!0;return Object.keys(e).forEach(function(n){a(e[n],t[n])||(c=!1)}),c}return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=Array(n);n--;)r[n]=[t[n],e[t[n]]];return r});var l=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=s({},this.identity.userProperties),n=s(s({},this.identity),{userProperties:t});return{setUserId:function(e){return n.userId=e,this},setDeviceId:function(e){return n.deviceId=e,this},setUserProperties:function(e){return n.userProperties=e,this},setOptOut:function(e){return n.optOut=e,this},updateUserProperties:function(e){for(var t=n.userProperties||{},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1];switch(s){case"$set":for(var l=0,c=Object.entries(a);l<c.length;l++){var u=c[l],d=u[0],h=u[1];t[d]=h}break;case"$unset":for(var p=0,f=Object.keys(a);p<f.length;p++){var d=f[p];delete t[d]}break;case"$clearAll":t={}}}return n.userProperties=t,this},commit:function(){return e.setIdentity(n),this}}},e.prototype.getIdentity=function(){return s({},this.identity)},e.prototype.setIdentity=function(e){var t=s({},this.identity);this.identity=s({},e),a(t,this.identity)||this.listeners.forEach(function(t){t(e)})},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),c="undefined"!=typeof globalThis?globalThis:void 0!==n.g?n.g:self,u=function(){function e(){this.identityStore=new l,this.eventBridge=new o,this.applicationContextProvider=new r}return e.getInstance=function(t){return c.analyticsConnectorInstances||(c.analyticsConnectorInstances={}),c.analyticsConnectorInstances[t]||(c.analyticsConnectorInstances[t]=new e),c.analyticsConnectorInstances[t]},e}()},28157:function(e,t,n){"use strict";n.d(t,{De:function(){return a},Dg:function(){return c},RG:function(){return l}});var r=n(40965),i=n(48120),o=n(87664),s=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:r.i.Warn,loggerProvider:new o.Y,offline:!1,optOut:!1,serverUrl:i.EG,serverZone:"US",useBatch:!1}},a=function(){function e(e){this._optOut=!1;var t,n,r,i,o=s();this.apiKey=e.apiKey,this.flushIntervalMillis=null!==(t=e.flushIntervalMillis)&&void 0!==t?t:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=null!==(n=e.logLevel)&&void 0!==n?n:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=void 0!==e.offline?e.offline:o.offline,this.optOut=null!==(r=e.optOut)&&void 0!==r?r:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=null!==(i=e.useBatch)&&void 0!==i?i:o.useBatch,this.loggerProvider.enable(this.logLevel);var a=l(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=a.serverZone,this.serverUrl=a.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),e}(),l=function(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=s().serverZone),void 0===n&&(n=s().useBatch),e)return{serverUrl:e,serverZone:void 0};var r,o=["US","EU"].includes(t)?t:s().serverZone;return{serverZone:o,serverUrl:(r=n,"EU"===o?r?i.RE:i.y_:r?i.h8:i.EG)}},c=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(e,t){this.sdk.metrics.histogram[e]=t},e}()},48120:function(e,t,n){"use strict";n.d(t,{EG:function(){return s},RE:function(){return c},f1:function(){return o},h8:function(){return l},q$:function(){return r},xp:function(){return i},y_:function(){return a}});var r="-",i="AMP",o="".concat(i,"_unsent"),s="https://api2.amplitude.com/2/httpapi",a="https://api.eu.amplitude.com/2/httpapi",l="https://api2.amplitude.com/batch",c="https://api.eu.amplitude.com/batch"},89170:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(22970),i=n(46477),o=n(48120),s=n(21753),a=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return(0,r.pi)({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(i.h9.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(i.h9.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(i.h9.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(i.h9.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(i.h9.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(i.h9.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(i.h9.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(i.h9.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(i.h9.UNSET,e,o.q$),this},e.prototype.clearAll=function(){return this._properties={},this._properties[i.h9.CLEAR_ALL]=o.q$,this},e.prototype._safeSet=function(e,t,n){if(this._validate(e,t,n)){var r=this._properties[e];return void 0===r&&(r={},this._properties[e]=r),r[t]=n,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,n){return!(void 0!==this._properties[i.h9.CLEAR_ALL]||this._propertySet.has(t))&&(e===i.h9.ADD?"number"==typeof n:e===i.h9.UNSET||e===i.h9.REMOVE||(0,s.T)(t,n))},e}()},87664:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(40965),i="Amplitude Logger ",o=function(){function e(){this.logLevel=r.i.None}return e.prototype.disable=function(){this.logLevel=r.i.None},e.prototype.enable=function(e){void 0===e&&(e=r.i.Warn),this.logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.i.Verbose||console.log("".concat(i,"[Log]: ").concat(e.join(" ")))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.i.Warn||console.warn("".concat(i,"[Warn]: ").concat(e.join(" ")))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.i.Error||console.error("".concat(i,"[Error]: ").concat(e.join(" ")))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.i.Debug||console.log("".concat(i,"[Debug]: ").concat(e.join(" ")))},e}()},56938:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(26913),i=function(){function e(){}return e.prototype.send=function(e,t){return Promise.resolve(null)},e.prototype.buildResponse=function(e){if("object"!=typeof e)return null;var t,n,i,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,_,C,x,k=e.code||0,S=this.buildStatus(k);switch(S){case r.q.Success:return{status:S,statusCode:k,body:{eventsIngested:null!==(t=e.events_ingested)&&void 0!==t?t:0,payloadSizeBytes:null!==(n=e.payload_size_bytes)&&void 0!==n?n:0,serverUploadTime:null!==(i=e.server_upload_time)&&void 0!==i?i:0}};case r.q.Invalid:return{status:S,statusCode:k,body:{error:null!==(o=e.error)&&void 0!==o?o:"",missingField:null!==(s=e.missing_field)&&void 0!==s?s:"",eventsWithInvalidFields:null!==(a=e.events_with_invalid_fields)&&void 0!==a?a:{},eventsWithMissingFields:null!==(l=e.events_with_missing_fields)&&void 0!==l?l:{},eventsWithInvalidIdLengths:null!==(c=e.events_with_invalid_id_lengths)&&void 0!==c?c:{},epsThreshold:null!==(u=e.eps_threshold)&&void 0!==u?u:0,exceededDailyQuotaDevices:null!==(d=e.exceeded_daily_quota_devices)&&void 0!==d?d:{},silencedDevices:null!==(h=e.silenced_devices)&&void 0!==h?h:[],silencedEvents:null!==(p=e.silenced_events)&&void 0!==p?p:[],throttledDevices:null!==(f=e.throttled_devices)&&void 0!==f?f:{},throttledEvents:null!==(m=e.throttled_events)&&void 0!==m?m:[]}};case r.q.PayloadTooLarge:return{status:S,statusCode:k,body:{error:null!==(g=e.error)&&void 0!==g?g:""}};case r.q.RateLimit:return{status:S,statusCode:k,body:{error:null!==(v=e.error)&&void 0!==v?v:"",epsThreshold:null!==(y=e.eps_threshold)&&void 0!==y?y:0,throttledDevices:null!==(b=e.throttled_devices)&&void 0!==b?b:{},throttledUsers:null!==(w=e.throttled_users)&&void 0!==w?w:{},exceededDailyQuotaDevices:null!==(_=e.exceeded_daily_quota_devices)&&void 0!==_?_:{},exceededDailyQuotaUsers:null!==(C=e.exceeded_daily_quota_users)&&void 0!==C?C:{},throttledEvents:null!==(x=e.throttled_events)&&void 0!==x?x:[]}};case r.q.Timeout:default:return{status:S,statusCode:k}}},e.prototype.buildStatus=function(e){return e>=200&&e<300?r.q.Success:429===e?r.q.RateLimit:413===e?r.q.PayloadTooLarge:408===e?r.q.Timeout:e>=400&&e<500?r.q.Invalid:e>=500?r.q.Failed:r.q.Unknown},e}()},2843:function(e,t,n){"use strict";n.d(t,{w_:function(){return l},yh:function(){return o},zn:function(){return a}});var r=n(22970),i=n(40965),o=function(e){return function(){var t=(0,r.pi)({},e.config);return{logger:t.loggerProvider,logLevel:t.logLevel}}},s=function(e,t){var n,i;t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var o=(0,r.XA)(t.split(".")),s=o.next();!s.done;s=o.next()){var a=s.value;if(!(a in e))return;e=e[a]}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return e},a=function(e,t){return function(){var n,i,o={};try{for(var a=(0,r.XA)(t),l=a.next();!l.done;l=a.next()){var c=l.value;o[c]=s(e,c)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}},l=function(e,t,n,r,o){return void 0===o&&(o=null),function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=n(),c=l.logger,u=l.logLevel;if(u&&u<i.i.Debug||!u||!c)return e.apply(o,s);var d={type:"invoke public method",name:t,args:s,stacktrace:(Error().stack||"").split("\n").slice(3).map(function(e){return e.trim()}),time:{start:new Date().toISOString()},states:{}};r&&d.states&&(d.states.before=r());var h=e.apply(o,s);return h&&h.promise?h.promise.then(function(){r&&d.states&&(d.states.after=r()),d.time&&(d.time.end=new Date().toISOString()),c.debug(JSON.stringify(d,null,2))}):(r&&d.states&&(d.states.after=r()),d.time&&(d.time.end=new Date().toISOString()),c.debug(JSON.stringify(d,null,2))),h}}},44354:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});var r=function(e){return{promise:e||Promise.resolve()}}},21753:function(e,t,n){"use strict";n.d(t,{L:function(){return i},T:function(){return o}});var r=n(22970),i=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var n=e[t];if(!o(t,n))return!1}return!0},o=function(e,t){var n,o;if("string"!=typeof e)return!1;if(Array.isArray(t)){var s=!0;try{for(var a=(0,r.XA)(t),l=a.next();!l.done;l=a.next()){var c=l.value;if(Array.isArray(c))return!1;if("object"==typeof c)s=s&&i(c);else if(!["number","string"].includes(typeof c))return!1;if(!s)return!1}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}}else if(null==t)return!1;else if("object"==typeof t)return i(t);else if(!["number","string","boolean"].includes(typeof t))return!1;return!0}},46477:function(e,t,n){"use strict";var r,i,o,s,a,l;n.d(t,{JU:function(){return o},al:function(){return i},h9:function(){return r}}),(s=r||(r={})).SET="$set",s.SET_ONCE="$setOnce",s.ADD="$add",s.APPEND="$append",s.PREPEND="$prepend",s.REMOVE="$remove",s.PREINSERT="$preInsert",s.POSTINSERT="$postInsert",s.UNSET="$unset",s.CLEAR_ALL="$clearAll",(a=i||(i={})).REVENUE_PRODUCT_ID="$productId",a.REVENUE_QUANTITY="$quantity",a.REVENUE_PRICE="$price",a.REVENUE_TYPE="$revenueType",a.REVENUE="$revenue",(l=o||(o={})).IDENTIFY="$identify",l.GROUP_IDENTIFY="$groupidentify",l.REVENUE="revenue_amount"},40965:function(e,t,n){"use strict";var r,i;n.d(t,{i:function(){return r}}),(i=r||(r={}))[i.None=0]="None",i[i.Error=1]="Error",i[i.Warn=2]="Warn",i[i.Verbose=3]="Verbose",i[i.Debug=4]="Debug"},54261:function(e,t,n){"use strict";var r,i;n.d(t,{J:function(){return r}}),(i=r||(r={})).US="US",i.EU="EU"},26913:function(e,t,n){"use strict";var r,i;n.d(t,{q:function(){return r}}),(i=r||(r={})).Unknown="unknown",i.Skipped="skipped",i.Success="success",i.RateLimit="rate_limit",i.PayloadTooLarge="payload_too_large",i.Invalid="invalid",i.Failed="failed",i.Timeout="Timeout",i.SystemError="SystemError"},42051:function(e,t,n){var r;!function(i,o){"use strict";var s="function",a="undefined",l="object",c="string",u="model",d="name",h="type",p="vendor",f="version",m="architecture",g="console",v="mobile",y="tablet",b="smarttv",w="wearable",_="embedded",C="Amazon",x="Apple",k="ASUS",S="BlackBerry",E="Browser",T="Chrome",P="Firefox",I="Google",R="Huawei",O="Microsoft",A="Motorola",N="Opera",L="Samsung",M="Sharp",D="Sony",j="Xiaomi",U="Zebra",F="Facebook",V=function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},B=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},z=function(e,t){return typeof e===c&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},q=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},K=function(e,t){for(var n,r,i,a,c,u,d=0;d<t.length&&!c;){var h=t[d],p=t[d+1];for(n=r=0;n<h.length&&!c;)if(c=h[n++].exec(e))for(i=0;i<p.length;i++)u=c[++r],typeof(a=p[i])===l&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):void 0):this[a]=u||o;d+=2}},G=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(z(t[n][r],e))return"?"===n?o:n}else if(z(t[n],e))return"?"===n?o:n;return e},W={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},$={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[d,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UC"+E]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+E],f],[/\bfocus\/([\w\.]+)/i],[f,[d,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI "+E]],[/fxios\/([-\w\.]+)/i],[f,[d,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+E]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+E],f],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,F],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,T+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android "+E]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,f],[/(cobalt)\/([\w\.]+)/i],[d,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,H]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[p,L],[h,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[p,L],[h,v]],[/((ipod|iphone)\d+,\d+)/i],[u,[p,x],[h,v]],[/(ipad\d+,\d+)/i],[u,[p,x],[h,y]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[p,x],[h,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[p,x],[h,y]],[/(macintosh);/i],[u,[p,x]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[p,R],[h,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[p,R],[h,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[p,j],[h,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[p,j],[h,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[p,"OPPO"],[h,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[p,"Vivo"],[h,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[p,"Realme"],[h,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[p,A],[h,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[p,A],[h,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[p,"LG"],[h,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[p,"LG"],[h,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[p,"Lenovo"],[h,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[p,"Nokia"],[h,v]],[/(pixel c)\b/i],[u,[p,I],[h,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[p,I],[h,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[p,D],[h,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[p,D],[h,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[p,"OnePlus"],[h,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[p,C],[h,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[p,C],[h,v]],[/(playbook);[-\w\),; ]+(rim)/i],[u,p,[h,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[p,S],[h,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[p,k],[h,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[p,k],[h,v]],[/(nexus 9)/i],[u,[p,"HTC"],[h,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[u,/_/g," "],[h,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[p,"Acer"],[h,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[p,"Meizu"],[h,v]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[p,M],[h,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,u,[h,v]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,u,[h,y]],[/(surface duo)/i],[u,[p,O],[h,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[p,"Fairphone"],[h,v]],[/(u304aa)/i],[u,[p,"AT&T"],[h,v]],[/\bsie-(\w*)/i],[u,[p,"Siemens"],[h,v]],[/\b(rct\w+) b/i],[u,[p,"RCA"],[h,y]],[/\b(venue[\d ]{2,7}) b/i],[u,[p,"Dell"],[h,y]],[/\b(q(?:mv|ta)\w+) b/i],[u,[p,"Verizon"],[h,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[p,"Barnes & Noble"],[h,y]],[/\b(tm\d{3}\w+) b/i],[u,[p,"NuVision"],[h,y]],[/\b(k88) b/i],[u,[p,"ZTE"],[h,y]],[/\b(nx\d{3}j) b/i],[u,[p,"ZTE"],[h,v]],[/\b(gen\d{3}) b.+49h/i],[u,[p,"Swiss"],[h,v]],[/\b(zur\d{3}) b/i],[u,[p,"Swiss"],[h,y]],[/\b((zeki)?tb.*\b) b/i],[u,[p,"Zeki"],[h,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],u,[h,y]],[/\b(ns-?\w{0,9}) b/i],[u,[p,"Insignia"],[h,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[p,"NextBook"],[h,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],u,[h,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],u,[h,v]],[/\b(ph-1) /i],[u,[p,"Essential"],[h,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[p,"Envizen"],[h,y]],[/\b(trio[-\w\. ]+) b/i],[u,[p,"MachSpeed"],[h,y]],[/\btu_(1491) b/i],[u,[p,"Rotor"],[h,y]],[/(shield[\w ]+) b/i],[u,[p,"Nvidia"],[h,y]],[/(sprint) (\w+)/i],[p,u,[h,v]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[p,O],[h,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[p,U],[h,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[p,U],[h,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,u,[h,g]],[/droid.+; (shield) bui/i],[u,[p,"Nvidia"],[h,g]],[/(playstation [345portablevi]+)/i],[u,[p,D],[h,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[p,O],[h,g]],[/smart-tv.+(samsung)/i],[p,[h,b]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[p,L],[h,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,"LG"],[h,b]],[/(apple) ?tv/i],[p,[u,x+" TV"],[h,b]],[/crkey/i],[[u,T+"cast"],[p,I],[h,b]],[/droid.+aft(\w)( bui|\))/i],[u,[p,C],[h,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[p,M],[h,b]],[/(bravia[\w ]+)( bui|\))/i],[u,[p,D],[h,b]],[/(mitv-\w{5}) bui/i],[u,[p,j],[h,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,q],[u,q],[h,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,b]],[/((pebble))app/i],[p,u,[h,w]],[/droid.+; (glass) \d/i],[u,[p,I],[h,w]],[/droid.+; (wt63?0{2,3})\)/i],[u,[p,U],[h,w]],[/(quest( 2)?)/i],[u,[p,F],[h,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[h,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[h,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,v]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[f,G,W]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[f,G,W]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[d,T+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,f]]},Z=function(e,t){if(typeof e===l&&(t=e,e=o),!(this instanceof Z))return new Z(e,t).getResult();var n=e||(typeof i!==a&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?V($,t):$;return this.getBrowser=function(){var e,t={};return t[d]=o,t[f]=o,K.call(t,n,r.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e[m]=o,K.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e[p]=o,e[u]=o,e[h]=o,K.call(e,n,r.device),e},this.getEngine=function(){var e={};return e[d]=o,e[f]=o,K.call(e,n,r.engine),e},this.getOS=function(){var e={};return e[d]=o,e[f]=o,K.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>350?q(e,350):e,this},this.setUA(n),this};Z.VERSION="0.7.33",Z.BROWSER=B([d,f,"major"]),Z.CPU=B([m]),Z.DEVICE=B([u,p,h,g,v,b,y,w,_]),Z.ENGINE=Z.OS=B([d,f]),typeof t!==a?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?o!==(r=(function(){return Z}).call(t,n,t,e))&&(e.exports=r):typeof i!==a&&(i.UAParser=Z);var J=typeof i!==a&&(i.jQuery||i.Zepto);if(J&&!J.ua){var Y=new Z;J.ua=Y.getResult(),J.ua.get=function(){return Y.getUA()},J.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var n in t)J.ua[n]=t[n]}}}("object"==typeof window?window:this)},83395:function(e,t,n){"use strict";n.d(t,{BH:function(){return y},L:function(){return c},LL:function(){return T},Pz:function(){return v},ZR:function(){return E},aH:function(){return g},b$:function(){return C},eu:function(){return S},hl:function(){return k},m9:function(){return j},ne:function(){return L},pd:function(){return N},q4:function(){return m},ru:function(){return _},tV:function(){return u},uI:function(){return w},vZ:function(){return function e(t,n){if(t===n)return!0;let r=Object.keys(t),i=Object.keys(n);for(let o of r){if(!i.includes(o))return!1;let r=t[o],s=n[o];if(R(r)&&R(s)){if(!e(r,s))return!1}else if(r!==s)return!1}for(let e of i)if(!r.includes(e))return!1;return!0}},w1:function(){return x},xO:function(){return O},xb:function(){return I},z$:function(){return b},zd:function(){return A}});var r=n(93542);let i=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},o=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){let o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,c=i>>2,u=(3&i)<<4|s>>4,d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):o(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0,s=++t<e.length?n[e.charAt(t)]:64,l=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==l)throw new a;let c=i<<2|o>>4;if(r.push(c),64!==s){let e=o<<4&240|s>>2;if(r.push(e),64!==l){let e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let l=function(e){let t=i(e);return s.encodeByteArray(t,!0)},c=function(e){return l(e).replace(/\./g,"")},u=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},d=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,h=()=>{if(void 0===r||void 0===r.env)return;let e=r.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},p=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&u(e[1]);return t&&JSON.parse(t)},f=()=>{try{return d()||h()||p()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},m=e=>{var t,n;return null===(n=null===(t=f())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},g=()=>{var e;return null===(e=f())||void 0===e?void 0:e.config},v=e=>{var t;return null===(t=f())||void 0===t?void 0:t[`_${e}`]};class y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function b(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function w(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function _(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function C(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function x(){let e=b();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function k(){try{return"object"==typeof indexedDB}catch(e){return!1}}function S(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?i.replace(P,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`}):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new E(r,s,n)}}let P=/\{\$([^}]+)}/g;function I(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function R(e){return null!==e&&"object"==typeof e}function O(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function A(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function N(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function L(e,t){let n=new M(e,t);return n.subscribe.bind(n)}class M{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D(){}function j(e){return e&&e._delegate?e._delegate:e}},66712:function(e,t,n){"use strict";n.d(t,{MZ:function(){return d},cE:function(){return _},td:function(){return h}});var r=Symbol.for("preact-signals");function i(){if(a>1)a--;else{for(var e,t=!1;void 0!==s;){var n=s;for(s=void 0,l++;void 0!==n;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&p(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=r}}if(l=0,a--,t)throw e}}var o=void 0,s=void 0,a=0,l=0,c=0;function u(e){if(void 0!==o){var t=e.n;if(void 0===t||t.t!==o)return t={i:0,S:e,p:o.s,n:void 0,t:o,e:void 0,x:void 0,r:t},void 0!==o.s&&(o.s.n=t),o.s=t,e.n=t,32&o.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=o.s,t.n=void 0,o.s.n=t,o.s=t),t}}function d(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}function h(e){return new d(e)}function p(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function f(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function m(e){for(var t=e.s,n=void 0;void 0!==t;){var r=t.p;-1===t.i?(t.S.U(t),void 0!==r&&(r.n=t.n),void 0!==t.n&&(t.n.p=r)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=r}e.s=n}function g(e){d.call(this,void 0),this.x=e,this.s=void 0,this.g=c-1,this.f=4}function v(e){var t=e.u;if(e.u=void 0,"function"==typeof t){a++;var n=o;o=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,y(e),t}finally{o=n,i()}}}function y(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,v(e)}function b(e){if(o!==this)throw Error("Out-of-order effect");m(this),o=e,this.f&=-2,8&this.f&&y(this),i()}function w(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function _(e){var t=new w(e);try{t.c()}catch(e){throw t.d(),e}return t.d.bind(t)}d.prototype.brand=r,d.prototype.h=function(){return!0},d.prototype.S=function(e){this.t!==e&&void 0===e.e&&(e.x=this.t,void 0!==this.t&&(this.t.e=e),this.t=e)},d.prototype.U=function(e){if(void 0!==this.t){var t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}},d.prototype.subscribe=function(e){var t=this;return _(function(){var n=t.value,r=o;o=void 0;try{e(n)}finally{o=r}})},d.prototype.valueOf=function(){return this.value},d.prototype.toString=function(){return this.value+""},d.prototype.toJSON=function(){return this.value},d.prototype.peek=function(){var e=o;o=void 0;try{return this.value}finally{o=e}},Object.defineProperty(d.prototype,"value",{get:function(){var e=u(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(l>100)throw Error("Cycle detected");this.v=e,this.i++,c++,a++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{i()}}}}),(g.prototype=new d).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===c))return!0;if(this.g=c,this.f|=1,this.i>0&&!p(this))return this.f&=-2,!0;var e=o;try{f(this),o=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return o=e,m(this),this.f&=-2,!0},g.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}d.prototype.S.call(this,e)},g.prototype.U=function(e){if(void 0!==this.t&&(d.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},g.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(g.prototype,"value",{get:function(){if(1&this.f)throw Error("Cycle detected");var e=u(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),w.prototype.c=function(){var e=this.S();try{if(8&this.f||void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},w.prototype.S=function(){if(1&this.f)throw Error("Cycle detected");this.f|=1,this.f&=-9,v(this),f(this),a++;var e=o;return o=this,b.bind(this,e)},w.prototype.N=function(){2&this.f||(this.f|=2,this.o=s,s=this)},w.prototype.d=function(){this.f|=8,1&this.f||y(this)}},82863:function(e,t,n){"use strict";n.d(t,{_7:function(){return s},rg:function(){return o}});var r=n(2784);let i=(0,r.createContext)(null);function o({clientId:e,nonce:t,onScriptLoadSuccess:n,onScriptLoadError:o,children:s}){let a=function(e={}){let{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:i}=e,[o,s]=(0,r.useState)(!1),a=(0,r.useRef)(n);a.current=n;let l=(0,r.useRef)(i);return l.current=i,(0,r.useEffect)(()=>{let e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;s(!0),null===(e=a.current)||void 0===e||e.call(a)},e.onerror=()=>{var e;s(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),o}({nonce:t,onScriptLoadSuccess:n,onScriptLoadError:o}),l=(0,r.useMemo)(()=>({clientId:e,scriptLoadedSuccessfully:a}),[e,a]);return r.createElement(i.Provider,{value:l},s)}function s({onSuccess:e,onError:t,promptMomentNotification:n,cancel_on_tap_outside:o,prompt_parent_id:s,state_cookie_domain:a,hosted_domain:l,use_fedcm_for_prompt:c=!1,disabled:u,auto_select:d}){let{clientId:h,scriptLoadedSuccessfully:p}=function(){let e=(0,r.useContext)(i);if(!e)throw Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),f=(0,r.useRef)(e);f.current=e;let m=(0,r.useRef)(t);m.current=t;let g=(0,r.useRef)(n);g.current=n,(0,r.useEffect)(()=>{var e,t,n,r,i,v,y,b,w;if(p){if(u){null===(n=null===(t=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===n||n.cancel();return}return null===(v=null===(i=null===(r=null==window?void 0:window.google)||void 0===r?void 0:r.accounts)||void 0===i?void 0:i.id)||void 0===v||v.initialize({client_id:h,callback:e=>{var t,n;if(!(null==e?void 0:e.credential))return null===(t=m.current)||void 0===t?void 0:t.call(m);let{credential:r,select_by:i}=e;f.current({credential:r,clientId:null!==(n=null==e?void 0:e.clientId)&&void 0!==n?n:null==e?void 0:e.client_id,select_by:i})},hosted_domain:l,cancel_on_tap_outside:o,prompt_parent_id:s,state_cookie_domain:a,use_fedcm_for_prompt:c,auto_select:d}),null===(w=null===(b=null===(y=null==window?void 0:window.google)||void 0===y?void 0:y.accounts)||void 0===b?void 0:b.id)||void 0===w||w.prompt(g.current),()=>{var e,t,n;null===(n=null===(t=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===n||n.cancel()}}},[h,p,o,s,a,l,c,u,d])}},66417:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});let r="production"},73232:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r=!1},8589:function(e,t,n){"use strict";n.d(t,{RP:function(){return function e(t,n,r,l=0){return new i.cW((i,c)=>{let u=t[l];if(null===n||"function"!=typeof u)i(n);else{let d=u({...n},r);a.X&&u.id&&null===d&&o.kg.log(`Event processor "${u.id}" dropped event`),(0,s.J8)(d)?d.then(n=>e(t,n,r,l+1).then(i)).then(null,c):e(t,d,r,l+1).then(i).then(null,c)}})}},cc:function(){return c},fH:function(){return l}});var r=n(90063),i=n(97946),o=n(58536),s=n(81757),a=n(73232);function l(){return(0,r.Y)("globalEventProcessors",()=>[])}function c(e){l().push(e)}},92642:function(e,t,n){"use strict";n.d(t,{$e:function(){return p},Tb:function(){return l},av:function(){return h},cg:function(){return b},eN:function(){return u},nZ:function(){return m},n_:function(){return d},s3:function(){return f},uT:function(){return c},yj:function(){return g}});var r=n(90063),i=n(66417),o=n(66465),s=n(22592),a=n(48738);function l(e,t){return(0,o.Gd)().captureException(e,(0,a.U0)(t))}function c(e,t){let n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return(0,o.Gd)().captureMessage(e,n,r)}function u(e,t){return(0,o.Gd)().captureEvent(e,t)}function d(e,t){(0,o.Gd)().addBreadcrumb(e,t)}function h(e){(0,o.Gd)().setUser(e)}function p(...e){let t=(0,o.Gd)();if(2===e.length){let[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function f(){return(0,o.Gd)().getClient()}function m(){return(0,o.Gd)().getScope()}function g(e){let t=f(),n=(0,o.aF)(),a=m(),{release:l,environment:c=i.J}=t&&t.getOptions()||{},{userAgent:u}=r.GLOBAL_OBJ.navigator||{},d=(0,s.Hv)({release:l,environment:c,user:a.getUser()||n.getUser(),...u&&{userAgent:u},...e}),h=n.getSession();return h&&"ok"===h.status&&(0,s.CT)(h,{status:"exited"}),v(),n.setSession(d),a.setSession(d),d}function v(){let e=(0,o.aF)(),t=m(),n=t.getSession()||e.getSession();n&&(0,s.RJ)(n),y(),e.setSession(),t.setSession()}function y(){let e=(0,o.aF)(),t=m(),n=f(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function b(e=!1){if(e){v();return}y()}},66465:function(e,t,n){"use strict";n.d(t,{Gd:function(){return g},Ok:function(){return y},aF:function(){return v},cu:function(){return f}});var r=n(81757),i=n(63699),o=n(7790),s=n(58536),a=n(90063),l=n(66417),c=n(73232),u=n(51877),d=n(22592);let h=parseFloat(n(91476).J);class p{constructor(e,t,n,r=h){let i,o;this._version=r,t?i=t:(i=new u.sX).setClient(e),n?o=n:(o=new u.sX).setClient(e),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){let t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){let t;let n=this.pushScope();try{t=e(n)}catch(e){throw this.popScope(),e}return(0,r.J8)(t)?t.then(e=>(this.popScope(),e),e=>{throw this.popScope(),e}):(this.popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){let n=this._lastEventId=t&&t.event_id?t.event_id:(0,i.DM)(),r=Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){let r=this._lastEventId=n&&n.event_id?n.event_id:(0,i.DM)(),o=Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r}),r}captureEvent(e,t){let n=t&&t.event_id?t.event_id:(0,i.DM)();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){let{scope:n,client:r}=this.getStackTop();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:a=100}=r.getOptions&&r.getOptions()||{};if(a<=0)return;let l={timestamp:(0,o.yW)(),...e},c=i?(0,s.Cf)(()=>i(l,t)):l;null!==c&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,a))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){let{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){let t=m(this);try{e(this)}finally{m(t)}}getIntegration(e){let t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return c.X&&s.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){let n=this._callExtensionMethod("startTransaction",e,t);return c.X&&!n&&(this.getClient()?s.kg.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):s.kg.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let e=this.getStackTop().scope,t=e.getSession();t&&(0,d.RJ)(t),this._sendSessionUpdate(),e.setSession()}startSession(e){let{scope:t,client:n}=this.getStackTop(),{release:r,environment:i=l.J}=n&&n.getOptions()||{},{userAgent:o}=a.GLOBAL_OBJ.navigator||{},s=(0,d.Hv)({release:r,environment:i,user:t.getUser(),...o&&{userAgent:o},...e}),c=t.getSession&&t.getSession();return c&&"ok"===c.status&&(0,d.CT)(c,{status:"exited"}),this.endSession(),t.setSession(s),s}shouldSendDefaultPii(){let e=this.getClient(),t=e&&e.getOptions();return!!(t&&t.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){let n=f().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);c.X&&s.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function f(){return a.GLOBAL_OBJ.__SENTRY__=a.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},a.GLOBAL_OBJ}function m(e){let t=f(),n=b(t);return w(t,e),n}function g(){let e=f();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=f()){return(!(e&&e.__SENTRY__&&e.__SENTRY__.hub)||b(e).isOlderThan(h))&&w(e,new p),b(e)}(e)}function v(){return g().getIsolationScope()}function y(e,t={}){let n=f();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function b(e){return(0,a.Y)("hub",()=>new p,e)}function w(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},51877:function(e,t,n){"use strict";let r;n.d(t,{lW:function(){return h},sX:function(){return d}});var i=n(81757),o=n(7790),s=n(63699),a=n(58536),l=n(8589),c=n(22592),u=n(30931);class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=p()}static clone(e){return e?e.clone():new d}clone(){let e=new d;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&(0,c.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e;if(t instanceof d){let e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else(0,i.PO)(t)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext));return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=p(),this}addBreadcrumb(e,t){let n="number"==typeof t?t:100;if(n<=0)return this;let r={timestamp:(0,o.yW)(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:i,_user:o,_level:s,_fingerprint:a,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:u,_transactionName:d,_span:h}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:i,user:o,level:s,fingerprint:a||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:u,transactionName:d,span:h}}applyToEvent(e,t={},n=[]){(0,u.gi)(e,this.getScopeData());let r=[...n,...(0,l.fH)(),...this._eventProcessors];return(0,l.RP)(r,e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let n=t&&t.event_id?t.event_id:(0,s.DM)();if(!this._client)return a.kg.warn("No client configured on scope - will not capture exception!"),n;let r=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){let r=n&&n.event_id?n.event_id:(0,s.DM)();if(!this._client)return a.kg.warn("No client configured on scope - will not capture message!"),r;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){let n=t&&t.event_id?t.event_id:(0,s.DM)();return this._client?this._client.captureEvent(e,{...t,event_id:n},this):a.kg.warn("No client configured on scope - will not capture event!"),n}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function h(){return r||(r=new d),r}function p(){return{traceId:(0,s.DM)(),spanId:(0,s.DM)().substring(16)}}},22592:function(e,t,n){"use strict";n.d(t,{CT:function(){return a},Hv:function(){return s},RJ:function(){return l}});var r=n(7790),i=n(63699),o=n(21995);function s(e){let t=(0,r.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(0,o.Jr)({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:"number"==typeof n.did||"string"==typeof n.did?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})};return e&&a(n,e),n}function a(e,t={}){if(!t.user||(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.ph)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function l(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),a(e,n)}},92980:function(e,t,n){"use strict";n.d(t,{_:function(){return l},j:function(){return c}});var r=n(21995),i=n(66417),o=n(92642),s=n(85112),a=n(43002);function l(e,t,n){let o=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:a}=n&&n.getUser()||{},l=(0,r.Jr)({environment:o.environment||i.J,release:o.release,user_segment:a,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",l),l}function c(e){let t=(0,o.s3)();if(!t)return{};let n=l((0,a.XU)(e).trace_id||"",t,(0,o.nZ)()),r=(0,s.G)(e);if(!r)return n;let i=r&&r._frozenDynamicSamplingContext;if(i)return i;let{sampleRate:c,source:u}=r.metadata;null!=c&&(n.sample_rate=`${c}`);let d=(0,a.XU)(r);return u&&"url"!==u&&(n.transaction=d.description),n.sampled=String((0,a.Tt)(r)),t.emit&&t.emit("createDsc",n),n}},75657:function(e,t,n){"use strict";n.d(t,{HN:function(){return h},I1:function(){return v},qp:function(){return d},GK:function(){return u}});var r=n(21995),i=n(66465),o=n(43002),s=n(92980),a=n(92642),l=n(81757),c=n(12712);function u(e,t){let n=f(e);return(0,i.Ok)(()=>(0,a.$e)(e.scope,r=>{let s=(0,i.Gd)(),a=r.getSpan(),c=e.onlyIfParent&&!a?void 0:p(s,{parentSpan:a,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return function(e,t,n=()=>{}){var r;let i;try{i=e()}catch(e){throw t(e),n(),e}return r=i,(0,l.J8)(r)?r.then(e=>(n(),e),e=>{throw t(e),n(),e}):(n(),r)}(()=>t(c),()=>{if(c){let{status:e}=(0,o.XU)(c);e&&"ok"!==e||c.setStatus("internal_error")}},()=>c&&c.end())}))}function d(e){if(!(0,c.z)())return;let t=f(e),n=(0,i.Gd)(),r=e.scope?e.scope.getSpan():h();if(e.onlyIfParent&&!r)return;let o=(e.scope||(0,a.nZ)()).clone();return p(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function h(){return(0,a.nZ)().getSpan()}function p(e,{parentSpan:t,spanContext:n,forceTransaction:a,scope:l}){var u;let d;if(!(0,c.z)())return;let h=(0,i.aF)();if(t&&!a)d=t.startChild(n);else if(t){let r=(0,s.j)(t),{traceId:i,spanId:a}=t.spanContext(),l=(0,o.Tt)(t);d=e.startTransaction({traceId:i,parentSpanId:a,parentSampled:l,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{let{traceId:t,dsc:r,parentSpanId:i,sampled:o}={...h.getPropagationContext(),...l.getPropagationContext()};d=e.startTransaction({traceId:t,parentSpanId:i,parentSampled:o,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return l.setSpan(d),(u=d)&&((0,r.xp)(u,g,h),(0,r.xp)(u,m,l)),d}function f(e){if(e.startTime){let t={...e};return t.startTimestamp=(0,o.$k)(e.startTime),delete t.startTime,t}return e}let m="_sentryScope",g="_sentryIsolationScope";function v(e){return{scope:e[m],isolationScope:e[g]}}},30931:function(e,t,n){"use strict";n.d(t,{gi:function(){return l},yo:function(){return c}});var r=n(21995),i=n(63699),o=n(92980),s=n(85112),a=n(43002);function l(e,t){let{fingerprint:n,span:l,breadcrumbs:c,sdkProcessingMetadata:u}=t;(function(e,t){let{extra:n,tags:i,user:o,contexts:s,level:a,transactionName:l}=t,c=(0,r.Jr)(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});let u=(0,r.Jr)(i);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});let d=(0,r.Jr)(o);d&&Object.keys(d).length&&(e.user={...d,...e.user});let h=(0,r.Jr)(s);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts}),a&&(e.level=a),l&&(e.transaction=l)})(e,t),l&&function(e,t){e.contexts={trace:(0,a.wy)(t),...e.contexts};let n=(0,s.G)(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:(0,o.j)(t),...e.sdkProcessingMetadata};let r=(0,a.XU)(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,l),e.fingerprint=e.fingerprint?(0,i.lE)(e.fingerprint):[],n&&(e.fingerprint=e.fingerprint.concat(n)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint,function(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,c),e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...u}}function c(e,t){let{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:h,propagationContext:p,transactionName:f,span:m}=t;u(e,"extra",n),u(e,"tags",r),u(e,"user",i),u(e,"contexts",o),u(e,"sdkProcessingMetadata",a),s&&(e.level=s),f&&(e.transactionName=f),m&&(e.span=m),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...p}}function u(e,t,n){if(n&&Object.keys(n).length)for(let r in e[t]={...e[t]},n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}},85112:function(e,t,n){"use strict";function r(e){return e.transaction}n.d(t,{G:function(){return r}})},12712:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(92642);function i(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let t=(0,r.s3)(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},48738:function(e,t,n){"use strict";n.d(t,{R:function(){return p},U0:function(){return m}});var r=n(63699),i=n(7790),o=n(39660),s=n(90063),a=n(64017),l=n(66417),c=n(8589),u=n(51877),d=n(30931),h=n(43002);function p(e,t,n,p,m,g){let{normalizeDepth:v=3,normalizeMaxBreadth:y=1e3}=e,b={...t,event_id:t.event_id||n.event_id||(0,r.DM)(),timestamp:t.timestamp||(0,i.yW)()},w=n.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:l.J),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,o.$G)(e.message,s));let a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=(0,o.$G)(a.value,s));let c=e.request;c&&c.url&&(c.url=(0,o.$G)(c.url,s))})(b,e),w.length>0&&(b.sdk=b.sdk||{},b.sdk.integrations=[...b.sdk.integrations||[],...w]),void 0===t.type&&function(e,t){let n;let r=s.GLOBAL_OBJ._sentryDebugIds;if(!r)return;let i=f.get(t);i?n=i:(n=new Map,f.set(t,n));let o=Object.keys(r).reduce((e,i)=>{let o;let s=n.get(i);s?o=s:(o=t(i),n.set(i,o));for(let t=o.length-1;t>=0;t--){let n=o[t];if(n.filename){e[n.filename]=r[i];break}}return e},{});try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.filename&&(e.debug_id=o[e.filename])})})}catch(e){}}(b,e.stackParser);let _=function(e,t){if(!t)return e;let n=e?e.clone():new u.sX;return n.update(t),n}(p,n.captureContext);n.mechanism&&(0,r.EG)(b,n.mechanism);let C=m&&m.getEventProcessors?m.getEventProcessors():[],x=(0,u.lW)().getScopeData();if(g){let e=g.getScopeData();(0,d.yo)(x,e)}if(_){let e=_.getScopeData();(0,d.yo)(x,e)}let k=[...n.attachments||[],...x.attachments];k.length&&(n.attachments=k),(0,d.gi)(b,x);let S=[...C,...(0,c.fH)(),...x.eventProcessors];return(0,c.RP)(S,b,n).then(e=>(e&&function(e){let t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})})}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.keys(t).forEach(e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})})}(e),"number"==typeof v&&v>0)?function(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:(0,a.Fv)(e.data,t,n)}}))},...e.user&&{user:(0,a.Fv)(e.user,t,n)},...e.contexts&&{contexts:(0,a.Fv)(e.contexts,t,n)},...e.extra&&{extra:(0,a.Fv)(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,a.Fv)(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(e=>{let r=(0,h.XU)(e).data;return r&&(e.data=(0,a.Fv)(r,t,n)),e})),r}(e,v,y):e)}let f=new WeakMap;function m(e){return e?e instanceof u.sX||"function"==typeof e||Object.keys(e).some(e=>g.includes(e))?{captureContext:e}:e:void 0}let g=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},43002:function(e,t,n){"use strict";n.d(t,{$k:function(){return u},Hb:function(){return c},Tt:function(){return p},XU:function(){return h},i0:function(){return a},ve:function(){return s},wy:function(){return l}});var r=n(21995),i=n(49691),o=n(7790);let s=0,a=1;function l(e){let{spanId:t,traceId:n}=e.spanContext(),{data:i,op:o,parent_span_id:s,status:a,tags:l,origin:c}=h(e);return(0,r.Jr)({data:i,op:o,parent_span_id:s,span_id:t,status:a,tags:l,trace_id:n,origin:c})}function c(e){let{traceId:t,spanId:n}=e.spanContext(),r=p(e);return(0,i.$p)(t,n,r)}function u(e){return"number"==typeof e?d(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?d(e.getTime()):(0,o.ph)()}function d(e){return e>9999999999?e/1e3:e}function h(e){return"function"==typeof e.getSpanJSON?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function p(e){let{traceFlags:t}=e.spanContext();return!!(t&a)}},91476:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});let r="7.106.1"},25491:function(e,t,n){"use strict";n.d(t,{l$:function(){return o},KV:function(){return i}}),e=n.hmd(e);var r=n(93542);function i(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call(void 0!==r?r:0)}function o(e,t){return e.require(t)}},75251:function(e,t,n){"use strict";n.d(t,{ph:function(){return u},yW:function(){return c}});var r=n(25491),i=n(83379);e=n.hmd(e);let o=(0,i.Rf)(),s={nowSeconds:()=>Date.now()/1e3},a=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){let{performance:e}=o;if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),l=void 0===a?s:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},c=s.nowSeconds.bind(s),u=l.nowSeconds.bind(l);(()=>{let{performance:e}=o;if(!e||!e.now)return;let t=e.now(),n=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,i=e.timing&&e.timing.navigationStart,s="number"==typeof i?Math.abs(i+t-n):36e5;if(r<36e5||s<36e5)return r<=s?e.timeOrigin:void 0})()},83379:function(e,t,n){"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:function(){return o},YO:function(){return s},n2:function(){return i}});let i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function o(){return i}function s(e,t,n){let r=n||i,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},46990:function(e,t,n){"use strict";n.d(t,{EN:function(){return c},IQ:function(){return u},bU:function(){return s}});var r=n(51982),i=n(81757),o=n(58536);let s="baggage",a="sentry-",l=/^sentry-/;function c(e){if(!(0,i.HD)(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((e,t)=>{let n=d(t);for(let t of Object.keys(n))e[t]=n[t];return e},{});else{if(!e)return;t=d(e)}let n=Object.entries(t).reduce((e,[t,n])=>(t.match(l)&&(e[t.slice(a.length)]=n),e),{});return Object.keys(n).length>0?n:void 0}function u(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce((e,[t,n],i)=>{let s=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,a=0===i?s:`${e},${s}`;return a.length>8192?(r.X&&o.kg.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a},"")}(Object.entries(e).reduce((e,[t,n])=>(n&&(e[`${a}${t}`]=n),e),{}))}function d(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,[t,n])=>(e[t]=n,e),{})}},54194:function(e,t,n){"use strict";n.d(t,{Rt:function(){return o},iY:function(){return l},l4:function(){return s},qT:function(){return a}});var r=n(81757);let i=(0,n(90063).R)();function o(e,t={}){if(!e)return"<unknown>";try{let n,o=e,s=[],a=0,l=0,c=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;o&&a++<5&&(n=function(e,t){let n,o,s,a,l;let c=[];if(!e||!e.tagName)return"";if(i.HTMLElement&&e instanceof HTMLElement&&e.dataset&&e.dataset.sentryComponent)return e.dataset.sentryComponent;c.push(e.tagName.toLowerCase());let u=t&&t.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(u&&u.length)u.forEach(e=>{c.push(`[${e[0]}="${e[1]}"]`)});else if(e.id&&c.push(`#${e.id}`),(n=e.className)&&(0,r.HD)(n))for(l=0,o=n.split(/\s+/);l<o.length;l++)c.push(`.${o[l]}`);let d=["aria-label","type","name","title","alt"];for(l=0;l<d.length;l++)s=d[l],(a=e.getAttribute(s))&&c.push(`[${s}="${a}"]`);return c.join("")}(o,c),"html"!==n&&(!(a>1)||!(l+3*s.length+n.length>=u)));)s.push(n),l+=n.length,o=o.parentNode;return s.reverse().join(" > ")}catch(e){return"<unknown>"}}function s(){try{return i.document.location.href}catch(e){return""}}function a(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null}function l(e){if(!i.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}},51982:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r=!1},81757:function(e,t,n){"use strict";n.d(t,{Cy:function(){return v},HD:function(){return c},J8:function(){return g},Kj:function(){return m},Le:function(){return u},PO:function(){return h},TX:function(){return a},V9:function(){return b},VW:function(){return s},VZ:function(){return i},cO:function(){return p},fm:function(){return l},i2:function(){return y},kK:function(){return f},pt:function(){return d},y1:function(){return w}});let r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return b(e,Error)}}function o(e,t){return r.call(e)===`[object ${t}]`}function s(e){return o(e,"ErrorEvent")}function a(e){return o(e,"DOMError")}function l(e){return o(e,"DOMException")}function c(e){return o(e,"String")}function u(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function d(e){return null===e||u(e)||"object"!=typeof e&&"function"!=typeof e}function h(e){return o(e,"Object")}function p(e){return"undefined"!=typeof Event&&b(e,Event)}function f(e){return"undefined"!=typeof Element&&b(e,Element)}function m(e){return o(e,"RegExp")}function g(e){return!!(e&&e.then&&"function"==typeof e.then)}function v(e){return h(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function y(e){return"number"==typeof e&&e!=e}function b(e,t){try{return e instanceof t}catch(e){return!1}}function w(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}},58536:function(e,t,n){"use strict";n.d(t,{Cf:function(){return a},LD:function(){return s},RU:function(){return o},kg:function(){return l}});var r=n(51982),i=n(90063);let o=["debug","info","warn","error","log","assert","trace"],s={};function a(e){if(!("console"in i.GLOBAL_OBJ))return e();let t=i.GLOBAL_OBJ.console,n={},r=Object.keys(s);r.forEach(e=>{let r=s[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}let l=function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.X?o.forEach(n=>{t[n]=(...t)=>{e&&a(()=>{i.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...t)})}}):o.forEach(e=>{t[e]=()=>void 0}),t}()},63699:function(e,t,n){"use strict";n.d(t,{DM:function(){return o},Db:function(){return l},EG:function(){return c},YO:function(){return u},jH:function(){return a},lE:function(){return d}});var r=n(21995),i=n(90063);function o(){let e=i.GLOBAL_OBJ,t=e.crypto||e.msCrypto,n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&n())>>e/4).toString(16))}function s(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function a(e){let{message:t,event_id:n}=e;if(t)return t;let r=s(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function c(e,t){let n=s(e);if(!n)return;let r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){let e={...r&&r.data,...t.data};n.mechanism.data=e}}function u(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function d(e){return Array.isArray(e)?e:[e]}},64017:function(e,t,n){"use strict";n.d(t,{Fv:function(){return s},Qy:function(){return function e(t,n=3,r=102400){let i=s(t,n);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>r?e(t,n-1,r):i}}});var r=n(81757),i=n(21995),o=n(69038);function s(e,t=100,s=Infinity){try{return function e(t,s,a=Infinity,l=Infinity,c=function(){let e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){let[u,d]=c;if(null==s||["number","boolean","string"].includes(typeof s)&&!(0,r.i2)(s))return s;let h=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==n.g&&t===n.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,r.y1)(t))return"[VueViewModel]";if((0,r.Cy)(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${(0,o.$P)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let i=function(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);if(/^HTML(\w*)Element$/.test(i))return`[HTMLElement: ${i}]`;return`[object ${i}]`}catch(e){return`**non-serializable** (${e})`}}(t,s);if(!h.startsWith("[object "))return h;if(s.__sentry_skip_normalization__)return s;let p="number"==typeof s.__sentry_override_normalization_depth__?s.__sentry_override_normalization_depth__:a;if(0===p)return h.replace("object ","");if(u(s))return"[Circular ~]";if(s&&"function"==typeof s.toJSON)try{let t=s.toJSON();return e("",t,p-1,l,c)}catch(e){}let f=Array.isArray(s)?[]:{},m=0,g=(0,i.Sh)(s);for(let t in g){if(!Object.prototype.hasOwnProperty.call(g,t))continue;if(m>=l){f[t]="[MaxProperties ~]";break}let n=g[t];f[t]=e(t,n,p-1,l,c),m++}return d(s),f}("",e,t,s)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}},21995:function(e,t,n){"use strict";n.d(t,{$Q:function(){return u},HK:function(){return d},Jr:function(){return v},Sh:function(){return p},_j:function(){return h},hl:function(){return l},xp:function(){return c},zf:function(){return g}});var r=n(54194),i=n(51982),o=n(81757),s=n(58536),a=n(39660);function l(e,t,n){if(!(t in e))return;let r=e[t],i=n(r);"function"==typeof i&&u(i,r),e[t]=i}function c(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){i.X&&s.kg.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,c(e,"__sentry_original__",t)}catch(e){}}function d(e){return e.__sentry_original__}function h(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function p(e){if((0,o.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...m(e)};if(!(0,o.cO)(e))return e;{let t={type:e.type,target:f(e.target),currentTarget:f(e.currentTarget),...m(e)};return"undefined"!=typeof CustomEvent&&(0,o.V9)(e,CustomEvent)&&(t.detail=e.detail),t}}function f(e){try{return(0,o.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function m(e){if("object"!=typeof e||null===e)return{};{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}function g(e,t=40){let n=Object.keys(p(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,a.$G)(n[0],t);for(let e=n.length;e>0;e--){let r=n.slice(0,e).join(", ");if(!(r.length>t)){if(e===n.length)return r;return(0,a.$G)(r,t)}}return""}function v(e){return function e(t,n){if(function(e){if(!(0,o.PO)(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(t)){let r=n.get(t);if(void 0!==r)return r;let i={};for(let r of(n.set(t,i),Object.keys(t)))void 0!==t[r]&&(i[r]=e(t[r],n));return i}if(Array.isArray(t)){let r=n.get(t);if(void 0!==r)return r;let i=[];return n.set(t,i),t.forEach(t=>{i.push(e(t,n))}),i}return t}(e,new Map)}},69038:function(e,t,n){"use strict";n.d(t,{$P:function(){return l},Sq:function(){return s},pE:function(){return o}});let r=/\(error: (.*)\)/,i=/captureMessage|captureException/;function o(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0)=>{let o=[],s=e.split("\n");for(let e=n;e<s.length;e++){let n=s[e];if(n.length>1024)continue;let i=r.test(n)?n.replace(r,"$1"):n;if(!i.match(/\S*Error: /)){for(let e of t){let t=e(i);if(t){o.push(t);break}}if(o.length>=50)break}}return function(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),i.test(t[t.length-1].function||"")&&(t.pop(),i.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"}))}(o)}}function s(e){return Array.isArray(e)?o(...e):e}let a="<anonymous>";function l(e){try{if(!e||"function"!=typeof e)return a;return e.name||a}catch(e){return a}}},39660:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},U0:function(){return s},nK:function(){return o}});var r=n(81757);function i(e,t=0){return"string"!=typeof e||0===t?e:e.length<=t?e:`${e.slice(0,t)}...`}function o(e,t){if(!Array.isArray(e))return"";let n=[];for(let t=0;t<e.length;t++){let i=e[t];try{(0,r.y1)(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t=[],n=!1){return t.some(t=>(function(e,t,n=!1){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))})(e,t,n))}},97946:function(e,t,n){"use strict";n.d(t,{$2:function(){return a},WD:function(){return s},cW:function(){return l}});var r,i,o=n(81757);function s(e){return new l(t=>{t(e)})}function a(e){return new l((t,n)=>{n(e)})}(r=i||(i={}))[r.PENDING=0]="PENDING",r[r.RESOLVED=1]="RESOLVED",r[r.REJECTED=2]="REJECTED";class l{constructor(e){l.prototype.__init.call(this),l.prototype.__init2.call(this),l.prototype.__init3.call(this),l.prototype.__init4.call(this),this._state=i.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new l((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new l((t,n)=>{let r,i;return this.then(t=>{i=!1,r=t,e&&e()},t=>{i=!0,r=t,e&&e()}).then(()=>{if(i){n(r);return}t(r)})})}__init(){this._resolve=e=>{this._setResult(i.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(i.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===i.PENDING){if((0,o.J8)(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===i.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===i.RESOLVED&&e[1](this._value),this._state===i.REJECTED&&e[2](this._value),e[0]=!0)})}}}},7790:function(e,t,n){"use strict";n.d(t,{Z1:function(){return s},ph:function(){return o},yW:function(){return i}});var r=n(90063);function i(){return Date.now()/1e3}let o=function(){let{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return i;let t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}(),s=(()=>{let{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return;let t=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,o=e.timing&&e.timing.navigationStart,s="number"==typeof o?Math.abs(o+t-n):36e5;return i<36e5||s<36e5?i<=s?e.timeOrigin:o:n})()},49691:function(e,t,n){"use strict";n.d(t,{$p:function(){return c},KA:function(){return a},pT:function(){return l}});var r=n(46990),i=n(63699);let o=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function s(e){let t;if(!e)return;let n=e.match(o);if(n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}function a(e,t){let n=s(e),o=(0,r.EN)(t),{traceId:a,parentSpanId:l,parentSampled:c}=n||{};return n?{traceparentData:n,dynamicSamplingContext:o||{},propagationContext:{traceId:a||(0,i.DM)(),parentSpanId:l||(0,i.DM)().substring(16),spanId:(0,i.DM)().substring(16),sampled:c,dsc:o||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:a||(0,i.DM)(),spanId:(0,i.DM)().substring(16)}}}function l(e,t){let n=s(e),o=(0,r.EN)(t),{traceId:a,parentSpanId:l,parentSampled:c}=n||{};return n?{traceId:a||(0,i.DM)(),parentSpanId:l||(0,i.DM)().substring(16),spanId:(0,i.DM)().substring(16),sampled:c,dsc:o||{}}:{traceId:a||(0,i.DM)(),spanId:(0,i.DM)().substring(16)}}function c(e=(0,i.DM)(),t=(0,i.DM)().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}},90063:function(e,t,n){"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{GLOBAL_OBJ:function(){return i},R:function(){return o},Y:function(){return s}});let i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function o(){return i}function s(e,t,n){let r=n||i,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},49732:function(e,t,n){"use strict";n.d(t,{Ry:function(){return c}});var r=new WeakMap,i=new WeakMap,o={},s=0,a=function(e){return e&&(e.host||a(e.parentNode))},l=function(e,t,n,l){var c=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var n=a(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});o[n]||(o[n]=new WeakMap);var u=o[n],d=[],h=new Set,p=new Set(c),f=function(e){!e||h.has(e)||(h.add(e),f(e.parentNode))};c.forEach(f);var m=function(e){!e||p.has(e)||Array.prototype.forEach.call(e.children,function(e){if(h.has(e))m(e);else try{var t=e.getAttribute(l),o=null!==t&&"false"!==t,s=(r.get(e)||0)+1,a=(u.get(e)||0)+1;r.set(e,s),u.set(e,a),d.push(e),1===s&&o&&i.set(e,!0),1===a&&e.setAttribute(n,"true"),o||e.setAttribute(l,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return m(t),h.clear(),s++,function(){d.forEach(function(e){var t=r.get(e)-1,o=u.get(e)-1;r.set(e,t),u.set(e,o),t||(i.has(e)||e.removeAttribute(l),i.delete(e)),o||e.removeAttribute(n)}),--s||(r=new WeakMap,r=new WeakMap,i=new WeakMap,o={})}},c=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),l(r,i,n,"aria-hidden")):function(){return null}}},94367:function(e){"use strict";let t=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);e.exports=e=>!t.has(e&&e.code)},95766:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,o=l(e),s=o[0],a=o[1],c=new i((s+a)*3/4-a),u=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(e,t,r){for(var i,o=[],s=t;s<r;s+=3)o.push(n[(i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},48834:function(e,t,n){"use strict";var r=n(95766),i=n(62333),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);var n=0|f(e,t),r=s(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(I(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(I(e,ArrayBuffer)||e&&I(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(I(e,SharedArrayBuffer)||e&&I(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);var i=function(e){if(a.isBuffer(e)){var t,n=0|p(e.length),r=s(n);return 0===r.length||e.copy(r,0,0,n),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),s(e<0?0:0|p(e))}function d(e){for(var t=e.length<0?0:0|p(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){var r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),a.prototype),r}function p(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||I(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return E(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return T(e).length;default:if(i)return r?-1:E(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=R[e[o]];return i}(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=t,o=n,0===i&&o===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,t,n);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){var o;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(o=n=+n)!=o&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return -1;n=e.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else -1!==u&&(o-=o-u),u=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return -1}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function w(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function _(e,t,n,r,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function C(e,t,n,r,i,o){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function x(e,t,n,r,o){return t=+t,n>>>=0,o||C(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function k(e,t,n,r,o){return t=+t,n>>>=0,o||C(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}t.lW=a,t.h2=50,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(I(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),I(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(I(o,Uint8Array))i+o.length>r.length?a.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else if(a.isBuffer(o))o.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return r},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,n,r,i){if(I(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,l=Math.min(o,s),c=this.slice(r,i),u=e.slice(t,n),d=0;d<l;++d)if(c[d]!==u[d]){o=c[d],s=u[d];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,l,c,u,d,h=this.length-t;if((void 0===n||n>h)&&(n=h),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var p=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(a!=a)break;e[n+s]=a}return s}(this,e,t,n);case"utf8":case"utf-8":return i=t,o=n,P(E(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=n,P(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,s,a);case"base64":return l=t,c=n,P(T(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,d=n,P(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,this.length-u),this,u,d);default:if(p)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),p=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;_(this,e,t,n,i,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;_(this,e,t,n,i,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);_(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);_(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return x(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return x(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return k(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return k(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),l=s.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%l]}return this};var S=/[^+/0-9A-Za-z-_]/g;function E(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319||s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function T(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function I(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var R=function(){for(var e="0123456789abcdef",t=Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},13421:function(e,t){"use strict";t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var n={},r=(t||{}).decode||i,o=0;o<e.length;){var s=e.indexOf("=",o);if(-1===s)break;var a=e.indexOf(";",o);if(-1===a)a=e.length;else if(a<s){o=e.lastIndexOf(";",s-1)+1;continue}var l=e.slice(o,s).trim();if(void 0===n[l]){var c=e.slice(s+1,a).trim();34===c.charCodeAt(0)&&(c=c.slice(1,-1)),n[l]=function(e,t){try{return t(e)}catch(t){return e}}(c,r)}o=a+1}return n},t.serialize=function(e,t,i){var s=i||{},a=s.encode||o;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!r.test(e))throw TypeError("argument name is invalid");var l=a(t);if(l&&!r.test(l))throw TypeError("argument val is invalid");var c=e+"="+l;if(null!=s.maxAge){var u=s.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(s.domain){if(!r.test(s.domain))throw TypeError("option domain is invalid");c+="; Domain="+s.domain}if(s.path){if(!r.test(s.path))throw TypeError("option path is invalid");c+="; Path="+s.path}if(s.expires){var d=s.expires;if("[object Date]"!==n.call(d)&&!(d instanceof Date)||isNaN(d.valueOf()))throw TypeError("option expires is invalid");c+="; Expires="+d.toUTCString()}if(s.httpOnly&&(c+="; HttpOnly"),s.secure&&(c+="; Secure"),s.partitioned&&(c+="; Partitioned"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():s.priority){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var n=Object.prototype.toString,r=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function o(e){return encodeURIComponent(e)}},35196:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0}),t.hasCookie=t.deleteCookie=t.setCookie=t.getCookie=t.getCookies=void 0;var o=n(13421),s=function(){return"undefined"!=typeof window},a=function(e){return!!e&&"getAll"in e&&"set"in e&&"function"==typeof e.getAll&&"function"==typeof e.set},l=function(e){return!!(null==e?void 0:e.req)&&"cookies"in e.req&&a(null==e?void 0:e.req.cookies)||!!(null==e?void 0:e.res)&&"cookies"in e.res&&a(null==e?void 0:e.res.cookies)||!!(null==e?void 0:e.cookies)&&a(e.cookies())},c=function(e){var t={};return e.getAll().forEach(function(e){var n=e.name,r=e.value;t[n]=r}),t},u=function(e){void 0===e&&(e="");try{var t=JSON.stringify(e);return/^[\{\[]/.test(t)?t:e}catch(t){return e}};t.getCookies=function(e){if(l(e)){if(null==e?void 0:e.req)return c(e.req.cookies);if(null==e?void 0:e.cookies)return c(e.cookies())}if(e&&(t=e.req),!s())return t&&t.cookies?t.cookies:t&&t.headers.cookie?(0,o.parse)(t.headers.cookie):{};for(var t,n={},r=document.cookie?document.cookie.split("; "):[],i=0,a=r.length;i<a;i++){var u=r[i].split("="),d=u.slice(1).join("=");n[u[0]]=d}return n},t.getCookie=function(e,n){var r=(0,t.getCookies)(n)[e];if(void 0!==r)return r?r.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):r},t.setCookie=function(e,t,n){if(l(n)){var a,c,d,h=n.req,p=n.res,f=n.cookies,m=i(n,["req","res","cookies"]),g=r({name:e,value:t},m);h&&h.cookies.set(g),p&&p.cookies.set(g),f&&f().set(g);return}if(n){var h=n.req,p=n.res,v=i(n,["req","res"]);c=h,d=p,a=v}var y=(0,o.serialize)(e,u(t),r({path:"/"},a));if(s())document.cookie=y;else if(d&&c){var b=d.getHeader("Set-Cookie");if(Array.isArray(b)||(b=b?[String(b)]:[]),d.setHeader("Set-Cookie",b.concat(y)),c&&c.cookies){var w=c.cookies;""===t?delete w[e]:w[e]=u(t)}if(c&&c.headers&&c.headers.cookie){var w=(0,o.parse)(c.headers.cookie);""===t?delete w[e]:w[e]=u(t),c.headers.cookie=Object.entries(w).reduce(function(e,t){return e.concat("".concat(t[0],"=").concat(t[1],";"))},"")}}},t.deleteCookie=function(e,n){return(0,t.setCookie)(e,"",r(r({},n),{maxAge:-1}))},t.hasCookie=function(e,n){return!!e&&(0,t.getCookies)(n).hasOwnProperty(e)}},62333:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?5960464477539062e-23:0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=f,s/=256,c-=8);e[n+p-f]|=128*m}},38617:function(e,t,n){"use strict";n.d(t,{F:function(){return c},f:function(){return u}});var r=n(2784);let i=["light","dark"],o="(prefers-color-scheme: dark)",s="undefined"==typeof window,a=(0,r.createContext)(void 0),l={setTheme:e=>{},themes:[]},c=()=>{var e;return null!==(e=(0,r.useContext)(a))&&void 0!==e?e:l},u=e=>(0,r.useContext)(a)?r.createElement(r.Fragment,null,e.children):r.createElement(h,e),d=["light","dark"],h=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:l="theme",themes:c=d,defaultTheme:u=n?"system":"light",attribute:h="data-theme",value:v,children:y,nonce:b})=>{let[w,_]=(0,r.useState)(()=>f(l,u)),[C,x]=(0,r.useState)(()=>f(l)),k=v?Object.values(v):c,S=(0,r.useCallback)(e=>{let r=e;if(!r)return;"system"===e&&n&&(r=g());let o=v?v[r]:r,a=t?m():null,l=document.documentElement;if("class"===h?(l.classList.remove(...k),o&&l.classList.add(o)):o?l.setAttribute(h,o):l.removeAttribute(h),s){let e=i.includes(u)?u:null,t=i.includes(r)?r:e;l.style.colorScheme=t}null==a||a()},[]),E=(0,r.useCallback)(e=>{_(e);try{localStorage.setItem(l,e)}catch(e){}},[e]),T=(0,r.useCallback)(t=>{x(g(t)),"system"===w&&n&&!e&&S("system")},[w,e]);(0,r.useEffect)(()=>{let e=window.matchMedia(o);return e.addListener(T),T(e),()=>e.removeListener(T)},[T]),(0,r.useEffect)(()=>{let e=e=>{e.key===l&&E(e.newValue||u)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),(0,r.useEffect)(()=>{S(null!=e?e:w)},[e,w]);let P=(0,r.useMemo)(()=>({theme:w,setTheme:E,forcedTheme:e,resolvedTheme:"system"===w?C:w,themes:n?[...c,"system"]:c,systemTheme:n?C:void 0}),[w,E,e,C,n,c]);return r.createElement(a.Provider,{value:P},r.createElement(p,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:s,storageKey:l,themes:c,defaultTheme:u,attribute:h,value:v,children:y,attrs:k,nonce:b}),y)},p=(0,r.memo)(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:l,value:c,attrs:u,nonce:d})=>{let h="system"===l,p="class"===n?`var d=document.documentElement,c=d.classList;c.remove(${u.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=a?i.includes(l)&&l?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${l}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(e,t=!1,r=!0)=>{let o=c?c[e]:e,s=t?e+"|| ''":`'${o}'`,l="";return a&&r&&!t&&i.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===n?l+=t||o?`c.add(${s})`:"null":o&&(l+=`d[s](n,${s})`),l},g=e?`!function(){${p}${m(e)}}()`:s?`!function(){try{${p}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${o}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${m(c?"x[e]":"e",!0)}}${h?"":"else{"+m(l,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${t}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${m(c?"x[e]":"e",!0)}}else{${m(l,!1,!1)};}${f}}catch(t){}}();`;return r.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:g}})},()=>!0),f=(e,t)=>{let n;if(!s){try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t}},m=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},g=e=>(e||(e=window.matchMedia(o)),e.matches?"dark":"light")},93542:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(42351)},86570:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(88981)}])},67115:function(e,t,n){"use strict";n.d(t,{Z1:function(){return u},mm:function(){return h},nc:function(){return l},s_:function(){return p},u5:function(){return c}});var r=n(15030),i=n(83389),o=n(21805);let s="AW-10990239476",a={[i._.Auth.SignupCompleted]:{event:i._.Auth.SignupCompleted,data:{send_to:"".concat(s,"/5kofCJmoxqwZEPT9xvgo")}}},l=new Set([i._.Auth.SignupCompleted,i._.Purchases.Complete,i._.Search,i._.User.SocialAction,i._.User.ToSAcknowledged,i._.User.CharacterUpdated,i._.Links.Opened]),c=new Set(Object.keys(a)),u=()=>{try{gtag("set","allow_ad_personalization_signals",!1),gtag("js",new Date),d(),gtag("config",s)}catch(e){}},d=()=>{try{gtag("consent","default",{ad_storage:"denied",analytics_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"})}catch(e){}},h=e=>{try{gtag("consent","update",{ad_storage:e?"granted":"denied",analytics_storage:e?"granted":"denied",ad_user_data:e?"granted":"denied",ad_personalization:e?"granted":"denied"})}catch(e){}},p=e=>{try{let t=a[e];(null==t?void 0:t.data)&&(null==t?void 0:t.event)&&(h(f()),gtag("event",t.event,t.data))}catch(e){}},f=()=>{let e=o.Z.get(r.ee);return"accept_all"===e||"not_applicable"===e}},59742:function(e,t,n){"use strict";n.d(t,{$:function(){return i},R:function(){return o}});var r=n(52322);let i=(0,n(2784).createContext)({});function o(e){let{children:t,ampVariants:n={}}=e;return(0,r.jsx)(i.Provider,{value:n,children:t})}},83944:function(e,t,n){"use strict";let r,i,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,_,C,x,k,S,E,T,P,I,R,O,A,N,L,M,D,j;n.d(t,{w:function(){return uh}});var U,F,V,B,z,H,q,K,G,W,$,Z,J,Y,X,Q,ee,et,en,er,ei,eo,es,ea,el,ec,eu,ed,eh,ep,ef,em,eg,ev=n(21236),ey=n(67115),eb=n(9343),ew=n(2608),e_=n(15030),eC=n(92488);class ex{setup(e,t){return Promise.resolve()}flush(){return Promise.resolve()}teardown(){return Promise.resolve()}updateUserProperties(e){this.userProperties=e}async execute(e){try{if(eC.wd.value===e_.Po.TOAST&&-1===e.event_type.indexOf("$")&&-1===e.event_type.indexOf("[Amplitude]")&&(0,ew.K)("Event: ".concat(e.event_type," ").concat(JSON.stringify(e.event_properties)),void 0,"staff"),ey.nc.has(e.event_type)){let t=(null==e?void 0:e.event_properties)?JSON.parse(JSON.stringify(e.event_properties)):null;(0,eb.r8)(e.event_type,t)}ey.u5.has(e.event_type)&&((0,ey.s_)(e.event_type),await this.forwardEventToTikTok(e));let t=ey.nc.has(e.event_type)||ey.u5.has(e.event_type);return{code:t?200:204,event:e,message:t?"Event forwarded":"Event omitted from forwarding"}}catch(t){return{code:500,event:e,message:"Failed to forward event"}}}async forwardEventToTikTok(e){if(!(await fetch("/api/analytics/forwardEvent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{destination:e_.ow.TIKTOK_ADS,...e,user_properties:{...this.userProperties,...e.user_properties,[this.name]:"next"}}})})).ok)throw Error("Failed to forward event to TikTok Ads")}constructor(){this.name="forward_event",this.type="destination"}}let ek="4f7c9e29984d1436ad68b9e3fcbf398f5fafe4ed";class eS{setup(e,t){return Promise.resolve()}teardown(){return Promise.resolve()}async execute(e){return{...e,user_properties:{...e.user_properties,[this.name]:"next"}}}constructor(){this.name="siteVariant",this.type="enrichment"}}var eE=n(40965),eT=n(89170),eP=n(58117),eI=n(48834).lW,eR=function(e,t){return(eR=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},eO=function(){return(eO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function eA(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}function eN(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function eL(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function eM(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function eD(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var ej={IS:"is",IS_NOT:"is not",CONTAINS:"contains",DOES_NOT_CONTAIN:"does not contain",LESS_THAN:"less",LESS_THAN_EQUALS:"less or equal",GREATER_THAN:"greater",GREATER_THAN_EQUALS:"greater or equal",VERSION_LESS_THAN:"version less",VERSION_LESS_THAN_EQUALS:"version less or equal",VERSION_GREATER_THAN:"version greater",VERSION_GREATER_THAN_EQUALS:"version greater or equal",SET_IS:"set is",SET_IS_NOT:"set is not",SET_CONTAINS:"set contains",SET_DOES_NOT_CONTAIN:"set does not contain",SET_CONTAINS_ANY:"set contains any",SET_DOES_NOT_CONTAIN_ANY:"set does not contain any",REGEX_MATCH:"regex match",REGEX_DOES_NOT_MATCH:"regex does not match"},eU=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return Uint8Array.from(t)},eF=function(e,t){void 0===t&&(t=0);for(var n=eU(e),r=n.length,i=r>>2,o=t,s=0;s<i;s++)o=eV(eH(n,s<<2),o);var a=i<<2,l=0;switch(r-a){case 3:l^=n[a+2]<<16,l^=n[a+1]<<8,l^=n[a],o^=l=Math.imul(l=ez(l=Math.imul(l,-862048943),15),461845907);break;case 2:l^=n[a+1]<<8,l^=n[a],o^=l=Math.imul(l=ez(l=Math.imul(l,-862048943),15),461845907);break;case 1:l^=n[a],o^=l=Math.imul(l=ez(l=Math.imul(l,-862048943),15),461845907)}return eB(o^=r)>>>0},eV=function(e,t){var n=e,r=t;return r^=n=Math.imul(n=ez(n=Math.imul(n,-862048943),15),461845907),(r=Math.imul(r=ez(r,13),5))+-430675100|0},eB=function(e){var t=e;return t^=t>>>16,t=Math.imul(t,-2048144789),t^=t>>>13,t=Math.imul(t,-1028477387),t^=t>>>16},ez=function(e,t,n){void 0===n&&(n=32),t>n&&(t%=n);var r=(e&4294967295<<n-t>>>0)>>>0>>>n-t>>>0;return(e<<t|r)>>>0},eH=function(e,t){return void 0===t&&(t=0),eq(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},eq=function(e){return(-16777216&e)>>>24|(16711680&e)>>>8|(65280&e)<<8|(255&e)<<24},eK=function(e,t){var n,r;if(t&&0!==t.length){try{for(var i=eL(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(!s||!e||"object"!=typeof e)return;e=e[s]}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}if(e)return e}},eG="^".concat("(\\d+)\\.(\\d+)","(\\.").concat("(\\d+)").concat("(-(([-\\w]+\\.?)*))?",")?$"),eW=function(){function e(e,t,n,r){void 0===r&&(r=void 0),this.major=e,this.minor=t,this.patch=n,this.preRelease=r}return e.parse=function(t){if(t){var n=new RegExp(eG).exec(t);if(n){var r=Number(n[1]),i=Number(n[2]);if(!(isNaN(r)||isNaN(i)))return new e(r,i,Number(n[4])||0,n[5]||void 0)}}},e.prototype.compareTo=function(e){if(this.major>e.major)return 1;if(this.major<e.major)return -1;if(this.minor>e.minor)return 1;if(this.minor<e.minor)return -1;if(this.patch>e.patch)return 1;if(this.patch<e.patch||this.preRelease&&!e.preRelease)return -1;if(!this.preRelease&&e.preRelease)return 1;if(this.preRelease&&e.preRelease){if(this.preRelease>e.preRelease)return 1;if(this.preRelease<e.preRelease)return -1}return 0},e}(),e$=function(){function e(){}return e.prototype.evaluate=function(e,t){var n,r,i={},o={context:e,result:i};try{for(var s=eL(t),a=s.next();!a.done;a=s.next()){var l=a.value,c=this.evaluateFlag(o,l);c&&(i[l.key]=c)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},e.prototype.evaluateFlag=function(e,t){try{for(var n,r,i,o=eL(t.segments),s=o.next();!s.done;s=o.next()){var a=s.value;if(i=this.evaluateSegment(e,t,a)){var l=eO(eO(eO({},t.metadata),a.metadata),i.metadata);i=eO(eO({},i),{metadata:l});break}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},e.prototype.evaluateSegment=function(e,t,n){var r,i,o,s;if(!n.conditions){var a=this.bucket(e,n);return void 0!==a?t.variants[a]:void 0}try{for(var l=eL(n.conditions),c=l.next();!c.done;c=l.next()){var u=c.value,d=!0;try{for(var h=(o=void 0,eL(u)),p=h.next();!p.done;p=h.next()){var f=p.value;if(!(d=this.matchCondition(e,f)))break}}catch(e){o={error:e}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}if(d){var a=this.bucket(e,n);if(void 0!==a)return t.variants[a];return}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}},e.prototype.matchCondition=function(e,t){var n=eK(e,t.selector);if(!n)return this.matchNull(t.op,t.values);if(this.isSetOperator(t.op)){var r=this.coerceStringArray(n);return!!r&&this.matchSet(r,t.op,t.values)}var i=this.coerceString(n);return void 0!==i&&this.matchString(i,t.op,t.values)},e.prototype.getHash=function(e){return eF(e)},e.prototype.bucket=function(e,t){if(!t.bucket)return t.variant;var n,r,i,o,s=this.coerceString(eK(e,t.bucket.selector));if(!s||0===s.length)return t.variant;var a="".concat(t.bucket.salt,"/").concat(s),l=this.getHash(a),c=l%100,u=Math.floor(l/100);try{for(var d=eL(t.bucket.allocations),h=d.next();!h.done;h=d.next()){var p=h.value,f=p.range[0],m=p.range[1];if(c>=f&&c<m)try{for(var g=(i=void 0,eL(p.distributions)),v=g.next();!v.done;v=g.next()){var y=v.value,b=y.range[0],w=y.range[1];if(u>=b&&u<w)return y.variant}}catch(e){i={error:e}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return t.variant},e.prototype.matchNull=function(e,t){var n=this.containsNone(t);switch(e){case ej.IS:case ej.CONTAINS:case ej.LESS_THAN:case ej.LESS_THAN_EQUALS:case ej.GREATER_THAN:case ej.GREATER_THAN_EQUALS:case ej.VERSION_LESS_THAN:case ej.VERSION_LESS_THAN_EQUALS:case ej.VERSION_GREATER_THAN:case ej.VERSION_GREATER_THAN_EQUALS:case ej.SET_IS:case ej.SET_CONTAINS:case ej.SET_CONTAINS_ANY:return n;case ej.IS_NOT:case ej.DOES_NOT_CONTAIN:case ej.SET_DOES_NOT_CONTAIN:case ej.SET_DOES_NOT_CONTAIN_ANY:return!n;default:return!1}},e.prototype.matchSet=function(e,t,n){switch(t){case ej.SET_IS:return this.setEquals(e,n);case ej.SET_IS_NOT:return!this.setEquals(e,n);case ej.SET_CONTAINS:return this.matchesSetContainsAll(e,n);case ej.SET_DOES_NOT_CONTAIN:return!this.matchesSetContainsAll(e,n);case ej.SET_CONTAINS_ANY:return this.matchesSetContainsAny(e,n);case ej.SET_DOES_NOT_CONTAIN_ANY:return!this.matchesSetContainsAny(e,n);default:return!1}},e.prototype.matchString=function(e,t,n){var r=this;switch(t){case ej.IS:return this.matchesIs(e,n);case ej.IS_NOT:return!this.matchesIs(e,n);case ej.CONTAINS:return this.matchesContains(e,n);case ej.DOES_NOT_CONTAIN:return!this.matchesContains(e,n);case ej.LESS_THAN:case ej.LESS_THAN_EQUALS:case ej.GREATER_THAN:case ej.GREATER_THAN_EQUALS:return this.matchesComparable(e,t,n,function(e){return r.parseNumber(e)},this.comparator);case ej.VERSION_LESS_THAN:case ej.VERSION_LESS_THAN_EQUALS:case ej.VERSION_GREATER_THAN:case ej.VERSION_GREATER_THAN_EQUALS:return this.matchesComparable(e,t,n,function(e){return eW.parse(e)},this.versionComparator);case ej.REGEX_MATCH:return this.matchesRegex(e,n);case ej.REGEX_DOES_NOT_MATCH:return!this.matchesRegex(e,n);default:return!1}},e.prototype.matchesIs=function(e,t){if(this.containsBooleans(t)){var n=e.toLowerCase();if("true"===n||"false"===n)return t.some(function(e){return e.toLowerCase()===n})}return t.some(function(t){return e===t})},e.prototype.matchesContains=function(e,t){var n,r;try{for(var i=eL(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.toLowerCase().includes(s.toLowerCase()))return!0}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},e.prototype.matchesComparable=function(e,t,n,r,i){var o=this,s=r(e),a=n.map(function(e){return r(e)}).filter(function(e){return void 0!==e});return void 0===s||0===a.length?n.some(function(n){return o.comparator(e,t,n)}):a.some(function(e){return i(s,t,e)})},e.prototype.comparator=function(e,t,n){switch(t){case ej.LESS_THAN:case ej.VERSION_LESS_THAN:return e<n;case ej.LESS_THAN_EQUALS:case ej.VERSION_LESS_THAN_EQUALS:return e<=n;case ej.GREATER_THAN:case ej.VERSION_GREATER_THAN:return e>n;case ej.GREATER_THAN_EQUALS:case ej.VERSION_GREATER_THAN_EQUALS:return e>=n;default:return!1}},e.prototype.versionComparator=function(e,t,n){var r=e.compareTo(n);switch(t){case ej.LESS_THAN:case ej.VERSION_LESS_THAN:return r<0;case ej.LESS_THAN_EQUALS:case ej.VERSION_LESS_THAN_EQUALS:return r<=0;case ej.GREATER_THAN:case ej.VERSION_GREATER_THAN:return r>0;case ej.GREATER_THAN_EQUALS:case ej.VERSION_GREATER_THAN_EQUALS:return r>=0;default:return!1}},e.prototype.matchesRegex=function(e,t){return t.some(function(t){return!!new RegExp(t).exec(e)})},e.prototype.containsNone=function(e){return e.some(function(e){return"(none)"===e})},e.prototype.containsBooleans=function(e){return e.some(function(e){switch(e.toLowerCase()){case"true":case"false":return!0;default:return!1}})},e.prototype.parseNumber=function(e){var t;return null!==(t=Number(e))&&void 0!==t?t:void 0},e.prototype.coerceString=function(e){return e?"object"==typeof e?JSON.stringify(e):String(e):void 0},e.prototype.coerceStringArray=function(e){var t=this;if(Array.isArray(e)){var n=e;return n.map(function(e){return t.coerceString(e)}).filter(Boolean)}var r=String(e);try{var i=JSON.parse(r);if(!Array.isArray(i))return;var n=e;return n.map(function(e){return t.coerceString(e)}).filter(Boolean)}catch(e){return}},e.prototype.isSetOperator=function(e){switch(e){case ej.SET_IS:case ej.SET_IS_NOT:case ej.SET_CONTAINS:case ej.SET_DOES_NOT_CONTAIN:case ej.SET_CONTAINS_ANY:case ej.SET_DOES_NOT_CONTAIN_ANY:return!0;default:return!1}},e.prototype.setEquals=function(e,t){var n=new Set(e),r=new Set(t);return n.size===r.size&&eD([],eM(r),!1).every(function(e){return n.has(e)})},e.prototype.matchesSetContainsAll=function(e,t){var n,r;if(e.length<t.length)return!1;try{for(var i=eL(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(!this.matchesIs(s,e))return!1}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0},e.prototype.matchesSetContainsAny=function(e,t){var n,r;try{for(var i=eL(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(this.matchesIs(s,e))return!0}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},e}(),eZ=function(e,t){var n,r,i=eO({},e),o=[],s=t||Object.keys(i);try{for(var a=eL(s),l=a.next();!l.done;l=a.next()){var c=l.value,u=eJ(c,i);u&&o.push.apply(o,eD([],eM(u),!1))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},eJ=function(e,t,n){void 0===n&&(n=[]);var r,i,o=t[e];if(o){if(!o.dependencies||0===o.dependencies.length)return delete t[o.key],[o];n.push(o.key);var s=[],a=function(e){if(n.some(function(t){return t===e}))throw Error("Detected a cycle between flags ".concat(n));var r=eJ(e,t,n);r&&s.push.apply(s,eD([],eM(r),!1))};try{for(var l=eL(o.dependencies),c=l.next();!c.done;c=l.next()){var u=c.value;a(u)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return s.push(o),n.pop(),delete t[o.key],s}};let eY="function"==typeof atob,eX="function"==typeof btoa,eQ="function"==typeof eI,e0="function"==typeof TextDecoder?new TextDecoder:void 0,e1="function"==typeof TextEncoder?new TextEncoder:void 0,e2=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),e3=(M={},e2.forEach((e,t)=>M[e]=t),M),e4=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,e5=String.fromCharCode.bind(String),e6="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),e8=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),e7=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),e9=eX?e=>btoa(e):eQ?e=>eI.from(e,"binary").toString("base64"):e=>{let t,n,r,i,o="",s=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw TypeError("invalid character found");o+=e2[(t=n<<16|r<<8|i)>>18&63]+e2[t>>12&63]+e2[t>>6&63]+e2[63&t]}return s?o.slice(0,s-3)+"===".substring(s):o},te=eQ?e=>eI.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(e5.apply(null,e.subarray(n,n+4096)));return e9(t.join(""))},tt=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?e5(192|t>>>6)+e5(128|63&t):e5(224|t>>>12&15)+e5(128|t>>>6&63)+e5(128|63&t)}var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return e5(240|t>>>18&7)+e5(128|t>>>12&63)+e5(128|t>>>6&63)+e5(128|63&t)},tn=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,tr=e=>e.replace(tn,tt),ti=eQ?e=>eI.from(e,"utf8").toString("base64"):e1?e=>te(e1.encode(e)):e=>e9(tr(e)),to=(e,t=!1)=>t?e8(ti(e)):ti(e),ts=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ta=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return e5((t>>>10)+55296)+e5((1023&t)+56320);case 3:return e5((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return e5((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},tl=e=>e.replace(ts,ta),tc=eY?e=>atob(e7(e)):eQ?e=>eI.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!e4.test(e))throw TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n="",r,i;for(let o=0;o<e.length;)t=e3[e.charAt(o++)]<<18|e3[e.charAt(o++)]<<12|(r=e3[e.charAt(o++)])<<6|(i=e3[e.charAt(o++)]),n+=64===r?e5(t>>16&255):64===i?e5(t>>16&255,t>>8&255):e5(t>>16&255,t>>8&255,255&t);return n},tu=eQ?e=>e6(eI.from(e,"base64")):e=>e6(tc(e).split("").map(e=>e.charCodeAt(0))),td=eQ?e=>eI.from(e,"base64").toString("utf8"):e0?e=>e0.decode(tu(e)):e=>tl(tc(e)),th=e=>e7(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),tp={encodeURL:e=>to(e,!0)};var tf=function(e){function t(n,r){var i=e.call(this,r)||this;return i.statusCode=n,Object.setPrototypeOf(i,t.prototype),i}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}eR(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),tm=function(){function e(e,t,n){this.deploymentKey=e,this.serverUrl=t,this.httpClient=n}return e.prototype.getVariants=function(e,t){return eA(this,void 0,void 0,function(){var n,r,i;return eN(this,function(o){switch(o.label){case 0:return n=tp.encodeURL(JSON.stringify(e)),r={Authorization:"Api-Key ".concat(this.deploymentKey),"X-Amp-Exp-User":n},(null==t?void 0:t.flagKeys)&&(r["X-Amp-Exp-Flag-Keys"]=tp.encodeURL(JSON.stringify(t.flagKeys))),(null==t?void 0:t.trackingOption)&&(r["X-Amp-Exp-Track"]=t.trackingOption),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/vardata?v=0"),method:"GET",headers:r,timeoutMillis:null==t?void 0:t.timeoutMillis})];case 1:if(200!=(i=o.sent()).status)throw new tf(i.status,"Fetch error response: status=".concat(i.status));return[2,JSON.parse(i.body)]}})})},e}(),tg=function(){function e(e,t,n){this.deploymentKey=e,this.serverUrl=t,this.httpClient=n}return e.prototype.getFlags=function(e){return eA(this,void 0,void 0,function(){var t,n;return eN(this,function(r){switch(r.label){case 0:return t={Authorization:"Api-Key ".concat(this.deploymentKey)},(null==e?void 0:e.libraryName)&&(null==e?void 0:e.libraryVersion)&&(t["X-Amp-Exp-Library"]="".concat(e.libraryName,"/").concat(e.libraryVersion)),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/flags"),method:"GET",headers:t,timeoutMillis:null==e?void 0:e.timeoutMillis})];case 1:if(200!=(n=r.sent()).status)throw Error("Flags error response: status=".concat(n.status));return[2,JSON.parse(n.body).reduce(function(e,t){return e[t.key]=t,e},{})]}})})},e}(),tv="undefined"!=typeof globalThis?globalThis:n.g||self,ty=function(){function e(e,t){this.poller=void 0,this.action=e,this.ms=t}return e.prototype.start=function(){this.poller||(this.poller=tv.setInterval(this.action,this.ms),this.action())},e.prototype.stop=function(){this.poller&&(tv.clearInterval(this.poller),this.poller=void 0)},e}(),tb=n(42051);!function(){function e(e){this.amplitudeInstance=e}e.prototype.getUser=function(){var e,t,n,r,i,o,s,a,l,c;return{device_id:null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e.options)||void 0===t?void 0:t.deviceId,user_id:null===(r=null===(n=this.amplitudeInstance)||void 0===n?void 0:n.options)||void 0===r?void 0:r.userId,version:null===(o=null===(i=this.amplitudeInstance)||void 0===i?void 0:i.options)||void 0===o?void 0:o.versionName,language:null===(a=null===(s=this.amplitudeInstance)||void 0===s?void 0:s.options)||void 0===a?void 0:a.language,platform:null===(c=null===(l=this.amplitudeInstance)||void 0===l?void 0:l.options)||void 0===c?void 0:c.platform,os:this.getOs(),device_model:this.getDeviceModel()}},e.prototype.getOs=function(){var e,t,n,r,i,o;return[null===(n=null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e._ua)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.name,null===(o=null===(i=null===(r=this.amplitudeInstance)||void 0===r?void 0:r._ua)||void 0===i?void 0:i.browser)||void 0===o?void 0:o.major].filter(function(e){return null!=e}).join(" ")},e.prototype.getDeviceModel=function(){var e,t,n;return null===(n=null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e._ua)||void 0===t?void 0:t.os)||void 0===n?void 0:n.name}}(),function(){function e(e){this.amplitudeInstance=e}e.prototype.track=function(e){this.amplitudeInstance.logEvent(e.name,e.properties)},e.prototype.setUserProperty=function(e){var t,n;this.amplitudeInstance.setUserProperties(((t={})[e.userProperty]=null===(n=e.variant)||void 0===n?void 0:n.value,t))},e.prototype.unsetUserProperty=function(e){var t;this.amplitudeInstance._logEvent("$identify",null,null,{$unset:((t={})[e.userProperty]="-",t)})}}();var tw=function(){return(tw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function t_(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}function tC(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function tx(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}"function"==typeof SuppressedError&&SuppressedError;var tk=tv.fetch||function(e,t){return t=t||{},new Promise(function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},l=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase() in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n}),n(l())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)})},tS=function(){function e(e){this.client=e}return e.prototype.request=function(e){return t_(this,void 0,void 0,function(){return tC(this,function(t){switch(t.label){case 0:return[4,this.client.request(e.requestUrl,e.method,e.headers,null,e.timeoutMillis)];case 1:return[2,t.sent()]}})})},e}(),tE={request:function(e,t,n,r,i){var o;return o=t_(void 0,void 0,void 0,function(){var i,o;return tC(this,function(s){switch(s.label){case 0:return[4,tk(e,{method:t,headers:n,body:r})];case 1:return o={status:(i=s.sent()).status},[4,i.text()];case 2:return o.body=s.sent(),[2,o]}})}),null==i||i<=0?o:new Promise(function(e,t){tv.setTimeout(function(){t(Error("Request timeout after "+i+" milliseconds"))},i),o.then(e,t)})}};(U=el||(el={})).LocalStorage="localStorage",U.InitialVariants="initialVariants",(F=ec||(ec={})).LocalStorage="storage",F.InitialVariants="initial",F.SecondaryLocalStorage="secondary-storage",F.SecondaryInitialVariants="secondary-initial",F.FallbackInline="fallback-inline",F.FallbackConfig="fallback-config",F.LocalEvaluation="local-evaluation";var tT=function(e){return!e||e===ec.FallbackInline||e===ec.FallbackConfig||e===ec.SecondaryInitialVariants},tP={debug:!1,instanceName:"$default_instance",fallbackVariant:{},initialVariants:{},initialFlags:void 0,source:el.LocalStorage,serverUrl:"https://api.lab.amplitude.com",flagsServerUrl:"https://flag.lab.amplitude.com",serverZone:"US",fetchTimeoutMillis:1e4,retryFetchOnFailure:!0,automaticExposureTracking:!0,pollOnStart:!0,fetchOnStart:!0,automaticFetchOnAmplitudeIdentityChange:!1,userProvider:null,analyticsProvider:null,exposureTrackingProvider:null,httpClient:tE},tI="1.10.2",tR=function(){function e(e){this.identityStore=e}return e.prototype.identityReady=function(e){return t_(this,void 0,void 0,function(){var t,n=this;return tC(this,function(r){return(t=this.identityStore.getIdentity()).userId||t.deviceId?[2]:[2,Promise.race([new Promise(function(e){var t=function(){e(void 0),n.identityStore.removeIdentityListener(t)};n.identityStore.addIdentityListener(t)}),new Promise(function(t,n){tv.setTimeout(n,e,"Timed out waiting for Amplitude Analytics SDK to initialize. You must ensure that the analytics SDK is initialized prior to calling fetch().")})])]})})},e.prototype.getUser=function(){var e=this.identityStore.getIdentity(),t=void 0;try{t=e.userProperties}catch(e){console.warn("[Experiment] failed to cast user properties")}return{user_id:e.userId,device_id:e.deviceId,user_properties:t}},e}(),tO=function(){function e(e){this.eventBridge=e}return e.prototype.track=function(e){this.eventBridge.logEvent({eventType:"$exposure",eventProperties:e})},e}(),tA=function(){function e(e,t){this.ua=new tb.UAParser("undefined"!=typeof navigator?navigator.userAgent:null).getResult(),this.contextProvider=e,this.userProvider=t}return e.prototype.getUser=function(){var e,t=(null===(e=this.userProvider)||void 0===e?void 0:e.getUser())||{},n=this.contextProvider.getApplicationContext();return tw({version:n.versionName,language:n.language,platform:n.platform,os:n.os||this.getOs(this.ua),device_model:n.deviceModel||this.getDeviceModel(this.ua)},t)},e.prototype.getOs=function(e){var t,n;return[null===(t=e.browser)||void 0===t?void 0:t.name,null===(n=e.browser)||void 0===n?void 0:n.major].filter(function(e){return null!=e}).join(" ")},e.prototype.getDeviceModel=function(e){var t;return null===(t=e.os)||void 0===t?void 0:t.name},e}(),tN=function(){function e(){}return e.prototype.get=function(e){return localStorage.getItem(e)},e.prototype.put=function(e,t){localStorage.setItem(e,t)},e.prototype.delete=function(e){localStorage.removeItem(e)},e}(),tL=function(e,t,n){var r=e.substring(e.length-6);return new tD("amp-exp-".concat(t,"-").concat(r),n,tj)},tM=function(e,t,n){void 0===n&&(n=new tN);var r=e.substring(e.length-6);return new tD("amp-exp-".concat(t,"-").concat(r,"-flags"),n)},tD=function(){function e(e,t,n){this.cache={},this.namespace=e,this.storage=t,this.transformer=n}return e.prototype.get=function(e){return this.cache[e]},e.prototype.getAll=function(){return tw({},this.cache)},e.prototype.put=function(e,t){this.cache[e]=t},e.prototype.putAll=function(e){var t,n;try{for(var r=tx(Object.keys(e)),i=r.next();!i.done;i=r.next()){var o=i.value;this.cache[o]=e[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.remove=function(e){delete this.cache[e]},e.prototype.clear=function(){this.cache={}},e.prototype.load=function(){var e,t,n,r=this.storage.get(this.namespace);try{n=JSON.parse(r)||{}}catch(e){return}var i={};try{for(var o=tx(Object.keys(n)),s=o.next();!s.done;s=o.next()){var a=s.value;try{var l=void 0;(l=this.transformer?this.transformer(n[a]):n[a])&&(i[a]=l)}catch(e){}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}this.clear(),this.putAll(i)},e.prototype.store=function(e){void 0===e&&(e=this.cache),this.storage.put(this.namespace,JSON.stringify(e))},e}(),tj=function(e){if("string"==typeof e)return{key:e,value:e};if("object"==typeof e){var t=e.key,n=e.value,r=e.payload,i=e.metadata,o=e.expKey;i&&i.experimentKey?o=i.experimentKey:o&&((i=i||{}).experimentKey=o);var s={};return t?s.key=t:n&&(s.key=n),n&&(s.value=n),i&&(s.metadata=i),r&&(s.payload=r),o&&(s.expKey=o),s}},tU=function(e,t,n,r){var i,o=null==n?void 0:n.value,s="[Experiment] ".concat(t);return{name:"[Experiment] Exposure",user:e,key:t,variant:n,userProperty:s,properties:{key:t,variant:o,source:r},userProperties:((i={})[s]=o,i)}},tF=function(e){return null==e},tV=function(e){return!!tF(e)||e&&0===Object.keys(e).length},tB=function(e){var t;return(null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.evaluationMode)==="local"},tz=function(){function e(e,t,n,r){this.started=!1,this.done=!1,this.attempts=e,this.min=t,this.max=n,this.scalar=r}return e.prototype.start=function(e){return t_(this,void 0,void 0,function(){return tC(this,function(t){switch(t.label){case 0:if(this.started)throw Error("Backoff already started");return this.started=!0,[4,this.backoff(e,0,this.min)];case 1:return t.sent(),[2]}})})},e.prototype.cancel=function(){this.done=!0,clearTimeout(this.timeoutHandle)},e.prototype.backoff=function(e,t,n){return t_(this,void 0,void 0,function(){var r=this;return tC(this,function(i){return this.done||(this.timeoutHandle=tv.setTimeout(function(){return t_(r,void 0,void 0,function(){var r,i;return tC(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e()];case 1:return o.sent(),[3,3];case 2:return o.sent(),(r=t+1)<this.attempts&&(i=Math.min(n*this.scalar,this.max),this.backoff(e,r,i)),[3,3];case 3:return[2]}})})},n)),[2]})})},e}(),tH=function(e){if(!e)return{};var t,n,r,i,o={user:e},s={};if(!e.groups)return o;try{for(var a=tx(Object.keys(e.groups)),l=a.next();!l.done;l=a.next()){var c=l.value,u=e.groups[c];if(u.length>0&&u[0]){var d=u[0],h={group_name:d},p=null===(i=null===(r=e.group_properties)||void 0===r?void 0:r[c])||void 0===i?void 0:i[d];p&&Object.keys(p).length>0&&(h.group_properties=p),s[c]=h}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return Object.keys(s).length>0&&(o.groups=s),delete o.user.groups,delete o.user.group_properties,o},tq=function(e){return null==e?{}:"string"==typeof e?{key:e,value:e}:e},tK=function(e){if(!e)return{};var t=void 0;e.metadata&&(t=e.metadata.experimentKey);var n={};return e.key&&(n.key=e.key),e.value&&(n.value=e.value),e.payload&&(n.payload=e.payload),t&&(n.expKey=t),e.metadata&&(n.metadata=e.metadata),n},tG=function(){function e(e){this.setProperties={},this.unsetProperties={},this.analyticsProvider=e}return e.prototype.track=function(e){this.setProperties[e.key]!=e.variant.value&&(this.setProperties[e.key]=e.variant.value,delete this.unsetProperties[e.key],this.analyticsProvider.track(e))},e.prototype.setUserProperty=function(e){this.setProperties[e.key]!=e.variant.value&&this.analyticsProvider.setUserProperty(e)},e.prototype.unsetUserProperty=function(e){this.unsetProperties[e.key]||(this.unsetProperties[e.key]="unset",delete this.setProperties[e.key],this.analyticsProvider.unsetUserProperty(e))},e}(),tW=function(){function e(e){this.tracked={},this.exposureTrackingProvider=e}return e.prototype.track=function(e){var t=this.tracked[e.flag_key];t&&t.variant===e.variant||(this.tracked[e.flag_key]=e,this.exposureTrackingProvider.track(e))},e}(),t$=function(){function e(e,t){var n,r,i=this;if(this.engine=new e$,this.poller=new ty(function(){return i.doFlags()},6e4),this.isRunning=!1,this.apiKey=e,this.config=tw(tw(tw({},tP),t),{serverUrl:(null==t?void 0:t.serverUrl)||((null===(n=null==t?void 0:t.serverZone)||void 0===n?void 0:n.toLowerCase())==="eu"?"https://api.lab.eu.amplitude.com":tP.serverUrl),flagsServerUrl:(null==t?void 0:t.flagsServerUrl)||((null===(r=null==t?void 0:t.serverZone)||void 0===r?void 0:r.toLowerCase())==="eu"?"https://flag.lab.eu.amplitude.com":tP.flagsServerUrl)}),this.config.initialVariants)for(var o in this.config.initialVariants)this.config.initialVariants[o]=tj(this.config.initialVariants[o]);this.config.userProvider&&(this.userProvider=this.config.userProvider),this.config.analyticsProvider&&(this.analyticsProvider=new tG(this.config.analyticsProvider)),this.config.exposureTrackingProvider&&(this.exposureTrackingProvider=new tW(this.config.exposureTrackingProvider));var s=new tS(this.config.httpClient||tE);this.flagApi=new tg(this.apiKey,this.config.flagsServerUrl,s),this.evaluationApi=new tm(this.apiKey,this.config.serverUrl,s);var a=new tN;this.variants=tL(this.apiKey,this.config.instanceName,a),this.flags=tM(this.apiKey,this.config.instanceName,a);try{this.flags.load(),this.variants.load()}catch(e){}this.mergeInitialFlagsWithStorage()}return e.prototype.start=function(e){var t;return t_(this,void 0,void 0,function(){var n;return tC(this,function(r){switch(r.label){case 0:if(this.isRunning)return[2];if(this.isRunning=!0,this.setUser(e),n=this.doFlags(),!(null===(t=this.config.fetchOnStart)||void 0===t||t))return[3,2];return[4,Promise.all([this.fetch(e),n])];case 1:return r.sent(),[3,4];case 2:return[4,n];case 3:r.sent(),r.label=4;case 4:return this.config.pollOnStart&&this.poller.start(),[2]}})})},e.prototype.stop=function(){this.isRunning&&(this.poller.stop(),this.isRunning=!1)},e.prototype.fetch=function(e,t){return void 0===e&&(e=this.user),t_(this,void 0,void 0,function(){return tC(this,function(n){switch(n.label){case 0:this.setUser(e||{}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fetchInternal(e,this.config.fetchTimeoutMillis,this.config.retryFetchOnFailure,t)];case 2:return n.sent(),[3,4];case 3:return console.error(n.sent()),[3,4];case 4:return[2,this]}})})},e.prototype.variant=function(e,t){if(!this.apiKey)return{value:void 0};var n,r,i=this.variantAndSource(e,t);return this.config.automaticExposureTracking&&this.exposureInternal(e,i),this.debug("[Experiment] variant for ".concat(e," is ").concat((null===(n=i.variant)||void 0===n?void 0:n.key)||(null===(r=i.variant)||void 0===r?void 0:r.value))),i.variant||{}},e.prototype.exposure=function(e){var t=this.variantAndSource(e);this.exposureInternal(e,t)},e.prototype.all=function(){if(!this.apiKey)return{};var e=this.evaluate();for(var t in e)tB(this.flags.get(t))||delete e[t];return tw(tw(tw({},this.secondaryVariants()),this.sourceVariants()),e)},e.prototype.clear=function(){this.variants.clear();try{this.variants.store()}catch(e){}},e.prototype.getUser=function(){if(!this.user)return this.user;if(null===(e=this.user)||void 0===e||!e.user_properties)return tw({},this.user);var e,t=tw({},this.user.user_properties);return tw(tw({},this.user),{user_properties:t})},e.prototype.setUser=function(e){var t;if(!e){this.user=null;return}if(null===(t=this.user)||void 0===t?void 0:t.user_properties){var n=tw({},e.user_properties);this.user=tw(tw({},e),{user_properties:n})}else this.user=tw({},e)},e.prototype.getUserProvider=function(){return this.userProvider},e.prototype.setUserProvider=function(e){return this.userProvider=e,this},e.prototype.mergeInitialFlagsWithStorage=function(){var e=this;this.config.initialFlags&&JSON.parse(this.config.initialFlags).forEach(function(t){e.flags.get(t.key)||e.flags.put(t.key,t)})},e.prototype.evaluate=function(e){var t,n,r=this.addContext(this.user),i=eZ(this.flags.getAll(),e),o=tH(r),s=this.engine.evaluate(o,i),a={};try{for(var l=tx(Object.keys(s)),c=l.next();!c.done;c=l.next()){var u=c.value;a[u]=tK(s[u])}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a},e.prototype.variantAndSource=function(e,t){var n={};this.config.source===el.LocalStorage?n=this.localStorageVariantAndSource(e,t):this.config.source===el.InitialVariants&&(n=this.initialVariantsVariantAndSource(e,t));var r=this.flags.get(e);return(tB(r)||!n.variant&&r)&&(n=this.localEvaluationVariantAndSource(e,r,t)),n},e.prototype.localEvaluationVariantAndSource=function(e,t,n){var r,i={},o=this.evaluate([t.key])[e],s=ec.LocalEvaluation,a=null===(r=null==o?void 0:o.metadata)||void 0===r?void 0:r.default;if(!tF(o)&&!a)return{variant:tq(o),source:s,hasDefaultVariant:!1};if(a&&(i={variant:tq(o),source:s,hasDefaultVariant:!0}),!tF(n))return{variant:tq(n),source:ec.FallbackInline,hasDefaultVariant:i.hasDefaultVariant};var l=this.config.initialVariants[e];if(!tF(l))return{variant:tq(l),source:ec.SecondaryInitialVariants,hasDefaultVariant:i.hasDefaultVariant};var c=tq(this.config.fallbackVariant),u={variant:c,source:ec.FallbackConfig,hasDefaultVariant:i.hasDefaultVariant};return tV(c)?i:u},e.prototype.localStorageVariantAndSource=function(e,t){var n,r={},i=this.variants.get(e),o=null===(n=null==i?void 0:i.metadata)||void 0===n?void 0:n.default;if(!tF(i)&&!o)return{variant:tq(i),source:ec.LocalStorage,hasDefaultVariant:!1};if(o&&(r={variant:tq(i),source:ec.LocalStorage,hasDefaultVariant:!0}),!tF(t))return{variant:tq(t),source:ec.FallbackInline,hasDefaultVariant:r.hasDefaultVariant};var s=this.config.initialVariants[e];if(!tF(s))return{variant:tq(s),source:ec.SecondaryInitialVariants,hasDefaultVariant:r.hasDefaultVariant};var a=tq(this.config.fallbackVariant),l={variant:a,source:ec.FallbackConfig,hasDefaultVariant:r.hasDefaultVariant};return tV(a)?r:l},e.prototype.initialVariantsVariantAndSource=function(e,t){var n,r={},i=this.config.initialVariants[e];if(!tF(i))return{variant:tq(i),source:ec.InitialVariants,hasDefaultVariant:!1};var o=this.variants.get(e),s=null===(n=null==o?void 0:o.metadata)||void 0===n?void 0:n.default;if(!tF(o)&&!s)return{variant:tq(o),source:ec.LocalStorage,hasDefaultVariant:!1};if(s&&(r={variant:tq(o),source:ec.LocalStorage,hasDefaultVariant:!0}),!tF(t))return{variant:tq(t),source:ec.FallbackInline,hasDefaultVariant:r.hasDefaultVariant};var a=tq(this.config.fallbackVariant),l={variant:a,source:ec.FallbackConfig,hasDefaultVariant:r.hasDefaultVariant};return tV(a)?r:l},e.prototype.fetchInternal=function(e,t,n,r){return t_(this,void 0,void 0,function(){var i,o;return tC(this,function(s){switch(s.label){case 0:if(!this.apiKey)throw Error("Experiment API key is empty");this.debug("[Experiment] Fetch all: retry=".concat(n)),n&&this.stopRetries(),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,this.doFetch(e,t,r)];case 2:return i=s.sent(),[4,this.storeVariants(i,r)];case 3:return s.sent(),[2,i];case 4:throw o=s.sent(),n&&this.shouldRetryFetch(o)&&this.startRetries(e,r),o;case 5:return[2]}})})},e.prototype.doFetch=function(e,t,n){return t_(this,void 0,void 0,function(){var r,i,o,s,a,l,c;return tC(this,function(u){switch(u.label){case 0:return[4,this.addContextOrWait(e,1e4)];case 1:return e=u.sent(),this.debug("[Experiment] Fetch variants for user: ",e),[4,this.evaluationApi.getVariants(e,{timeoutMillis:t,flagKeys:null==n?void 0:n.flagKeys})];case 2:r=u.sent(),i={};try{for(s=(o=tx(Object.keys(r))).next();!s.done;s=o.next())i[a=s.value]=tK(r[a])}catch(e){l={error:e}}finally{try{s&&!s.done&&(c=o.return)&&c.call(o)}finally{if(l)throw l.error}}return this.debug("[Experiment] Received variants: ",i),[2,i]}})})},e.prototype.doFlags=function(){return t_(this,void 0,void 0,function(){var e;return tC(this,function(t){switch(t.label){case 0:return[4,this.flagApi.getFlags({libraryName:"experiment-js-client",libraryVersion:tI,timeoutMillis:this.config.fetchTimeoutMillis})];case 1:e=t.sent(),this.flags.clear(),this.flags.putAll(e);try{this.flags.store()}catch(e){}return this.mergeInitialFlagsWithStorage(),[2]}})})},e.prototype.storeVariants=function(e,t){return t_(this,void 0,void 0,function(){var n,r,i,o;return tC(this,function(s){for(o in 0===(n=t&&t.flagKeys?t.flagKeys:[]).length&&this.variants.clear(),r=function(t){n=n.filter(function(e){return e!==t}),i.variants.put(t,e[t])},i=this,e)r(o);for(o in n)this.variants.remove(o);try{this.variants.store()}catch(e){}return this.debug("[Experiment] Stored variants: ",e),[2]})})},e.prototype.startRetries=function(e,t){return t_(this,void 0,void 0,function(){var n=this;return tC(this,function(r){return this.debug("[Experiment] Retry fetch"),this.retriesBackoff=new tz(8,500,1e4,1.5),this.retriesBackoff.start(function(){return t_(n,void 0,void 0,function(){return tC(this,function(n){switch(n.label){case 0:return[4,this.fetchInternal(e,1e4,!1,t)];case 1:return n.sent(),[2]}})})}),[2]})})},e.prototype.stopRetries=function(){this.retriesBackoff&&this.retriesBackoff.cancel()},e.prototype.addContext=function(e){var t,n,r=null===(t=this.userProvider)||void 0===t?void 0:t.getUser(),i=tw(tw({},null==e?void 0:e.user_properties),null==r?void 0:r.user_properties);return tw(tw(tw({library:"experiment-js-client/".concat(tI)},null===(n=this.userProvider)||void 0===n?void 0:n.getUser()),e),{user_properties:i})},e.prototype.addContextOrWait=function(e,t){return t_(this,void 0,void 0,function(){return tC(this,function(n){switch(n.label){case 0:if(!(this.userProvider instanceof tA)||!(this.userProvider.userProvider instanceof tR))return[3,2];return[4,this.userProvider.userProvider.identityReady(t)];case 1:n.sent(),n.label=2;case 2:return[2,this.addContext(e)]}})})},e.prototype.sourceVariants=function(){return this.config.source==el.LocalStorage?this.variants.getAll():this.config.source==el.InitialVariants?this.config.initialVariants:void 0},e.prototype.secondaryVariants=function(){return this.config.source==el.LocalStorage?this.config.initialVariants:this.config.source==el.InitialVariants?this.variants.getAll():void 0},e.prototype.exposureInternal=function(e,t){this.legacyExposureInternal(e,t.variant,t.source);var n,r,i,o,s,a,l={flag_key:e},c=tT(t.source);if(!c||t.hasDefaultVariant){(null===(n=t.variant)||void 0===n?void 0:n.expKey)&&(l.experiment_key=null===(r=t.variant)||void 0===r?void 0:r.expKey);var u=null===(i=t.variant)||void 0===i?void 0:i.metadata;c||(null==u?void 0:u.default)||((null===(o=t.variant)||void 0===o?void 0:o.key)?l.variant=t.variant.key:(null===(s=t.variant)||void 0===s?void 0:s.value)&&(l.variant=t.variant.value)),u&&(l.metadata=u),null===(a=this.exposureTrackingProvider)||void 0===a||a.track(l)}},e.prototype.legacyExposureInternal=function(e,t,n){var r,i,o,s,a;if(this.analyticsProvider){var l=tU(this.addContext(this.getUser()),e,t,n);!tT(n)&&(null==t?void 0:t.value)?(null==t?void 0:t.value)&&(null===(s=null===(o=this.analyticsProvider)||void 0===o?void 0:o.setUserProperty)||void 0===s||s.call(o,l),null===(a=this.analyticsProvider)||void 0===a||a.track(l)):null===(i=null===(r=this.analyticsProvider)||void 0===r?void 0:r.unsetUserProperty)||void 0===i||i.call(r,l)}},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.config.debug&&console.debug.apply(console,function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(t),!1))},e.prototype.shouldRetryFetch=function(e){return!(e instanceof tf)||e.statusCode<400||e.statusCode>=500||429===e.statusCode},e}(),tZ={},tJ={initializeWithAmplitudeAnalytics:function(e,t){var n=(null==t?void 0:t.instanceName)||tP.instanceName,r="".concat(n,".").concat(e),i=eP.V.getInstance(n);return!tZ[r]&&(t=tw({userProvider:new tA(i.applicationContextProvider,new tR(i.identityStore)),exposureTrackingProvider:new tO(i.eventBridge)},t),tZ[r]=new t$(e,t),t.automaticFetchOnAmplitudeIdentityChange&&i.identityStore.addIdentityListener(function(){tZ[r].fetch()})),tZ[r]}};!function(){function e(){}e.prototype.getUser=function(){return{}},e.prototype.start=function(e){return t_(this,void 0,void 0,function(){return tC(this,function(e){return[2]})})},e.prototype.stop=function(){},e.prototype.setUser=function(e){},e.prototype.fetch=function(e){return t_(this,void 0,void 0,function(){return tC(this,function(e){return[2,this]})})},e.prototype.getUserProvider=function(){return null},e.prototype.setUserProvider=function(e){return this},e.prototype.variant=function(e,t){return tP.fallbackVariant},e.prototype.all=function(){return{}},e.prototype.clear=function(){},e.prototype.exposure=function(e){}}();var tY=n(22970),tX=n(2843),tQ=n(33670),t0=n(87664),t1=n(28157),t2=n(48120),t3=n(54261),t4="[Amplitude]",t5="".concat(t4," Session Replay ID"),t6=t3.J.US,t8="".concat(t4," Session Replay Debug"),t7="amp-mask";t2.xp,(V=eu||(eu={})).GET_SR_PROPS="get-sr-props",V.DEBUG_INFO="debug-info";var t9=function(){return{flushMaxRetries:2,logLevel:eE.i.Warn,loggerProvider:new t0.Y,transportProvider:new tQ.V}},ne=function(e){function t(t,n){var r,i=this,o=t9();return(i=e.call(this,(0,tY.pi)((0,tY.pi)({transportProvider:o.transportProvider},n),{apiKey:t}))||this).flushMaxRetries=void 0!==n.flushMaxRetries&&n.flushMaxRetries<=o.flushMaxRetries?n.flushMaxRetries:o.flushMaxRetries,i.apiKey=t,i.sampleRate=n.sampleRate||0,i.serverZone=n.serverZone||t6,i.configServerUrl=n.configServerUrl,i.trackServerUrl=n.trackServerUrl,i.shouldInlineStylesheet=n.shouldInlineStylesheet,i.version=n.version,i.performanceConfig=n.performanceConfig,i.storeType=null!==(r=n.storeType)&&void 0!==r?r:"idb",n.privacyConfig&&(i.privacyConfig=n.privacyConfig),n.debugMode&&(i.debugMode=n.debugMode),n.experimental&&(i.experimental=n.experimental),i}return(0,tY.ZT)(t,e),t}(t1.De),nt=n(9911),nn=n(76918),nr=n(44354),ni=n(48834).lW,no=n(93542),ns=Object.defineProperty,na=(e,t,n)=>t in e?ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nl=(e,t,n)=>na(e,"symbol"!=typeof t?t+"":t,n),nc=Object.defineProperty,nu=(e,t,n)=>t in e?nc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nd=(e,t,n)=>nu(e,"symbol"!=typeof t?t+"":t,n),nh=((B=nh||{})[B.Document=0]="Document",B[B.DocumentType=1]="DocumentType",B[B.Element=2]="Element",B[B.Text=3]="Text",B[B.CDATA=4]="CDATA",B[B.Comment=5]="Comment",B);let np={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},nf={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},nm={},ng={};function nv(e,t,n){var r;let i=`${e}.${String(n)}`;if(ng[i])return ng[i].call(t);let o=null==(r=Object.getOwnPropertyDescriptor(function(e){if(nm[e])return nm[e];let t=globalThis[e],n=t.prototype,r=e in np?np[e]:void 0,i=!!(r&&r.every(e=>{var t,r;return!!(null==(r=null==(t=Object.getOwnPropertyDescriptor(n,e))?void 0:t.get)?void 0:r.toString().includes("[native code]"))})),o=e in nf?nf[e]:void 0,s=!!(o&&o.every(e=>{var t;return"function"==typeof n[e]&&(null==(t=n[e])?void 0:t.toString().includes("[native code]"))}));if(i&&s)return nm[e]=t.prototype,t.prototype;try{let r=document.createElement("iframe");document.body.appendChild(r);let i=r.contentWindow;if(!i)return t.prototype;let o=i[e].prototype;if(document.body.removeChild(r),!o)return n;return nm[e]=o}catch{return n}}(e),n))?void 0:r.get;return o?(ng[i]=o,o.call(t)):t[n]}let ny={childNodes:function(e){return nv("Node",e,"childNodes")},parentNode:function(e){return nv("Node",e,"parentNode")},parentElement:function(e){return nv("Node",e,"parentElement")},textContent:function(e){return nv("Node",e,"textContent")},host:function(e){return e&&"host"in e?nv("ShadowRoot",e,"host"):null},shadowRoot:function(e){return e&&"shadowRoot"in e?nv("Element",e,"shadowRoot"):null}};function nb(e){return e.nodeType===e.ELEMENT_NODE}function nw(e){let t=e&&"host"in e&&"mode"in e&&ny.host(e)||null;return!!(t&&"shadowRoot"in t&&ny.shadowRoot(t)===e)}function n_(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function nC(e){try{var t;let n=e.rules||e.cssRules;if(!n)return null;return(t=Array.from(n,t=>nx(t,e.href)).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}catch(e){return null}}function nx(e,t){if("styleSheet"in e){let t;try{t=nC(e.styleSheet)||function(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(n){t=e.cssText}return e.styleSheet.href?nL(t,e.styleSheet.href):t}{let n=e.cssText;return("selectorText"in e&&e.selectorText.includes(":")&&(n=n.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")),t)?nL(n,t):n}}class nk{constructor(){nd(this,"idNodeMap",new Map),nd(this,"nodeMetaMap",new WeakMap)}getId(e){var t;return e?(null==(t=this.getMeta(e))?void 0:t.id)??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function nS({element:e,maskInputOptions:t,tagName:n,type:r,value:i,maskInputFn:o}){let s=i||"",a=r&&nE(r);return(t[n.toLowerCase()]||a&&t[a])&&(s=o?o(s,e):"*".repeat(s.length)),s}function nE(e){return e.toLowerCase()}let nT="__rrweb_original__";function nP(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?nE(t):null}function nI(e,t){let n;try{n=new URL(e,t??window.location.href)}catch(e){return null}let r=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return(null==r?void 0:r[1])??null}let nR=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,nO=/^(?:[a-z+]+:)?\/\//i,nA=/^www\..*/i,nN=/^(data:)([^,]*),(.*)/i;function nL(e,t){return(e||"").replace(nR,(e,n,r,i,o,s)=>{let a=r||o||s,l=n||i||"";if(!a)return e;if(nO.test(a)||nA.test(a)||nN.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${(t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0]).split("?")[0]+a}${l})`;let c=t.split("/"),u=a.split("/");for(let e of(c.pop(),u))"."!==e&&(".."===e?c.pop():c.push(e));return`url(${l}${c.join("/")}${l})`})}let nM=1,nD=RegExp("[^a-z0-9-_:]");function nj(){return nM++}let nU=/^[^ \t\n\r\u000c]+/,nF=/^[, \t\n\r\u000c]+/,nV=new WeakMap;function nB(e,t){return t&&""!==t.trim()?nz(e,t):t}function nz(e,t){let n=nV.get(e);if(n||(n=e.createElement("a"),nV.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function nH(e,t,n,r){return r?"src"!==n&&("href"!==n||"use"===t&&"#"===r[0])&&("xlink:href"!==n||"#"===r[0])&&("background"!==n||"table"!==t&&"td"!==t&&"th"!==t)?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;let i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}let i=[];for(;r(nF),!(n>=t.length);){let o=r(nU);if(","===o.slice(-1))o=nB(e,o.substring(0,o.length-1)),i.push(o);else{let r="";o=nB(e,o);let s=!1;for(;;){let e=t.charAt(n);if(""===e){i.push((o+r).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){n+=1,i.push((o+r).trim());break}"("===e&&(s=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r):"style"===n?nL(r,nz(e)):"object"===t&&"data"===n?nB(e,r):r:nB(e,r):r}function nq(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function nK(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!n&&nK(ny.parentNode(e),t,n);for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!!n&&nK(ny.parentNode(e),t,n)}function nG(e,t,n,r){let i;if(nb(e)){if(i=e,!ny.childNodes(i).length)return!1}else{if(null===ny.parentElement(e))return!1;i=ny.parentElement(e)}try{if("string"==typeof t){if(r){if(i.closest(`.${t}`))return!0}else if(i.classList.contains(t))return!0}else if(nK(i,t,r))return!0;if(n){if(r){if(i.closest(n))return!0}else if(i.matches(n))return!0}}catch(e){}return!1}function nW(e){return null==e?"":e.toLowerCase()}function n$(e,t){let n;let{doc:o,mirror:s,blockClass:a,blockSelector:l,maskTextClass:c,maskTextSelector:u,skipChild:d=!1,inlineStylesheet:h=!0,maskInputOptions:p={},maskTextFn:f,maskInputFn:m,slimDOMOptions:g,dataURLOptions:v={},inlineImages:y=!1,recordCanvas:b=!1,onSerialize:w,onIframeLoad:_,iframeLoadTimeout:C=5e3,onStylesheetLoad:x,stylesheetLoadTimeout:k=5e3,keepIframeSrcFn:S=()=>!1,newlyAddedElement:E=!1}=t,{needsMask:T}=t,{preserveWhiteSpace:P=!0}=t;T||(T=nG(e,c,u,void 0===T));let I=function(e,t){let{doc:n,mirror:o,blockClass:s,blockSelector:a,needsMask:l,inlineStylesheet:c,maskInputOptions:u={},maskTextFn:d,maskInputFn:h,dataURLOptions:p={},inlineImages:f,recordCanvas:m,keepIframeSrcFn:g,newlyAddedElement:v=!1}=t,y=function(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return 1===n?void 0:n}(n,o);switch(e.nodeType){case e.DOCUMENT_NODE:if("CSS1Compat"!==e.compatMode)return{type:nh.Document,childNodes:[],compatMode:e.compatMode};return{type:nh.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:nh.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:y};case e.ELEMENT_NODE:return function(e,t){let n;let{doc:o,blockClass:s,blockSelector:a,inlineStylesheet:l,maskInputOptions:c={},maskInputFn:u,dataURLOptions:d={},inlineImages:h,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:m=!1,rootId:g}=t,v=function(e,t,n){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,s,a),y=function(e){if(e instanceof HTMLFormElement)return"form";let t=nE(e.tagName);return nD.test(t)?"div":t}(e),b={},w=e.attributes.length;for(let t=0;t<w;t++){let n=e.attributes[t];nq(y,n.name,n.value)||(b[n.name]=nH(o,y,nE(n.name),n.value))}if("link"===y&&l){let t=Array.from(o.styleSheets).find(t=>t.href===e.href),n=null;t&&(n=nC(t)),n&&(delete b.rel,delete b.href,b._cssText=n)}if("style"===y&&e.sheet&&!(e.innerText||ny.textContent(e)||"").trim().length){let t=nC(e.sheet);t&&(b._cssText=t)}if("input"===y||"textarea"===y||"select"===y){let t=e.value,n=e.checked;"radio"!==b.type&&"checkbox"!==b.type&&"submit"!==b.type&&"button"!==b.type&&t?b.value=nS({element:e,type:nP(e),tagName:y,value:t,maskInputOptions:c,maskInputFn:u}):n&&(b.checked=n)}if("option"===y&&(e.selected&&!c.select?b.selected=!0:delete b.selected),"dialog"===y&&e.open&&(b.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"),"canvas"===y&&p){if("2d"===e.__context)!function(e){let t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){let i=t.getImageData;if(new Uint32Array((nT in i?i[nT]:i).call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(e=>0!==e))return!1}return!0}(e)&&(b.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let t=e.toDataURL(d.type,d.quality),n=o.createElement("canvas");n.width=e.width,n.height=e.height,t!==n.toDataURL(d.type,d.quality)&&(b.rr_dataURL=t)}}if("img"===y&&h){r||(i=(r=o.createElement("canvas")).getContext("2d"));let t=e.currentSrc||e.getAttribute("src")||"<unknown-src>",n=e.crossOrigin,s=()=>{e.removeEventListener("load",s);try{r.width=e.naturalWidth,r.height=e.naturalHeight,i.drawImage(e,0,0),b.rr_dataURL=r.toDataURL(d.type,d.quality)}catch(n){if("anonymous"!==e.crossOrigin){e.crossOrigin="anonymous",e.complete&&0!==e.naturalWidth?s():e.addEventListener("load",s);return}console.warn(`Cannot inline img src=${t}! Error: ${n}`)}"anonymous"===e.crossOrigin&&(n?b.crossOrigin=n:e.removeAttribute("crossorigin"))};e.complete&&0!==e.naturalWidth?s():e.addEventListener("load",s)}if("audio"===y||"video"===y){let t=b;t.rr_mediaState=e.paused?"paused":"played",t.rr_mediaCurrentTime=e.currentTime,t.rr_mediaPlaybackRate=e.playbackRate,t.rr_mediaMuted=e.muted,t.rr_mediaLoop=e.loop,t.rr_mediaVolume=e.volume}if(!m&&(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),v){let{width:t,height:n}=e.getBoundingClientRect();b={class:b.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==y||f(b.src)||(e.contentDocument||(b.rr_src=b.src),delete b.src);try{customElements.get(y)&&(n=!0)}catch(e){}return{type:nh.Element,tagName:y,attributes:b,childNodes:[],isSVG:!!("svg"===e.tagName||e.ownerSVGElement)||void 0,needBlock:v,rootId:g,isCustom:n}}(e,{doc:n,blockClass:s,blockSelector:a,inlineStylesheet:c,maskInputOptions:u,maskInputFn:h,dataURLOptions:p,inlineImages:f,recordCanvas:m,keepIframeSrcFn:g,newlyAddedElement:v,rootId:y});case e.TEXT_NODE:return function(e,t){var n;let{needsMask:r,maskTextFn:i,rootId:o}=t,s=ny.parentNode(e),a=s&&s.tagName,l=ny.textContent(e),c="STYLE"===a||void 0,u="SCRIPT"===a||void 0;if(c&&l){try{e.nextSibling||e.previousSibling||(null==(n=s.sheet)?void 0:n.cssRules)&&(l=nC(s.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}l=nL(l,nz(t.doc))}return u&&(l="SCRIPT_PLACEHOLDER"),!c&&!u&&l&&r&&(l=i?i(l,ny.parentElement(e)):l.replace(/[\S]/g,"*")),{type:nh.Text,textContent:l||"",isStyle:c,rootId:o}}(e,{doc:n,needsMask:l,maskTextFn:d,rootId:y});case e.CDATA_SECTION_NODE:return{type:nh.CDATA,textContent:"",rootId:y};case e.COMMENT_NODE:return{type:nh.Comment,textContent:ny.textContent(e)||"",rootId:y};default:return!1}}(e,{doc:o,mirror:s,blockClass:a,blockSelector:l,needsMask:T,inlineStylesheet:h,maskInputOptions:p,maskTextFn:f,maskInputFn:m,dataURLOptions:v,inlineImages:y,recordCanvas:b,keepIframeSrcFn:S,newlyAddedElement:E});if(!I)return console.warn(e,"not serialized"),null;n=s.hasNode(e)?s.getId(e):!function(e,t){if(t.comment&&e.type===nh.Comment)return!0;if(e.type===nh.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===nI(e.attributes.href))||t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(nW(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===nW(e.attributes.name)||"icon"===nW(e.attributes.rel)||"apple-touch-icon"===nW(e.attributes.rel)||"shortcut icon"===nW(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&nW(e.attributes.name).match(/^description|keywords$/)||t.headMetaSocial&&(nW(e.attributes.property).match(/^(og|twitter|fb):/)||nW(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===nW(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===nW(e.attributes.name)||"googlebot"===nW(e.attributes.name)||"bingbot"===nW(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;else if(t.headMetaAuthorship&&("author"===nW(e.attributes.name)||"generator"===nW(e.attributes.name)||"framework"===nW(e.attributes.name)||"publisher"===nW(e.attributes.name)||"progid"===nW(e.attributes.name)||nW(e.attributes.property).match(/^article:/)||nW(e.attributes.property).match(/^product:/)))return!0;else if(t.headMetaVerification&&("google-site-verification"===nW(e.attributes.name)||"yandex-verification"===nW(e.attributes.name)||"csrf-token"===nW(e.attributes.name)||"p:domain_verify"===nW(e.attributes.name)||"verify-v1"===nW(e.attributes.name)||"verification"===nW(e.attributes.name)||"shopify-checkout-api-token"===nW(e.attributes.name)))return!0}}return!1}(I,g)&&(P||I.type!==nh.Text||I.isStyle||I.textContent.replace(/^\s+|\s+$/gm,"").length)?nj():-2;let R=Object.assign(I,{id:n});if(s.add(e,R),-2===n)return null;w&&w(e);let O=!d;if(R.type===nh.Element){O=O&&!R.needBlock,delete R.needBlock;let t=ny.shadowRoot(e);t&&n_(t)&&(R.isShadowHost=!0)}if((R.type===nh.Document||R.type===nh.Element)&&O){g.headWhitespace&&R.type===nh.Element&&"head"===R.tagName&&(P=!1);let t={doc:o,mirror:s,blockClass:a,blockSelector:l,needsMask:T,maskTextClass:c,maskTextSelector:u,skipChild:d,inlineStylesheet:h,maskInputOptions:p,maskTextFn:f,maskInputFn:m,slimDOMOptions:g,dataURLOptions:v,inlineImages:y,recordCanvas:b,preserveWhiteSpace:P,onSerialize:w,onIframeLoad:_,iframeLoadTimeout:C,onStylesheetLoad:x,stylesheetLoadTimeout:k,keepIframeSrcFn:S};if(R.type===nh.Element&&"textarea"===R.tagName&&void 0!==R.attributes.value);else for(let n of Array.from(ny.childNodes(e))){let e=n$(n,t);e&&R.childNodes.push(e)}let n=null;if(nb(e)&&(n=ny.shadowRoot(e)))for(let e of Array.from(ny.childNodes(n))){let r=n$(e,t);r&&(n_(n)&&(r.isShadow=!0),R.childNodes.push(r))}}let A=ny.parentNode(e);return A&&nw(A)&&n_(A)&&(R.isShadow=!0),R.type===nh.Element&&"iframe"===R.tagName&&function(e,t,n){let r;let i=e.contentWindow;if(!i)return;let o=!1;try{r=i.document.readyState}catch(e){return}if("complete"!==r){let r=setTimeout(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{clearTimeout(r),o=!0,t()});return}let s="about:blank";if(i.location.href!==s||e.src===s||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{let t=e.contentDocument;if(t&&_){let n=n$(t,{doc:t,mirror:s,blockClass:a,blockSelector:l,needsMask:T,maskTextClass:c,maskTextSelector:u,skipChild:!1,inlineStylesheet:h,maskInputOptions:p,maskTextFn:f,maskInputFn:m,slimDOMOptions:g,dataURLOptions:v,inlineImages:y,recordCanvas:b,preserveWhiteSpace:P,onSerialize:w,onIframeLoad:_,iframeLoadTimeout:C,onStylesheetLoad:x,stylesheetLoadTimeout:k,keepIframeSrcFn:S});n&&_(e,n)}},C),R.type===nh.Element&&"link"===R.tagName&&"string"==typeof R.attributes.rel&&("stylesheet"===R.attributes.rel||"preload"===R.attributes.rel&&"string"==typeof R.attributes.href&&"css"===nI(R.attributes.href))&&function(e,t,n){let r,i=!1;try{r=e.sheet}catch(e){return}if(r)return;let o=setTimeout(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{clearTimeout(o),i=!0,t()})}(e,()=>{if(x){let t=n$(e,{doc:o,mirror:s,blockClass:a,blockSelector:l,needsMask:T,maskTextClass:c,maskTextSelector:u,skipChild:!1,inlineStylesheet:h,maskInputOptions:p,maskTextFn:f,maskInputFn:m,slimDOMOptions:g,dataURLOptions:v,inlineImages:y,recordCanvas:b,preserveWhiteSpace:P,onSerialize:w,onIframeLoad:_,iframeLoadTimeout:C,onStylesheetLoad:x,stylesheetLoadTimeout:k,keepIframeSrcFn:S});t&&x(e,t)}},k),R}RegExp(/(max|min)-device-(width|height)/.source,"g");var nZ={exports:{}},nJ=String,nY=function(){return{isColorSupported:!1,reset:nJ,bold:nJ,dim:nJ,italic:nJ,underline:nJ,inverse:nJ,hidden:nJ,strikethrough:nJ,black:nJ,red:nJ,green:nJ,yellow:nJ,blue:nJ,magenta:nJ,cyan:nJ,white:nJ,gray:nJ,bgBlack:nJ,bgRed:nJ,bgGreen:nJ,bgYellow:nJ,bgBlue:nJ,bgMagenta:nJ,bgCyan:nJ,bgWhite:nJ}};nZ.exports=nY(),nZ.exports.createColors=nY;var nX=nZ.exports;let nQ=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),n0=class e extends Error{constructor(t,n,r,i,o,s){super(t),this.name="CssSyntaxError",this.reason=t,o&&(this.file=o),i&&(this.source=i),s&&(this.plugin=s),void 0!==n&&void 0!==r&&("number"==typeof n?(this.line=n,this.column=r):(this.line=n.line,this.column=n.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){let t,n;if(!this.source)return"";let r=this.source;null==e&&(e=nX.isColorSupported),nQ&&e&&(r=nQ(r));let i=r.split(/\r?\n/),o=Math.max(this.line-3,0),s=Math.min(this.line+2,i.length),a=String(s).length;if(e){let{bold:e,gray:r,red:i}=nX.createColors(!0);t=t=>e(i(t)),n=e=>r(e)}else t=n=e=>e;return i.slice(o,s).map((e,r)=>{let i=o+1+r,s=" "+(" "+i).slice(-a)+" | ";if(i===this.line){let r=n(s.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return t(">")+n(s)+e+"\n "+r+t("^")}return" "+n(s)+e}).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};n0.default=n0;var n1={};n1.isClean=Symbol("isClean"),n1.my=Symbol("my");let n2={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},n3=class{constructor(e){this.builder=e}atrule(e,t){let n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{let i=(e.raws.between||"")+(t?";":"");this.builder(n+r+i,e)}}beforeAfter(e,t){let n;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let r=e.parent,i=0;for(;r&&"root"!==r.type;)i+=1,r=r.parent;if(n.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<i;e++)n+=t}return n}block(e,t){let n,r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let n=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let i=e.nodes[r],o=this.raw(i,"before");o&&this.builder(o),this.stringify(i,t!==r||n)}}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}document(e){this.body(e)}raw(e,t,n){let r;if(n||(n=t),t&&void 0!==(r=e.raws[t]))return r;let i=e.parent;if("before"===n&&(!i||"root"===i.type&&i.first===e||i&&"document"===i.type))return"";if(!i)return n2[n];let o=e.root();if(o.rawCache||(o.rawCache={}),void 0!==o.rawCache[n])return o.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(e,n);{var s;let i="raw"+((s=n)[0].toUpperCase()+s.slice(1));this[i]?r=this[i](o,e):o.walk(e=>{if(void 0!==(r=e.raws[t]))return!1})}return void 0===r&&(r=n2[n]),o.rawCache[n]=r,r}rawBeforeClose(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let n;return e.walkComments(e=>{if(void 0!==e.raws.before)return(n=e.raws.before).includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls(e=>{if(void 0!==e.raws.before)return(n=e.raws.before).includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(e){let t;return e.walk(e=>{if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t}rawBeforeRule(e){let t;return e.walk(n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return(t=n.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(e=>{if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t}rawIndent(e){let t;return e.raws.indent?e.raws.indent:(e.walk(n=>{let r=n.parent;if(r&&r!==e&&r.parent&&r.parent===e&&void 0!==n.raws.before){let e=n.raws.before.split("\n");return t=(t=e[e.length-1]).replace(/\S/g,""),!1}}),t)}rawSemicolon(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t}rawValue(e,t){let n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};function n4(e,t){new n3(t).stringify(e)}n3.default=n3,n4.default=n4;let{isClean:n5,my:n6}=n1,n8=class{constructor(e={}){for(let t in this.raws={},this[n5]=!1,this[n6]=!0,e)if("nodes"===t)for(let n of(this.nodes=[],e[t]))"function"==typeof n.clone?this.append(n.clone()):this.append(n);else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=function e(t,n){let r=new t.constructor;for(let i in t){if(!Object.prototype.hasOwnProperty.call(t,i)||"proxyCache"===i)continue;let o=t[i],s=typeof o;"parent"===i&&"object"===s?n&&(r[i]=n):"source"===i?r[i]=o:Array.isArray(o)?r[i]=o.map(t=>e(t,r)):("object"===s&&null!==o&&(o=e(o)),r[i]=o)}return r}(this);for(let n in e)t[n]=e[n];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:n,start:r}=this.rangeBy(t);return this.source.input.error(e,{column:r.column,line:r.line},{column:n.column,line:n.line},t)}return new n0(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,n)=>e[t]===n||(e[t]=n,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty(),!0)}}markDirty(){if(this[n5]){this[n5]=!1;let e=this;for(;e=e.parent;)e[n5]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let n=this.source.start;if(e.index)n=this.positionInside(e.index,t);else if(e.word){let r=(t=this.toString()).indexOf(e.word);-1!==r&&(n=this.positionInside(r,t))}return n}positionInside(e,t){let n=t||this.toString(),r=this.source.start.column,i=this.source.start.line;for(let t=0;t<e;t++)"\n"===n[t]?(r=1,i+=1):r+=1;return{column:r,line:i}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let r=this.toString(),i=r.indexOf(e.word);-1!==i&&(t=this.positionInside(i,r),n=this.positionInside(i+e.word.length,r))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?n={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={column:t.column+1,line:t.line}),{end:n,start:t}}raw(e,t){return new n3().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let r of e)r===this?n=!0:n?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);n||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let n={},r=null==t;t=t||new Map;let i=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e)||"parent"===e||"proxyCache"===e)continue;let r=this[e];if(Array.isArray(r))n[e]=r.map(e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e);else if("object"==typeof r&&r.toJSON)n[e]=r.toJSON(null,t);else if("source"===e){let o=t.get(r.input);null==o&&(o=i,t.set(r.input,i),i++),n[e]={end:r.end,inputId:o,start:r.start}}else n[e]=r}return r&&(n.inputs=[...t.keys()].map(e=>e.toJSON())),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=n4){e.stringify&&(e=e.stringify);let t="";return e(this,e=>{t+=e}),t}warn(e,t,n){let r={node:this};for(let e in n)r[e]=n[e];return e.warn(t,r)}get proxyOf(){return this}};n8.default=n8;let n7=n8,n9=class extends n7{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};n9.default=n9;let{SourceMapConsumer:re,SourceMapGenerator:rt}=nQ,{existsSync:rn,readFileSync:rr}=nQ,{dirname:ri,join:ro}=nQ,rs=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,r=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=ri(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new re(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e)){var t;return t=e.substr(RegExp.lastMatch.length),ni?ni.from(t,"base64").toString():window.atob(t)}throw Error("Unsupported source map encoding "+e.match(/data:application\/json;([^,]+),/)[1])}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let n=e.lastIndexOf(t.pop()),r=e.indexOf("*/",n);n>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,r)))}loadFile(e){if(this.root=ri(e),rn(e))return this.mapFile=e,rr(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"==typeof t){let n=t(e);if(n){let e=this.loadFile(n);if(!e)throw Error("Unable to load previous source map: "+n.toString());return e}}else if(t instanceof re)return rt.fromSourceMap(t).toString();else if(t instanceof rt)return t.toString();else if(this.isMap(t))return JSON.stringify(t);else throw Error("Unsupported previous source map format: "+t.toString())}else if(this.inline)return this.decodeInline(this.annotation);else if(this.annotation){let t=this.annotation;return e&&(t=ro(ri(e),t)),this.loadFile(t)}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};rs.default=rs;let{SourceMapConsumer:ra,SourceMapGenerator:rl}=nQ,{fileURLToPath:rc,pathToFileURL:ru}=nQ,{isAbsolute:rd,resolve:rh}=nQ,{nanoid:rp}={nanoid:(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(n=t)=>{let r="",i=n;for(;i--;)r+=e[Math.random()*e.length|0];return r}},rf=Symbol("fromOffsetCache"),rm=!!(ra&&rl),rg=!!(rh&&rd),rv=class{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\uFEFF"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!rg||/^\w+:\/\//.test(t.from)||rd(t.from)?this.file=t.from:this.file=rh(t.from)),rg&&rm){let e=new rs(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+rp(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,n,r={}){let i,o,s;if(t&&"object"==typeof t){let e=t,r=n;if("number"==typeof e.offset){let r=this.fromOffset(e.offset);t=r.line,n=r.col}else t=e.line,n=e.column;if("number"==typeof r.offset){let e=this.fromOffset(r.offset);o=e.line,s=e.col}else o=r.line,s=r.column}else if(!n){let e=this.fromOffset(t);t=e.line,n=e.col}let a=this.origin(t,n,o,s);return(i=a?new n0(e,void 0===a.endLine?a.line:{column:a.column,line:a.line},void 0===a.endLine?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,r.plugin):new n0(e,void 0===o?t:{column:n,line:t},void 0===o?n:{column:s,line:o},this.css,this.file,r.plugin)).input={column:n,endColumn:s,endLine:o,line:t,source:this.css},this.file&&(ru&&(i.input.url=ru(this.file).toString()),i.input.file=this.file),i}fromOffset(e){let t,n;if(this[rf])n=this[rf];else{let e=this.css.split("\n");n=Array(e.length);let t=0;for(let r=0,i=e.length;r<i;r++)n[r]=t,t+=e[r].length+1;this[rf]=n}t=n[n.length-1];let r=0;if(e>=t)r=n.length-1;else{let t,i=n.length-2;for(;r<i;)if(e<n[t=r+(i-r>>1)])i=t-1;else if(e>=n[t+1])r=t+1;else{r=t;break}}return{col:e-n[r]+1,line:r+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:rh(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,n,r){let i,o;if(!this.map)return!1;let s=this.map.consumer(),a=s.originalPositionFor({column:t,line:e});if(!a.source)return!1;"number"==typeof n&&(i=s.originalPositionFor({column:r,line:n})),o=rd(a.source)?ru(a.source):new URL(a.source,this.map.consumer().sourceRoot||ru(this.map.mapFile));let l={column:a.column,endColumn:i&&i.column,endLine:i&&i.line,line:a.line,url:o.toString()};if("file:"===o.protocol){if(rc)l.file=rc(o);else throw Error("file: protocol is not available in this PostCSS build")}let c=s.sourceContentFor(a.source);return c&&(l.source=c),l}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};rv.default=rv,nQ&&nQ.registerInput&&nQ.registerInput(rv);let{SourceMapConsumer:ry,SourceMapGenerator:rb}=nQ,{dirname:rw,relative:r_,resolve:rC,sep:rx}=nQ,{pathToFileURL:rk}=nQ,rS=!!(ry&&rb),rE=!!(rw&&rC&&r_&&rx),rT=class{constructor(e,t,n,r){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=r,this.originalCSS=r,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,n=this.toUrl(this.path(e.file)),r=e.root||rw(e.file);!1===this.mapOpts.sourcesContent?(t=new ry(e.text)).sourcesContent&&(t.sourcesContent=null):t=e.consumer(),this.map.applySourceMap(t,n,this.toUrl(this.path(r)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation){if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}}generate(){if(this.clearAnnotation(),rE&&rS&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=rb.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new rb({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return(this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline())?[this.css]:[this.css,this.map]}generateString(){let e,t;this.css="",this.map=new rb({file:this.outputFile(),ignoreInvalidMapping:!0});let n=1,r=1,i="<no source>",o={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(s,a,l)=>{if(this.css+=s,a&&"end"!==l&&(o.generated.line=n,o.generated.column=r-1,a.source&&a.source.start?(o.source=this.sourcePath(a),o.original.line=a.source.start.line,o.original.column=a.source.start.column-1):(o.source=i,o.original.line=1,o.original.column=0),this.map.addMapping(o)),(e=s.match(/\n/g))?(n+=e.length,t=s.lastIndexOf("\n"),r=s.length-t):r+=s.length,a&&"start"!==l){let e=a.parent||{raws:{}};(!("decl"===a.type||"atrule"===a.type&&!a.nodes)||a!==e.last||e.raws.semicolon)&&(a.source&&a.source.end?(o.source=this.sourcePath(a),o.original.line=a.source.end.line,o.original.column=a.source.end.column-1,o.generated.line=n,o.generated.column=r-2):(o.source=i,o.original.line=1,o.original.column=0,o.generated.line=n,o.generated.column=r-1),this.map.addMapping(o))}})}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(e=>e.annotation))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(e=>e.inline))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(e=>e.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||60===e.charCodeAt(0)||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let n=this.opts.to?rw(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(n=rw(rC(n,this.mapOpts.annotation)));let r=r_(n,e);return this.memoizedPaths.set(e,r),r}previous(){if(!this.previousMaps){if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new rv(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let n=t.source.input.from;if(n&&!e[n]){e[n]=!0;let r=this.usesFileUrls?this.toFileUrl(n):this.toUrl(this.path(n));this.map.setSourceContent(r,t.source.input.css)}}});else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return ni?ni.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(rk){let t=rk(e).toString();return this.memoizedFileURLs.set(e,t),t}throw Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===rx&&(e=e.replace(/\\/g,"/"));let n=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,n),n}},rP=n8,rI=class extends rP{constructor(e){super(e),this.type="comment"}};rI.default=rI;let{isClean:rR,my:rO}=n1,rA=n8,rN=class e extends rA{append(...e){for(let t of e)for(let e of this.normalize(t,this.last))this.proxyOf.nodes.push(e);return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){let t,n;if(!this.proxyOf.nodes)return;let r=this.getIterator();for(;this.indexes[r]<this.proxyOf.nodes.length&&(t=this.indexes[r],!1!==(n=e(this.proxyOf.nodes[t],t)));)this.indexes[r]+=1;return delete this.indexes[r],n}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){if("proxyOf"===t)return e;if(!e[t])return e[t];if("each"===t||"string"==typeof t&&t.startsWith("walk"))return(...n)=>e[t](...n.map(e=>"function"==typeof e?(t,n)=>e(t.toProxy(),n):e));if("every"===t||"some"===t)return n=>e[t]((e,...t)=>n(e.toProxy(),...t));if("root"===t)return()=>e.root().toProxy();if("nodes"===t)return e.nodes.map(e=>e.toProxy());if("first"===t||"last"===t)return e[t].toProxy();else return e[t]},set:(e,t,n)=>e[t]===n||(e[t]=n,("name"===t||"params"===t||"selector"===t)&&e.markDirty(),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let n,r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();for(let t of(r=this.index(e),i))this.proxyOf.nodes.splice(r+1,0,t);for(let e in this.indexes)r<(n=this.indexes[e])&&(this.indexes[e]=n+i.length);return this.markDirty(),this}insertBefore(e,t){let n,r=this.index(e),i=0===r&&"prepend",o=this.normalize(t,this.proxyOf.nodes[r],i).reverse();for(let t of(r=this.index(e),o))this.proxyOf.nodes.splice(r,0,t);for(let e in this.indexes)r<=(n=this.indexes[e])&&(this.indexes[e]=n+o.length);return this.markDirty(),this}normalize(t,n){if("string"==typeof t)t=function e(t){return t.map(t=>(t.nodes&&(t.nodes=e(t.nodes)),delete t.source,t))}(o(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t))for(let e of t=t.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if("root"===t.type&&"document"!==this.type)for(let e of t=t.nodes.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new n9(t)]}else if(t.selector)t=[new s(t)];else if(t.name)t=[new a(t)];else if(t.text)t=[new rI(t)];else throw Error("Unknown node type in node creation");return t.map(t=>(t[rO]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[rR]&&function e(t){if(t[rR]=!1,t.proxyOf.nodes)for(let n of t.proxyOf.nodes)e(n)}(t),void 0===t.raws.before&&n&&void 0!==n.raws.before&&(t.raws.before=n.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t))}prepend(...e){for(let t of e=e.reverse()){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;for(let n in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[n])>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls(r=>{(!t.props||t.props.includes(r.prop))&&(!t.fast||r.value.includes(t.fast))&&(r.value=r.value.replace(e,n))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,n)=>{let r;try{r=e(t,n)}catch(e){throw t.addToError(e)}return!1!==r&&t.walk&&(r=t.walk(e)),r})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((n,r)=>{if("atrule"===n.type&&e.test(n.name))return t(n,r)}):this.walk((n,r)=>{if("atrule"===n.type&&n.name===e)return t(n,r)}):(t=e,this.walk((e,n)=>{if("atrule"===e.type)return t(e,n)}))}walkComments(e){return this.walk((t,n)=>{if("comment"===t.type)return e(t,n)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((n,r)=>{if("decl"===n.type&&e.test(n.prop))return t(n,r)}):this.walk((n,r)=>{if("decl"===n.type&&n.prop===e)return t(n,r)}):(t=e,this.walk((e,n)=>{if("decl"===e.type)return t(e,n)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((n,r)=>{if("rule"===n.type&&e.test(n.selector))return t(n,r)}):this.walk((n,r)=>{if("rule"===n.type&&n.selector===e)return t(n,r)}):(t=e,this.walk((e,n)=>{if("rule"===e.type)return t(e,n)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};rN.registerParse=e=>{o=e},rN.registerRule=e=>{s=e},rN.registerAtRule=e=>{a=e},rN.registerRoot=e=>{l=e},rN.default=rN,rN.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,a.prototype):"rule"===e.type?Object.setPrototypeOf(e,s.prototype):"decl"===e.type?Object.setPrototypeOf(e,n9.prototype):"comment"===e.type?Object.setPrototypeOf(e,rI.prototype):"root"===e.type&&Object.setPrototypeOf(e,l.prototype),e[rO]=!0,e.nodes&&e.nodes.forEach(e=>{rN.rebuild(e)})};let rL=rN,rM=class extends rL{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new c(new u,this,e).stringify()}};rM.registerLazyResult=e=>{c=e},rM.registerProcessor=e=>{u=e},rM.default=rM;let rD=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};rD.default=rD;let rj=class{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){!t.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new rD(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter(e=>"warning"===e.type)}get content(){return this.css}};rj.default=rj;let rU=/[\t\n\f\r "#'()/;[\\\]{}]/g,rF=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,rV=/.[\r\n"'(/\\]/,rB=/[\da-f]/i,rz=rN,rH=class extends rz{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};rH.default=rH,rz.registerAtRule(rH);let rq=rN,rK=class extends rq{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,n){let r=super.normalize(e);if(t){if("prepend"===n)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of r)e.raws.before=t.raws.before}return r}removeChild(e,t){let n=this.index(e);return!t&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}toResult(e={}){return new d(new h,this,e).stringify()}};rK.registerLazyResult=e=>{d=e},rK.registerProcessor=e=>{h=e},rK.default=rK,rq.registerRoot(rK);let rG={comma:e=>rG.split(e,[","],!0),space:e=>rG.split(e,[" ","\n","	"]),split(e,t,n){let r=[],i="",o=!1,s=0,a=!1,l="",c=!1;for(let n of e)c?c=!1:"\\"===n?c=!0:a?n===l&&(a=!1):'"'===n||"'"===n?(a=!0,l=n):"("===n?s+=1:")"===n?s>0&&(s-=1):0===s&&t.includes(n)&&(o=!0),o?(""!==i&&r.push(i.trim()),i="",o=!1):i+=n;return(n||""!==i)&&r.push(i.trim()),r}};rG.default=rG;let rW=rN,r$=class extends rW{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return rG.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}};r$.default=r$,rW.registerRule(r$);let rZ=function(e,t={}){let n,r,i,o,s,a,l,c,u,d,h=e.css.valueOf(),p=t.ignoreErrors,f=h.length,m=0,g=[],v=[];function y(t){throw e.error("Unclosed "+t,m)}return{back:function(e){v.push(e)},endOfFile:function(){return 0===v.length&&m>=f},nextToken:function(e){if(v.length)return v.pop();if(m>=f)return;let t=!!e&&e.ignoreUnclosed;switch(n=h.charCodeAt(m)){case 10:case 32:case 9:case 13:case 12:r=m;do r+=1,n=h.charCodeAt(r);while(32===n||10===n||9===n||13===n||12===n);d=["space",h.slice(m,r)],m=r-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let e=String.fromCharCode(n);d=[e,e,m];break}case 40:if(c=g.length?g.pop()[1]:"",u=h.charCodeAt(m+1),"url"===c&&39!==u&&34!==u&&32!==u&&10!==u&&9!==u&&12!==u&&13!==u){r=m;do{if(a=!1,-1===(r=h.indexOf(")",r+1))){if(p||t){r=m;break}y("bracket")}for(l=r;92===h.charCodeAt(l-1);)l-=1,a=!a}while(a);d=["brackets",h.slice(m,r+1),m,r],m=r}else r=h.indexOf(")",m+1),o=h.slice(m,r+1),-1===r||rV.test(o)?d=["(","(",m]:(d=["brackets",o,m,r],m=r);break;case 39:case 34:i=39===n?"'":'"',r=m;do{if(a=!1,-1===(r=h.indexOf(i,r+1))){if(p||t){r=m+1;break}y("string")}for(l=r;92===h.charCodeAt(l-1);)l-=1,a=!a}while(a);d=["string",h.slice(m,r+1),m,r],m=r;break;case 64:rU.lastIndex=m+1,rU.test(h),r=0===rU.lastIndex?h.length-1:rU.lastIndex-2,d=["at-word",h.slice(m,r+1),m,r],m=r;break;case 92:for(r=m,s=!0;92===h.charCodeAt(r+1);)r+=1,s=!s;if(n=h.charCodeAt(r+1),s&&47!==n&&32!==n&&10!==n&&9!==n&&13!==n&&12!==n&&(r+=1,rB.test(h.charAt(r)))){for(;rB.test(h.charAt(r+1));)r+=1;32===h.charCodeAt(r+1)&&(r+=1)}d=["word",h.slice(m,r+1),m,r],m=r;break;default:47===n&&42===h.charCodeAt(m+1)?(0===(r=h.indexOf("*/",m+2)+1)&&(p||t?r=h.length:y("comment")),d=["comment",h.slice(m,r+1),m,r]):(rF.lastIndex=m+1,rF.test(h),r=0===rF.lastIndex?h.length-1:rF.lastIndex-2,d=["word",h.slice(m,r+1),m,r],g.push(d)),m=r}return m++,d},position:function(){return m}}},rJ={empty:!0,space:!0},rY=class{constructor(e){this.input=e,this.root=new rK,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,n,r,i=new rH;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);let o=!1,s=!1,a=[],l=[];for(;!this.tokenizer.endOfFile();){if("("===(t=(e=this.tokenizer.nextToken())[0])||"["===t?l.push("("===t?")":"]"):"{"===t&&l.length>0?l.push("}"):t===l[l.length-1]&&l.pop(),0===l.length){if(";"===t){i.source.end=this.getPosition(e[2]),i.source.end.offset++,this.semicolon=!0;break}if("{"===t){s=!0;break}if("}"===t){if(a.length>0){for(r=a.length-1,n=a[r];n&&"space"===n[0];)n=a[--r];n&&(i.source.end=this.getPosition(n[3]||n[2]),i.source.end.offset++)}this.end(e);break}a.push(e)}else a.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(i.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(i,"params",a),o&&(e=a[a.length-1],i.source.end=this.getPosition(e[3]||e[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),s&&(i.nodes=[],this.current=i)}checkMissedSemicolon(e){let t,n=this.colon(e);if(!1===n)return;let r=0;for(let i=n-1;i>=0&&("space"===(t=e[i])[0]||2!==(r+=1));i--);throw this.input.error("Missed semicolon","word"===t[0]?t[3]+1:t[2])}colon(e){let t,n,r=0;for(let[i,o]of e.entries()){if("("===(t=o[0])&&(r+=1),")"===t&&(r-=1),0===r&&":"===t){if(n){if("word"===n[0]&&"progid"===n[1])continue;return i}this.doubleColon(o)}n=o}return!1}comment(e){let t=new rI;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let e=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=rZ(this.input)}decl(e,t){let n,r,i=new n9;this.init(i,e[0][2]);let o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(o[3]||o[2]||function(e){for(let t=e.length-1;t>=0;t--){let n=e[t],r=n[3]||n[2];if(r)return r}}(e)),i.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;i.prop+=e.shift()[1]}for(i.raws.between="";e.length;){if(":"===(n=e.shift())[0]){i.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),i.raws.between+=n[1]}("_"===i.prop[0]||"*"===i.prop[0])&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let s=[];for(;e.length&&("space"===(r=e[0][0])||"comment"===r);)s.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if("!important"===(n=e[t])[1].toLowerCase()){i.important=!0;let n=this.stringFrom(e,t);" !important"!==(n=this.spacesFromEnd(e)+n)&&(i.raws.important=n);break}if("important"===n[1].toLowerCase()){let n=e.slice(0),r="";for(let e=t;e>0;e--){let t=n[e][0];if(0===r.trim().indexOf("!")&&"space"!==t)break;r=n.pop()[1]+r}0===r.trim().indexOf("!")&&(i.important=!0,i.raws.important=r,e=n)}if("space"!==n[0]&&"comment"!==n[0])break}e.some(e=>"space"!==e[0]&&"comment"!==e[0])&&(i.raws.between+=s.map(e=>e[1]).join(""),s=[]),this.raw(i,"value",s.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new r$;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,n=null,r=!1,i=null,o=[],s=e[1].startsWith("--"),a=[],l=e;for(;l;){if(n=l[0],a.push(l),"("===n||"["===n)i||(i=l),o.push("("===n?")":"]");else if(s&&r&&"{"===n)i||(i=l),o.push("}");else if(0===o.length){if(";"===n){if(r){this.decl(a,s);return}break}if("{"===n){this.rule(a);return}if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(r=!0)}else n===o[o.length-1]&&(o.pop(),0===o.length&&(i=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(i),t&&r){if(!s)for(;a.length&&("space"===(l=a[a.length-1][0])||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,s)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,n,r){let i,o,s,a;let l=n.length,c="",u=!0;for(let e=0;e<l;e+=1)"space"!==(o=(i=n[e])[0])||e!==l-1||r?"comment"===o?(a=n[e-1]?n[e-1][0]:"empty",s=n[e+1]?n[e+1][0]:"empty",rJ[a]||rJ[s]?u=!1:","===c.slice(-1)?u=!1:c+=i[1]):c+=i[1]:u=!1;if(!u){let r=n.reduce((e,t)=>e+t[1],"");e.raws[t]={raw:r,value:c}}e[t]=c}rule(e){e.pop();let t=new r$;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t;let n="";for(;e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t;let n="";for(;e.length&&("space"===(t=e[0][0])||"comment"===t);)n+=e.shift()[1];return n}spacesFromEnd(e){let t="";for(;e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}stringFrom(e,t){let n="";for(let r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};function rX(e,t){let n=new rY(new rv(e,t));try{n.parse()}catch(e){throw e}return n.root}rX.default=rX,rN.registerParse(rX);let{isClean:rQ,my:r0}=n1,r1={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},r2={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},r3={Once:!0,postcssPlugin:!0,prepare:!0};function r4(e){return"object"==typeof e&&"function"==typeof e.then}function r5(e){let t=!1,n=r1[e.type];return("decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append)?[n,n+"-"+t,0,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,0,n+"Exit"]:[n,n+"Exit"]}function r6(e){return{eventIndex:0,events:"document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:r5(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function r8(e){return e[rQ]=!1,e.nodes&&e.nodes.forEach(e=>r8(e)),e}let r7={},r9=class e{constructor(t,n,r){let i;if(this.stringified=!1,this.processed=!1,"object"==typeof n&&null!==n&&("root"===n.type||"document"===n.type))i=r8(n);else if(n instanceof e||n instanceof rj)i=r8(n.root),n.map&&(void 0===r.map&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=n.map);else{let e=rX;r.syntax&&(e=r.syntax.parse),r.parser&&(e=r.parser),e.parse&&(e=e.parse);try{i=e(n,r)}catch(e){this.processed=!0,this.error=e}i&&!i[r0]&&rN.rebuild(i)}this.result=new rj(t,i,r),this.helpers={...r7,postcss:r7,result:this.result},this.plugins=this.processor.plugins.map(e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?n.postcssVersion:(e.plugin=n.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,n)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,n])};for(let t of this.plugins)if("object"==typeof t)for(let n in t){if(!r2[n]&&/^[A-Z]/.test(n))throw Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!r3[n]){if("object"==typeof t[n])for(let r in t[n])e(t,"*"===r?n:n+"-"+r.toLowerCase(),t[n][r]);else"function"==typeof t[n]&&e(t,n,t[n])}}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],n=this.runOnRoot(t);if(r4(n))try{await n}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[rQ];){e[rQ]=!0;let t=[r6(e)];for(;t.length>0;){let e=this.visitTick(t);if(r4(e))try{await e}catch(n){let e=t[t.length-1].node;throw this.handleError(n,e)}}}if(this.listeners.OnceExit)for(let[t,n]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map(e=>n(e,this.helpers));await Promise.all(t)}else await n(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map(t=>e.Once(t,this.helpers));if(r4(t[0]))return Promise.all(t);return t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=n4;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new rT(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins)if(r4(this.runOnRoot(e)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[rQ];)e[rQ]=!0,this.walkSync(e);if(this.listeners.OnceExit){if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[n,r]of e){let e;this.result.lastPlugin=n;try{e=r(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(r4(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:n,visitors:r}=t;if("root"!==n.type&&"document"!==n.type&&!n.parent){e.pop();return}if(r.length>0&&t.visitorIndex<r.length){let[e,i]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return i(n.toProxy(),this.helpers)}catch(e){throw this.handleError(e,n)}}if(0!==t.iterator){let r,i=t.iterator;for(;r=n.nodes[n.indexes[i]];)if(n.indexes[i]+=1,!r[rQ]){r[rQ]=!0,e.push(r6(r));return}t.iterator=0,delete n.indexes[i]}let i=t.events;for(;t.eventIndex<i.length;){let e=i[t.eventIndex];if(t.eventIndex+=1,0===e){n.nodes&&n.nodes.length&&(n[rQ]=!0,t.iterator=n.getIterator());return}if(this.listeners[e]){t.visitors=this.listeners[e];return}}e.pop()}walkSync(e){for(let t of(e[rQ]=!0,r5(e)))if(0===t)e.nodes&&e.each(e=>{e[rQ]||this.walkSync(e)});else{let n=this.listeners[t];if(n&&this.visitSync(n,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};r9.registerPostcss=e=>{r7=e},r9.default=r9,rK.registerLazyResult(r9),rM.registerLazyResult(r9);let ie=class{constructor(e,t,n){let r;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0,this.result=new rj(this._processor,r,this._opts),this.result.css=t;let i=this;Object.defineProperty(this.result,"root",{get:()=>i.root});let o=new rT(n4,r,this._opts,t);if(o.isMap()){let[e,t]=o.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else o.clearAnnotation(),this.result.css=o.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){let e;if(this._root)return this._root;try{e=rX(this._css,this._opts)}catch(e){this.error=e}if(!this.error)return this._root=e,e;throw this.error}get[Symbol.toStringTag](){return"NoWorkResult"}};ie.default=ie;let it=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let n of e)if(!0===n.postcss?n=n():n.postcss&&(n=n.postcss),"object"==typeof n&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if("object"==typeof n&&n.postcssPlugin)t.push(n);else if("function"==typeof n)t.push(n);else if("object"==typeof n&&(n.parse||n.stringify));else throw Error(n+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new r9(this,e,t):new ie(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};function ir(e,t){if(Array.isArray(e))return e.map(e=>ir(e));let{inputs:n,...r}=e;if(n)for(let e of(t=[],n)){let n={...e,__proto__:rv.prototype};n.map&&(n.map={...n.map,__proto__:rs.prototype}),t.push(n)}if(r.nodes&&(r.nodes=e.nodes.map(e=>ir(e,t))),r.source){let{inputId:e,...n}=r.source;r.source=n,null!=e&&(r.source.input=t[e])}if("root"===r.type)return new rK(r);if("decl"===r.type)return new n9(r);if("rule"===r.type)return new r$(r);if("comment"===r.type)return new rI(r);if("atrule"===r.type)return new rH(r);throw Error("Unknown node type: "+e.type)}function ii(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new it(e)}it.default=it,rK.registerProcessor(it),rM.registerProcessor(it),ir.default=ir,ii.plugin=function(e,t){let n,r=!1;function i(...n){console&&console.warn&&!r&&(r=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),no.env.LANG&&no.env.LANG.startsWith("cn")&&console.warn(e+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226"));let o=t(...n);return o.postcssPlugin=e,o.postcssVersion=new it().version,o}return Object.defineProperty(i,"postcss",{get:()=>(n||(n=i()),n)}),i.process=function(e,t,n){return ii([i(n)]).process(e,t)},i},ii.stringify=n4,ii.parse=rX,ii.fromJSON=ir,ii.list=rG,ii.comment=e=>new rI(e),ii.atRule=e=>new rH(e),ii.decl=e=>new n9(e),ii.rule=e=>new r$(e),ii.root=e=>new rK(e),ii.document=e=>new rM(e),ii.CssSyntaxError=n0,ii.Declaration=n9,ii.Container=rN,ii.Processor=it,ii.Document=rM,ii.Comment=rI,ii.Warning=rD,ii.AtRule=rH,ii.Result=rj,ii.Input=rv,ii.Rule=r$,ii.Root=rK,ii.Node=n8,r9.registerPostcss(ii),ii.default=ii;let io=ii&&ii.__esModule&&Object.prototype.hasOwnProperty.call(ii,"default")?ii.default:ii;io.stringify,io.fromJSON,io.plugin,io.parse,io.list,io.document,io.comment,io.atRule,io.rule,io.decl,io.root,io.CssSyntaxError,io.Declaration,io.Container,io.Processor,io.Document,io.Comment,io.Warning,io.AtRule,io.Result,io.Input,io.Rule,io.Root,io.Node;var is=Object.defineProperty,ia=(e,t,n)=>t in e?is(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,il=(e,t,n)=>ia(e,"symbol"!=typeof t?t+"":t,n),ic=((z=ic||{})[z.Document=0]="Document",z[z.DocumentType=1]="DocumentType",z[z.Element=2]="Element",z[z.Text=3]="Text",z[z.CDATA=4]="CDATA",z[z.Comment=5]="Comment",z),iu={exports:{}},id=String,ih=function(){return{isColorSupported:!1,reset:id,bold:id,dim:id,italic:id,underline:id,inverse:id,hidden:id,strikethrough:id,black:id,red:id,green:id,yellow:id,blue:id,magenta:id,cyan:id,white:id,gray:id,bgBlack:id,bgRed:id,bgGreen:id,bgYellow:id,bgBlue:id,bgMagenta:id,bgCyan:id,bgWhite:id}};iu.exports=ih(),iu.exports.createColors=ih;var ip=iu.exports;let im=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),ig=class e extends Error{constructor(t,n,r,i,o,s){super(t),this.name="CssSyntaxError",this.reason=t,o&&(this.file=o),i&&(this.source=i),s&&(this.plugin=s),void 0!==n&&void 0!==r&&("number"==typeof n?(this.line=n,this.column=r):(this.line=n.line,this.column=n.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){let t,n;if(!this.source)return"";let r=this.source;null==e&&(e=ip.isColorSupported),im&&e&&(r=im(r));let i=r.split(/\r?\n/),o=Math.max(this.line-3,0),s=Math.min(this.line+2,i.length),a=String(s).length;if(e){let{bold:e,gray:r,red:i}=ip.createColors(!0);t=t=>e(i(t)),n=e=>r(e)}else t=n=e=>e;return i.slice(o,s).map((e,r)=>{let i=o+1+r,s=" "+(" "+i).slice(-a)+" | ";if(i===this.line){let r=n(s.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return t(">")+n(s)+e+"\n "+r+t("^")}return" "+n(s)+e}).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};ig.default=ig;var iv={};iv.isClean=Symbol("isClean"),iv.my=Symbol("my");let iy={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},ib=class{constructor(e){this.builder=e}atrule(e,t){let n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{let i=(e.raws.between||"")+(t?";":"");this.builder(n+r+i,e)}}beforeAfter(e,t){let n;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let r=e.parent,i=0;for(;r&&"root"!==r.type;)i+=1,r=r.parent;if(n.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<i;e++)n+=t}return n}block(e,t){let n,r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let n=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let i=e.nodes[r],o=this.raw(i,"before");o&&this.builder(o),this.stringify(i,t!==r||n)}}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}document(e){this.body(e)}raw(e,t,n){let r;if(n||(n=t),t&&void 0!==(r=e.raws[t]))return r;let i=e.parent;if("before"===n&&(!i||"root"===i.type&&i.first===e||i&&"document"===i.type))return"";if(!i)return iy[n];let o=e.root();if(o.rawCache||(o.rawCache={}),void 0!==o.rawCache[n])return o.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(e,n);{var s;let i="raw"+((s=n)[0].toUpperCase()+s.slice(1));this[i]?r=this[i](o,e):o.walk(e=>{if(void 0!==(r=e.raws[t]))return!1})}return void 0===r&&(r=iy[n]),o.rawCache[n]=r,r}rawBeforeClose(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let n;return e.walkComments(e=>{if(void 0!==e.raws.before)return(n=e.raws.before).includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls(e=>{if(void 0!==e.raws.before)return(n=e.raws.before).includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(e){let t;return e.walk(e=>{if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t}rawBeforeRule(e){let t;return e.walk(n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return(t=n.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(e=>{if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t}rawIndent(e){let t;return e.raws.indent?e.raws.indent:(e.walk(n=>{let r=n.parent;if(r&&r!==e&&r.parent&&r.parent===e&&void 0!==n.raws.before){let e=n.raws.before.split("\n");return t=(t=e[e.length-1]).replace(/\S/g,""),!1}}),t)}rawSemicolon(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t}rawValue(e,t){let n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};function iw(e,t){new ib(t).stringify(e)}ib.default=ib,iw.default=iw;let{isClean:i_,my:iC}=iv,ix=class{constructor(e={}){for(let t in this.raws={},this[i_]=!1,this[iC]=!0,e)if("nodes"===t)for(let n of(this.nodes=[],e[t]))"function"==typeof n.clone?this.append(n.clone()):this.append(n);else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=function e(t,n){let r=new t.constructor;for(let i in t){if(!Object.prototype.hasOwnProperty.call(t,i)||"proxyCache"===i)continue;let o=t[i],s=typeof o;"parent"===i&&"object"===s?n&&(r[i]=n):"source"===i?r[i]=o:Array.isArray(o)?r[i]=o.map(t=>e(t,r)):("object"===s&&null!==o&&(o=e(o)),r[i]=o)}return r}(this);for(let n in e)t[n]=e[n];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:n,start:r}=this.rangeBy(t);return this.source.input.error(e,{column:r.column,line:r.line},{column:n.column,line:n.line},t)}return new ig(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,n)=>e[t]===n||(e[t]=n,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty(),!0)}}markDirty(){if(this[i_]){this[i_]=!1;let e=this;for(;e=e.parent;)e[i_]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let n=this.source.start;if(e.index)n=this.positionInside(e.index,t);else if(e.word){let r=(t=this.toString()).indexOf(e.word);-1!==r&&(n=this.positionInside(r,t))}return n}positionInside(e,t){let n=t||this.toString(),r=this.source.start.column,i=this.source.start.line;for(let t=0;t<e;t++)"\n"===n[t]?(r=1,i+=1):r+=1;return{column:r,line:i}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let r=this.toString(),i=r.indexOf(e.word);-1!==i&&(t=this.positionInside(i,r),n=this.positionInside(i+e.word.length,r))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?n={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={column:t.column+1,line:t.line}),{end:n,start:t}}raw(e,t){return new ib().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let r of e)r===this?n=!0:n?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);n||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let n={},r=null==t;t=t||new Map;let i=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e)||"parent"===e||"proxyCache"===e)continue;let r=this[e];if(Array.isArray(r))n[e]=r.map(e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e);else if("object"==typeof r&&r.toJSON)n[e]=r.toJSON(null,t);else if("source"===e){let o=t.get(r.input);null==o&&(o=i,t.set(r.input,i),i++),n[e]={end:r.end,inputId:o,start:r.start}}else n[e]=r}return r&&(n.inputs=[...t.keys()].map(e=>e.toJSON())),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=iw){e.stringify&&(e=e.stringify);let t="";return e(this,e=>{t+=e}),t}warn(e,t,n){let r={node:this};for(let e in n)r[e]=n[e];return e.warn(t,r)}get proxyOf(){return this}};ix.default=ix;let ik=ix,iS=class extends ik{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};iS.default=iS;let{SourceMapConsumer:iE,SourceMapGenerator:iT}=im,{existsSync:iP,readFileSync:iI}=im,{dirname:iR,join:iO}=im,iA=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,r=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=iR(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new iE(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e)){var t;return t=e.substr(RegExp.lastMatch.length),ni?ni.from(t,"base64").toString():window.atob(t)}throw Error("Unsupported source map encoding "+e.match(/data:application\/json;([^,]+),/)[1])}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let n=e.lastIndexOf(t.pop()),r=e.indexOf("*/",n);n>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,r)))}loadFile(e){if(this.root=iR(e),iP(e))return this.mapFile=e,iI(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"==typeof t){let n=t(e);if(n){let e=this.loadFile(n);if(!e)throw Error("Unable to load previous source map: "+n.toString());return e}}else if(t instanceof iE)return iT.fromSourceMap(t).toString();else if(t instanceof iT)return t.toString();else if(this.isMap(t))return JSON.stringify(t);else throw Error("Unsupported previous source map format: "+t.toString())}else if(this.inline)return this.decodeInline(this.annotation);else if(this.annotation){let t=this.annotation;return e&&(t=iO(iR(e),t)),this.loadFile(t)}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};iA.default=iA;let{SourceMapConsumer:iN,SourceMapGenerator:iL}=im,{fileURLToPath:iM,pathToFileURL:iD}=im,{isAbsolute:ij,resolve:iU}=im,{nanoid:iF}={nanoid:(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(n=t)=>{let r="",i=n;for(;i--;)r+=e[Math.random()*e.length|0];return r}},iV=Symbol("fromOffsetCache"),iB=!!(iN&&iL),iz=!!(iU&&ij),iH=class{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\uFEFF"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!iz||/^\w+:\/\//.test(t.from)||ij(t.from)?this.file=t.from:this.file=iU(t.from)),iz&&iB){let e=new iA(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+iF(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,n,r={}){let i,o,s;if(t&&"object"==typeof t){let e=t,r=n;if("number"==typeof e.offset){let r=this.fromOffset(e.offset);t=r.line,n=r.col}else t=e.line,n=e.column;if("number"==typeof r.offset){let e=this.fromOffset(r.offset);o=e.line,s=e.col}else o=r.line,s=r.column}else if(!n){let e=this.fromOffset(t);t=e.line,n=e.col}let a=this.origin(t,n,o,s);return(i=a?new ig(e,void 0===a.endLine?a.line:{column:a.column,line:a.line},void 0===a.endLine?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,r.plugin):new ig(e,void 0===o?t:{column:n,line:t},void 0===o?n:{column:s,line:o},this.css,this.file,r.plugin)).input={column:n,endColumn:s,endLine:o,line:t,source:this.css},this.file&&(iD&&(i.input.url=iD(this.file).toString()),i.input.file=this.file),i}fromOffset(e){let t,n;if(this[iV])n=this[iV];else{let e=this.css.split("\n");n=Array(e.length);let t=0;for(let r=0,i=e.length;r<i;r++)n[r]=t,t+=e[r].length+1;this[iV]=n}t=n[n.length-1];let r=0;if(e>=t)r=n.length-1;else{let t,i=n.length-2;for(;r<i;)if(e<n[t=r+(i-r>>1)])i=t-1;else if(e>=n[t+1])r=t+1;else{r=t;break}}return{col:e-n[r]+1,line:r+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:iU(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,n,r){let i,o;if(!this.map)return!1;let s=this.map.consumer(),a=s.originalPositionFor({column:t,line:e});if(!a.source)return!1;"number"==typeof n&&(i=s.originalPositionFor({column:r,line:n})),o=ij(a.source)?iD(a.source):new URL(a.source,this.map.consumer().sourceRoot||iD(this.map.mapFile));let l={column:a.column,endColumn:i&&i.column,endLine:i&&i.line,line:a.line,url:o.toString()};if("file:"===o.protocol){if(iM)l.file=iM(o);else throw Error("file: protocol is not available in this PostCSS build")}let c=s.sourceContentFor(a.source);return c&&(l.source=c),l}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};iH.default=iH,im&&im.registerInput&&im.registerInput(iH);let{SourceMapConsumer:iq,SourceMapGenerator:iK}=im,{dirname:iG,relative:iW,resolve:i$,sep:iZ}=im,{pathToFileURL:iJ}=im,iY=!!(iq&&iK),iX=!!(iG&&i$&&iW&&iZ),iQ=class{constructor(e,t,n,r){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=r,this.originalCSS=r,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,n=this.toUrl(this.path(e.file)),r=e.root||iG(e.file);!1===this.mapOpts.sourcesContent?(t=new iq(e.text)).sourcesContent&&(t.sourcesContent=null):t=e.consumer(),this.map.applySourceMap(t,n,this.toUrl(this.path(r)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation){if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}}generate(){if(this.clearAnnotation(),iX&&iY&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=iK.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new iK({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return(this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline())?[this.css]:[this.css,this.map]}generateString(){let e,t;this.css="",this.map=new iK({file:this.outputFile(),ignoreInvalidMapping:!0});let n=1,r=1,i="<no source>",o={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(s,a,l)=>{if(this.css+=s,a&&"end"!==l&&(o.generated.line=n,o.generated.column=r-1,a.source&&a.source.start?(o.source=this.sourcePath(a),o.original.line=a.source.start.line,o.original.column=a.source.start.column-1):(o.source=i,o.original.line=1,o.original.column=0),this.map.addMapping(o)),(e=s.match(/\n/g))?(n+=e.length,t=s.lastIndexOf("\n"),r=s.length-t):r+=s.length,a&&"start"!==l){let e=a.parent||{raws:{}};(!("decl"===a.type||"atrule"===a.type&&!a.nodes)||a!==e.last||e.raws.semicolon)&&(a.source&&a.source.end?(o.source=this.sourcePath(a),o.original.line=a.source.end.line,o.original.column=a.source.end.column-1,o.generated.line=n,o.generated.column=r-2):(o.source=i,o.original.line=1,o.original.column=0,o.generated.line=n,o.generated.column=r-1),this.map.addMapping(o))}})}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(e=>e.annotation))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(e=>e.inline))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(e=>e.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||60===e.charCodeAt(0)||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let n=this.opts.to?iG(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(n=iG(i$(n,this.mapOpts.annotation)));let r=iW(n,e);return this.memoizedPaths.set(e,r),r}previous(){if(!this.previousMaps){if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new iH(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let n=t.source.input.from;if(n&&!e[n]){e[n]=!0;let r=this.usesFileUrls?this.toFileUrl(n):this.toUrl(this.path(n));this.map.setSourceContent(r,t.source.input.css)}}});else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return ni?ni.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(iJ){let t=iJ(e).toString();return this.memoizedFileURLs.set(e,t),t}throw Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===iZ&&(e=e.replace(/\\/g,"/"));let n=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,n),n}},i0=ix,i1=class extends i0{constructor(e){super(e),this.type="comment"}};i1.default=i1;let{isClean:i2,my:i3}=iv,i4=ix,i5=class e extends i4{append(...e){for(let t of e)for(let e of this.normalize(t,this.last))this.proxyOf.nodes.push(e);return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){let t,n;if(!this.proxyOf.nodes)return;let r=this.getIterator();for(;this.indexes[r]<this.proxyOf.nodes.length&&(t=this.indexes[r],!1!==(n=e(this.proxyOf.nodes[t],t)));)this.indexes[r]+=1;return delete this.indexes[r],n}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){if("proxyOf"===t)return e;if(!e[t])return e[t];if("each"===t||"string"==typeof t&&t.startsWith("walk"))return(...n)=>e[t](...n.map(e=>"function"==typeof e?(t,n)=>e(t.toProxy(),n):e));if("every"===t||"some"===t)return n=>e[t]((e,...t)=>n(e.toProxy(),...t));if("root"===t)return()=>e.root().toProxy();if("nodes"===t)return e.nodes.map(e=>e.toProxy());if("first"===t||"last"===t)return e[t].toProxy();else return e[t]},set:(e,t,n)=>e[t]===n||(e[t]=n,("name"===t||"params"===t||"selector"===t)&&e.markDirty(),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let n,r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();for(let t of(r=this.index(e),i))this.proxyOf.nodes.splice(r+1,0,t);for(let e in this.indexes)r<(n=this.indexes[e])&&(this.indexes[e]=n+i.length);return this.markDirty(),this}insertBefore(e,t){let n,r=this.index(e),i=0===r&&"prepend",o=this.normalize(t,this.proxyOf.nodes[r],i).reverse();for(let t of(r=this.index(e),o))this.proxyOf.nodes.splice(r,0,t);for(let e in this.indexes)r<=(n=this.indexes[e])&&(this.indexes[e]=n+o.length);return this.markDirty(),this}normalize(t,n){if("string"==typeof t)t=function e(t){return t.map(t=>(t.nodes&&(t.nodes=e(t.nodes)),delete t.source,t))}(p(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t))for(let e of t=t.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if("root"===t.type&&"document"!==this.type)for(let e of t=t.nodes.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new iS(t)]}else if(t.selector)t=[new f(t)];else if(t.name)t=[new m(t)];else if(t.text)t=[new i1(t)];else throw Error("Unknown node type in node creation");return t.map(t=>(t[i3]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[i2]&&function e(t){if(t[i2]=!1,t.proxyOf.nodes)for(let n of t.proxyOf.nodes)e(n)}(t),void 0===t.raws.before&&n&&void 0!==n.raws.before&&(t.raws.before=n.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t))}prepend(...e){for(let t of e=e.reverse()){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;for(let n in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[n])>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls(r=>{(!t.props||t.props.includes(r.prop))&&(!t.fast||r.value.includes(t.fast))&&(r.value=r.value.replace(e,n))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,n)=>{let r;try{r=e(t,n)}catch(e){throw t.addToError(e)}return!1!==r&&t.walk&&(r=t.walk(e)),r})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((n,r)=>{if("atrule"===n.type&&e.test(n.name))return t(n,r)}):this.walk((n,r)=>{if("atrule"===n.type&&n.name===e)return t(n,r)}):(t=e,this.walk((e,n)=>{if("atrule"===e.type)return t(e,n)}))}walkComments(e){return this.walk((t,n)=>{if("comment"===t.type)return e(t,n)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((n,r)=>{if("decl"===n.type&&e.test(n.prop))return t(n,r)}):this.walk((n,r)=>{if("decl"===n.type&&n.prop===e)return t(n,r)}):(t=e,this.walk((e,n)=>{if("decl"===e.type)return t(e,n)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((n,r)=>{if("rule"===n.type&&e.test(n.selector))return t(n,r)}):this.walk((n,r)=>{if("rule"===n.type&&n.selector===e)return t(n,r)}):(t=e,this.walk((e,n)=>{if("rule"===e.type)return t(e,n)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};i5.registerParse=e=>{p=e},i5.registerRule=e=>{f=e},i5.registerAtRule=e=>{m=e},i5.registerRoot=e=>{g=e},i5.default=i5,i5.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,m.prototype):"rule"===e.type?Object.setPrototypeOf(e,f.prototype):"decl"===e.type?Object.setPrototypeOf(e,iS.prototype):"comment"===e.type?Object.setPrototypeOf(e,i1.prototype):"root"===e.type&&Object.setPrototypeOf(e,g.prototype),e[i3]=!0,e.nodes&&e.nodes.forEach(e=>{i5.rebuild(e)})};let i6=i5,i8=class extends i6{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new v(new y,this,e).stringify()}};i8.registerLazyResult=e=>{v=e},i8.registerProcessor=e=>{y=e},i8.default=i8;let i7=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};i7.default=i7;let i9=class{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){!t.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new i7(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter(e=>"warning"===e.type)}get content(){return this.css}};i9.default=i9;let oe=/[\t\n\f\r "#'()/;[\\\]{}]/g,ot=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,on=/.[\r\n"'(/\\]/,or=/[\da-f]/i,oi=i5,oo=class extends oi{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};oo.default=oo,oi.registerAtRule(oo);let os=i5,oa=class extends os{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,n){let r=super.normalize(e);if(t){if("prepend"===n)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of r)e.raws.before=t.raws.before}return r}removeChild(e,t){let n=this.index(e);return!t&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}toResult(e={}){return new b(new w,this,e).stringify()}};oa.registerLazyResult=e=>{b=e},oa.registerProcessor=e=>{w=e},oa.default=oa,os.registerRoot(oa);let ol={comma:e=>ol.split(e,[","],!0),space:e=>ol.split(e,[" ","\n","	"]),split(e,t,n){let r=[],i="",o=!1,s=0,a=!1,l="",c=!1;for(let n of e)c?c=!1:"\\"===n?c=!0:a?n===l&&(a=!1):'"'===n||"'"===n?(a=!0,l=n):"("===n?s+=1:")"===n?s>0&&(s-=1):0===s&&t.includes(n)&&(o=!0),o?(""!==i&&r.push(i.trim()),i="",o=!1):i+=n;return(n||""!==i)&&r.push(i.trim()),r}};ol.default=ol;let oc=i5,ou=class extends oc{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return ol.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}};ou.default=ou,oc.registerRule(ou);let od=function(e,t={}){let n,r,i,o,s,a,l,c,u,d,h=e.css.valueOf(),p=t.ignoreErrors,f=h.length,m=0,g=[],v=[];function y(t){throw e.error("Unclosed "+t,m)}return{back:function(e){v.push(e)},endOfFile:function(){return 0===v.length&&m>=f},nextToken:function(e){if(v.length)return v.pop();if(m>=f)return;let t=!!e&&e.ignoreUnclosed;switch(n=h.charCodeAt(m)){case 10:case 32:case 9:case 13:case 12:r=m;do r+=1,n=h.charCodeAt(r);while(32===n||10===n||9===n||13===n||12===n);d=["space",h.slice(m,r)],m=r-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let e=String.fromCharCode(n);d=[e,e,m];break}case 40:if(c=g.length?g.pop()[1]:"",u=h.charCodeAt(m+1),"url"===c&&39!==u&&34!==u&&32!==u&&10!==u&&9!==u&&12!==u&&13!==u){r=m;do{if(a=!1,-1===(r=h.indexOf(")",r+1))){if(p||t){r=m;break}y("bracket")}for(l=r;92===h.charCodeAt(l-1);)l-=1,a=!a}while(a);d=["brackets",h.slice(m,r+1),m,r],m=r}else r=h.indexOf(")",m+1),o=h.slice(m,r+1),-1===r||on.test(o)?d=["(","(",m]:(d=["brackets",o,m,r],m=r);break;case 39:case 34:i=39===n?"'":'"',r=m;do{if(a=!1,-1===(r=h.indexOf(i,r+1))){if(p||t){r=m+1;break}y("string")}for(l=r;92===h.charCodeAt(l-1);)l-=1,a=!a}while(a);d=["string",h.slice(m,r+1),m,r],m=r;break;case 64:oe.lastIndex=m+1,oe.test(h),r=0===oe.lastIndex?h.length-1:oe.lastIndex-2,d=["at-word",h.slice(m,r+1),m,r],m=r;break;case 92:for(r=m,s=!0;92===h.charCodeAt(r+1);)r+=1,s=!s;if(n=h.charCodeAt(r+1),s&&47!==n&&32!==n&&10!==n&&9!==n&&13!==n&&12!==n&&(r+=1,or.test(h.charAt(r)))){for(;or.test(h.charAt(r+1));)r+=1;32===h.charCodeAt(r+1)&&(r+=1)}d=["word",h.slice(m,r+1),m,r],m=r;break;default:47===n&&42===h.charCodeAt(m+1)?(0===(r=h.indexOf("*/",m+2)+1)&&(p||t?r=h.length:y("comment")),d=["comment",h.slice(m,r+1),m,r]):(ot.lastIndex=m+1,ot.test(h),r=0===ot.lastIndex?h.length-1:ot.lastIndex-2,d=["word",h.slice(m,r+1),m,r],g.push(d)),m=r}return m++,d},position:function(){return m}}},oh={empty:!0,space:!0},op=class{constructor(e){this.input=e,this.root=new oa,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,n,r,i=new oo;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);let o=!1,s=!1,a=[],l=[];for(;!this.tokenizer.endOfFile();){if("("===(t=(e=this.tokenizer.nextToken())[0])||"["===t?l.push("("===t?")":"]"):"{"===t&&l.length>0?l.push("}"):t===l[l.length-1]&&l.pop(),0===l.length){if(";"===t){i.source.end=this.getPosition(e[2]),i.source.end.offset++,this.semicolon=!0;break}if("{"===t){s=!0;break}if("}"===t){if(a.length>0){for(r=a.length-1,n=a[r];n&&"space"===n[0];)n=a[--r];n&&(i.source.end=this.getPosition(n[3]||n[2]),i.source.end.offset++)}this.end(e);break}a.push(e)}else a.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(i.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(i,"params",a),o&&(e=a[a.length-1],i.source.end=this.getPosition(e[3]||e[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),s&&(i.nodes=[],this.current=i)}checkMissedSemicolon(e){let t,n=this.colon(e);if(!1===n)return;let r=0;for(let i=n-1;i>=0&&("space"===(t=e[i])[0]||2!==(r+=1));i--);throw this.input.error("Missed semicolon","word"===t[0]?t[3]+1:t[2])}colon(e){let t,n,r=0;for(let[i,o]of e.entries()){if("("===(t=o[0])&&(r+=1),")"===t&&(r-=1),0===r&&":"===t){if(n){if("word"===n[0]&&"progid"===n[1])continue;return i}this.doubleColon(o)}n=o}return!1}comment(e){let t=new i1;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let e=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=od(this.input)}decl(e,t){let n,r,i=new iS;this.init(i,e[0][2]);let o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(o[3]||o[2]||function(e){for(let t=e.length-1;t>=0;t--){let n=e[t],r=n[3]||n[2];if(r)return r}}(e)),i.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;i.prop+=e.shift()[1]}for(i.raws.between="";e.length;){if(":"===(n=e.shift())[0]){i.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),i.raws.between+=n[1]}("_"===i.prop[0]||"*"===i.prop[0])&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let s=[];for(;e.length&&("space"===(r=e[0][0])||"comment"===r);)s.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if("!important"===(n=e[t])[1].toLowerCase()){i.important=!0;let n=this.stringFrom(e,t);" !important"!==(n=this.spacesFromEnd(e)+n)&&(i.raws.important=n);break}if("important"===n[1].toLowerCase()){let n=e.slice(0),r="";for(let e=t;e>0;e--){let t=n[e][0];if(0===r.trim().indexOf("!")&&"space"!==t)break;r=n.pop()[1]+r}0===r.trim().indexOf("!")&&(i.important=!0,i.raws.important=r,e=n)}if("space"!==n[0]&&"comment"!==n[0])break}e.some(e=>"space"!==e[0]&&"comment"!==e[0])&&(i.raws.between+=s.map(e=>e[1]).join(""),s=[]),this.raw(i,"value",s.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new ou;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,n=null,r=!1,i=null,o=[],s=e[1].startsWith("--"),a=[],l=e;for(;l;){if(n=l[0],a.push(l),"("===n||"["===n)i||(i=l),o.push("("===n?")":"]");else if(s&&r&&"{"===n)i||(i=l),o.push("}");else if(0===o.length){if(";"===n){if(r){this.decl(a,s);return}break}if("{"===n){this.rule(a);return}if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(r=!0)}else n===o[o.length-1]&&(o.pop(),0===o.length&&(i=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(i),t&&r){if(!s)for(;a.length&&("space"===(l=a[a.length-1][0])||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,s)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,n,r){let i,o,s,a;let l=n.length,c="",u=!0;for(let e=0;e<l;e+=1)"space"!==(o=(i=n[e])[0])||e!==l-1||r?"comment"===o?(a=n[e-1]?n[e-1][0]:"empty",s=n[e+1]?n[e+1][0]:"empty",oh[a]||oh[s]?u=!1:","===c.slice(-1)?u=!1:c+=i[1]):c+=i[1]:u=!1;if(!u){let r=n.reduce((e,t)=>e+t[1],"");e.raws[t]={raw:r,value:c}}e[t]=c}rule(e){e.pop();let t=new ou;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t;let n="";for(;e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t;let n="";for(;e.length&&("space"===(t=e[0][0])||"comment"===t);)n+=e.shift()[1];return n}spacesFromEnd(e){let t="";for(;e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}stringFrom(e,t){let n="";for(let r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};function of(e,t){let n=new op(new iH(e,t));try{n.parse()}catch(e){throw e}return n.root}of.default=of,i5.registerParse(of);let{isClean:om,my:og}=iv,ov={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},oy={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},ob={Once:!0,postcssPlugin:!0,prepare:!0};function ow(e){return"object"==typeof e&&"function"==typeof e.then}function o_(e){let t=!1,n=ov[e.type];return("decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append)?[n,n+"-"+t,0,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,0,n+"Exit"]:[n,n+"Exit"]}function oC(e){return{eventIndex:0,events:"document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:o_(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function ox(e){return e[om]=!1,e.nodes&&e.nodes.forEach(e=>ox(e)),e}let ok={},oS=class e{constructor(t,n,r){let i;if(this.stringified=!1,this.processed=!1,"object"==typeof n&&null!==n&&("root"===n.type||"document"===n.type))i=ox(n);else if(n instanceof e||n instanceof i9)i=ox(n.root),n.map&&(void 0===r.map&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=n.map);else{let e=of;r.syntax&&(e=r.syntax.parse),r.parser&&(e=r.parser),e.parse&&(e=e.parse);try{i=e(n,r)}catch(e){this.processed=!0,this.error=e}i&&!i[og]&&i5.rebuild(i)}this.result=new i9(t,i,r),this.helpers={...ok,postcss:ok,result:this.result},this.plugins=this.processor.plugins.map(e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?n.postcssVersion:(e.plugin=n.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,n)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,n])};for(let t of this.plugins)if("object"==typeof t)for(let n in t){if(!oy[n]&&/^[A-Z]/.test(n))throw Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!ob[n]){if("object"==typeof t[n])for(let r in t[n])e(t,"*"===r?n:n+"-"+r.toLowerCase(),t[n][r]);else"function"==typeof t[n]&&e(t,n,t[n])}}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],n=this.runOnRoot(t);if(ow(n))try{await n}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[om];){e[om]=!0;let t=[oC(e)];for(;t.length>0;){let e=this.visitTick(t);if(ow(e))try{await e}catch(n){let e=t[t.length-1].node;throw this.handleError(n,e)}}}if(this.listeners.OnceExit)for(let[t,n]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map(e=>n(e,this.helpers));await Promise.all(t)}else await n(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map(t=>e.Once(t,this.helpers));if(ow(t[0]))return Promise.all(t);return t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=iw;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new iQ(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins)if(ow(this.runOnRoot(e)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[om];)e[om]=!0,this.walkSync(e);if(this.listeners.OnceExit){if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[n,r]of e){let e;this.result.lastPlugin=n;try{e=r(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(ow(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:n,visitors:r}=t;if("root"!==n.type&&"document"!==n.type&&!n.parent){e.pop();return}if(r.length>0&&t.visitorIndex<r.length){let[e,i]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return i(n.toProxy(),this.helpers)}catch(e){throw this.handleError(e,n)}}if(0!==t.iterator){let r,i=t.iterator;for(;r=n.nodes[n.indexes[i]];)if(n.indexes[i]+=1,!r[om]){r[om]=!0,e.push(oC(r));return}t.iterator=0,delete n.indexes[i]}let i=t.events;for(;t.eventIndex<i.length;){let e=i[t.eventIndex];if(t.eventIndex+=1,0===e){n.nodes&&n.nodes.length&&(n[om]=!0,t.iterator=n.getIterator());return}if(this.listeners[e]){t.visitors=this.listeners[e];return}}e.pop()}walkSync(e){for(let t of(e[om]=!0,o_(e)))if(0===t)e.nodes&&e.each(e=>{e[om]||this.walkSync(e)});else{let n=this.listeners[t];if(n&&this.visitSync(n,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};oS.registerPostcss=e=>{ok=e},oS.default=oS,oa.registerLazyResult(oS),i8.registerLazyResult(oS);let oE=class{constructor(e,t,n){let r;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0,this.result=new i9(this._processor,r,this._opts),this.result.css=t;let i=this;Object.defineProperty(this.result,"root",{get:()=>i.root});let o=new iQ(iw,r,this._opts,t);if(o.isMap()){let[e,t]=o.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else o.clearAnnotation(),this.result.css=o.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){let e;if(this._root)return this._root;try{e=of(this._css,this._opts)}catch(e){this.error=e}if(!this.error)return this._root=e,e;throw this.error}get[Symbol.toStringTag](){return"NoWorkResult"}};oE.default=oE;let oT=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let n of e)if(!0===n.postcss?n=n():n.postcss&&(n=n.postcss),"object"==typeof n&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if("object"==typeof n&&n.postcssPlugin)t.push(n);else if("function"==typeof n)t.push(n);else if("object"==typeof n&&(n.parse||n.stringify));else throw Error(n+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new oS(this,e,t):new oE(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};function oP(e,t){if(Array.isArray(e))return e.map(e=>oP(e));let{inputs:n,...r}=e;if(n)for(let e of(t=[],n)){let n={...e,__proto__:iH.prototype};n.map&&(n.map={...n.map,__proto__:iA.prototype}),t.push(n)}if(r.nodes&&(r.nodes=e.nodes.map(e=>oP(e,t))),r.source){let{inputId:e,...n}=r.source;r.source=n,null!=e&&(r.source.input=t[e])}if("root"===r.type)return new oa(r);if("decl"===r.type)return new iS(r);if("rule"===r.type)return new ou(r);if("comment"===r.type)return new i1(r);if("atrule"===r.type)return new oo(r);throw Error("Unknown node type: "+e.type)}function oI(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new oT(e)}oT.default=oT,oa.registerProcessor(oT),i8.registerProcessor(oT),oP.default=oP,oI.plugin=function(e,t){let n,r=!1;function i(...n){console&&console.warn&&!r&&(r=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),no.env.LANG&&no.env.LANG.startsWith("cn")&&console.warn(e+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226"));let o=t(...n);return o.postcssPlugin=e,o.postcssVersion=new oT().version,o}return Object.defineProperty(i,"postcss",{get:()=>(n||(n=i()),n)}),i.process=function(e,t,n){return oI([i(n)]).process(e,t)},i},oI.stringify=iw,oI.parse=of,oI.fromJSON=oP,oI.list=ol,oI.comment=e=>new i1(e),oI.atRule=e=>new oo(e),oI.decl=e=>new iS(e),oI.rule=e=>new ou(e),oI.root=e=>new oa(e),oI.document=e=>new i8(e),oI.CssSyntaxError=ig,oI.Declaration=iS,oI.Container=i5,oI.Processor=oT,oI.Document=i8,oI.Comment=i1,oI.Warning=i7,oI.AtRule=oo,oI.Result=i9,oI.Input=iH,oI.Rule=ou,oI.Root=oa,oI.Node=ix,oS.registerPostcss(oI),oI.default=oI;let oR=oI&&oI.__esModule&&Object.prototype.hasOwnProperty.call(oI,"default")?oI.default:oI;oR.stringify,oR.fromJSON,oR.plugin,oR.parse,oR.list,oR.document,oR.comment,oR.atRule,oR.rule,oR.decl,oR.root,oR.CssSyntaxError,oR.Declaration,oR.Container,oR.Processor,oR.Document,oR.Comment,oR.Warning,oR.AtRule,oR.Result,oR.Input,oR.Rule,oR.Root,oR.Node;class oO{constructor(...e){il(this,"parentElement",null),il(this,"parentNode",null),il(this,"ownerDocument"),il(this,"firstChild",null),il(this,"lastChild",null),il(this,"previousSibling",null),il(this,"nextSibling",null),il(this,"ELEMENT_NODE",1),il(this,"TEXT_NODE",3),il(this,"nodeType"),il(this,"nodeName"),il(this,"RRNodeType")}get childNodes(){let e=[],t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(!(e instanceof oO)||e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}var oA=((H=oA||{})[H.PLACEHOLDER=0]="PLACEHOLDER",H[H.ELEMENT_NODE=1]="ELEMENT_NODE",H[H.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",H[H.TEXT_NODE=3]="TEXT_NODE",H[H.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",H[H.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",H[H.ENTITY_NODE=6]="ENTITY_NODE",H[H.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",H[H.COMMENT_NODE=8]="COMMENT_NODE",H[H.DOCUMENT_NODE=9]="DOCUMENT_NODE",H[H.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",H[H.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",H);let oN={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},oL={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},oM={};function oD(e){if(oM[e])return oM[e];let t=globalThis[e],n=t.prototype,r=e in oN?oN[e]:void 0,i=!!(r&&r.every(e=>{var t,r;return!!(null==(r=null==(t=Object.getOwnPropertyDescriptor(n,e))?void 0:t.get)?void 0:r.toString().includes("[native code]"))})),o=e in oL?oL[e]:void 0,s=!!(o&&o.every(e=>{var t;return"function"==typeof n[e]&&(null==(t=n[e])?void 0:t.toString().includes("[native code]"))}));if(i&&s)return oM[e]=t.prototype,t.prototype;try{let r=document.createElement("iframe");document.body.appendChild(r);let i=r.contentWindow;if(!i)return t.prototype;let o=i[e].prototype;if(document.body.removeChild(r),!o)return n;return oM[e]=o}catch{return n}}let oj={};function oU(e,t,n){var r;let i=`${e}.${String(n)}`;if(oj[i])return oj[i].call(t);let o=null==(r=Object.getOwnPropertyDescriptor(oD(e),n))?void 0:r.get;return o?(oj[i]=o,o.call(t)):t[n]}let oF={};function oV(e,t,n){let r=`${e}.${String(n)}`;if(oF[r])return oF[r].bind(t);let i=oD(e)[n];return"function"!=typeof i?t[n]:(oF[r]=i,i.bind(t))}let oB={childNodes:function(e){return oU("Node",e,"childNodes")},parentNode:function(e){return oU("Node",e,"parentNode")},parentElement:function(e){return oU("Node",e,"parentElement")},textContent:function(e){return oU("Node",e,"textContent")},contains:function(e,t){return oV("Node",e,"contains")(t)},getRootNode:function(e){return oV("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?oU("ShadowRoot",e,"host"):null},shadowRoot:function(e){return e&&"shadowRoot"in e?oU("Element",e,"shadowRoot"):null}};function oz(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}let oH="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",oq={map:{},getId:()=>(console.error(oH),-1),getNode:()=>(console.error(oH),null),removeNodeFromMap(){console.error(oH)},has:()=>(console.error(oH),!1),reset(){console.error(oH)}};function oK(e,t,n={}){let r=null,i=0;return function(...o){let s=Date.now();i||!1!==n.leading||(i=s);let a=t-(s-i),l=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),i=s,e.apply(l,o)):r||!1===n.trailing||(r=setTimeout(()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(l,o)},a))}}function oG(e,t,n,r,i=window){let o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){setTimeout(()=>{n.set.call(this,e)},0),o&&o.set&&o.set.call(this,e)}}),()=>oG(e,t,o||{},!0)}function oW(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(oq=new Proxy(oq,{get:(e,t,n)=>("map"===t&&console.error(oH),Reflect.get(e,t,n))}));let o$=Date.now;function oZ(e){var t,n,r,i;let o=e.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:o.documentElement.scrollLeft||(null==o?void 0:o.body)&&(null==(t=oB.parentElement(o.body))?void 0:t.scrollLeft)||(null==(n=null==o?void 0:o.body)?void 0:n.scrollLeft)||0,top:o.scrollingElement?o.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==o?void 0:o.documentElement.scrollTop)||(null==o?void 0:o.body)&&(null==(r=oB.parentElement(o.body))?void 0:r.scrollTop)||(null==(i=null==o?void 0:o.body)?void 0:i.scrollTop)||0}}function oJ(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function oY(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function oX(e){return e?e.nodeType===e.ELEMENT_NODE?e:oB.parentElement(e):null}function oQ(e,t,n,r){if(!e)return!1;let i=oX(e);if(!i)return!1;try{if("string"==typeof t){if(i.classList.contains(t)||r&&null!==i.closest("."+t))return!0}else if(nK(i,t,r))return!0}catch(e){}return!!(n&&(i.matches(n)||r&&null!==i.closest(n)))}function o0(e,t){return -1!==t.getId(e)}function o1(e,t,n){return"TITLE"===e.tagName&&!!n.headTitleMutations||-2===t.getId(e)}function o2(e,t){if(nw(e))return!1;let n=t.getId(e);if(!t.has(n))return!0;let r=oB.parentNode(e);return(!r||r.nodeType!==e.DOCUMENT_NODE)&&(!r||o2(r,t))}function o3(e){return!!e.changedTouches}function o4(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function o5(e,t){return!!("IFRAME"===e.nodeName&&t.getMeta(e))}function o6(e,t){return!!("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function o8(e){return!!e&&(e instanceof oO&&"shadowRoot"in e?!!e.shadowRoot:!!oB.shadowRoot(e))}/[1-9][0-9]{12}/.test(Date.now().toString())||(o$=()=>new Date().getTime());class o7{constructor(){nl(this,"id",1),nl(this,"styleIDMap",new WeakMap),nl(this,"idStyleMap",new Map)}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){let n;return this.has(e)?this.getId(e):(n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n)}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function o9(e){var t;let n=null;return"getRootNode"in e&&(null==(t=oB.getRootNode(e))?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&oB.host(oB.getRootNode(e))&&(n=oB.host(oB.getRootNode(e))),n}function se(e){let t,n=e;for(;t=o9(n);)n=t;return n}function st(e){let t=e.ownerDocument;if(!t)return!1;let n=se(e);return oB.contains(t,n)}function sn(e){let t=e.ownerDocument;return!!t&&(oB.contains(t,e)||st(e))}let sr=Object.freeze(Object.defineProperty({__proto__:null,StyleSheetMirror:o7,get _mirror(){return oq},closestElementOfNode:oX,getBaseDimension:function e(t,n){var r,i;let o=null==(i=null==(r=t.ownerDocument)?void 0:r.defaultView)?void 0:i.frameElement;if(!o||o===n)return{x:0,y:0,relativeScale:1,absoluteScale:1};let s=o.getBoundingClientRect(),a=e(o,n),l=s.height/o.clientHeight;return{x:s.x*a.relativeScale+a.x,y:s.y*a.relativeScale+a.y,relativeScale:l,absoluteScale:a.absoluteScale*l}},getNestedRule:function e(t,n){let r=t[n[0]];return 1===n.length?r:e(r.cssRules[n[1]].cssRules,n.slice(2))},getPositionsAndIndex:function(e){let t=[...e],n=t.pop();return{positions:t,index:n}},getRootShadowHost:se,getShadowHost:o9,getWindowHeight:oJ,getWindowScroll:oZ,getWindowWidth:oY,hasShadowRoot:o8,hookSetter:oG,inDom:sn,isAncestorRemoved:o2,isBlocked:oQ,isIgnored:o1,isSerialized:o0,isSerializedIframe:o5,isSerializedStylesheet:o6,iterateResolveTree:function e(t,n){n(t.value);for(let r=t.children.length-1;r>=0;r--)e(t.children[r],n)},legacy_isTouchEvent:o3,get nowTimestamp(){return o$},on:oz,patch:oW,polyfill:o4,queueToResolveTrees:function(e){let t={},n=(e,n)=>{let r={value:e,parent:n,children:[]};return t[e.node.id]=r,r},r=[];for(let i of e){let{nextId:e,parentId:o}=i;if(e&&e in t){let o=t[e];if(o.parent){let e=o.parent.children.indexOf(o);o.parent.children.splice(e,0,n(i,o.parent))}else{let e=r.indexOf(o);r.splice(e,0,n(i,null))}continue}if(o in t){let e=t[o];e.children.push(n(i,e));continue}r.push(n(i,null))}return r},shadowHostInDom:st,throttle:oK,uniqueTextMutations:function(e){let t=new Set,n=[];for(let r=e.length;r--;){let i=e[r];t.has(i.id)||(n.push(i),t.add(i.id))}return n}},Symbol.toStringTag,{value:"Module"}));var si=((q=si||{})[q.DomContentLoaded=0]="DomContentLoaded",q[q.Load=1]="Load",q[q.FullSnapshot=2]="FullSnapshot",q[q.IncrementalSnapshot=3]="IncrementalSnapshot",q[q.Meta=4]="Meta",q[q.Custom=5]="Custom",q[q.Plugin=6]="Plugin",q),so=((K=so||{})[K.Mutation=0]="Mutation",K[K.MouseMove=1]="MouseMove",K[K.MouseInteraction=2]="MouseInteraction",K[K.Scroll=3]="Scroll",K[K.ViewportResize=4]="ViewportResize",K[K.Input=5]="Input",K[K.TouchMove=6]="TouchMove",K[K.MediaInteraction=7]="MediaInteraction",K[K.StyleSheetRule=8]="StyleSheetRule",K[K.CanvasMutation=9]="CanvasMutation",K[K.Font=10]="Font",K[K.Log=11]="Log",K[K.Drag=12]="Drag",K[K.StyleDeclaration=13]="StyleDeclaration",K[K.Selection=14]="Selection",K[K.AdoptedStyleSheet=15]="AdoptedStyleSheet",K[K.CustomElement=16]="CustomElement",K),ss=((G=ss||{})[G.MouseUp=0]="MouseUp",G[G.MouseDown=1]="MouseDown",G[G.Click=2]="Click",G[G.ContextMenu=3]="ContextMenu",G[G.DblClick=4]="DblClick",G[G.Focus=5]="Focus",G[G.Blur=6]="Blur",G[G.TouchStart=7]="TouchStart",G[G.TouchMove_Departed=8]="TouchMove_Departed",G[G.TouchEnd=9]="TouchEnd",G[G.TouchCancel=10]="TouchCancel",G),sa=((W=sa||{})[W.Mouse=0]="Mouse",W[W.Pen=1]="Pen",W[W.Touch=2]="Touch",W),sl=(($=sl||{})[$["2D"]=0]="2D",$[$.WebGL=1]="WebGL",$[$.WebGL2=2]="WebGL2",$),sc=((Z=sc||{})[Z.Play=0]="Play",Z[Z.Pause=1]="Pause",Z[Z.Seeked=2]="Seeked",Z[Z.VolumeChange=3]="VolumeChange",Z[Z.RateChange=4]="RateChange",Z),su=((J=su||{}).Start="start",J.Pause="pause",J.Resume="resume",J.Resize="resize",J.Finish="finish",J.FullsnapshotRebuilded="fullsnapshot-rebuilded",J.LoadStylesheetStart="load-stylesheet-start",J.LoadStylesheetEnd="load-stylesheet-end",J.SkipStart="skip-start",J.SkipEnd="skip-end",J.MouseInteraction="mouse-interaction",J.EventCast="event-cast",J.CustomEvent="custom-event",J.Flush="flush",J.StateChange="state-change",J.PlayBack="play-back",J.Destroy="destroy",J);class sd{constructor(){nl(this,"length",0),nl(this,"head",null),nl(this,"tail",null)}get(e){if(e>=this.length)throw Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&"__ln"in e.previousSibling){let n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&"__ln"in e.nextSibling&&e.nextSibling.__ln.previous){let n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}let sh=(e,t)=>`${e}@${t}`;class sp{constructor(){nl(this,"frozen",!1),nl(this,"locked",!1),nl(this,"texts",[]),nl(this,"attributes",[]),nl(this,"attributeMap",new WeakMap),nl(this,"removes",[]),nl(this,"mapRemoves",[]),nl(this,"movedMap",{}),nl(this,"addedSet",new Set),nl(this,"movedSet",new Set),nl(this,"droppedSet",new Set),nl(this,"mutationCb"),nl(this,"blockClass"),nl(this,"blockSelector"),nl(this,"maskTextClass"),nl(this,"maskTextSelector"),nl(this,"inlineStylesheet"),nl(this,"maskInputOptions"),nl(this,"maskTextFn"),nl(this,"maskInputFn"),nl(this,"keepIframeSrcFn"),nl(this,"recordCanvas"),nl(this,"inlineImages"),nl(this,"slimDOMOptions"),nl(this,"dataURLOptions"),nl(this,"doc"),nl(this,"mirror"),nl(this,"iframeManager"),nl(this,"stylesheetManager"),nl(this,"shadowDomManager"),nl(this,"canvasManager"),nl(this,"processedNodeManager"),nl(this,"unattachedDoc"),nl(this,"processMutations",e=>{e.forEach(this.processMutation),this.emit()}),nl(this,"emit",()=>{if(this.frozen||this.locked)return;let e=[],t=new Set,n=new sd,r=e=>{let t=e,n=-2;for(;-2===n;)n=(t=t&&t.nextSibling)&&this.mirror.getId(t);return n},i=i=>{let o=oB.parentNode(i);if(!o||!sn(i)||"TEXTAREA"===o.tagName)return;let s=nw(o)?this.mirror.getId(o9(i)):this.mirror.getId(o),a=r(i);if(-1===s||-1===a)return n.addNode(i);let l=n$(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{o5(e,this.mirror)&&this.iframeManager.addIframe(e),o6(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),o8(i)&&this.shadowDomManager.addShadowRoot(oB.shadowRoot(i),this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});l&&(e.push({parentId:s,nextId:a,node:l}),t.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let e of this.movedSet)(!sm(this.removes,e,this.mirror)||this.movedSet.has(oB.parentNode(e)))&&i(e);for(let e of this.addedSet)sg(this.droppedSet,e)||sm(this.removes,e,this.mirror)?sg(this.movedSet,e)?i(e):this.droppedSet.add(e):i(e);let o=null;for(;n.length;){let e=null;if(o){let t=this.mirror.getId(oB.parentNode(o.value)),n=r(o.value);-1!==t&&-1!==n&&(e=o)}if(!e){let t=n.tail;for(;t;){let n=t;if(t=t.previous,n){let t=this.mirror.getId(oB.parentNode(n.value));if(-1===r(n.value))continue;if(-1!==t){e=n;break}{let t=n.value,r=oB.parentNode(t);if(r&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let t=oB.host(r);if(-1!==this.mirror.getId(t)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}o=e.previous,n.removeNode(e.value),i(e.value)}let s={texts:this.texts.map(e=>{let t=e.node,n=oB.parentNode(t);return n&&"TEXTAREA"===n.tagName&&this.genTextAreaValueMutation(n),{id:this.mirror.getId(t),value:e.value}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{let{attributes:t}=e;if("string"==typeof t.style){let n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))}),nl(this,"genTextAreaValueMutation",e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(oB.childNodes(e),e=>oB.textContent(e)||"").join("")}),nl(this,"processMutation",e=>{if(!o1(e.target,this.mirror,this.slimDOMOptions))switch(e.type){case"characterData":{let t=oB.textContent(e.target);oQ(e.target,this.blockClass,this.blockSelector,!1)||t===e.oldValue||this.texts.push({value:nG(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,oX(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let t=e.target,n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){let e=nP(t);r=nS({element:t,maskInputOptions:this.maskInputOptions,tagName:t.tagName,type:e,value:r,maskInputFn:this.maskInputFn})}if(oQ(e.target,this.blockClass,this.blockSelector,!1)||r===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(t.contentDocument)return;n="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!nq(t.tagName,n)){if(i.attributes[n]=nH(this.doc,nE(t.tagName),nE(n),r),"style"===n){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}let n=this.unattachedDoc.createElement("span");for(let r of(e.oldValue&&n.setAttribute("style",e.oldValue),Array.from(t.style))){let e=t.style.getPropertyValue(r),o=t.style.getPropertyPriority(r);e!==n.style.getPropertyValue(r)||o!==n.style.getPropertyPriority(r)?""===o?i.styleDiff[r]=e:i.styleDiff[r]=[e,o]:i._unchangedStyles[r]=[e,o]}for(let e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}else"open"===n&&"DIALOG"===t.tagName&&(t.matches("dialog:modal")?i.attributes.rr_open_mode="modal":i.attributes.rr_open_mode="non-modal")}break}case"childList":if(oQ(e.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===e.target.tagName){this.genTextAreaValueMutation(e.target);return}e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{let n=this.mirror.getId(t),r=nw(e.target)?this.mirror.getId(oB.host(e.target)):this.mirror.getId(e.target);!(oQ(e.target,this.blockClass,this.blockSelector,!1)||o1(t,this.mirror,this.slimDOMOptions))&&o0(t,this.mirror)&&(this.addedSet.has(t)?(sf(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||o2(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[sh(n,r)]?sf(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!!(nw(e.target)&&n_(e.target))||void 0})),this.mapRemoves.push(t))})}}),nl(this,"genAdds",(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(o1(e,this.mirror,this.slimDOMOptions))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[sh(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);!oQ(e,this.blockClass,this.blockSelector,!1)&&(oB.childNodes(e).forEach(e=>this.genAdds(e)),o8(e)&&oB.childNodes(oB.shadowRoot(e)).forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}})}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function sf(e,t){e.delete(t),oB.childNodes(t).forEach(t=>sf(e,t))}function sm(e,t,n){return 0!==e.length&&function(e,t,n){let r=oB.parentNode(t);for(;r;){let t=n.getId(r);if(e.some(e=>e.id===t))return!0;r=oB.parentNode(r)}return!1}(e,t,n)}function sg(e,t){return 0!==e.size&&function e(t,n){let r=oB.parentNode(n);return!!r&&(!!t.has(r)||e(t,r))}(e,t)}let sv=e=>_?(...t)=>{try{return e(...t)}catch(e){if(_&&!0===_(e))return;throw e}}:e;function sy(e){return(...t)=>{try{return e(...t)}catch(e){try{e._external_=!0}catch{}throw e}}}let sb=[];function sw(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function s_(e,t){let n=new sp;sb.push(n),n.init(e);let r=new(oD("MutationObserver")).constructor(sv(n.processMutations.bind(n)));return r.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),r}function sC({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,sampling:o}){return oz("scroll",sv(oK(sv(o=>{let s=sw(o);if(!s||oQ(s,r,i,!0))return;let a=n.getId(s);if(s===t&&t.defaultView){let n=oZ(t.defaultView);e({id:a,x:n.left,y:n.top})}else e({id:a,x:s.scrollLeft,y:s.scrollTop})}),o.scroll||100)),t)}let sx=["INPUT","TEXTAREA","SELECT"],sk=new WeakMap;function sS(e){var t;return t=[],sI("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||sI("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||sI("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||sI("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule?t.unshift(Array.from(e.parentRule.cssRules).indexOf(e)):e.parentStyleSheet&&t.unshift(Array.from(e.parentStyleSheet.cssRules).indexOf(e)),t}function sE(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function sT({mirror:e,stylesheetManager:t},n){var r,i,o;let s=null;s="#document"===n.nodeName?e.getId(n):e.getId(oB.host(n));let a="#document"===n.nodeName?null==(r=n.defaultView)?void 0:r.Document:null==(o=null==(i=n.ownerDocument)?void 0:i.defaultView)?void 0:o.ShadowRoot,l=(null==a?void 0:a.prototype)?Object.getOwnPropertyDescriptor(null==a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==s&&-1!==s&&a&&l?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var e;return null==(e=l.get)?void 0:e.call(this)},set(e){var n;let r=null==(n=l.set)?void 0:n.call(this,e);if(null!==s&&-1!==s)try{t.adoptStyleSheets(e,s)}catch(e){}return r}}),sv(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})})):()=>{}}function sP(e,t={}){let n;let r=e.doc.defaultView;if(!r)return()=>{};!function(e,t){let{mutationCb:n,mousemoveCb:r,mouseInteractionCb:i,scrollCb:o,viewportResizeCb:s,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:c,styleDeclarationCb:u,canvasMutationCb:d,fontCb:h,selectionCb:p,customElementCb:f}=e;e.mutationCb=(...e)=>{t.mutation&&t.mutation(...e),n(...e)},e.mousemoveCb=(...e)=>{t.mousemove&&t.mousemove(...e),r(...e)},e.mouseInteractionCb=(...e)=>{t.mouseInteraction&&t.mouseInteraction(...e),i(...e)},e.scrollCb=(...e)=>{t.scroll&&t.scroll(...e),o(...e)},e.viewportResizeCb=(...e)=>{t.viewportResize&&t.viewportResize(...e),s(...e)},e.inputCb=(...e)=>{t.input&&t.input(...e),a(...e)},e.mediaInteractionCb=(...e)=>{t.mediaInteaction&&t.mediaInteaction(...e),l(...e)},e.styleSheetRuleCb=(...e)=>{t.styleSheetRule&&t.styleSheetRule(...e),c(...e)},e.styleDeclarationCb=(...e)=>{t.styleDeclaration&&t.styleDeclaration(...e),u(...e)},e.canvasMutationCb=(...e)=>{t.canvasMutation&&t.canvasMutation(...e),d(...e)},e.fontCb=(...e)=>{t.font&&t.font(...e),h(...e)},e.selectionCb=(...e)=>{t.selection&&t.selection(...e),p(...e)},e.customElementCb=(...e)=>{t.customElement&&t.customElement(...e),f(...e)}}(e,t),e.recordDOM&&(n=s_(e,e.doc));let i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){let i;if(!1===t.mousemove)return()=>{};let o="number"==typeof t.mousemove?t.mousemove:50,s="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500,a=[],l=oK(sv(t=>{let n=Date.now()-i;e(a.map(e=>(e.timeOffset-=n,e)),t),a=[],i=null}),s),c=sv(oK(sv(e=>{let t=sw(e),{clientX:n,clientY:o}=o3(e)?e.changedTouches[0]:e;i||(i=o$()),a.push({x:n,y:o,id:r.getId(t),timeOffset:o$()-i}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?so.Drag:e instanceof MouseEvent?so.MouseMove:so.TouchMove)}),o,{trailing:!1})),u=[oz("mousemove",c,n),oz("touchmove",c,n),oz("drag",c,n)];return sv(()=>{u.forEach(e=>e())})}(e),o=function({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,sampling:o}){if(!1===o.mouseInteraction)return()=>{};let s=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,a=[],l=null,c=t=>o=>{let s=sw(o);if(oQ(s,r,i,!0))return;let a=null,c=t;if("pointerType"in o){switch(o.pointerType){case"mouse":a=sa.Mouse;break;case"touch":a=sa.Touch;break;case"pen":a=sa.Pen}a===sa.Touch?ss[t]===ss.MouseDown?c="TouchStart":ss[t]===ss.MouseUp&&(c="TouchEnd"):sa.Pen}else o3(o)&&(a=sa.Touch);null!==a?(l=a,(c.startsWith("Touch")&&a===sa.Touch||c.startsWith("Mouse")&&a===sa.Mouse)&&(a=null)):ss[t]===ss.Click&&(a=l,l=null);let u=o3(o)?o.changedTouches[0]:o;if(!u)return;let d=n.getId(s),{clientX:h,clientY:p}=u;sv(e)({type:ss[c],id:d,x:h,y:p,...null!==a&&{pointerType:a}})};return Object.keys(ss).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e]).forEach(e=>{let n=nE(e),r=c(e);if(window.PointerEvent)switch(ss[e]){case ss.MouseDown:case ss.MouseUp:n=n.replace("mouse","pointer");break;case ss.TouchStart:case ss.TouchEnd:return}a.push(oz(n,r,t))}),sv(()=>{a.forEach(e=>e())})}(e),s=sC(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return oz("resize",sv(oK(sv(()=>{let t=oJ(),i=oY();(n!==t||r!==i)&&(e({width:Number(i),height:Number(t)}),n=t,r=i)}),200)),t)}(e,{win:r}),l=function({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,ignoreClass:o,ignoreSelector:s,maskInputOptions:a,maskInputFn:l,sampling:c,userTriggeredOnInput:u}){function d(e){let n=sw(e),c=e.isTrusted,d=n&&n.tagName;if(n&&"OPTION"===d&&(n=oB.parentElement(n)),!n||!d||0>sx.indexOf(d)||oQ(n,r,i,!0)||n.classList.contains(o)||s&&n.matches(s))return;let p=n.value,f=!1,m=nP(n)||"";"radio"===m||"checkbox"===m?f=n.checked:(a[d.toLowerCase()]||a[m])&&(p=nS({element:n,maskInputOptions:a,tagName:d,type:m,value:p,maskInputFn:l})),h(n,u?{text:p,isChecked:f,userTriggered:c}:{text:p,isChecked:f});let g=n.name;"radio"===m&&g&&f&&t.querySelectorAll(`input[type="radio"][name="${g}"]`).forEach(e=>{if(e!==n){let t=e.value;h(e,u?{text:t,isChecked:!f,userTriggered:!1}:{text:t,isChecked:!f})}})}function h(t,r){let i=sk.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){sk.set(t,r);let i=n.getId(t);sv(e)({...r,id:i})}}let p=("last"===c.input?["change"]:["input","change"]).map(e=>oz(e,sv(d),t)),f=t.defaultView;if(!f)return()=>{p.forEach(e=>e())};let m=f.Object.getOwnPropertyDescriptor(f.HTMLInputElement.prototype,"value"),g=[[f.HTMLInputElement.prototype,"value"],[f.HTMLInputElement.prototype,"checked"],[f.HTMLSelectElement.prototype,"value"],[f.HTMLTextAreaElement.prototype,"value"],[f.HTMLSelectElement.prototype,"selectedIndex"],[f.HTMLOptionElement.prototype,"selected"]];return m&&m.set&&p.push(...g.map(e=>oG(e[0],e[1],{set(){sv(d)({target:this,isTrusted:!1})}},!1,f))),sv(()=>{p.forEach(e=>e())})}(e),c=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,mirror:r,sampling:i,doc:o}){let s=sv(o=>oK(sv(i=>{let s=sw(i);if(!s||oQ(s,t,n,!0))return;let{currentTime:a,volume:l,muted:c,playbackRate:u,loop:d}=s;e({type:o,id:r.getId(s),currentTime:a,volume:l,muted:c,playbackRate:u,loop:d})}),i.media||500)),a=[oz("play",s(sc.Play),o),oz("pause",s(sc.Pause),o),oz("seeked",s(sc.Seeked),o),oz("volumechange",s(sc.VolumeChange),o),oz("ratechange",s(sc.RateChange),o)];return sv(()=>{a.forEach(e=>e())})}(e),u=()=>{},d=()=>{},h=()=>{},p=()=>{};e.recordDOM&&(u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){let i,o;if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:sv((r,i,o)=>{let[s,a]=o,{id:l,styleId:c}=sE(i,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:s,index:a}]}),sy(()=>r.apply(i,o))()})}),r.CSSStyleSheet.prototype.addRule=function(e,t,n=this.cssRules.length){let i=`${e} { ${t} }`;return r.CSSStyleSheet.prototype.insertRule.apply(this,[i,n])};let a=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:sv((r,i,o)=>{let[s]=o,{id:a,styleId:l}=sE(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:s}]}),sy(()=>r.apply(i,o))()})}),r.CSSStyleSheet.prototype.removeRule=function(e){return r.CSSStyleSheet.prototype.deleteRule.apply(this,[e])},r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:sv((r,i,o)=>{let[s]=o,{id:a,styleId:l}=sE(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replace:s}),r.apply(i,o)})})),r.CSSStyleSheet.prototype.replaceSync&&(o=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(o,{apply:sv((r,i,o)=>{let[s]=o,{id:a,styleId:l}=sE(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replaceSync:s}),r.apply(i,o)})}));let l={};sR("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(sR("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),sR("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),sR("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));let c={};return Object.entries(l).forEach(([r,i])=>{c[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(c[r].insertRule,{apply:sv((r,i,o)=>{let[s,a]=o,{id:l,styleId:c}=sE(i.parentStyleSheet,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:s,index:[...sS(i),a||0]}]}),r.apply(i,o)})}),i.prototype.deleteRule=new Proxy(c[r].deleteRule,{apply:sv((r,i,o)=>{let[s]=o,{id:a,styleId:l}=sE(i.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:[...sS(i),s]}]}),r.apply(i,o)})})}),sv(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=a,i&&(r.CSSStyleSheet.prototype.replace=i),o&&(r.CSSStyleSheet.prototype.replaceSync=o),Object.entries(l).forEach(([e,t])=>{t.prototype.insertRule=c[e].insertRule,t.prototype.deleteRule=c[e].deleteRule})})}(e,{win:r}),d=sT(e,e.doc),h=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){let o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:sv((i,s,a)=>{var l;let[c,u,d]=a;if(n.has(c))return o.apply(s,[c,u,d]);let{id:h,styleId:p}=sE(null==(l=s.parentRule)?void 0:l.parentStyleSheet,t,r.styleMirror);return(h&&-1!==h||p&&-1!==p)&&e({id:h,styleId:p,set:{property:c,value:u,priority:d},index:sS(s.parentRule)}),i.apply(s,a)})});let s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:sv((i,o,a)=>{var l;let[c]=a;if(n.has(c))return s.apply(o,[c]);let{id:u,styleId:d}=sE(null==(l=o.parentRule)?void 0:l.parentStyleSheet,t,r.styleMirror);return(u&&-1!==u||d&&-1!==d)&&e({id:u,styleId:d,remove:{property:c},index:sS(o.parentRule)}),i.apply(o,a)})}),sv(()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s})}(e,{win:r}),e.collectFonts&&(p=function({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,n){let r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};let s=oW(t.fonts,"add",function(t){return function(n){return setTimeout(sv(()=>{let t=i.get(n);t&&(e(t),i.delete(n))}),0),t.apply(this,[n])}});return r.push(()=>{n.FontFace=o}),r.push(s),sv(()=>{r.forEach(e=>e())})}(e)));let f=function(e){let{doc:t,mirror:n,blockClass:r,blockSelector:i,selectionCb:o}=e,s=!0,a=sv(()=>{let e=t.getSelection();if(!e||s&&(null==e?void 0:e.isCollapsed))return;s=e.isCollapsed||!1;let a=[],l=e.rangeCount||0;for(let t=0;t<l;t++){let{startContainer:o,startOffset:s,endContainer:l,endOffset:c}=e.getRangeAt(t);oQ(o,r,i,!0)||oQ(l,r,i,!0)||a.push({start:n.getId(o),startOffset:s,end:n.getId(l),endOffset:c})}o({ranges:a})});return a(),oz("selectionchange",a)}(e),m=function({doc:e,customElementCb:t}){let n=e.defaultView;return n&&n.customElements?oW(n.customElements,"define",function(e){return function(n,r,i){try{t({define:{name:n}})}catch(e){console.warn(`Custom element callback failed for ${n}`)}return e.apply(this,[n,r,i])}}):()=>{}}(e),g=[];for(let t of e.plugins)g.push(t.observer(t.callback,r,t.options));return sv(()=>{sb.forEach(e=>e.reset()),null==n||n.disconnect(),i(),o(),s(),a(),l(),c(),u(),d(),h(),p(),f(),m(),g.forEach(e=>e())})}function sI(e){return void 0!==window[e]}function sR(e){return!!(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class sO{constructor(e){nl(this,"iframeIdToRemoteIdMap",new WeakMap),nl(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e}getId(e,t,n,r){let i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e),s=i.get(t);return s||(s=this.generateIdFn(),i.set(t,s),o.set(s,t)),s}getIds(e,t){let n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,r))}getRemoteId(e,t,n){let r=n||this.getRemoteIdToIdMap(e);return"number"!=typeof t?t:r.get(t)||-1}getRemoteIds(e,t){let n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class sA{constructor(e){nl(this,"iframes",new WeakMap),nl(this,"crossOriginIframeMap",new WeakMap),nl(this,"crossOriginIframeMirror",new sO(nj)),nl(this,"crossOriginIframeStyleMirror"),nl(this,"crossOriginIframeRootIdMap",new WeakMap),nl(this,"mirror"),nl(this,"mutationCb"),nl(this,"wrappedEmit"),nl(this,"loadListener"),nl(this,"stylesheetManager"),nl(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new sO(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n,r;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(n=e.contentWindow)||n.addEventListener("message",this.handleMessage.bind(this))),null==(r=this.loadListener)||r.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){if("rrweb"!==e.data.type||e.origin!==e.data.origin||!e.source)return;let t=this.crossOriginIframeMap.get(e.source);if(!t)return;let n=this.transformCrossOriginEvent(t,e.data.event);n&&this.wrappedEmit(n,e.data.isCheckout)}transformCrossOriginEvent(e,t){var n;switch(t.type){case si.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:si.IncrementalSnapshot,data:{source:so.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case si.Meta:case si.Load:case si.DomContentLoaded:break;case si.Plugin:return t;case si.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case si.IncrementalSnapshot:switch(t.data.source){case so.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);let n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case so.Drag:case so.TouchMove:case so.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case so.ViewportResize:return!1;case so.MediaInteraction:case so.MouseInteraction:case so.Scroll:case so.CanvasMutation:case so.Input:return this.replaceIds(t.data,e,["id"]),t;case so.StyleSheetRule:case so.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case so.Font:return t;case so.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case so.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null==(n=t.data.styles)||n.forEach(t=>{this.replaceStyleIds(t,e,["styleId"])}),t}}return!1}replace(e,t,n,r){for(let i of r)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===nh.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class sN{constructor(e){nl(this,"shadowDoms",new WeakSet),nl(this,"mutationCb"),nl(this,"scrollCb"),nl(this,"bypassOptions"),nl(this,"mirror"),nl(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!n_(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);let n=s_({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(sC({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(oB.host(e))),this.restoreHandlers.push(sT({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){let n=this;this.restoreHandlers.push(oW(e.prototype,"attachShadow",function(e){return function(r){let i=e.call(this,r),o=oB.shadowRoot(this);return o&&sn(this)&&n.addShadowRoot(o,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var sL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sM="undefined"==typeof Uint8Array?[]:new Uint8Array(256),sD=0;sD<sL.length;sD++)sM[sL.charCodeAt(sD)]=sD;var sj=function(e){var t,n=new Uint8Array(e),r=n.length,i="";for(t=0;t<r;t+=3)i+=sL[n[t]>>2]+sL[(3&n[t])<<4|n[t+1]>>4]+sL[(15&n[t+1])<<2|n[t+2]>>6]+sL[63&n[t+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i};let sU=new Map,sF=(e,t,n)=>{let r;if(!e||!(sB(e,t)||"object"==typeof e))return;let i=e.constructor.name,o=((r=sU.get(n))||(r=new Map,sU.set(n,r)),r.has(i)||r.set(i,[]),r.get(i)),s=o.indexOf(e);return -1===s&&(s=o.length,o.push(e)),s},sV=(e,t,n)=>e.map(e=>(function e(t,n,r){if(t instanceof Array)return t.map(t=>e(t,n,r));if(null===t);else if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray)return{rr_type:t.constructor.name,args:[Object.values(t)]};else if(t instanceof ArrayBuffer)return{rr_type:t.constructor.name,base64:sj(t)};else if(t instanceof DataView)return{rr_type:t.constructor.name,args:[e(t.buffer,n,r),t.byteOffset,t.byteLength]};else if(t instanceof HTMLImageElement){let e=t.constructor.name,{src:n}=t;return{rr_type:e,src:n}}else if(t instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",src:t.toDataURL()};else if(t instanceof ImageData)return{rr_type:t.constructor.name,args:[e(t.data,n,r),t.width,t.height]};else if(sB(t,n)||"object"==typeof t)return{rr_type:t.constructor.name,index:sF(t,n,r)};return t})(e,t,n)),sB=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(e=>"function"==typeof t[e]).find(n=>e instanceof t[n]);function sz(e,t,n,r){let i=[];try{let o=oW(e.HTMLCanvasElement.prototype,"getContext",function(e){return function(i,...o){if(!oQ(this,t,n,!0)){let e="experimental-webgl"===i?"webgl":i;if("__context"in this||(this.__context=e),r&&["webgl","webgl2"].includes(e)){if(o[0]&&"object"==typeof o[0]){let e=o[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else o.splice(0,1,{preserveDrawingBuffer:!0})}}return e.apply(this,[i,...o])}});i.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(e=>e())}}function sH(e,t,n,r,i,o){let s=[];for(let a of Object.getOwnPropertyNames(e))if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(a))try{if("function"!=typeof e[a])continue;let l=oW(e,a,function(e){return function(...s){let l=e.apply(this,s);if(sF(l,o,this),"tagName"in this.canvas&&!oQ(this.canvas,r,i,!0)){let e=sV(s,o,this),r={type:t,property:a,args:e};n(this.canvas,r)}return l}});s.push(l)}catch{let r=oG(e,a,{set(e){n(this.canvas,{type:t,property:a,args:[e],setter:!0})}});s.push(r)}return s}let sq="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",sK="undefined"!=typeof window&&window.Blob&&new Blob([Uint8Array.from(atob(sq),e=>e.charCodeAt(0))],{type:"text/javascript;charset=utf-8"});function sG(e){let t;try{if(!(t=sK&&(window.URL||window.webkitURL).createObjectURL(sK)))throw"";let n=new Worker(t,{name:null==e?void 0:e.name});return n.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(t)}),n}catch(t){return new Worker("data:text/javascript;base64,"+sq,{name:null==e?void 0:e.name})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}class sW{constructor(e){nl(this,"pendingCanvasMutations",new Map),nl(this,"rafStamps",{latestId:0,invokeId:null}),nl(this,"mirror"),nl(this,"mutationCb"),nl(this,"resetObservers"),nl(this,"frozen",!1),nl(this,"locked",!1),nl(this,"processMutation",(e,t)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)});let{sampling:t="all",win:n,blockClass:r,blockSelector:i,recordCanvas:o,dataURLOptions:s}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,o&&"all"===t&&this.initCanvasMutationObserver(n,r,i),o&&"number"==typeof t&&this.initCanvasFPSObserver(t,n,r,i,{dataURLOptions:s})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(e,t,n,r,i){let o;let s=sz(t,n,r,!0),a=new Map,l=new sG;l.onmessage=e=>{let{id:t}=e.data;if(a.set(t,!1),!("base64"in e.data))return;let{base64:n,type:r,width:i,height:o}=e.data;this.mutationCb({id:t,type:sl["2D"],commands:[{property:"clearRect",args:[0,0,i,o]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:n}],type:r}]},0,0]}]})};let c=1e3/e,u=0,d=()=>{let e=[];return t.document.querySelectorAll("canvas").forEach(t=>{oQ(t,n,r,!0)||e.push(t)}),e},h=e=>{if(u&&e-u<c){o=requestAnimationFrame(h);return}u=e,d().forEach(async e=>{var t;let n=this.mirror.getId(e);if(a.get(n)||0===e.width||0===e.height)return;if(a.set(n,!0),["webgl","webgl2"].includes(e.__context)){let n=e.getContext(e.__context);(null==(t=null==n?void 0:n.getContextAttributes())?void 0:t.preserveDrawingBuffer)===!1&&n.clear(n.COLOR_BUFFER_BIT)}let r=await createImageBitmap(e);l.postMessage({id:n,bitmap:r,width:e.width,height:e.height,dataURLOptions:i.dataURLOptions},[r])}),o=requestAnimationFrame(h)};o=requestAnimationFrame(h),this.resetObservers=()=>{s(),cancelAnimationFrame(o)}}initCanvasMutationObserver(e,t,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let r=sz(e,t,n,!1),i=function(e,t,n,r){let i=[];for(let o of Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype))try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[o])continue;let s=oW(t.CanvasRenderingContext2D.prototype,o,function(i){return function(...s){return oQ(this.canvas,n,r,!0)||setTimeout(()=>{let n=sV(s,t,this);e(this.canvas,{type:sl["2D"],property:o,args:n})},0),i.apply(this,s)}});i.push(s)}catch{let n=oG(t.CanvasRenderingContext2D.prototype,o,{set(t){e(this.canvas,{type:sl["2D"],property:o,args:[t],setter:!0})}});i.push(n)}return()=>{i.forEach(e=>e())}}(this.processMutation.bind(this),e,t,n),o=function(e,t,n,r){let i=[];return i.push(...sH(t.WebGLRenderingContext.prototype,sl.WebGL,e,n,r,t)),void 0!==t.WebGL2RenderingContext&&i.push(...sH(t.WebGL2RenderingContext.prototype,sl.WebGL2,e,n,r,t)),()=>{i.forEach(e=>e())}}(this.processMutation.bind(this),e,t,n);this.resetObservers=()=>{r(),i(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{let n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;let n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;let r=n.map(e=>{let{type:t,...n}=e;return n}),{type:i}=n[0];this.mutationCb({id:t,type:i,commands:r}),this.pendingCanvasMutations.delete(e)}}class s${constructor(e){nl(this,"trackedLinkElements",new WeakSet),nl(this,"mutationCb"),nl(this,"adoptedStyleSheetCb"),nl(this,"styleMirror",new o7),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;let n={id:t,styleIds:[]},r=[];for(let t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,(e,n)=>({rule:nx(e,t.href),index:n}))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class sZ{constructor(){nl(this,"nodeMap",new WeakMap),nl(this,"active",!1)}inOtherBuffer(e,t){let n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t)}add(e,t){this.active||(this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let sJ=!1;try{if(2!==Array.from([1],e=>2*e)[0]){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=(null==(ed=e.contentWindow)?void 0:ed.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}let sY=new nk;function sX(e={}){let t;let{emit:n,checkoutEveryNms:r,checkoutEveryNth:i,blockClass:o="rr-block",blockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskTextClass:c="rr-mask",maskTextSelector:u=null,inlineStylesheet:d=!0,maskAllInputs:h,maskInputOptions:p,slimDOMOptions:f,maskInputFn:m,maskTextFn:g,hooks:v,packFn:y,sampling:b={},dataURLOptions:w={},mousemoveWait:S,recordDOM:E=!0,recordCanvas:T=!1,recordCrossOriginIframes:P=!1,recordAfter:I="DOMContentLoaded"===e.recordAfter?e.recordAfter:"load",userTriggeredOnInput:R=!1,collectFonts:O=!1,inlineImages:A=!1,plugins:N,keepIframeSrcFn:L=()=>!1,ignoreCSSAttributes:M=new Set([]),errorHandler:D}=e;_=D;let j=!P||window.parent===window,U=!1;if(!j)try{window.parent.document&&(U=!1)}catch(e){U=!0}if(j&&!n)throw Error("emit function is required");if(!j&&!U)return()=>{};void 0!==S&&void 0===b.mousemove&&(b.mousemove=S),sY.reset();let F=!0===h?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==p?p:{password:!0},V=!0===f||"all"===f?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===f,headMetaDescKeywords:"all"===f,headTitleMutations:"all"===f}:f||{};o4();let B=0,z=e=>{for(let t of N||[])t.eventProcessor&&(e=t.eventProcessor(e));return y&&!U&&(e=y(e)),e};C=(e,o)=>{var s;if(e.timestamp=o$(),(null==(s=sb[0])?void 0:s.isFrozen())&&e.type!==si.FullSnapshot&&!(e.type===si.IncrementalSnapshot&&e.data.source===so.Mutation)&&sb.forEach(e=>e.unfreeze()),j)null==n||n(z(e),o);else if(U){let t={type:"rrweb",event:z(e),origin:window.location.origin,isCheckout:o};window.parent.postMessage(t,"*")}if(e.type===si.FullSnapshot)t=e,B=0;else if(e.type===si.IncrementalSnapshot){if(e.data.source===so.Mutation&&e.data.isAttachIframe)return;B++;let n=i&&B>=i,o=r&&e.timestamp-t.timestamp>r;(n||o)&&x(!0)}};let H=e=>{C({type:si.IncrementalSnapshot,data:{source:so.Mutation,...e}})},q=e=>C({type:si.IncrementalSnapshot,data:{source:so.Scroll,...e}}),K=e=>C({type:si.IncrementalSnapshot,data:{source:so.CanvasMutation,...e}}),G=new s$({mutationCb:H,adoptedStyleSheetCb:e=>C({type:si.IncrementalSnapshot,data:{source:so.AdoptedStyleSheet,...e}})}),W=new sA({mirror:sY,mutationCb:H,stylesheetManager:G,recordCrossOriginIframes:P,wrappedEmit:C});for(let e of N||[])e.getMirror&&e.getMirror({nodeMirror:sY,crossOriginIframeMirror:W.crossOriginIframeMirror,crossOriginIframeStyleMirror:W.crossOriginIframeStyleMirror});let $=new sZ;k=new sW({recordCanvas:T,mutationCb:K,win:window,blockClass:o,blockSelector:s,mirror:sY,sampling:b.canvas,dataURLOptions:w});let Z=new sN({mutationCb:H,scrollCb:q,bypassOptions:{blockClass:o,blockSelector:s,maskTextClass:c,maskTextSelector:u,inlineStylesheet:d,maskInputOptions:F,dataURLOptions:w,maskTextFn:g,maskInputFn:m,recordCanvas:T,inlineImages:A,sampling:b,slimDOMOptions:V,iframeManager:W,stylesheetManager:G,canvasManager:k,keepIframeSrcFn:L,processedNodeManager:$},mirror:sY});x=(e=!1)=>{if(!E)return;C({type:si.Meta,data:{href:window.location.href,width:oY(),height:oJ()}},e),G.reset(),Z.init(),sb.forEach(e=>e.lock());let t=function(e,t){let{mirror:n=new nk,blockClass:r="rr-block",blockSelector:i=null,maskTextClass:o="rr-mask",maskTextSelector:s=null,inlineStylesheet:a=!0,inlineImages:l=!1,recordCanvas:c=!1,maskAllInputs:u=!1,maskTextFn:d,maskInputFn:h,slimDOM:p=!1,dataURLOptions:f,preserveWhiteSpace:m,onSerialize:g,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:_=()=>!1}=t||{};return n$(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,maskTextClass:o,maskTextSelector:s,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===u?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===u?{password:!0}:u,maskTextFn:d,maskInputFn:h,slimDOMOptions:!0===p||"all"===p?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===p,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===p?{}:p,dataURLOptions:f,inlineImages:l,recordCanvas:c,preserveWhiteSpace:m,onSerialize:g,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:_,newlyAddedElement:!1})}(document,{mirror:sY,blockClass:o,blockSelector:s,maskTextClass:c,maskTextSelector:u,inlineStylesheet:d,maskAllInputs:F,maskTextFn:g,maskInputFn:m,slimDOM:V,dataURLOptions:w,recordCanvas:T,inlineImages:A,onSerialize:e=>{o5(e,sY)&&W.addIframe(e),o6(e,sY)&&G.trackLinkElement(e),o8(e)&&Z.addShadowRoot(oB.shadowRoot(e),document)},onIframeLoad:(e,t)=>{W.attachIframe(e,t),Z.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{G.attachLinkElement(e,t)},keepIframeSrcFn:L});if(!t)return console.warn("Failed to snapshot the document");C({type:si.FullSnapshot,data:{node:t,initialOffset:oZ(window)}},e),sb.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&G.adoptStyleSheets(document.adoptedStyleSheets,sY.getId(document))};try{let e=[],t=e=>{var t;return sv(sP)({mutationCb:H,mousemoveCb:(e,t)=>C({type:si.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>C({type:si.IncrementalSnapshot,data:{source:so.MouseInteraction,...e}}),scrollCb:q,viewportResizeCb:e=>C({type:si.IncrementalSnapshot,data:{source:so.ViewportResize,...e}}),inputCb:e=>C({type:si.IncrementalSnapshot,data:{source:so.Input,...e}}),mediaInteractionCb:e=>C({type:si.IncrementalSnapshot,data:{source:so.MediaInteraction,...e}}),styleSheetRuleCb:e=>C({type:si.IncrementalSnapshot,data:{source:so.StyleSheetRule,...e}}),styleDeclarationCb:e=>C({type:si.IncrementalSnapshot,data:{source:so.StyleDeclaration,...e}}),canvasMutationCb:K,fontCb:e=>C({type:si.IncrementalSnapshot,data:{source:so.Font,...e}}),selectionCb:e=>{C({type:si.IncrementalSnapshot,data:{source:so.Selection,...e}})},customElementCb:e=>{C({type:si.IncrementalSnapshot,data:{source:so.CustomElement,...e}})},blockClass:o,ignoreClass:a,ignoreSelector:l,maskTextClass:c,maskTextSelector:u,maskInputOptions:F,inlineStylesheet:d,sampling:b,recordDOM:E,recordCanvas:T,inlineImages:A,userTriggeredOnInput:R,collectFonts:O,doc:e,maskInputFn:m,maskTextFn:g,keepIframeSrcFn:L,blockSelector:s,slimDOMOptions:V,dataURLOptions:w,mirror:sY,iframeManager:W,stylesheetManager:G,shadowDomManager:Z,processedNodeManager:$,canvasManager:k,ignoreCSSAttributes:M,plugins:(null==(t=null==N?void 0:N.filter(e=>e.observer))?void 0:t.map(e=>({observer:e.observer,options:e.options,callback:t=>C({type:si.Plugin,data:{plugin:e.name,payload:t}})})))||[]},v)};W.addLoadListener(n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}});let n=()=>{x(),e.push(t(document)),sJ=!0};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(oz("DOMContentLoaded",()=>{C({type:si.DomContentLoaded,data:{}}),"DOMContentLoaded"===I&&n()})),e.push(oz("load",()=>{C({type:si.Load,data:{}}),"load"===I&&n()},window))),()=>{e.forEach(e=>e()),$.destroy(),sJ=!1,_=void 0}}catch(e){console.warn(e)}}sX.addCustomEvent=(e,t)=>{if(!sJ)throw Error("please add custom event after start recording");C({type:si.Custom,data:{tag:e,payload:t}})},sX.freezePage=()=>{sb.forEach(e=>e.freeze())},sX.takeFullSnapshot=e=>{if(!sJ)throw Error("please take full snapshot after start recording");x(e)},sX.mirror=sY,(Y=eh||(eh={}))[Y.NotStarted=0]="NotStarted",Y[Y.Running=1]="Running",Y[Y.Stopped=2]="Stopped";let{addCustomEvent:sQ}=sX,{freezePage:s0}=sX,{takeFullSnapshot:s1}=sX;var s2=n(56938),s3=n(26913),s4="Remote config fetch rejected due to timeout after 5 seconds",s5="Unexpected error occurred",s6=function(){function e(e){var t=e.localConfig,n=e.configKeys,r=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(e,t,n){return(0,tY.mG)(r,void 0,void 0,function(){var r,i,o;return(0,tY.Jh)(this,function(s){switch(s.label){case 0:return r=Date.now(),[4,this.fetchWithTimeout(n)];case 1:if((i=s.sent())&&(o=i.configs&&i.configs[e]))return this.metrics.fetchTimeAPISuccess=Date.now()-r,[2,o[t]];return this.metrics.fetchTimeAPIFail=Date.now()-r,[2,void 0]}})})},this.fetchWithTimeout=function(e){return(0,tY.mG)(r,void 0,void 0,function(){var t,n,r;return(0,tY.Jh)(this,function(i){switch(i.label){case 0:return t=new AbortController,n=setTimeout(function(){return t.abort()},5e3),[4,this.fetchRemoteConfig(t.signal,e)];case 1:return r=i.sent(),clearTimeout(n),[2,r]}})})},this.fetchRemoteConfig=function(e,t){return(0,tY.mG)(r,void 0,void 0,function(){var n,r,i,o,s,a,l,c,u,d,h;return(0,tY.Jh)(this,function(p){switch(p.label){case 0:if(t===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:"Remote config fetch rejected due to exceeded retry count"})];if(e.aborted)return[2,this.completeRequest({err:s4})];t!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=t,this.attempts=0),p.label=1;case 1:p.trys.push([1,3,,4]),n=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(i=(r=(0,tY.XA)(this.configKeys)).next();!i.done;i=r.next())o=i.value,n.append("config_keys",o)}catch(e){u={error:e}}finally{try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(u)throw u.error}}return t&&n.set("session_id",String(t)),s={headers:{Accept:"*/*"},method:"GET"},a="".concat(this.getServerUrl(),"?").concat(n.toString()),this.attempts+=1,[4,fetch(a,(0,tY.pi)((0,tY.pi)({},s),{signal:e}))];case 2:if(null===(l=p.sent()))return[2,this.completeRequest({err:s5})];switch(new s2.d().buildStatus(l.status)){case s3.q.Success:return this.attempts=0,[2,this.parseAndStoreConfig(l)];case s3.q.Failed:return[2,this.retryFetch(e,t)];default:return[2,this.completeRequest({err:"Network error occurred, remote config fetch failed"})]}return[3,4];case 3:if(c=p.sent(),e.aborted)return[2,this.completeRequest({err:s4})];return[2,this.completeRequest({err:null!==(h=c.message)&&void 0!==h?h:s5})];case 4:return[2]}})})},this.retryFetch=function(e,t){return(0,tY.mG)(r,void 0,void 0,function(){var n=this;return(0,tY.Jh)(this,function(r){switch(r.label){case 0:return[4,new Promise(function(e){return setTimeout(e,n.attempts*n.retryTimeout)})];case 1:return r.sent(),[2,this.fetchRemoteConfig(e,t)]}})})},this.parseAndStoreConfig=function(e){return(0,tY.mG)(r,void 0,void 0,function(){var t;return(0,tY.Jh)(this,function(n){switch(n.label){case 0:return[4,e.json()];case 1:return t=n.sent(),this.completeRequest({success:"Remote config successfully fetched"}),[2,t]}})})},this.localConfig=t,this.configKeys=n}return e.prototype.getServerUrl=function(){return this.localConfig.configServerUrl?this.localConfig.configServerUrl:this.localConfig.serverZone===t3.J.STAGING?"https://sr-client-cfg.stag2.amplitude.com/config":this.localConfig.serverZone===t3.J.EU?"https://sr-client-cfg.eu.amplitude.com/config":"https://sr-client-cfg.amplitude.com/config"},e.prototype.completeRequest=function(e){var t=e.err,n=e.success;if(t)throw Error(t);n&&this.localConfig.loggerProvider.log(n)},e}(),s8=function(e){var t=e.localConfig,n=e.configKeys;return(0,tY.mG)(void 0,void 0,void 0,function(){return(0,tY.Jh)(this,function(e){return[2,new s6({localConfig:t,configKeys:n})]})})},s7=n(48834).lW,s9=n(93542),ae=((X=ae||{})[X.Document=0]="Document",X[X.DocumentType=1]="DocumentType",X[X.Element=2]="Element",X[X.Text=3]="Text",X[X.CDATA=4]="CDATA",X[X.Comment=5]="Comment",X);RegExp(/(max|min)-device-(width|height)/.source,"g");var at={exports:{}},an=String,ar=function(){return{isColorSupported:!1,reset:an,bold:an,dim:an,italic:an,underline:an,inverse:an,hidden:an,strikethrough:an,black:an,red:an,green:an,yellow:an,blue:an,magenta:an,cyan:an,white:an,gray:an,bgBlack:an,bgRed:an,bgGreen:an,bgYellow:an,bgBlue:an,bgMagenta:an,bgCyan:an,bgWhite:an}};at.exports=ar(),at.exports.createColors=ar;var ai=at.exports;let ao=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),as=class e extends Error{constructor(t,n,r,i,o,s){super(t),this.name="CssSyntaxError",this.reason=t,o&&(this.file=o),i&&(this.source=i),s&&(this.plugin=s),void 0!==n&&void 0!==r&&("number"==typeof n?(this.line=n,this.column=r):(this.line=n.line,this.column=n.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){let t,n;if(!this.source)return"";let r=this.source;null==e&&(e=ai.isColorSupported),ao&&e&&(r=ao(r));let i=r.split(/\r?\n/),o=Math.max(this.line-3,0),s=Math.min(this.line+2,i.length),a=String(s).length;if(e){let{bold:e,gray:r,red:i}=ai.createColors(!0);t=t=>e(i(t)),n=e=>r(e)}else t=n=e=>e;return i.slice(o,s).map((e,r)=>{let i=o+1+r,s=" "+(" "+i).slice(-a)+" | ";if(i===this.line){let r=n(s.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return t(">")+n(s)+e+"\n "+r+t("^")}return" "+n(s)+e}).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};as.default=as;var aa={};aa.isClean=Symbol("isClean"),aa.my=Symbol("my");let al={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},ac=class{constructor(e){this.builder=e}atrule(e,t){let n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{let i=(e.raws.between||"")+(t?";":"");this.builder(n+r+i,e)}}beforeAfter(e,t){let n;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let r=e.parent,i=0;for(;r&&"root"!==r.type;)i+=1,r=r.parent;if(n.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<i;e++)n+=t}return n}block(e,t){let n,r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let n=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let i=e.nodes[r],o=this.raw(i,"before");o&&this.builder(o),this.stringify(i,t!==r||n)}}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}document(e){this.body(e)}raw(e,t,n){let r;if(n||(n=t),t&&void 0!==(r=e.raws[t]))return r;let i=e.parent;if("before"===n&&(!i||"root"===i.type&&i.first===e||i&&"document"===i.type))return"";if(!i)return al[n];let o=e.root();if(o.rawCache||(o.rawCache={}),void 0!==o.rawCache[n])return o.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(e,n);{var s;let i="raw"+((s=n)[0].toUpperCase()+s.slice(1));this[i]?r=this[i](o,e):o.walk(e=>{if(void 0!==(r=e.raws[t]))return!1})}return void 0===r&&(r=al[n]),o.rawCache[n]=r,r}rawBeforeClose(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let n;return e.walkComments(e=>{if(void 0!==e.raws.before)return(n=e.raws.before).includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls(e=>{if(void 0!==e.raws.before)return(n=e.raws.before).includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(e){let t;return e.walk(e=>{if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t}rawBeforeRule(e){let t;return e.walk(n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return(t=n.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(e=>{if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t}rawIndent(e){let t;return e.raws.indent?e.raws.indent:(e.walk(n=>{let r=n.parent;if(r&&r!==e&&r.parent&&r.parent===e&&void 0!==n.raws.before){let e=n.raws.before.split("\n");return t=(t=e[e.length-1]).replace(/\S/g,""),!1}}),t)}rawSemicolon(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t}rawValue(e,t){let n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};function au(e,t){new ac(t).stringify(e)}ac.default=ac,au.default=au;let{isClean:ad,my:ah}=aa,ap=class{constructor(e={}){for(let t in this.raws={},this[ad]=!1,this[ah]=!0,e)if("nodes"===t)for(let n of(this.nodes=[],e[t]))"function"==typeof n.clone?this.append(n.clone()):this.append(n);else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=function e(t,n){let r=new t.constructor;for(let i in t){if(!Object.prototype.hasOwnProperty.call(t,i)||"proxyCache"===i)continue;let o=t[i],s=typeof o;"parent"===i&&"object"===s?n&&(r[i]=n):"source"===i?r[i]=o:Array.isArray(o)?r[i]=o.map(t=>e(t,r)):("object"===s&&null!==o&&(o=e(o)),r[i]=o)}return r}(this);for(let n in e)t[n]=e[n];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:n,start:r}=this.rangeBy(t);return this.source.input.error(e,{column:r.column,line:r.line},{column:n.column,line:n.line},t)}return new as(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,n)=>e[t]===n||(e[t]=n,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty(),!0)}}markDirty(){if(this[ad]){this[ad]=!1;let e=this;for(;e=e.parent;)e[ad]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let n=this.source.start;if(e.index)n=this.positionInside(e.index,t);else if(e.word){let r=(t=this.toString()).indexOf(e.word);-1!==r&&(n=this.positionInside(r,t))}return n}positionInside(e,t){let n=t||this.toString(),r=this.source.start.column,i=this.source.start.line;for(let t=0;t<e;t++)"\n"===n[t]?(r=1,i+=1):r+=1;return{column:r,line:i}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let r=this.toString(),i=r.indexOf(e.word);-1!==i&&(t=this.positionInside(i,r),n=this.positionInside(i+e.word.length,r))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?n={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={column:t.column+1,line:t.line}),{end:n,start:t}}raw(e,t){return new ac().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let r of e)r===this?n=!0:n?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);n||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let n={},r=null==t;t=t||new Map;let i=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e)||"parent"===e||"proxyCache"===e)continue;let r=this[e];if(Array.isArray(r))n[e]=r.map(e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e);else if("object"==typeof r&&r.toJSON)n[e]=r.toJSON(null,t);else if("source"===e){let o=t.get(r.input);null==o&&(o=i,t.set(r.input,i),i++),n[e]={end:r.end,inputId:o,start:r.start}}else n[e]=r}return r&&(n.inputs=[...t.keys()].map(e=>e.toJSON())),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=au){e.stringify&&(e=e.stringify);let t="";return e(this,e=>{t+=e}),t}warn(e,t,n){let r={node:this};for(let e in n)r[e]=n[e];return e.warn(t,r)}get proxyOf(){return this}};ap.default=ap;let af=ap,am=class extends af{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};am.default=am;let{SourceMapConsumer:ag,SourceMapGenerator:av}=ao,{existsSync:ay,readFileSync:ab}=ao,{dirname:aw,join:a_}=ao,aC=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,r=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=aw(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new ag(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e)){var t;return t=e.substr(RegExp.lastMatch.length),s7?s7.from(t,"base64").toString():window.atob(t)}throw Error("Unsupported source map encoding "+e.match(/data:application\/json;([^,]+),/)[1])}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let n=e.lastIndexOf(t.pop()),r=e.indexOf("*/",n);n>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,r)))}loadFile(e){if(this.root=aw(e),ay(e))return this.mapFile=e,ab(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"==typeof t){let n=t(e);if(n){let e=this.loadFile(n);if(!e)throw Error("Unable to load previous source map: "+n.toString());return e}}else if(t instanceof ag)return av.fromSourceMap(t).toString();else if(t instanceof av)return t.toString();else if(this.isMap(t))return JSON.stringify(t);else throw Error("Unsupported previous source map format: "+t.toString())}else if(this.inline)return this.decodeInline(this.annotation);else if(this.annotation){let t=this.annotation;return e&&(t=a_(aw(e),t)),this.loadFile(t)}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};aC.default=aC;let{SourceMapConsumer:ax,SourceMapGenerator:ak}=ao,{fileURLToPath:aS,pathToFileURL:aE}=ao,{isAbsolute:aT,resolve:aP}=ao,{nanoid:aI}={nanoid:(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(n=t)=>{let r="",i=n;for(;i--;)r+=e[Math.random()*e.length|0];return r}},aR=Symbol("fromOffsetCache"),aO=!!(ax&&ak),aA=!!(aP&&aT),aN=class{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\uFEFF"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!aA||/^\w+:\/\//.test(t.from)||aT(t.from)?this.file=t.from:this.file=aP(t.from)),aA&&aO){let e=new aC(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+aI(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,n,r={}){let i,o,s;if(t&&"object"==typeof t){let e=t,r=n;if("number"==typeof e.offset){let r=this.fromOffset(e.offset);t=r.line,n=r.col}else t=e.line,n=e.column;if("number"==typeof r.offset){let e=this.fromOffset(r.offset);o=e.line,s=e.col}else o=r.line,s=r.column}else if(!n){let e=this.fromOffset(t);t=e.line,n=e.col}let a=this.origin(t,n,o,s);return(i=a?new as(e,void 0===a.endLine?a.line:{column:a.column,line:a.line},void 0===a.endLine?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,r.plugin):new as(e,void 0===o?t:{column:n,line:t},void 0===o?n:{column:s,line:o},this.css,this.file,r.plugin)).input={column:n,endColumn:s,endLine:o,line:t,source:this.css},this.file&&(aE&&(i.input.url=aE(this.file).toString()),i.input.file=this.file),i}fromOffset(e){let t,n;if(this[aR])n=this[aR];else{let e=this.css.split("\n");n=Array(e.length);let t=0;for(let r=0,i=e.length;r<i;r++)n[r]=t,t+=e[r].length+1;this[aR]=n}t=n[n.length-1];let r=0;if(e>=t)r=n.length-1;else{let t,i=n.length-2;for(;r<i;)if(e<n[t=r+(i-r>>1)])i=t-1;else if(e>=n[t+1])r=t+1;else{r=t;break}}return{col:e-n[r]+1,line:r+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:aP(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,n,r){let i,o;if(!this.map)return!1;let s=this.map.consumer(),a=s.originalPositionFor({column:t,line:e});if(!a.source)return!1;"number"==typeof n&&(i=s.originalPositionFor({column:r,line:n})),o=aT(a.source)?aE(a.source):new URL(a.source,this.map.consumer().sourceRoot||aE(this.map.mapFile));let l={column:a.column,endColumn:i&&i.column,endLine:i&&i.line,line:a.line,url:o.toString()};if("file:"===o.protocol){if(aS)l.file=aS(o);else throw Error("file: protocol is not available in this PostCSS build")}let c=s.sourceContentFor(a.source);return c&&(l.source=c),l}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};aN.default=aN,ao&&ao.registerInput&&ao.registerInput(aN);let{SourceMapConsumer:aL,SourceMapGenerator:aM}=ao,{dirname:aD,relative:aj,resolve:aU,sep:aF}=ao,{pathToFileURL:aV}=ao,aB=!!(aL&&aM),az=!!(aD&&aU&&aj&&aF),aH=class{constructor(e,t,n,r){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=r,this.originalCSS=r,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,n=this.toUrl(this.path(e.file)),r=e.root||aD(e.file);!1===this.mapOpts.sourcesContent?(t=new aL(e.text)).sourcesContent&&(t.sourcesContent=null):t=e.consumer(),this.map.applySourceMap(t,n,this.toUrl(this.path(r)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation){if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}}generate(){if(this.clearAnnotation(),az&&aB&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=aM.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new aM({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return(this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline())?[this.css]:[this.css,this.map]}generateString(){let e,t;this.css="",this.map=new aM({file:this.outputFile(),ignoreInvalidMapping:!0});let n=1,r=1,i="<no source>",o={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(s,a,l)=>{if(this.css+=s,a&&"end"!==l&&(o.generated.line=n,o.generated.column=r-1,a.source&&a.source.start?(o.source=this.sourcePath(a),o.original.line=a.source.start.line,o.original.column=a.source.start.column-1):(o.source=i,o.original.line=1,o.original.column=0),this.map.addMapping(o)),(e=s.match(/\n/g))?(n+=e.length,t=s.lastIndexOf("\n"),r=s.length-t):r+=s.length,a&&"start"!==l){let e=a.parent||{raws:{}};(!("decl"===a.type||"atrule"===a.type&&!a.nodes)||a!==e.last||e.raws.semicolon)&&(a.source&&a.source.end?(o.source=this.sourcePath(a),o.original.line=a.source.end.line,o.original.column=a.source.end.column-1,o.generated.line=n,o.generated.column=r-2):(o.source=i,o.original.line=1,o.original.column=0,o.generated.line=n,o.generated.column=r-1),this.map.addMapping(o))}})}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(e=>e.annotation))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(e=>e.inline))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(e=>e.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||60===e.charCodeAt(0)||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let n=this.opts.to?aD(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(n=aD(aU(n,this.mapOpts.annotation)));let r=aj(n,e);return this.memoizedPaths.set(e,r),r}previous(){if(!this.previousMaps){if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new aN(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let n=t.source.input.from;if(n&&!e[n]){e[n]=!0;let r=this.usesFileUrls?this.toFileUrl(n):this.toUrl(this.path(n));this.map.setSourceContent(r,t.source.input.css)}}});else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return s7?s7.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(aV){let t=aV(e).toString();return this.memoizedFileURLs.set(e,t),t}throw Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===aF&&(e=e.replace(/\\/g,"/"));let n=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,n),n}},aq=ap,aK=class extends aq{constructor(e){super(e),this.type="comment"}};aK.default=aK;let{isClean:aG,my:aW}=aa,a$=ap,aZ=class e extends a${append(...e){for(let t of e)for(let e of this.normalize(t,this.last))this.proxyOf.nodes.push(e);return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){let t,n;if(!this.proxyOf.nodes)return;let r=this.getIterator();for(;this.indexes[r]<this.proxyOf.nodes.length&&(t=this.indexes[r],!1!==(n=e(this.proxyOf.nodes[t],t)));)this.indexes[r]+=1;return delete this.indexes[r],n}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){if("proxyOf"===t)return e;if(!e[t])return e[t];if("each"===t||"string"==typeof t&&t.startsWith("walk"))return(...n)=>e[t](...n.map(e=>"function"==typeof e?(t,n)=>e(t.toProxy(),n):e));if("every"===t||"some"===t)return n=>e[t]((e,...t)=>n(e.toProxy(),...t));if("root"===t)return()=>e.root().toProxy();if("nodes"===t)return e.nodes.map(e=>e.toProxy());if("first"===t||"last"===t)return e[t].toProxy();else return e[t]},set:(e,t,n)=>e[t]===n||(e[t]=n,("name"===t||"params"===t||"selector"===t)&&e.markDirty(),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let n,r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();for(let t of(r=this.index(e),i))this.proxyOf.nodes.splice(r+1,0,t);for(let e in this.indexes)r<(n=this.indexes[e])&&(this.indexes[e]=n+i.length);return this.markDirty(),this}insertBefore(e,t){let n,r=this.index(e),i=0===r&&"prepend",o=this.normalize(t,this.proxyOf.nodes[r],i).reverse();for(let t of(r=this.index(e),o))this.proxyOf.nodes.splice(r,0,t);for(let e in this.indexes)r<=(n=this.indexes[e])&&(this.indexes[e]=n+o.length);return this.markDirty(),this}normalize(t,n){if("string"==typeof t)t=function e(t){return t.map(t=>(t.nodes&&(t.nodes=e(t.nodes)),delete t.source,t))}(S(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t))for(let e of t=t.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if("root"===t.type&&"document"!==this.type)for(let e of t=t.nodes.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new am(t)]}else if(t.selector)t=[new E(t)];else if(t.name)t=[new T(t)];else if(t.text)t=[new aK(t)];else throw Error("Unknown node type in node creation");return t.map(t=>(t[aW]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[aG]&&function e(t){if(t[aG]=!1,t.proxyOf.nodes)for(let n of t.proxyOf.nodes)e(n)}(t),void 0===t.raws.before&&n&&void 0!==n.raws.before&&(t.raws.before=n.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t))}prepend(...e){for(let t of e=e.reverse()){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;for(let n in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[n])>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls(r=>{(!t.props||t.props.includes(r.prop))&&(!t.fast||r.value.includes(t.fast))&&(r.value=r.value.replace(e,n))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,n)=>{let r;try{r=e(t,n)}catch(e){throw t.addToError(e)}return!1!==r&&t.walk&&(r=t.walk(e)),r})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((n,r)=>{if("atrule"===n.type&&e.test(n.name))return t(n,r)}):this.walk((n,r)=>{if("atrule"===n.type&&n.name===e)return t(n,r)}):(t=e,this.walk((e,n)=>{if("atrule"===e.type)return t(e,n)}))}walkComments(e){return this.walk((t,n)=>{if("comment"===t.type)return e(t,n)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((n,r)=>{if("decl"===n.type&&e.test(n.prop))return t(n,r)}):this.walk((n,r)=>{if("decl"===n.type&&n.prop===e)return t(n,r)}):(t=e,this.walk((e,n)=>{if("decl"===e.type)return t(e,n)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((n,r)=>{if("rule"===n.type&&e.test(n.selector))return t(n,r)}):this.walk((n,r)=>{if("rule"===n.type&&n.selector===e)return t(n,r)}):(t=e,this.walk((e,n)=>{if("rule"===e.type)return t(e,n)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};aZ.registerParse=e=>{S=e},aZ.registerRule=e=>{E=e},aZ.registerAtRule=e=>{T=e},aZ.registerRoot=e=>{P=e},aZ.default=aZ,aZ.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,T.prototype):"rule"===e.type?Object.setPrototypeOf(e,E.prototype):"decl"===e.type?Object.setPrototypeOf(e,am.prototype):"comment"===e.type?Object.setPrototypeOf(e,aK.prototype):"root"===e.type&&Object.setPrototypeOf(e,P.prototype),e[aW]=!0,e.nodes&&e.nodes.forEach(e=>{aZ.rebuild(e)})};let aJ=aZ,aY=class extends aJ{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new I(new R,this,e).stringify()}};aY.registerLazyResult=e=>{I=e},aY.registerProcessor=e=>{R=e},aY.default=aY;let aX=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};aX.default=aX;let aQ=class{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){!t.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new aX(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter(e=>"warning"===e.type)}get content(){return this.css}};aQ.default=aQ;let a0=/[\t\n\f\r "#'()/;[\\\]{}]/g,a1=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,a2=/.[\r\n"'(/\\]/,a3=/[\da-f]/i,a4=aZ,a5=class extends a4{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};a5.default=a5,a4.registerAtRule(a5);let a6=aZ,a8=class extends a6{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,n){let r=super.normalize(e);if(t){if("prepend"===n)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of r)e.raws.before=t.raws.before}return r}removeChild(e,t){let n=this.index(e);return!t&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}toResult(e={}){return new O(new A,this,e).stringify()}};a8.registerLazyResult=e=>{O=e},a8.registerProcessor=e=>{A=e},a8.default=a8,a6.registerRoot(a8);let a7={comma:e=>a7.split(e,[","],!0),space:e=>a7.split(e,[" ","\n","	"]),split(e,t,n){let r=[],i="",o=!1,s=0,a=!1,l="",c=!1;for(let n of e)c?c=!1:"\\"===n?c=!0:a?n===l&&(a=!1):'"'===n||"'"===n?(a=!0,l=n):"("===n?s+=1:")"===n?s>0&&(s-=1):0===s&&t.includes(n)&&(o=!0),o?(""!==i&&r.push(i.trim()),i="",o=!1):i+=n;return(n||""!==i)&&r.push(i.trim()),r}};a7.default=a7;let a9=aZ,le=class extends a9{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return a7.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}};le.default=le,a9.registerRule(le);let lt=function(e,t={}){let n,r,i,o,s,a,l,c,u,d,h=e.css.valueOf(),p=t.ignoreErrors,f=h.length,m=0,g=[],v=[];function y(t){throw e.error("Unclosed "+t,m)}return{back:function(e){v.push(e)},endOfFile:function(){return 0===v.length&&m>=f},nextToken:function(e){if(v.length)return v.pop();if(m>=f)return;let t=!!e&&e.ignoreUnclosed;switch(n=h.charCodeAt(m)){case 10:case 32:case 9:case 13:case 12:r=m;do r+=1,n=h.charCodeAt(r);while(32===n||10===n||9===n||13===n||12===n);d=["space",h.slice(m,r)],m=r-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let e=String.fromCharCode(n);d=[e,e,m];break}case 40:if(c=g.length?g.pop()[1]:"",u=h.charCodeAt(m+1),"url"===c&&39!==u&&34!==u&&32!==u&&10!==u&&9!==u&&12!==u&&13!==u){r=m;do{if(a=!1,-1===(r=h.indexOf(")",r+1))){if(p||t){r=m;break}y("bracket")}for(l=r;92===h.charCodeAt(l-1);)l-=1,a=!a}while(a);d=["brackets",h.slice(m,r+1),m,r],m=r}else r=h.indexOf(")",m+1),o=h.slice(m,r+1),-1===r||a2.test(o)?d=["(","(",m]:(d=["brackets",o,m,r],m=r);break;case 39:case 34:i=39===n?"'":'"',r=m;do{if(a=!1,-1===(r=h.indexOf(i,r+1))){if(p||t){r=m+1;break}y("string")}for(l=r;92===h.charCodeAt(l-1);)l-=1,a=!a}while(a);d=["string",h.slice(m,r+1),m,r],m=r;break;case 64:a0.lastIndex=m+1,a0.test(h),r=0===a0.lastIndex?h.length-1:a0.lastIndex-2,d=["at-word",h.slice(m,r+1),m,r],m=r;break;case 92:for(r=m,s=!0;92===h.charCodeAt(r+1);)r+=1,s=!s;if(n=h.charCodeAt(r+1),s&&47!==n&&32!==n&&10!==n&&9!==n&&13!==n&&12!==n&&(r+=1,a3.test(h.charAt(r)))){for(;a3.test(h.charAt(r+1));)r+=1;32===h.charCodeAt(r+1)&&(r+=1)}d=["word",h.slice(m,r+1),m,r],m=r;break;default:47===n&&42===h.charCodeAt(m+1)?(0===(r=h.indexOf("*/",m+2)+1)&&(p||t?r=h.length:y("comment")),d=["comment",h.slice(m,r+1),m,r]):(a1.lastIndex=m+1,a1.test(h),r=0===a1.lastIndex?h.length-1:a1.lastIndex-2,d=["word",h.slice(m,r+1),m,r],g.push(d)),m=r}return m++,d},position:function(){return m}}},ln={empty:!0,space:!0},lr=class{constructor(e){this.input=e,this.root=new a8,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,n,r,i=new a5;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);let o=!1,s=!1,a=[],l=[];for(;!this.tokenizer.endOfFile();){if("("===(t=(e=this.tokenizer.nextToken())[0])||"["===t?l.push("("===t?")":"]"):"{"===t&&l.length>0?l.push("}"):t===l[l.length-1]&&l.pop(),0===l.length){if(";"===t){i.source.end=this.getPosition(e[2]),i.source.end.offset++,this.semicolon=!0;break}if("{"===t){s=!0;break}if("}"===t){if(a.length>0){for(r=a.length-1,n=a[r];n&&"space"===n[0];)n=a[--r];n&&(i.source.end=this.getPosition(n[3]||n[2]),i.source.end.offset++)}this.end(e);break}a.push(e)}else a.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(i.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(i,"params",a),o&&(e=a[a.length-1],i.source.end=this.getPosition(e[3]||e[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),s&&(i.nodes=[],this.current=i)}checkMissedSemicolon(e){let t,n=this.colon(e);if(!1===n)return;let r=0;for(let i=n-1;i>=0&&("space"===(t=e[i])[0]||2!==(r+=1));i--);throw this.input.error("Missed semicolon","word"===t[0]?t[3]+1:t[2])}colon(e){let t,n,r=0;for(let[i,o]of e.entries()){if("("===(t=o[0])&&(r+=1),")"===t&&(r-=1),0===r&&":"===t){if(n){if("word"===n[0]&&"progid"===n[1])continue;return i}this.doubleColon(o)}n=o}return!1}comment(e){let t=new aK;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let e=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=lt(this.input)}decl(e,t){let n,r,i=new am;this.init(i,e[0][2]);let o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(o[3]||o[2]||function(e){for(let t=e.length-1;t>=0;t--){let n=e[t],r=n[3]||n[2];if(r)return r}}(e)),i.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;i.prop+=e.shift()[1]}for(i.raws.between="";e.length;){if(":"===(n=e.shift())[0]){i.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),i.raws.between+=n[1]}("_"===i.prop[0]||"*"===i.prop[0])&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let s=[];for(;e.length&&("space"===(r=e[0][0])||"comment"===r);)s.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if("!important"===(n=e[t])[1].toLowerCase()){i.important=!0;let n=this.stringFrom(e,t);" !important"!==(n=this.spacesFromEnd(e)+n)&&(i.raws.important=n);break}if("important"===n[1].toLowerCase()){let n=e.slice(0),r="";for(let e=t;e>0;e--){let t=n[e][0];if(0===r.trim().indexOf("!")&&"space"!==t)break;r=n.pop()[1]+r}0===r.trim().indexOf("!")&&(i.important=!0,i.raws.important=r,e=n)}if("space"!==n[0]&&"comment"!==n[0])break}e.some(e=>"space"!==e[0]&&"comment"!==e[0])&&(i.raws.between+=s.map(e=>e[1]).join(""),s=[]),this.raw(i,"value",s.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new le;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,n=null,r=!1,i=null,o=[],s=e[1].startsWith("--"),a=[],l=e;for(;l;){if(n=l[0],a.push(l),"("===n||"["===n)i||(i=l),o.push("("===n?")":"]");else if(s&&r&&"{"===n)i||(i=l),o.push("}");else if(0===o.length){if(";"===n){if(r){this.decl(a,s);return}break}if("{"===n){this.rule(a);return}if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(r=!0)}else n===o[o.length-1]&&(o.pop(),0===o.length&&(i=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(i),t&&r){if(!s)for(;a.length&&("space"===(l=a[a.length-1][0])||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,s)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,n,r){let i,o,s,a;let l=n.length,c="",u=!0;for(let e=0;e<l;e+=1)"space"!==(o=(i=n[e])[0])||e!==l-1||r?"comment"===o?(a=n[e-1]?n[e-1][0]:"empty",s=n[e+1]?n[e+1][0]:"empty",ln[a]||ln[s]?u=!1:","===c.slice(-1)?u=!1:c+=i[1]):c+=i[1]:u=!1;if(!u){let r=n.reduce((e,t)=>e+t[1],"");e.raws[t]={raw:r,value:c}}e[t]=c}rule(e){e.pop();let t=new le;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t;let n="";for(;e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t;let n="";for(;e.length&&("space"===(t=e[0][0])||"comment"===t);)n+=e.shift()[1];return n}spacesFromEnd(e){let t="";for(;e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}stringFrom(e,t){let n="";for(let r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};function li(e,t){let n=new lr(new aN(e,t));try{n.parse()}catch(e){throw e}return n.root}li.default=li,aZ.registerParse(li);let{isClean:lo,my:ls}=aa,la={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},ll={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},lc={Once:!0,postcssPlugin:!0,prepare:!0};function lu(e){return"object"==typeof e&&"function"==typeof e.then}function ld(e){let t=!1,n=la[e.type];return("decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append)?[n,n+"-"+t,0,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,0,n+"Exit"]:[n,n+"Exit"]}function lh(e){return{eventIndex:0,events:"document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:ld(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function lp(e){return e[lo]=!1,e.nodes&&e.nodes.forEach(e=>lp(e)),e}let lf={},lm=class e{constructor(t,n,r){let i;if(this.stringified=!1,this.processed=!1,"object"==typeof n&&null!==n&&("root"===n.type||"document"===n.type))i=lp(n);else if(n instanceof e||n instanceof aQ)i=lp(n.root),n.map&&(void 0===r.map&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=n.map);else{let e=li;r.syntax&&(e=r.syntax.parse),r.parser&&(e=r.parser),e.parse&&(e=e.parse);try{i=e(n,r)}catch(e){this.processed=!0,this.error=e}i&&!i[ls]&&aZ.rebuild(i)}this.result=new aQ(t,i,r),this.helpers={...lf,postcss:lf,result:this.result},this.plugins=this.processor.plugins.map(e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?n.postcssVersion:(e.plugin=n.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,n)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,n])};for(let t of this.plugins)if("object"==typeof t)for(let n in t){if(!ll[n]&&/^[A-Z]/.test(n))throw Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!lc[n]){if("object"==typeof t[n])for(let r in t[n])e(t,"*"===r?n:n+"-"+r.toLowerCase(),t[n][r]);else"function"==typeof t[n]&&e(t,n,t[n])}}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],n=this.runOnRoot(t);if(lu(n))try{await n}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[lo];){e[lo]=!0;let t=[lh(e)];for(;t.length>0;){let e=this.visitTick(t);if(lu(e))try{await e}catch(n){let e=t[t.length-1].node;throw this.handleError(n,e)}}}if(this.listeners.OnceExit)for(let[t,n]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map(e=>n(e,this.helpers));await Promise.all(t)}else await n(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map(t=>e.Once(t,this.helpers));if(lu(t[0]))return Promise.all(t);return t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=au;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new aH(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins)if(lu(this.runOnRoot(e)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[lo];)e[lo]=!0,this.walkSync(e);if(this.listeners.OnceExit){if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[n,r]of e){let e;this.result.lastPlugin=n;try{e=r(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(lu(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:n,visitors:r}=t;if("root"!==n.type&&"document"!==n.type&&!n.parent){e.pop();return}if(r.length>0&&t.visitorIndex<r.length){let[e,i]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return i(n.toProxy(),this.helpers)}catch(e){throw this.handleError(e,n)}}if(0!==t.iterator){let r,i=t.iterator;for(;r=n.nodes[n.indexes[i]];)if(n.indexes[i]+=1,!r[lo]){r[lo]=!0,e.push(lh(r));return}t.iterator=0,delete n.indexes[i]}let i=t.events;for(;t.eventIndex<i.length;){let e=i[t.eventIndex];if(t.eventIndex+=1,0===e){n.nodes&&n.nodes.length&&(n[lo]=!0,t.iterator=n.getIterator());return}if(this.listeners[e]){t.visitors=this.listeners[e];return}}e.pop()}walkSync(e){for(let t of(e[lo]=!0,ld(e)))if(0===t)e.nodes&&e.each(e=>{e[lo]||this.walkSync(e)});else{let n=this.listeners[t];if(n&&this.visitSync(n,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};lm.registerPostcss=e=>{lf=e},lm.default=lm,a8.registerLazyResult(lm),aY.registerLazyResult(lm);let lg=class{constructor(e,t,n){let r;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0,this.result=new aQ(this._processor,r,this._opts),this.result.css=t;let i=this;Object.defineProperty(this.result,"root",{get:()=>i.root});let o=new aH(au,r,this._opts,t);if(o.isMap()){let[e,t]=o.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else o.clearAnnotation(),this.result.css=o.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){let e;if(this._root)return this._root;try{e=li(this._css,this._opts)}catch(e){this.error=e}if(!this.error)return this._root=e,e;throw this.error}get[Symbol.toStringTag](){return"NoWorkResult"}};lg.default=lg;let lv=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let n of e)if(!0===n.postcss?n=n():n.postcss&&(n=n.postcss),"object"==typeof n&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if("object"==typeof n&&n.postcssPlugin)t.push(n);else if("function"==typeof n)t.push(n);else if("object"==typeof n&&(n.parse||n.stringify));else throw Error(n+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new lm(this,e,t):new lg(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};function ly(e,t){if(Array.isArray(e))return e.map(e=>ly(e));let{inputs:n,...r}=e;if(n)for(let e of(t=[],n)){let n={...e,__proto__:aN.prototype};n.map&&(n.map={...n.map,__proto__:aC.prototype}),t.push(n)}if(r.nodes&&(r.nodes=e.nodes.map(e=>ly(e,t))),r.source){let{inputId:e,...n}=r.source;r.source=n,null!=e&&(r.source.input=t[e])}if("root"===r.type)return new a8(r);if("decl"===r.type)return new am(r);if("rule"===r.type)return new le(r);if("comment"===r.type)return new aK(r);if("atrule"===r.type)return new a5(r);throw Error("Unknown node type: "+e.type)}function lb(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new lv(e)}lv.default=lv,a8.registerProcessor(lv),aY.registerProcessor(lv),ly.default=ly,lb.plugin=function(e,t){let n,r=!1;function i(...n){console&&console.warn&&!r&&(r=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),s9.env.LANG&&s9.env.LANG.startsWith("cn")&&console.warn(e+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226"));let o=t(...n);return o.postcssPlugin=e,o.postcssVersion=new lv().version,o}return Object.defineProperty(i,"postcss",{get:()=>(n||(n=i()),n)}),i.process=function(e,t,n){return lb([i(n)]).process(e,t)},i},lb.stringify=au,lb.parse=li,lb.fromJSON=ly,lb.list=a7,lb.comment=e=>new aK(e),lb.atRule=e=>new a5(e),lb.decl=e=>new am(e),lb.rule=e=>new le(e),lb.root=e=>new a8(e),lb.document=e=>new aY(e),lb.CssSyntaxError=as,lb.Declaration=am,lb.Container=aZ,lb.Processor=lv,lb.Document=aY,lb.Comment=aK,lb.Warning=aX,lb.AtRule=a5,lb.Result=aQ,lb.Input=aN,lb.Rule=le,lb.Root=a8,lb.Node=ap,lm.registerPostcss(lb),lb.default=lb;let lw=lb&&lb.__esModule&&Object.prototype.hasOwnProperty.call(lb,"default")?lb.default:lb;lw.stringify,lw.fromJSON,lw.plugin,lw.parse,lw.list,lw.document,lw.comment,lw.atRule,lw.rule,lw.decl,lw.root,lw.CssSyntaxError,lw.Declaration,lw.Container,lw.Processor,lw.Document,lw.Comment,lw.Warning,lw.AtRule,lw.Result,lw.Input,lw.Rule,lw.Root,lw.Node;var l_="medium",lC=function(e,t,n){switch(t){case"light":if("input"!==e)return!0;var r=n?function(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?t.toLowerCase():null}(n):"";if(!r)return!1;if(["password","hidden","email","tel"].includes(r)||n.autocomplete.startsWith("cc-"))return!0;return!1;case"medium":case"conservative":return!0;default:return lC(e,l_,n)}},lx=function(e,t,n){var r,i,o;if(void 0===t&&(t={defaultMaskLevel:l_}),n){if(n.closest("."+t7)||(null!==(r=t.maskSelector)&&void 0!==r?r:[]).some(function(e){return n.closest(e)}))return!0;if(n.closest(".amp-unmask")||(null!==(i=t.unmaskSelector)&&void 0!==i?i:[]).some(function(e){return n.closest(e)}))return!1}return lC(e,null!==(o=t.defaultMaskLevel)&&void 0!==o?o:l_,n)},lk=function(e,t){return function(n,r){return lx(e,t,r)?n.replace(/[^\s]/g,"*"):n}},lS=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t},lE=function(){var e=(0,nt.l)();return(null==e?void 0:e.location)?e.location.href:""},lT=function(e,t){return t||(e===t3.J.STAGING?"https://api-sr.stag2.amplitude.com/sessions/v2/track":e===t3.J.EU?"https://api-sr.eu.amplitude.com/sessions/v2/track":"https://api-sr.amplitude.com/sessions/v2/track")},lP=function(){return(0,tY.mG)(void 0,void 0,void 0,function(){var e,t,n,r;return(0,tY.Jh)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,3,,4]),!(e=(0,nt.l)()))return[3,2];return[4,e.navigator.storage.estimate()];case 1:return n=(t=i.sent()).usage,r=t.quota,[2,{totalStorageSize:n?Math.round(n/1024):0,percentOfQuota:n&&r?Math.round((n/r+Number.EPSILON)*1e3)/1e3:0,usageDetails:JSON.stringify(t.usageDetails)}];case 2:return[3,4];case 3:return i.sent(),[3,4];case 4:return[2,{totalStorageSize:0,percentOfQuota:0,usageDetails:""}]}})})},lI=function(e){var t=(0,tY.pi)({},e),n=t.apiKey;return t.apiKey="****".concat(n.substring(n.length-4)),t},lR=function(e,t){var n=document.createDocumentFragment(),r=function(e){if(void 0===e&&(e=[]),"string"==typeof e&&(e=[e]),0!==(e=e.filter(function(e){try{n.querySelector(e)}catch(n){return t.warn('[session-replay-browser] omitting selector "'.concat(e,'" because it is invalid')),!1}return!0})).length)return e};return e.blockSelector=r(e.blockSelector),e.maskSelector=r(e.maskSelector),e.unmaskSelector=r(e.unmaskSelector),e},lO=function(){function e(e,t){this.localConfig=t,this.remoteConfigFetch=e}return e.prototype.generateJoinedConfig=function(e){var t,n,r;return(0,tY.mG)(this,void 0,void 0,function(){var i,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,_,C;return(0,tY.Jh)(this,function(x){switch(x.label){case 0:(i=(0,tY.pi)({},this.localConfig)).optOut=this.localConfig.optOut,i.captureEnabled=!0,x.label=1;case 1:return x.trys.push([1,5,,6]),[4,this.remoteConfigFetch.getRemoteConfig("sessionReplay","sr_sampling_config",e)];case 2:return s=x.sent(),[4,this.remoteConfigFetch.getRemoteConfig("sessionReplay","sr_privacy_config",e)];case 3:return a=x.sent(),l=i,[4,this.remoteConfigFetch.getRemoteConfig("sessionReplay","sr_interaction_config",e)];case 4:return l.interactionConfig=x.sent(),(s||a)&&(o={},s&&(o.sr_sampling_config=s),a&&(o.sr_privacy_config=a)),[3,6];case 5:return c=x.sent(),this.localConfig.loggerProvider.warn(c.message),i.captureEnabled=!1,[3,6];case 6:if(!o)return[2,i];if(u=o.sr_sampling_config,d=o.sr_privacy_config,u&&Object.keys(u).length>0?(Object.prototype.hasOwnProperty.call(u,"capture_enabled")?i.captureEnabled=u.capture_enabled:i.captureEnabled=!1,Object.prototype.hasOwnProperty.call(u,"sample_rate")&&(i.sampleRate=u.sample_rate)):(i.captureEnabled=!0,this.localConfig.loggerProvider.debug("Remote config successfully fetched, but no values set for project, Session Replay capture enabled.")),d){h=null!==(t=i.privacyConfig)&&void 0!==t?t:{},p={defaultMaskLevel:null!==(r=null!==(n=d.defaultMaskLevel)&&void 0!==n?n:h.defaultMaskLevel)&&void 0!==r?r:"medium",blockSelector:[],maskSelector:[],unmaskSelector:[]},f=function(e){var t,n,r,i,o,s,a,l,c,u={};"string"==typeof e.blockSelector&&(e.blockSelector=[e.blockSelector]);try{for(var d=(0,tY.XA)(null!==(a=e.blockSelector)&&void 0!==a?a:[]),h=d.next();!h.done;h=d.next()){var p=h.value;u[p]="block"}}catch(e){t={error:e}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}try{for(var f=(0,tY.XA)(null!==(l=e.maskSelector)&&void 0!==l?l:[]),m=f.next();!m.done;m=f.next()){var p=m.value;u[p]="mask"}}catch(e){r={error:e}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}try{for(var g=(0,tY.XA)(null!==(c=e.unmaskSelector)&&void 0!==c?c:[]),v=g.next();!v.done;v=g.next()){var p=v.value;u[p]="unmask"}}catch(e){o={error:e}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}return u},m=(0,tY.pi)((0,tY.pi)({},f(h)),f(d));try{for(v=(g=(0,tY.XA)(Object.entries(m))).next();!v.done;v=g.next())b=(y=(0,tY.CR)(v.value,2))[0],w=y[1],"mask"===w?p.maskSelector.push(b):"block"===w?p.blockSelector.push(b):"unmask"===w&&p.unmaskSelector.push(b)}catch(e){_={error:e}}finally{try{v&&!v.done&&(C=g.return)&&C.call(g)}finally{if(_)throw _.error}}i.privacyConfig=lR(p,this.localConfig.loggerProvider)}return this.localConfig.loggerProvider.debug(JSON.stringify({name:"session replay joined config",config:lI(i)},null,2)),[2,i]}})})},e}(),lA="Failed to store session replay events in IndexedDB",lN="1.19.0",lL=function(){function e(e){var t=e.trackServerUrl,n=e.loggerProvider,r=e.payloadBatcher;this.storageKey="",this.retryTimeout=1e3,this.scheduled=null,this.queue=[],this.loggerProvider=n,this.payloadBatcher=r||function(e){return e},this.trackServerUrl=t}return e.prototype.sendEventsList=function(e){this.addToQueue((0,tY.pi)((0,tY.pi)({},e),{attempts:0,timeout:0}))},e.prototype.addToQueue=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.filter(function(t){return t.attempts<(t.flushMaxRetries||0)?(t.attempts+=1,!0):(e.completeRequest({context:t,err:"Session replay event batch rejected due to exceeded retry count"}),!1)}).forEach(function(t){if(e.queue=e.queue.concat(t),0===t.timeout){e.schedule(0);return}setTimeout(function(){t.timeout=0,e.schedule(0)},t.timeout)})},e.prototype.schedule=function(e){var t=this;this.scheduled||(this.scheduled=setTimeout(function(){t.flush(!0).then(function(){t.queue.length>0&&t.schedule(e)})},e))},e.prototype.flush=function(e){return void 0===e&&(e=!1),(0,tY.mG)(this,void 0,void 0,function(){var t,n,r=this;return(0,tY.Jh)(this,function(i){switch(i.label){case 0:return t=[],n=[],this.queue.forEach(function(e){return 0===e.timeout?t.push(e):n.push(e)}),this.queue=n,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),[4,Promise.all(t.map(function(t){return r.send(t,e)}))];case 1:return i.sent(),[2]}})})},e.prototype.send=function(e,t){var n,r;return void 0===t&&(t=!0),(0,tY.mG)(this,void 0,void 0,function(){var i,o,s,a,l,c,u,d,h,p,f,m;return(0,tY.Jh)(this,function(g){switch(g.label){case 0:if(!(i=e.apiKey))return[2,this.completeRequest({context:e,err:"Session replay event batch not sent due to missing api key"})];if(!(o=e.deviceId))return[2,this.completeRequest({context:e,err:"Session replay event batch not sent due to missing device ID"})];if(s=lE(),a=lN,l=e.sampleRate,c=new URLSearchParams({device_id:o,session_id:"".concat(e.sessionId),type:"".concat(e.type)}),u="".concat((null===(n=e.version)||void 0===n?void 0:n.type)||"standalone","/").concat((null===(r=e.version)||void 0===r?void 0:r.version)||a),0===(d=this.payloadBatcher({version:1,events:e.events})).events.length)return this.completeRequest({context:e}),[2];g.label=1;case 1:return g.trys.push([1,3,,4]),h={headers:{"Content-Type":"application/json",Accept:"*/*",Authorization:"Bearer ".concat(i),"X-Client-Version":a,"X-Client-Library":u,"X-Client-Url":s,"X-Client-Sample-Rate":"".concat(l)},body:JSON.stringify(d),method:"POST"},[4,fetch("".concat(lT(e.serverZone,this.trackServerUrl),"?").concat(c.toString()),h)];case 2:if(null===(p=g.sent()))return this.completeRequest({context:e,err:"Unexpected error occurred"}),[2];if(t)this.handleReponse(p.status,e);else{f="";try{f=JSON.stringify(p.body,null,2)}catch(e){}this.completeRequest({context:e,success:"".concat(p.status,": ").concat(f)})}return[3,4];case 3:return m=g.sent(),this.completeRequest({context:e,err:m}),[3,4];case 4:return[2]}})})},e.prototype.handleReponse=function(e,t){switch(new s2.d().buildStatus(e)){case s3.q.Success:this.handleSuccessResponse(t);break;case s3.q.Failed:this.handleOtherResponse(t);break;default:this.completeRequest({context:t,err:"Network error occurred, event batch rejected"})}},e.prototype.handleSuccessResponse=function(e){var t=Math.round(new Blob(e.events).size/1024);this.completeRequest({context:e,success:"Session replay event batch tracked successfully for session id ".concat(e.sessionId,", size of events: ").concat(t," KB")})},e.prototype.handleOtherResponse=function(e){this.addToQueue((0,tY.pi)((0,tY.pi)({},e),{timeout:e.attempts*this.retryTimeout}))},e.prototype.completeRequest=function(e){var t=e.context,n=e.err,r=e.success;t.onComplete(),n?this.loggerProvider.warn(n):r&&this.loggerProvider.log(r)},e}();let lM=(e,t)=>t.some(t=>e instanceof t),lD=new WeakMap,lj=new WeakMap,lU=new WeakMap,lF={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return lD.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lV(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function lV(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(lV(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return lU.set(t,e),t}(e);if(lj.has(e))return lj.get(e);let n="function"==typeof(t=e)?(L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(lB(this),e),lV(this.request)}:function(...e){return lV(t.apply(lB(this),e))}:(t instanceof IDBTransaction&&function(e){if(lD.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});lD.set(e,t)}(t),lM(t,N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,lF):t;return n!==e&&(lj.set(e,n),lU.set(n,e)),n}let lB=e=>lU.get(e),lz=["get","getKey","getAll","getAllKeys","count"],lH=["put","add","delete","clear"],lq=new Map;function lK(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(lq.get(t))return lq.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=lH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lz.includes(n)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return lq.set(t,o),o}lF={...D=lF,get:(e,t,n)=>lK(e,t)||D.get(e,t,n),has:(e,t)=>!!lK(e,t)||D.has(e,t)};let lG=["continue","continuePrimaryKey","advance"],lW={},l$=new WeakMap,lZ=new WeakMap,lJ={get(e,t){if(!lG.includes(t))return e[t];let n=lW[t];return n||(n=lW[t]=function(...e){l$.set(this,lZ.get(this)[t](...e))}),n}};async function*lY(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;let n=new Proxy(t,lJ);for(lZ.set(n,t),lU.set(n,lB(t));t;)yield n,t=await (l$.get(n)||t.continue()),l$.delete(n)}function lX(e,t){return t===Symbol.asyncIterator&&lM(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&lM(e,[IDBIndex,IDBObjectStore])}lF={...j=lF,get:(e,t,n)=>lX(e,t)?lY:j.get(e,t,n),has:(e,t)=>lX(e,t)||j.has(e,t)};var lQ=function(){function e(e){var t,n,r,i=this;this.minInterval=500,this.maxInterval=1e4,this.maxPersistedEventsSize=1e6,this.interval=this.minInterval,this._timeAtLastSplit=Date.now(),this.shouldSplitEventsList=function(e,t){var n=new Blob([t]).size;return new Blob(e).size+n>=i.maxPersistedEventsSize||Date.now()-i.timeAtLastSplit>i.interval&&!!e.length&&(i.interval=Math.min(i.maxInterval,i.interval+i.minInterval),i._timeAtLastSplit=Date.now(),!0)},this.loggerProvider=e.loggerProvider,this.minInterval=null!==(t=e.minInterval)&&void 0!==t?t:this.minInterval,this.maxInterval=null!==(n=e.maxInterval)&&void 0!==n?n:this.maxInterval,this.maxPersistedEventsSize=null!==(r=e.maxPersistedEventsSize)&&void 0!==r?r:this.maxPersistedEventsSize}return Object.defineProperty(e.prototype,"timeAtLastSplit",{get:function(){return this._timeAtLastSplit},enumerable:!1,configurable:!0}),e}();(Q=ep||(ep={})).RECORDING="recording",Q.SENT="sent";var l0="sessionCurrentSequence",l1="sequencesToSend",l2=function(){var e=(0,nt.l)();return new Promise(function(t,n){if(!e)return n(Error("Global scope not found"));if(!e.indexedDB)return n(Error("Session Replay: cannot find indexedDB"));try{var r=e.indexedDB.open("keyval-store");r.onupgradeneeded=function(){1===r.result.version&&(r.result.close(),r.transaction&&r.transaction.abort(),e.indexedDB.deleteDatabase("keyval-store"),t())},r.onsuccess=function(){t(r.result)}}catch(e){n(e)}})},l3=function(e){return(0,tY.mG)(void 0,void 0,void 0,function(){return(0,tY.Jh)(this,function(t){switch(t.label){case 0:if(!(e.length>0))return[3,2];return[4,Promise.all(e.splice(0,10))];case 1:return t.sent(),[3,0];case 2:return[2]}})})},l4=function(e){var t,n;return e.objectStoreNames.contains(l0)||(n=e.createObjectStore(l0,{keyPath:"sessionId"})),e.objectStoreNames.contains(l1)||(t=e.createObjectStore(l1,{keyPath:"sequenceId",autoIncrement:!0})).createIndex("sessionId","sessionId"),{sequencesStore:t,currentSequenceStore:n}},l5=function(e){function t(t){var n=e.call(this,t)||this;return n.getSequencesToSend=function(){return(0,tY.mG)(n,void 0,void 0,function(){var e,t,n,r,i,o;return(0,tY.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),e=[],[4,this.db.transaction("sequencesToSend").store.openCursor()];case 1:t=s.sent(),s.label=2;case 2:if(!t)return[3,4];return r=(n=t.value).sessionId,i=n.events,e.push({events:i,sequenceId:t.key,sessionId:r}),[4,t.continue()];case 3:return t=s.sent(),[3,2];case 4:return[2,e];case 5:return o=s.sent(),this.loggerProvider.warn("".concat(lA,": ").concat(o)),[3,6];case 6:return[2,void 0]}})})},n.storeCurrentSequence=function(e){return(0,tY.mG)(n,void 0,void 0,function(){var t,n,r;return(0,tY.Jh)(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,this.db.get(l0,e)];case 1:if(!(t=i.sent()))return[2,void 0];return[4,this.db.put(l1,{sessionId:e,events:t.events})];case 2:return n=i.sent(),[4,this.db.put(l0,{sessionId:e,events:[]})];case 3:return i.sent(),[2,(0,tY.pi)((0,tY.pi)({},t),{sessionId:e,sequenceId:n})];case 4:return r=i.sent(),this.loggerProvider.warn("".concat(lA,": ").concat(r)),[3,5];case 5:return[2,void 0]}})})},n.addEventToCurrentSequence=function(e,t){return(0,tY.mG)(n,void 0,void 0,function(){var n,r,i,o,s,a;return(0,tY.Jh)(this,function(l){switch(l.label){case 0:return l.trys.push([0,10,,11]),[4,(n=this.db.transaction(l0,"readwrite")).store.get(e)];case 1:if(r=l.sent())return[3,3];return[4,n.store.put({sessionId:e,events:[t]})];case 2:return l.sent(),[2];case 3:if(i=void 0,!this.shouldSplitEventsList(r.events,t))return[3,5];return i=r.events,[4,n.store.put({sessionId:e,events:[t]})];case 4:return l.sent(),[3,7];case 5:return o=r.events.concat(t),[4,n.store.put({sessionId:e,events:o})];case 6:l.sent(),l.label=7;case 7:return[4,n.done];case 8:if(l.sent(),!i)return[2,void 0];return[4,this.storeSendingEvents(e,i)];case 9:if(!(s=l.sent()))return[2,void 0];return[2,{events:i,sessionId:e,sequenceId:s}];case 10:return a=l.sent(),this.loggerProvider.warn("".concat(lA,": ").concat(a)),[3,11];case 11:return[2,void 0]}})})},n.storeSendingEvents=function(e,t){return(0,tY.mG)(n,void 0,void 0,function(){var n;return(0,tY.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.db.put(l1,{sessionId:e,events:t})];case 1:return[2,r.sent()];case 2:return n=r.sent(),this.loggerProvider.warn("".concat(lA,": ").concat(n)),[3,3];case 3:return[2,void 0]}})})},n.cleanUpSessionEventsStore=function(e,t){return(0,tY.mG)(n,void 0,void 0,function(){var e;return(0,tY.Jh)(this,function(n){switch(n.label){case 0:if(!t)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.db.delete(l1,t)];case 2:return n.sent(),[3,4];case 3:return e=n.sent(),this.loggerProvider.warn("".concat(lA,": ").concat(e)),[3,4];case 4:return[2]}})})},n.transitionFromKeyValStore=function(e){return(0,tY.mG)(n,void 0,void 0,function(){var t,n,r,i,o,s,a,l=this;return(0,tY.Jh)(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),[4,l2()];case 1:if(!(t=c.sent()))return[2];n=function(e,t){return(0,tY.mG)(l,void 0,void 0,function(){var n,r,i=this;return(0,tY.Jh)(this,function(o){switch(o.label){case 0:return n=t.sessionSequences,r=[],Object.keys(n).forEach(function(o){var s=parseInt(o,10),a=n[s];if(s===t.currentSequenceId){var l=a.events.map(function(t){return(0,tY.mG)(i,void 0,void 0,function(){return(0,tY.Jh)(this,function(n){return[2,this.addEventToCurrentSequence(e,t)]})})});r.concat(l)}else a.status!==ep.SENT&&r.push(i.storeSendingEvents(e,a.events))}),[4,l3(r)];case 1:return o.sent(),[2]}})})},r="".concat(t2.f1,"_").concat(this.apiKey.substring(0,10)),c.label=2;case 2:return c.trys.push([2,4,,5]),i=t.transaction("keyval").objectStore("keyval").getAll(r),[4,new Promise(function(t){i.onsuccess=function(r){return(0,tY.mG)(l,void 0,void 0,function(){var i,o,s,a=this;return(0,tY.Jh)(this,function(l){switch(l.label){case 0:if(!(o=(i=r&&r.target.result)&&i[0]))return[3,2];return s=[],Object.keys(o).forEach(function(t){var r=parseInt(t,10),i=o[r];if(e===r)s.push(n(r,i));else{var l=i.sessionSequences;Object.keys(l).forEach(function(e){var t=parseInt(e,10);l[t].status!==ep.SENT&&s.push(a.storeSendingEvents(r,l[t].events))})}}),[4,l3(s)];case 1:l.sent(),l.label=2;case 2:return t(),[2]}})})}})];case 3:return c.sent(),(o=(0,nt.l)())&&o.indexedDB.deleteDatabase("keyval-store"),[3,5];case 4:return s=c.sent(),this.loggerProvider.warn("Failed to transition session replay events from keyval to new store: ".concat(s)),[3,5];case 5:return[3,7];case 6:return a=c.sent(),this.loggerProvider.warn("Failed to access keyval store: ".concat(a,". For more information, visit: https://www.docs.developers.amplitude.com/session-replay/sdks/standalone/#indexeddb-best-practices")),[3,7];case 7:return[2]}})})},n.apiKey=t.apiKey,n.db=t.db,n}return(0,tY.ZT)(t,e),t.new=function(e,n,r){return(0,tY.mG)(this,void 0,void 0,function(){var i,o,s,a;return(0,tY.Jh)(this,function(l){switch(l.label){case 0:var c;return l.trys.push([0,3,,4]),i="replay"===e?"":"_".concat(e),[4,(c="".concat(n.apiKey.substring(0,10),"_amp_session_replay_events").concat(i),(0,tY.mG)(void 0,void 0,void 0,function(){return(0,tY.Jh)(this,function(e){switch(e.label){case 0:return[4,function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,1),a=lV(s);return r&&s.addEventListener("upgradeneeded",e=>{r(lV(s.result),e.oldVersion,e.newVersion,lV(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}(c,0,{upgrade:l4})];case 1:return[2,e.sent()]}})}))];case 1:return o=l.sent(),[4,(s=new t((0,tY.pi)((0,tY.pi)({},n),{db:o}))).transitionFromKeyValStore(r)];case 2:return l.sent(),[2,s];case 3:return a=l.sent(),n.loggerProvider.warn("".concat(lA,": ").concat(a)),[3,4];case 4:return[2]}})})},t.prototype.getCurrentSequenceEvents=function(e){return(0,tY.mG)(this,void 0,void 0,function(){var t,n,r,i,o,s;return(0,tY.Jh)(this,function(a){switch(a.label){case 0:if(!e)return[3,2];return[4,this.db.get("sessionCurrentSequence",e)];case 1:if(!(t=a.sent()))return[2,void 0];return[2,[t]];case 2:n=[],a.label=3;case 3:return a.trys.push([3,8,9,10]),[4,this.db.getAll("sessionCurrentSequence")];case 4:i=(r=tY.XA.apply(void 0,[a.sent()])).next(),a.label=5;case 5:if(i.done)return[3,7];t=i.value,n.push(t),a.label=6;case 6:return i=r.next(),[3,5];case 7:return[3,10];case 8:return o={error:a.sent()},[3,10];case 9:try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}return[7];case 10:return[2,n]}})})},t}(lQ),l6=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.finalizedSequences={},t.sequences={},t.sequenceId=0,t}return(0,tY.ZT)(t,e),t.prototype.resetCurrentSequence=function(e){this.sequences[e]=[]},t.prototype.addSequence=function(e){var t=this.sequenceId++,n=(0,tY.ev)([],(0,tY.CR)(this.sequences[e]),!1);return this.finalizedSequences[t]={sessionId:e,events:n},this.resetCurrentSequence(e),{sequenceId:t,events:n,sessionId:e}},t.prototype.getSequencesToSend=function(){return(0,tY.mG)(this,void 0,void 0,function(){return(0,tY.Jh)(this,function(e){return[2,Object.entries(this.finalizedSequences).map(function(e){var t=(0,tY.CR)(e,2),n=t[0],r=t[1],i=r.sessionId,o=r.events;return{sequenceId:Number(n),sessionId:i,events:o}})]})})},t.prototype.storeCurrentSequence=function(e){return(0,tY.mG)(this,void 0,void 0,function(){return(0,tY.Jh)(this,function(t){return this.sequences[e]?[2,this.addSequence(e)]:[2,void 0]})})},t.prototype.addEventToCurrentSequence=function(e,t){return(0,tY.mG)(this,void 0,void 0,function(){var n;return(0,tY.Jh)(this,function(r){return this.sequences[e]||this.resetCurrentSequence(e),this.shouldSplitEventsList(this.sequences[e],t)&&(n=this.addSequence(e)),this.sequences[e].push(t),[2,n]})})},t.prototype.storeSendingEvents=function(e,t){return(0,tY.mG)(this,void 0,void 0,function(){return(0,tY.Jh)(this,function(n){return this.finalizedSequences[this.sequenceId]={sessionId:e,events:t},[2,this.sequenceId++]})})},t.prototype.cleanUpSessionEventsStore=function(e,t){return(0,tY.mG)(this,void 0,void 0,function(){return(0,tY.Jh)(this,function(e){return void 0!==t&&delete this.finalizedSequences[t],[2]})})},t}(lQ),l8=function(e){var t=e.config,n=e.sessionId,r=e.minInterval,i=e.maxInterval,o=e.type,s=e.payloadBatcher,a=e.storeType;return(0,tY.mG)(void 0,void 0,void 0,function(){var e,l,c,u,d,h;function p(t){return void 0===t&&(t=!1),(0,tY.mG)(this,void 0,void 0,function(){return(0,tY.Jh)(this,function(n){return[2,e.flush(t)]})})}return(0,tY.Jh)(this,function(f){switch(f.label){case 0:if(e=new lL((0,tY.pi)((0,tY.pi)({},t),{loggerProvider:t.loggerProvider,payloadBatcher:s})),l=function(){return new l6({loggerProvider:t.loggerProvider,maxInterval:i,minInterval:r})},c=function(){return(0,tY.mG)(void 0,void 0,void 0,function(){var e;return(0,tY.Jh)(this,function(s){switch(s.label){case 0:return[4,l5.new(o,{loggerProvider:t.loggerProvider,minInterval:r,maxInterval:i,apiKey:t.apiKey},n)];case 1:return e=s.sent(),t.loggerProvider.log("Failed to initialize idb store, falling back to memory store."),[2,null!=e?e:l()]}})})},"idb"!==a)return[3,2];return[4,c()];case 1:return d=f.sent(),[3,3];case 2:d=l(),f.label=3;case 3:return u=d,h=function(n){var r=n.events,i=n.sessionId,s=n.deviceId,a=n.sequenceId;t.debugMode&&lP().then(function(e){var n=e.totalStorageSize,r=e.percentOfQuota,i=e.usageDetails;t.loggerProvider.debug("Total storage size: ".concat(n," KB, percentage of quota: ").concat(r,"%, usage details: ").concat(i))}).catch(function(){}),e.sendEventsList({events:r,sessionId:i,flushMaxRetries:t.flushMaxRetries,apiKey:t.apiKey,deviceId:s,sampleRate:t.sampleRate,serverZone:t.serverZone,version:t.version,type:o,onComplete:function(){return(0,tY.mG)(void 0,void 0,void 0,function(){return(0,tY.Jh)(this,function(e){switch(e.label){case 0:return[4,u.cleanUpSessionEventsStore(i,a)];case 1:return e.sent(),[2]}})})}})},[2,{sendCurrentSequenceEvents:function(e){var n=e.sessionId,r=e.deviceId;u.storeCurrentSequence(n).then(function(e){e&&h({sequenceId:e.sequenceId,events:e.events,sessionId:e.sessionId,deviceId:r})}).catch(function(e){t.loggerProvider.warn("Failed to get current sequence of session replay events for session:",e)})},addEvent:function(e){var n=e.event,r=e.sessionId,i=e.deviceId;u.addEventToCurrentSequence(r,n.data).then(function(e){return e&&h({sequenceId:e.sequenceId,events:e.events,sessionId:e.sessionId,deviceId:i})}).catch(function(e){t.loggerProvider.warn("Failed to add event to session replay capture:",e)})},sendStoredEvents:function(e){var t=e.deviceId;return(0,tY.mG)(void 0,void 0,void 0,function(){var e;return(0,tY.Jh)(this,function(n){switch(n.label){case 0:return[4,u.getSequencesToSend()];case 1:return(e=n.sent())&&e.forEach(function(e){h({sequenceId:e.sequenceId,events:e.events,sessionId:e.sessionId,deviceId:t})}),[2]}})})},flush:p}]}})})},l7=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=new Map;e.forEach(function(e){n.set(e.name,e.manager)}),this.managers=n}return e.prototype.sendStoredEvents=function(e){return(0,tY.mG)(this,void 0,void 0,function(){var t;return(0,tY.Jh)(this,function(n){switch(n.label){case 0:return t=[],this.managers.forEach(function(n){t.push(n.sendStoredEvents(e))}),[4,Promise.all(t)];case 1:return n.sent(),[2]}})})},e.prototype.addEvent=function(e){var t,n=e.sessionId,r=e.event,i=e.deviceId;null===(t=this.managers.get(r.type))||void 0===t||t.addEvent({sessionId:n,event:r,deviceId:i})},e.prototype.sendCurrentSequenceEvents=function(e){var t=e.sessionId,n=e.deviceId;this.managers.forEach(function(e){e.sendCurrentSequenceEvents({sessionId:t,deviceId:n})})},e.prototype.flush=function(e){return(0,tY.mG)(this,void 0,void 0,function(){var t;return(0,tY.Jh)(this,function(n){switch(n.label){case 0:return t=[],this.managers.forEach(function(n){t.push(n.flush(e))}),[4,Promise.all(t)];case 1:return n.sent(),[2]}})})},e}(),l9=((ee=l9||{})[ee.DomContentLoaded=0]="DomContentLoaded",ee[ee.Load=1]="Load",ee[ee.FullSnapshot=2]="FullSnapshot",ee[ee.IncrementalSnapshot=3]="IncrementalSnapshot",ee[ee.Meta=4]="Meta",ee[ee.Custom=5]="Custom",ee[ee.Plugin=6]="Plugin",ee),ce=((et=ce||{})[et.Mutation=0]="Mutation",et[et.MouseMove=1]="MouseMove",et[et.MouseInteraction=2]="MouseInteraction",et[et.Scroll=3]="Scroll",et[et.ViewportResize=4]="ViewportResize",et[et.Input=5]="Input",et[et.TouchMove=6]="TouchMove",et[et.MediaInteraction=7]="MediaInteraction",et[et.StyleSheetRule=8]="StyleSheetRule",et[et.CanvasMutation=9]="CanvasMutation",et[et.Font=10]="Font",et[et.Log=11]="Log",et[et.Drag=12]="Drag",et[et.StyleDeclaration=13]="StyleDeclaration",et[et.Selection=14]="Selection",et[et.AdoptedStyleSheet=15]="AdoptedStyleSheet",et[et.CustomElement=16]="CustomElement",et),ct=((en=ct||{})[en.MouseUp=0]="MouseUp",en[en.MouseDown=1]="MouseDown",en[en.Click=2]="Click",en[en.ContextMenu=3]="ContextMenu",en[en.DblClick=4]="DblClick",en[en.Focus=5]="Focus",en[en.Blur=6]="Blur",en[en.TouchStart=7]="TouchStart",en[en.TouchMove_Departed=8]="TouchMove_Departed",en[en.TouchEnd=9]="TouchEnd",en[en.TouchCancel=10]="TouchCancel",en),cn=((er=cn||{})[er.Mouse=0]="Mouse",er[er.Pen=1]="Pen",er[er.Touch=2]="Touch",er),cr=((ei=cr||{})[ei["2D"]=0]="2D",ei[ei.WebGL=1]="WebGL",ei[ei.WebGL2=2]="WebGL2",ei),ci=((eo=ci||{})[eo.Play=0]="Play",eo[eo.Pause=1]="Pause",eo[eo.Seeked=2]="Seeked",eo[eo.VolumeChange=3]="VolumeChange",eo[eo.RateChange=4]="RateChange",eo),co=((es=co||{}).Start="start",es.Pause="pause",es.Resume="resume",es.Resize="resize",es.Finish="finish",es.FullsnapshotRebuilded="fullsnapshot-rebuilded",es.LoadStylesheetStart="load-stylesheet-start",es.LoadStylesheetEnd="load-stylesheet-end",es.SkipStart="skip-start",es.SkipEnd="skip-end",es.MouseInteraction="mouse-interaction",es.EventCast="event-cast",es.CustomEvent="custom-event",es.Flush="flush",es.StateChange="state-change",es.PlayBack="play-back",es.Destroy="destroy",es);function cs(e,t,n){for(var r=null,i=[],o=e,s=0;o&&"break"!==function(){var e,a,l,c,u=new Date().getTime()-eg.getTime();if(void 0!==ef.timeoutMs&&u>ef.timeoutMs)throw Error("Timeout: Can't find a unique selector after ".concat(u,"ms"));var d=cf((e=o.getAttribute("id"))&&ef.idName(e)?{name:"#"+CSS.escape(e),penalty:0}:null)||cf.apply(void 0,(0,tY.ev)([],(0,tY.CR)(Array.from(o.attributes).filter(function(e){return ef.attr(e.name,e.value)}).map(function(e){return{name:"[".concat(CSS.escape(e.name),'="').concat(CSS.escape(e.value),'"]'),penalty:.5}})),!1))||cf.apply(void 0,(0,tY.ev)([],(0,tY.CR)(Array.from(o.classList).filter(ef.className).map(function(e){return{name:"."+CSS.escape(e),penalty:1}})),!1))||cf((a=o.tagName.toLowerCase(),ef.tagName(a)?{name:a,penalty:2}:null))||[cd()],h=function(e){var t=e.parentNode;if(!t)return null;var n=t.firstChild;if(!n)return null;for(var r=0;n&&(n.nodeType===Node.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling;return r}(o);if("all"==t)h&&(d=d.concat(d.filter(cp).map(function(e){return ch(e,h)})));else if("two"==t)d=d.slice(0,1),h&&(d=d.concat(d.filter(cp).map(function(e){return ch(e,h)})));else if("one"==t){var p=(0,tY.CR)(d=d.slice(0,1),1)[0];h&&cp(p)&&(d=[ch(p,h)])}else"none"==t&&(d=[cd()],h&&(d=[ch(d[0],h)]));try{for(var f=(l=void 0,(0,tY.XA)(d)),m=f.next();!m.done;m=f.next()){var p=m.value;p.level=s}}catch(e){l={error:e}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}if(i.push(d),i.length>=ef.seedMinLength&&(r=ca(i,n)))return"break";o=o.parentElement,s++}(););return(r||(r=ca(i,n)),!r&&n)?n():r}function ca(e,t){var n,r,i=cg(function e(t,n){var r,i,o,s,a;return void 0===n&&(n=[]),(0,tY.Jh)(this,function(l){switch(l.label){case 0:if(!(t.length>0))return[3,9];l.label=1;case 1:l.trys.push([1,6,7,8]),i=(r=(0,tY.XA)(t[0])).next(),l.label=2;case 2:if(i.done)return[3,5];return o=i.value,[5,(0,tY.XA)(e(t.slice(1,t.length),n.concat(o)))];case 3:l.sent(),l.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return s={error:l.sent()},[3,8];case 7:try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(s)throw s.error}return[7];case 8:return[3,11];case 9:return[4,n];case 10:l.sent(),l.label=11;case 11:return[2]}})}(e));if(i.length>ef.threshold)return t?t():null;try{for(var o=(0,tY.XA)(i),s=o.next();!s.done;s=o.next()){var a=s.value;if(cu(a))return a}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}function cl(e){for(var t=e[0],n=t.name,r=1;r<e.length;r++){var i=e[r].level||0;n=t.level===i-1?"".concat(e[r].name," > ").concat(n):"".concat(e[r].name," ").concat(n),t=e[r]}return n}function cc(e){return e.map(function(e){return e.penalty}).reduce(function(e,t){return e+t},0)}function cu(e){var t=cl(e);switch(em.querySelectorAll(t).length){case 0:throw Error("Can't select any node with this selector: ".concat(t));case 1:return!0;default:return!1}}function cd(){return{name:"*",penalty:3}}function ch(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function cp(e){return"html"!==e.name&&!e.name.startsWith("#")}function cf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(cm);return n.length>0?n:null}function cm(e){return null!=e}function cg(e){return(0,tY.ev)([],(0,tY.CR)(e),!1).sort(function(e,t){return cc(e)-cc(t)})}var cv=function(e){var t=e.version,n=e.events,r=[];return n.forEach(function(e){var t=JSON.parse(e);t.count=1,"click"===t.type&&r.push(t)}),{version:t,events:r}},cy=function(e){var t=e.version,n=e.events,r=[];return n.forEach(function(e){var t=JSON.parse(e);"click"===t.type&&r.push(t)}),{version:t,events:Object.values(r.reduce(function(e,t){var n=t.x,r=t.y,i=t.selector,o=t.timestamp,s=o-o%36e5,a="".concat(n,":").concat(r,":").concat(null!=i?i:"",":").concat(s);return e[a]?e[a].count+=1:e[a]=(0,tY.pi)((0,tY.pi)({},t),{timestamp:s,count:1}),e},{}))}},cb=function(e,t){var n=t.eventsManager,r=t.sessionId,i=t.deviceIdFn;return function(t){if(t.type===ct.Click){var o,s=(0,nt.l)();if(s){var a=s.location,l=s.innerHeight,c=s.innerWidth;if(a){var u=t.x,d=t.y;if(void 0!==u&&void 0!==d){var h=sX.mirror.getNode(t.id);if(h)try{o=function(e,t){if(eg=new Date,e.nodeType!==Node.ELEMENT_NODE)throw Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";var n,r={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,t){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4,timeoutMs:void 0};em=(n=(ef=(0,tY.pi)((0,tY.pi)({},r),void 0)).root).nodeType===Node.DOCUMENT_NODE?n:n===r.root?n.ownerDocument:n;var i=cs(e,"all",function(){return cs(e,"two",function(){return cs(e,"one",function(){return cs(e,"none")})})});if(i){var o=cg(function e(t,n,r){var i,o,s;return void 0===r&&(r={counter:0,visited:new Map}),(0,tY.Jh)(this,function(a){switch(a.label){case 0:if(!(t.length>2&&t.length>ef.optimizedMinLength))return[3,5];i=1,a.label=1;case 1:var l;if(!(i<t.length-1))return[3,5];if(r.counter>ef.maxNumberOfTries||(r.counter+=1,(o=(0,tY.ev)([],(0,tY.CR)(t),!1)).splice(i,1),s=cl(o),r.visited.has(s)))return[2];if(!(cu(o)&&(l=o,em.querySelector(cl(l))===n)))return[3,4];return[4,o];case 2:return a.sent(),r.visited.set(s,!0),[5,(0,tY.XA)(e(o,n,r))];case 3:a.sent(),a.label=4;case 4:return i++,[3,1];case 5:return[2]}})}(i,e));return o.length>0&&(i=o[0]),cl(i)}throw Error("Selector was not found.")}(h)}catch(t){e.debug("error resolving selector from finder")}var p=sr.getWindowScroll(s),f={x:u+p.left,y:d+p.top,selector:o,viewportHeight:l,viewportWidth:c,pageUrl:a.href,timestamp:Date.now(),type:"click"},m=i();m&&n.addEvent({sessionId:r,event:{type:"interaction",data:JSON.stringify(f)},deviceId:m})}}}}}},cw=function(){function e(e,t){var n=(0,nt.l)();n&&n.navigator&&"function"==typeof n.navigator.sendBeacon?this.sendBeacon=function(e,t){try{if(n.navigator.sendBeacon(e,JSON.stringify(t)))return!0}catch(e){}return!1}:this.sendBeacon=function(){return!1},this.sendXhr=function(e,t){var n=new XMLHttpRequest;return n.open("POST",e,!0),n.setRequestHeader("Accept","*/*"),n.send(JSON.stringify(t)),!0},this.basePageUrl=lT(t.serverZone,t.trackServerUrl),this.apiKey=t.apiKey,this.context=e}return e.prototype.send=function(e,t){var n=this.context,r=n.sessionId,i=n.type,o=new URLSearchParams({device_id:e,session_id:String(r),type:String(i),api_key:this.apiKey}),s="".concat(this.basePageUrl,"?").concat(o.toString());this.sendBeacon(s,t)||this.sendXhr(s,t)},e}(),c_=sr.getWindowHeight,cC=sr.getWindowWidth,cx=function(){function e(e){var t=this;this.timestamp=Date.now(),this.hook=function(e){t.update(e)},this.send=function(e){return function(n){var r=e(),i=(0,nt.l)();i&&r&&t.transport.send(r,{version:1,events:[{maxScrollX:t._maxScrollX,maxScrollY:t._maxScrollY,maxScrollWidth:t._maxScrollWidth,maxScrollHeight:t._maxScrollHeight,viewportHeight:c_(),viewportWidth:cC(),pageUrl:i.location.href,timestamp:t.timestamp,type:"scroll"}]})}},this._maxScrollX=0,this._maxScrollY=0,this._maxScrollWidth=cC(),this._maxScrollHeight=c_(),this.transport=e}return e.default=function(t,n){return new e(new cw(t,n))},Object.defineProperty(e.prototype,"maxScrollX",{get:function(){return this._maxScrollX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollY",{get:function(){return this._maxScrollY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollWidth",{get:function(){return this._maxScrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollHeight",{get:function(){return this._maxScrollHeight},enumerable:!1,configurable:!0}),e.prototype.update=function(e){var t=Date.now();if(e.x>this._maxScrollX){var n=cC();this._maxScrollX=e.x;var r=e.x+n;r>this._maxScrollWidth&&(this._maxScrollWidth=r),this.timestamp=t}if(e.y>this._maxScrollY){var i=c_();this._maxScrollY=e.y;var o=e.y+i;o>this._maxScrollHeight&&(this._maxScrollHeight=o),this.timestamp=t}},e}(),ck=function(e){var t=e.sessionId,n=e.deviceId;this.deviceId=n,this.sessionId=t,t&&n&&(this.sessionReplayId="".concat(n,"/").concat(t))},cS=Uint8Array,cE=Uint16Array,cT=Uint32Array,cP=new cS([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cI=new cS([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cR=new cS([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cO=function(e,t){for(var n=new cE(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new cT(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},cA=cO(cP,2),cN=cA[0],cL=cA[1];cN[28]=258,cL[258]=28;for(var cM=cO(cI,0),cD=(cM[0],cM[1]),cj=new cE(32768),cU=0;cU<32768;++cU){var cF=(43690&cU)>>>1|(21845&cU)<<1;cF=(61680&(cF=(52428&cF)>>>2|(13107&cF)<<2))>>>4|(3855&cF)<<4,cj[cU]=((65280&cF)>>>8|(255&cF)<<8)>>>1}for(var cV=function(e,t,n){for(var r,i=e.length,o=0,s=new cE(t);o<i;++o)++s[e[o]-1];var a=new cE(t);for(o=0;o<t;++o)a[o]=a[o-1]+s[o-1]<<1;if(n){r=new cE(1<<t);var l=15-t;for(o=0;o<i;++o)if(e[o])for(var c=o<<4|e[o],u=t-e[o],d=a[e[o]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)r[cj[d]>>>l]=c}else for(o=0,r=new cE(i);o<i;++o)r[o]=cj[a[e[o]-1]++]>>>15-e[o];return r},cB=new cS(288),cU=0;cU<144;++cU)cB[cU]=8;for(var cU=144;cU<256;++cU)cB[cU]=9;for(var cU=256;cU<280;++cU)cB[cU]=7;for(var cU=280;cU<288;++cU)cB[cU]=8;for(var cz=new cS(32),cU=0;cU<32;++cU)cz[cU]=5;var cH=cV(cB,9,0),cq=cV(cz,5,0),cK=function(e){return(e/8>>0)+(7&e&&1)},cG=function(e,t,n){(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof cE?cE:e instanceof cT?cT:cS)(n-t);return r.set(e.subarray(t,n)),r},cW=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},c$=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},cZ=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new cS(0),0];if(1==i){var s=new cS(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=o[0].s,r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var p=new cE(h+1),f=cJ(n[u-1],p,0);if(f>t){var r=0,m=0,g=f-t,v=1<<g;for(o.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<i;++r){var y=o[r].s;if(p[y]>t)m+=v-(1<<f-p[y]),p[y]=t;else break}for(m>>>=g;m>0;){var b=o[r].s;p[b]<t?m-=1<<t-p[b]++-1:++r}for(;r>=0&&m;--r){var w=o[r].s;p[w]==t&&(--p[w],++m)}f=t}return[new cS(p),f]},cJ=function(e,t,n){return -1==e.s?Math.max(cJ(e.l,t,n+1),cJ(e.r,t,n+1)):t[e.s]=n},cY=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new cE(++t),r=0,i=e[0],o=1,s=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},cX=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},cQ=function(e,t,n){var r=n.length,i=cK(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return(i+4+r)*8},c0=function(e,t,n,r,i,o,s,a,l,c,u){cW(t,u++,n),++i[256];for(var d,h,p,f,m=cZ(i,15),g=m[0],v=m[1],y=cZ(o,15),b=y[0],w=y[1],_=cY(g),C=_[0],x=_[1],k=cY(b),S=k[0],E=k[1],T=new cE(19),P=0;P<C.length;++P)T[31&C[P]]++;for(var P=0;P<S.length;++P)T[31&S[P]]++;for(var I=cZ(T,7),R=I[0],O=I[1],A=19;A>4&&!R[cR[A-1]];--A);var N=c+5<<3,L=cX(i,cB)+cX(o,cz)+s,M=cX(i,g)+cX(o,b)+s+14+3*A+cX(T,R)+(2*T[16]+3*T[17]+7*T[18]);if(N<=L&&N<=M)return cQ(t,u,e.subarray(l,l+c));if(cW(t,u,1+(M<L)),u+=2,M<L){d=cV(g,v,0),h=g,p=cV(b,w,0),f=b;var D=cV(R,O,0);cW(t,u,x-257),cW(t,u+5,E-1),cW(t,u+10,A-4),u+=14;for(var P=0;P<A;++P)cW(t,u+3*P,R[cR[P]]);u+=3*A;for(var j=[C,S],U=0;U<2;++U)for(var F=j[U],P=0;P<F.length;++P){var V=31&F[P];cW(t,u,D[V]),u+=R[V],V>15&&(cW(t,u,F[P]>>>5&127),u+=F[P]>>>12)}}else d=cH,h=cB,p=cq,f=cz;for(var P=0;P<a;++P)if(r[P]>255){var V=r[P]>>>18&31;c$(t,u,d[V+257]),u+=h[V+257],V>7&&(cW(t,u,r[P]>>>23&31),u+=cP[V]);var B=31&r[P];c$(t,u,p[B]),u+=f[B],B>3&&(c$(t,u,r[P]>>>5&8191),u+=cI[B])}else c$(t,u,d[r[P]]),u+=h[r[P]];return c$(t,u,d[256]),u+h[256]},c1=new cT([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),c2=function(e,t,n,r,i,o){var s=e.length,a=new cS(r+s+5*(1+Math.floor(s/7e3))+i),l=a.subarray(r,a.length-i),c=0;if(!t||s<8)for(var u=0;u<=s;u+=65535){var d=u+65535;d<s?c=cQ(l,c,e.subarray(u,d)):(l[u]=o,c=cQ(l,c,e.subarray(u,s)))}else{for(var h=c1[t-1],p=h>>>13,f=8191&h,m=(1<<n)-1,g=new cE(32768),v=new cE(m+1),y=Math.ceil(n/3),b=2*y,w=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&m},_=new cT(25e3),C=new cE(288),x=new cE(32),k=0,S=0,u=0,E=0,T=0,P=0;u<s;++u){var I=w(u),R=32767&u,O=v[I];if(g[R]=O,v[I]=R,T<=u){var A=s-u;if((k>7e3||E>24576)&&A>423){c=c0(e,l,0,_,C,x,S,E,P,u-P,c),E=k=S=0,P=u;for(var N=0;N<286;++N)C[N]=0;for(var N=0;N<30;++N)x[N]=0}var L=2,M=0,D=f,j=R-O&32767;if(A>2&&I==w(u-j))for(var U=Math.min(p,A)-1,F=Math.min(32767,u),V=Math.min(258,A);j<=F&&--D&&R!=O;){if(e[u+L]==e[u+L-j]){for(var B=0;B<V&&e[u+B]==e[u+B-j];++B);if(B>L){if(L=B,M=j,B>U)break;for(var z=Math.min(j,B-2),H=0,N=0;N<z;++N){var q=u-j+N+32768&32767,K=g[q],G=q-K+32768&32767;G>H&&(H=G,O=q)}}}O=g[R=O],j+=R-O+32768&32767}if(M){_[E++]=268435456|cL[L]<<18|cD[M];var W=31&cL[L],$=31&cD[M];S+=cP[W]+cI[$],++C[257+W],++x[$],T=u+L,++k}else _[E++]=e[u],++C[e[u]]}}c=c0(e,l,o,_,C,x,S,E,P,u-P,c)}return cG(a,0,r+cK(c)+i)},c3=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=n.length,s=0;s!=o;){for(var a=Math.min(s+5552,o);s<a;++s)r+=n[s],i+=r;r%=65521,i%=65521}e=r,t=i},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+((255&e)<<23)*2}}},c4=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},c5=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)};let c6=e=>{var t,n,r,i,o;return function(e,t){var n="";if(!t&&"undefined"!=typeof TextDecoder)return new TextDecoder().decode(e);for(var r=0;r<e.length;){var i=e[r++];i<128||t?n+=String.fromCharCode(i):i<224?n+=String.fromCharCode((31&i)<<6|63&e[r++]):i<240?n+=String.fromCharCode((15&i)<<12|(63&e[r++])<<6|63&e[r++]):n+=String.fromCharCode(55296|(i=((15&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536)>>10,56320|1023&i)}return n}((t=function(e,t){var n=e.length;if("undefined"!=typeof TextEncoder)return new TextEncoder().encode(e);for(var r=new cS(e.length+(e.length>>>1)),i=0,o=function(e){r[i++]=e},s=0;s<n;++s){if(i+5>r.length){var a=new cS(i+8+(n-s<<1));a.set(r),r=a}var l=e.charCodeAt(s);l<128?o(l):(l<2048?o(192|l>>>6):(l>55295&&l<57344?(o(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++s))>>>18),o(128|l>>>12&63)):o(224|l>>>12),o(128|l>>>6&63)),o(128|63&l))}return cG(r,0,i)}(JSON.stringify({...e,v:"v1"})),void 0===n&&(n={}),(r=c3()).p(t),c5(o=c2(t,null==(i=n).level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+i.mem,2,4,!0),n),c4(o,o.length-4,r.d()),o),!0)};var c8=function(){function e(e,t,n,r){var i,o,s,a=this;this.taskQueue=[],this.isProcessing=!1,this.compressEvent=function(e){return JSON.stringify(c6(e))},this.addCompressedEventToManager=function(e,t){a.eventsManager&&a.deviceId&&a.eventsManager.addEvent({event:{type:"replay",data:e},sessionId:t,deviceId:a.deviceId})},this.addCompressedEvent=function(e,t){if(a.worker)a.worker.postMessage({event:e,sessionId:t});else{var n=a.compressEvent(e);a.addCompressedEventToManager(n,t)}},this.terminate=function(){var e;null===(e=a.worker)||void 0===e||e.terminate()};var l=(0,nt.l)();this.canUseIdleCallback=l&&"requestIdleCallback"in l,this.eventsManager=e,this.config=t,this.deviceId=n,this.timeout=(null===(i=t.performanceConfig)||void 0===i?void 0:i.timeout)||2e3;var c=null!==(o=({}).COMPRESSION_WEBWORKER_BODY)&&void 0!==o?o:r;if((null===(s=this.config.experimental)||void 0===s?void 0:s.useWebWorker)&&l&&l.Worker&&c){t.loggerProvider.log("[Experimental] Enabling web worker for compression");var u=new Worker(URL.createObjectURL(new Blob([c],{type:"application/javascript"})));u.onerror=function(e){t.loggerProvider.error(e)},u.onmessage=function(e){var t=e.data,n=t.compressedEvent,r=t.sessionId;a.addCompressedEventToManager(n,r)},this.worker=u}}return e.prototype.scheduleIdleProcessing=function(){var e=this;this.isProcessing||(this.isProcessing=!0,requestIdleCallback(function(t){e.processQueue(t)},{timeout:this.timeout}))},e.prototype.enqueueEvent=function(e,t){var n;this.canUseIdleCallback&&(null===(n=this.config.performanceConfig)||void 0===n?void 0:n.enabled)?(this.config.loggerProvider.debug("Enqueuing event for processing during idle time."),this.taskQueue.push({event:e,sessionId:t}),this.scheduleIdleProcessing()):(this.config.loggerProvider.debug("Processing event without idle callback."),this.addCompressedEvent(e,t))},e.prototype.processQueue=function(e){for(var t=this;this.taskQueue.length>0&&(e.timeRemaining()>0||e.didTimeout);){var n=this.taskQueue.shift();if(n){var r=n.event,i=n.sessionId;this.addCompressedEvent(r,i)}}this.taskQueue.length>0?requestIdleCallback(function(e){t.processQueue(e)},{timeout:this.timeout}):this.isProcessing=!1},e}(),c7=function(){function e(){var e=this;this.name="@amplitude/session-replay-browser",this.recordCancelCallback=null,this.eventCount=0,this.pageLeaveFns=[],this.teardownEventListeners=function(t){var n=(0,nt.l)();n&&(n.removeEventListener("blur",e.blurListener),n.removeEventListener("focus",e.focusListener),t||n.addEventListener("blur",e.blurListener),t||n.addEventListener("focus",e.focusListener),n.self&&"onpagehide"in n.self?(n.removeEventListener("pagehide",e.pageLeaveListener),t||n.addEventListener("pagehide",e.pageLeaveListener)):(n.removeEventListener("beforeunload",e.pageLeaveListener),t||n.addEventListener("beforeunload",e.pageLeaveListener)))},this.blurListener=function(){e.sendEvents()},this.focusListener=function(){e.recordEvents()},this.pageLeaveListener=function(t){e.pageLeaveFns.forEach(function(e){e(t)})},this.addCustomRRWebEvent=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r=!0),(0,tY.mG)(e,void 0,void 0,function(){var e,i,o,s;return(0,tY.Jh)(this,function(a){switch(a.label){case 0:if(a.trys.push([0,3,,4]),e=void 0,!(i=this.config)||(e={config:lI(i),version:lN},!r))return[3,2];return[4,lP()];case 1:o=a.sent(),e=(0,tY.pi)((0,tY.pi)({},o),e),a.label=2;case 2:return this.recordCancelCallback?sX.addCustomEvent(t,(0,tY.pi)((0,tY.pi)({},n),e)):this.loggerProvider.debug("Not able to add custom replay capture event ".concat(t," due to no ongoing recording.")),[3,4];case 3:return s=a.sent(),this.loggerProvider.debug("Error while adding custom replay capture event: ",s),[3,4];case 4:return[2]}})})},this.stopRecordingEvents=function(){try{e.loggerProvider.log("Session Replay capture stopping."),e.recordCancelCallback&&e.recordCancelCallback(),e.recordCancelCallback=null}catch(t){e.loggerProvider.warn("Error occurred while stopping replay capture: ".concat(t.toString()))}},this.loggerProvider=new t0.Y}return e.prototype.init=function(e,t){return(0,nr.S)(this._init(e,t))},e.prototype._init=function(e,t){var n,r,i,o;return(0,tY.mG)(this,void 0,void 0,function(){var s,a,l,c,u,d,h,p,f;return(0,tY.Jh)(this,function(m){switch(m.label){case 0:return this.loggerProvider=t.loggerProvider||new t0.Y,Object.prototype.hasOwnProperty.call(t,"logLevel")&&this.loggerProvider.enable(t.logLevel),this.identifiers=new ck({sessionId:t.sessionId,deviceId:t.deviceId}),s=this,[4,(0,tY.mG)(void 0,void 0,void 0,function(){var n;return(0,tY.Jh)(this,function(r){switch(r.label){case 0:return[4,s8({localConfig:n=new ne(e,t),configKeys:["sessionReplay"]})];case 1:return[2,new lO(r.sent(),n)]}})})];case 1:return s.joinedConfigGenerator=m.sent(),a=this,[4,this.joinedConfigGenerator.generateJoinedConfig(this.identifiers.sessionId)];case 2:a.config=m.sent(),t.sessionId&&(null===(n=this.config.interactionConfig)||void 0===n?void 0:n.enabled)&&(l=cx.default({sessionId:t.sessionId,type:"interaction"},this.config),this.pageLeaveFns=[l.send(this.getDeviceId.bind(this)).bind(l)],this.scrollHook=l.hook.bind(l)),c=[],"idb"!==(u=this.config.storeType)||(null===(r=(0,nt.l)())||void 0===r?void 0:r.indexedDB)||(u="memory",this.loggerProvider.warn("Could not use preferred indexedDB storage, reverting to in memory option.")),this.loggerProvider.log("Using ".concat(u," for event storage.")),m.label=3;case 3:return m.trys.push([3,5,,6]),[4,l8({config:this.config,sessionId:this.identifiers.sessionId,type:"replay",storeType:u})];case 4:return d=m.sent(),c.push({name:"replay",manager:d}),[3,6];case 5:return h=m.sent(),this.loggerProvider.warn("Error occurred while creating replay events manager: ".concat(h.toString())),[3,6];case 6:if(!(null===(i=this.config.interactionConfig)||void 0===i?void 0:i.enabled))return[3,10];p=this.config.interactionConfig.batch?cy:cv,m.label=7;case 7:return m.trys.push([7,9,,10]),[4,l8({config:this.config,sessionId:this.identifiers.sessionId,type:"interaction",minInterval:null!==(o=this.config.interactionConfig.trackEveryNms)&&void 0!==o?o:3e4,maxInterval:6e4,payloadBatcher:p,storeType:u})];case 8:return f=m.sent(),c.push({name:"interaction",manager:f}),[3,10];case 9:return h=m.sent(),this.loggerProvider.warn("Error occurred while creating interaction events manager: ".concat(h.toString())),[3,10];case 10:return this.eventsManager=new(l7.bind.apply(l7,(0,tY.ev)([void 0],(0,tY.CR)(c),!1))),this.eventCompressor&&this.eventCompressor.terminate(),this.eventCompressor=new c8(this.eventsManager,this.config,this.getDeviceId()),this.loggerProvider.log("Installing @amplitude/session-replay-browser."),this.teardownEventListeners(!1),this.initialize(!0),[2]}})})},e.prototype.setSessionId=function(e,t){return(0,nr.S)(this.asyncSetSessionId(e,t))},e.prototype.asyncSetSessionId=function(e,t){return(0,tY.mG)(this,void 0,void 0,function(){var n,r,i;return(0,tY.Jh)(this,function(o){switch(o.label){case 0:if((n=this.identifiers&&this.identifiers.sessionId)&&this.sendEvents(n),r=t||this.getDeviceId(),this.identifiers=new ck({sessionId:e,deviceId:r}),!(this.joinedConfigGenerator&&n))return[3,2];return i=this,[4,this.joinedConfigGenerator.generateJoinedConfig(this.identifiers.sessionId)];case 1:i.config=o.sent(),o.label=2;case 2:return this.recordEvents(),[2]}})})},e.prototype.getSessionReplayProperties=function(){var e,t=this.config,n=this.identifiers;if(!t||!n)return this.loggerProvider.warn("Session replay init has not been called, cannot get session replay properties."),{};var r=this.getShouldRecord(),i={};return r&&((e={})[t5]=n.sessionReplayId?n.sessionReplayId:null,i=e,t.debugMode&&(i[t8]=JSON.stringify({appHash:lS(t.apiKey).toString()}))),this.addCustomRRWebEvent(eu.GET_SR_PROPS,{shouldRecord:r,eventProperties:i},10===this.eventCount),10===this.eventCount&&(this.eventCount=0),this.eventCount++,i},e.prototype.sendEvents=function(e){var t,n=e||(null===(t=this.identifiers)||void 0===t?void 0:t.sessionId),r=this.getDeviceId();this.eventsManager&&n&&r&&this.eventsManager.sendCurrentSequenceEvents({sessionId:n,deviceId:r})},e.prototype.initialize=function(e){if(void 0===e&&(e=!1),!(null===(t=this.identifiers)||void 0===t?void 0:t.sessionId)){this.loggerProvider.log("Session is not being recorded due to lack of session id.");return}var t,n=this.getDeviceId();if(!n){this.loggerProvider.log("Session is not being recorded due to lack of device id.");return}this.eventsManager&&e&&this.eventsManager.sendStoredEvents({deviceId:n}),this.recordEvents()},e.prototype.shouldOptOut=function(){if(null===(e=this.config)||void 0===e?void 0:e.instanceName){var e,t,n;n=(0,nn.bM)(this.config.instanceName).identityStore.getIdentity().optOut}return void 0!==n?n:null===(t=this.config)||void 0===t?void 0:t.optOut},e.prototype.getShouldRecord=function(){if(!this.identifiers||!this.config||!this.identifiers.sessionId)return this.loggerProvider.warn("Session is not being recorded due to lack of config, please call sessionReplay.init."),!1;if(!this.config.captureEnabled)return this.loggerProvider.log("Session ".concat(this.identifiers.sessionId," not being captured due to capture being disabled for project or because the remote config could not be fetched.")),!1;if(this.shouldOptOut())return this.loggerProvider.log("Opting session ".concat(this.identifiers.sessionId," out of recording due to optOut config.")),!1;var e,t,n=(e=this.identifiers.sessionId,t=this.config.sampleRate,31*Math.abs(lS(e.toString()))%1e6/1e6<t);return n||this.loggerProvider.log("Opting session ".concat(this.identifiers.sessionId," out of recording due to sample rate.")),n},e.prototype.getBlockSelectors=function(){var e,t,n,r=null!==(n=null===(t=null===(e=this.config)||void 0===e?void 0:e.privacyConfig)||void 0===t?void 0:t.blockSelector)&&void 0!==n?n:[];if(0!==r.length)return r},e.prototype.getMaskTextSelectors=function(){if((null===(t=null===(e=this.config)||void 0===e?void 0:e.privacyConfig)||void 0===t?void 0:t.defaultMaskLevel)==="conservative")return"*";var e,t,n,r,i=null===(r=null===(n=this.config)||void 0===n?void 0:n.privacyConfig)||void 0===r?void 0:r.maskSelector;if(i)return i},e.prototype.recordEvents=function(){var e,t=this,n=this.config,r=this.getShouldRecord(),i=null===(e=this.identifiers)||void 0===e?void 0:e.sessionId;if(r&&i&&n){this.stopRecordingEvents();var o=n.privacyConfig,s=n.interactionConfig,a=(null==s?void 0:s.enabled)?{mouseInteraction:this.eventsManager&&cb(this.loggerProvider,{eventsManager:this.eventsManager,sessionId:i,deviceIdFn:this.getDeviceId.bind(this)}),scroll:this.scrollHook}:{};this.loggerProvider.log("Session Replay capture beginning for ".concat(i,".")),this.recordCancelCallback=sX({emit:function(e){if(t.shouldOptOut()){t.loggerProvider.log("Opting session ".concat(i," out of recording due to optOut config.")),t.stopRecordingEvents(),t.sendEvents();return}t.eventCompressor&&t.eventCompressor.enqueueEvent(e,i)},inlineStylesheet:n.shouldInlineStylesheet,hooks:a,maskAllInputs:!0,maskTextClass:t7,blockClass:"amp-block",blockSelector:this.getBlockSelectors(),maskInputFn:lk("input",o),maskTextFn:lk("text",o),maskTextSelector:this.getMaskTextSelectors(),recordCanvas:!1,errorHandler:function(e){if(e.message.includes("insertRule")&&e.message.includes("CSSStyleSheet")||e._external_)throw e;return t.loggerProvider.warn("Error while capturing replay: ",e.toString()),!0}}),this.addCustomRRWebEvent(eu.DEBUG_INFO)}},e.prototype.getDeviceId=function(){var e;return null===(e=this.identifiers)||void 0===e?void 0:e.deviceId},e.prototype.getSessionId=function(){var e;return null===(e=this.identifiers)||void 0===e?void 0:e.sessionId},e.prototype.flush=function(e){var t;return void 0===e&&(e=!1),(0,tY.mG)(this,void 0,void 0,function(){return(0,tY.Jh)(this,function(n){return[2,null===(t=this.eventsManager)||void 0===t?void 0:t.flush(e)]})})},e.prototype.shutdown=function(){this.teardownEventListeners(!0),this.stopRecordingEvents(),this.sendEvents()},e}(),c9=function(e){return function(){var t=e.config||t9();return{logger:t.loggerProvider,logLevel:t.logLevel}}},ue=(ea=new c7,{init:(0,tX.w_)(ea.init.bind(ea),"init",c9(ea)),setSessionId:(0,tX.w_)(ea.setSessionId.bind(ea),"setSessionId",c9(ea)),getSessionId:(0,tX.w_)(ea.getSessionId.bind(ea),"getSessionId",c9(ea)),getSessionReplayProperties:(0,tX.w_)(ea.getSessionReplayProperties.bind(ea),"getSessionReplayProperties",c9(ea)),flush:(0,tX.w_)(ea.flush.bind(ea),"flush",c9(ea)),shutdown:(0,tX.w_)(ea.shutdown.bind(ea),"shutdown",c9(ea))}),ut=ue.init,un=ue.setSessionId,ur=ue.getSessionId,ui=ue.getSessionReplayProperties,uo=(ue.flush,ue.shutdown),us="1.12.0",ua=function(){function e(e){this.name="@amplitude/plugin-session-replay-browser",this.type="enrichment",this.options=(0,tY.pi)({},e),!1!==this.options.forceSessionTracking&&(this.options.forceSessionTracking=!0)}return e.prototype.setup=function(e){var t,n,r,i;return(0,tY.mG)(this,void 0,void 0,function(){var o;return(0,tY.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),e.loggerProvider.log("Installing @amplitude/plugin-session-replay, version ".concat(us,".")),this.config=e,this.options.forceSessionTracking&&("boolean"==typeof e.defaultTracking?!1===e.defaultTracking&&(e.defaultTracking={pageViews:!1,formInteractions:!1,fileDownloads:!1,sessions:!0}):e.defaultTracking=(0,tY.pi)((0,tY.pi)({},e.defaultTracking),{sessions:!0})),[4,ut(e.apiKey,{instanceName:this.config.instanceName,deviceId:this.config.deviceId,optOut:this.config.optOut,sessionId:this.options.customSessionId?void 0:this.config.sessionId,loggerProvider:this.config.loggerProvider,logLevel:this.config.logLevel,flushMaxRetries:this.config.flushMaxRetries,serverZone:this.config.serverZone,configServerUrl:this.options.configServerUrl,trackServerUrl:this.options.trackServerUrl,sampleRate:this.options.sampleRate,privacyConfig:{blockSelector:null===(t=this.options.privacyConfig)||void 0===t?void 0:t.blockSelector,maskSelector:null===(n=this.options.privacyConfig)||void 0===n?void 0:n.maskSelector,unmaskSelector:null===(r=this.options.privacyConfig)||void 0===r?void 0:r.unmaskSelector,defaultMaskLevel:null===(i=this.options.privacyConfig)||void 0===i?void 0:i.defaultMaskLevel},debugMode:this.options.debugMode,shouldInlineStylesheet:this.options.shouldInlineStylesheet,version:{type:"plugin",version:us},performanceConfig:this.options.performanceConfig,storeType:this.options.storeType,experimental:this.options.experimental}).promise];case 1:return s.sent(),[3,3];case 2:return o=s.sent(),e.loggerProvider.error("Session Replay: Failed to initialize due to ".concat(o.message)),[3,3];case 3:return[2]}})})},e.prototype.execute=function(e){return(0,tY.mG)(this,void 0,void 0,function(){var t,n,r;return(0,tY.Jh)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,8,,9]),!this.options.customSessionId)return[3,4];if(!(t=this.options.customSessionId(e)))return[3,3];if(!(t!==ur()))return[3,2];return[4,un(t).promise];case 1:i.sent(),i.label=2;case 2:n=ui(),e.event_properties=(0,tY.pi)((0,tY.pi)({},e.event_properties),n),i.label=3;case 3:return[3,7];case 4:if(!((t=this.config.sessionId)&&t!==ur()))return[3,6];return[4,un(t).promise];case 5:i.sent(),i.label=6;case 6:t&&t===e.session_id&&(n=ui(),e.event_properties=(0,tY.pi)((0,tY.pi)({},e.event_properties),n)),i.label=7;case 7:return[2,Promise.resolve(e)];case 8:return r=i.sent(),this.config.loggerProvider.error("Session Replay: Failed to enrich event due to ".concat(r.message)),[2,Promise.resolve(e)];case 9:return[2]}})})},e.prototype.teardown=function(){return(0,tY.mG)(this,void 0,void 0,function(){return(0,tY.Jh)(this,function(e){try{uo(),this.config=null}catch(e){this.config.loggerProvider.error("Session Replay: teardown failed due to ".concat(e.message))}return[2]})})},e.prototype.getSessionReplayProperties=function(){return ui()},e}(),ul=n(59887),uc=n(80771),uu=n(21805);let ud=()=>{let e={defaultTracking:!0,logLevel:eE.i.None,minIdLength:1};return eC.wd.value!==e_.Po.SKIP_PROXY&&(e.serverUrl="https://events.character.ai/2/httpapi"),e};class uh{}uh.updateAmplitudeIdentify=async e=>{var t,n;let r=null==e?void 0:null===(n=e.user)||void 0===n?void 0:null===(t=n.id)||void 0===t?void 0:t.toString();ev.iN.client.setUserId(r);let i=up(e),o=i.getUserProperties();try{await ev.iN.client.identify(i).promise}catch(e){(0,ul.nC)("Failed to update Amplitude identity",e)}uh.forwardEventPlugin&&uh.forwardEventPlugin.updateUserProperties(o),uh.removeExtraAmpCookie(),eC.DQ.value=!0},uh.setUserProperty=async(e,t)=>{let n=new eT.h;n.set(e,t);try{await ev.iN.client.identify(n).promise}catch(e){(0,ul.nC)("Failed to append user property")}},uh.initAmplitude=async e=>{await ev.iN.load({client:{apiKey:e_.n1,configuration:ud()}}).promise,uh.forwardEventPlugin=new ex,ev.iN.client.add(new eS),ev.iN.client.add(uh.forwardEventPlugin),ev.iN.client.setOptOut(!1);try{var t;uh.sessionReplayPlugin=(t={sampleRate:.05,privacyConfig:{defaultMaskLevel:"conservative"}},new ua(t)),ev.iN.client.add(uh.sessionReplayPlugin)}catch(e){}try{uh.experiment=tJ.initializeWithAmplitudeAnalytics(e_.CC,{retryFetchOnFailure:!0,serverUrl:e_.EG,initialVariants:e,source:el.InitialVariants})}catch(e){}finally{eC.zx.value=!0}},uh.removeSessionReplayTracking=()=>{try{uh.sessionReplayPlugin&&uh.sessionReplayPlugin.name&&ev.iN.client.remove(uh.sessionReplayPlugin.name)}catch(e){}},uh.getAmplitudeVariant=e=>{var t;return null===(t=uh.experiment)||void 0===t?void 0:t.variant(e)},uh.getAmplitudeVariantPayload=e=>{var t,n;return null!==(n=null===(t=uh.getAmplitudeVariant(e))||void 0===t?void 0:t.payload)&&void 0!==n?n:{}},uh.checkAmplitudeVariantValue=(e,t)=>{var n;return(null===(n=uh.getAmplitudeVariant(e))||void 0===n?void 0:n.value)===t},uh.checkAmplitudeGate=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=uh.getAmplitudeVariant(e);return n?"on"===n.value:t},uh.removeExtraAmpCookie=()=>{"localhost"!==window.location.hostname&&(document.cookie="AMP_39bbdcaee6=; expires=Fri, 31 Dec 1999 23:59:59 GMT")};let up=e=>{var t,n;let r=new eT.h,i=null==e?void 0:e.email;i&&r.set("email",i);let o=null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.username;o&&r.set("username",o);let s=(0,uc.Yr)(null==e?void 0:e.user);r.set("subscription",s);let a=uu.Z.get(e_.hl.Keys.Language);return a&&r.set("selectedLanguage",a),"undefined"!=typeof navigator&&r.set("browserLanguage",navigator.language),ek&&r.set("bundleVersion",ek),r.set("userAgeInYears",null!==(n=(0,uc.L3)(e))&&void 0!==n?n:"<unknown>"),r.set("deployment",uu.Z.get(e_.PJ)||e_.mO.PROD),r}},21236:function(e,t,n){"use strict";n.d(t,{iN:function(){return r3}});var r,i,o,s,a=n(2843),l=n(22970),c=n(44354),u=n(26913),d=n(48120),h=function(e,t){var n=Math.max(t,1);return e.reduce(function(e,t,r){var i=Math.floor(r/n);return e[i]||(e[i]=[]),e[i].push(t),e},[])},p=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=u.q.Unknown),{event:e,code:t,message:n}},f=n(28157),m=function(e){return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,m)};function g(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch(e){}return t}var v=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(e){var t;return(0,l.mG)(this,void 0,void 0,function(){var n,r=this;return(0,l.Jh)(this,function(i){switch(i.label){case 0:return this.config=e,this.storageKey="".concat(d.f1,"_").concat(this.config.apiKey.substring(0,10)),[4,null===(t=this.config.storageProvider)||void 0===t?void 0:t.get(this.storageKey)];case 1:return(n=i.sent())&&n.length>0&&Promise.all(n.map(function(e){return r.execute(e)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(e){var t=this;return e.insert_id||(e.insert_id=m()),new Promise(function(n){t.addToQueue({event:e,attempts:0,callback:function(e){return n(e)},timeout:0})})},e.prototype.getTryableList=function(e){var t=this;return e.filter(function(e){return e.attempts<t.config.flushMaxRetries?(e.attempts+=1,!0):(t.fulfillRequest([e],500,"Event rejected due to exceeded retry count"),!1)})},e.prototype.scheduleTryable=function(e,t){var n=this;void 0===t&&(t=!1),e.forEach(function(e){if(t&&(n.queue=n.queue.concat(e)),0===e.timeout){n.schedule(n.config.flushIntervalMillis);return}setTimeout(function(){e.timeout=0,n.schedule(0)},e.timeout)})},e.prototype.addToQueue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getTryableList(e);this.scheduleTryable(n,!0),this.saveEvents()},e.prototype.schedule=function(e){var t=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){t.flush(!0).then(function(){t.queue.length>0&&t.schedule(e)})},e))},e.prototype.flush=function(e){return void 0===e&&(e=!1),(0,l.mG)(this,void 0,void 0,function(){var t,n,r=this;return(0,l.Jh)(this,function(i){switch(i.label){case 0:if(this.config.offline)return this.config.loggerProvider.debug("Skipping flush while offline."),[2];return t=[],n=[],this.queue.forEach(function(e){return 0===e.timeout?t.push(e):n.push(e)}),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),[4,h(t,this.config.flushQueueSize).reduce(function(t,n){return(0,l.mG)(r,void 0,void 0,function(){return(0,l.Jh)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return r.sent(),[4,this.send(n,e)];case 2:return[2,r.sent()]}})})},Promise.resolve())];case 1:return i.sent(),this.scheduleTryable(n),[2]}})})},e.prototype.send=function(e,t){return void 0===t&&(t=!0),(0,l.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,l.Jh)(this,function(s){switch(s.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,"Event rejected due to missing API key")];n={api_key:this.config.apiKey,events:e.map(function(e){var t=e.event;return t.extra,(0,l._T)(t,["extra"])}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new f.Dg,s.label=1;case 1:return s.trys.push([1,3,,4]),r=(0,f.RG)(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(r,n)];case 2:if(null===(i=s.sent()))return this.fulfillRequest(e,0,"Unexpected error occurred"),[2];if(!t)return"body"in i?this.fulfillRequest(e,i.statusCode,"".concat(i.status,": ").concat(g(i))):this.fulfillRequest(e,i.statusCode,i.status),[2];return this.handleResponse(i,e),[3,4];case 3:var a;return o=(a=s.sent())instanceof Error?a.message:String(a),this.config.loggerProvider.error(o),this.handleResponse({status:u.q.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(e,t){var n=e.status;switch(n){case u.q.Success:this.handleSuccessResponse(e,t);break;case u.q.Invalid:this.handleInvalidResponse(e,t);break;case u.q.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,t);break;case u.q.RateLimit:this.handleRateLimitResponse(e,t);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(n,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t)}},e.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,"Event tracked successfully")},e.prototype.handleInvalidResponse=function(e,t){var n=this;if(e.body.missingField||e.body.error.startsWith("Invalid API key")){this.fulfillRequest(t,e.statusCode,e.body.error);return}var r=new Set((0,l.ev)((0,l.ev)((0,l.ev)((0,l.ev)([],(0,l.CR)(Object.values(e.body.eventsWithInvalidFields)),!1),(0,l.CR)(Object.values(e.body.eventsWithMissingFields)),!1),(0,l.CR)(Object.values(e.body.eventsWithInvalidIdLengths)),!1),(0,l.CR)(e.body.silencedEvents),!1).flat()),i=t.filter(function(t,i){if(r.has(i)){n.fulfillRequest([t],e.statusCode,e.body.error);return}return!0});i.length>0&&this.config.loggerProvider.warn(g(e));var o=this.getTryableList(i);this.scheduleTryable(o)},e.prototype.handlePayloadTooLargeResponse=function(e,t){if(1===t.length){this.fulfillRequest(t,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(g(e)),this.config.flushQueueSize/=2;var n=this.getTryableList(t);this.scheduleTryable(n)},e.prototype.handleRateLimitResponse=function(e,t){var n=this,r=Object.keys(e.body.exceededDailyQuotaUsers),i=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,s=new Set(r),a=new Set(i),l=new Set(o),c=t.filter(function(t,r){if(t.event.user_id&&s.has(t.event.user_id)||t.event.device_id&&a.has(t.event.device_id)){n.fulfillRequest([t],e.statusCode,e.body.error);return}return l.has(r)&&(t.timeout=n.throttleTimeout),!0});c.length>0&&this.config.loggerProvider.warn(g(e));var u=this.getTryableList(c);this.scheduleTryable(u)},e.prototype.handleOtherResponse=function(e){var t=this,n=e.map(function(e){return e.timeout=e.attempts*t.retryTimeout,e}),r=this.getTryableList(n);this.scheduleTryable(r)},e.prototype.fulfillRequest=function(e,t,n){this.removeEvents(e),e.forEach(function(e){return e.callback(p(e.event,t,n))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(e){return e.event});this.config.storageProvider.set(this.storageKey,e)}},e.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(t){return!e.some(function(e){return e.event.insert_id===t.event.insert_id})}),this.saveEvents()},e}(),y=n(89170),b=n(46477),w=n(21753),_=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setEventProperties=function(e){return(0,w.L)(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?(0,l.pi)({},this.properties):{};return e[b.al.REVENUE_PRODUCT_ID]=this.productId,e[b.al.REVENUE_QUANTITY]=this.quantity,e[b.al.REVENUE_PRICE]=this.price,e[b.al.REVENUE_TYPE]=this.revenueType,e[b.al.REVENUE]=this.revenue,e},e}(),C=function(){function e(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(e,t){var n,r;return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(i){switch(i.label){case 0:if(this.plugins.some(function(t){return t.name===e.name}))return t.loggerProvider.warn("Plugin with name ".concat(e.name," already exists, skipping registration")),[2];return void 0===e.name&&(e.name=m(),t.loggerProvider.warn("Plugin name is undefined. \n      Generating a random UUID for plugin name: ".concat(e.name,". \n      Set a name for the plugin to prevent it from being added multiple times."))),e.type=null!==(n=e.type)&&void 0!==n?n:"enrichment",[4,null===(r=e.setup)||void 0===r?void 0:r.call(e,t,this.client)];case 1:return i.sent(),this.plugins.push(e),[2]}})})},e.prototype.deregister=function(e,t){var n;return(0,l.mG)(this,void 0,void 0,function(){var r,i;return(0,l.Jh)(this,function(o){switch(o.label){case 0:if(-1===(r=this.plugins.findIndex(function(t){return t.name===e})))return t.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2];return i=this.plugins[r],this.plugins.splice(r,1),[4,null===(n=i.teardown)||void 0===n?void 0:n.call(i)];case 1:return o.sent(),[2]}})})},e.prototype.reset=function(e){this.applying=!1,this.plugins.map(function(e){var t;return null===(t=e.teardown)||void 0===t?void 0:t.call(e)}),this.plugins=[],this.client=e},e.prototype.push=function(e){var t=this;return new Promise(function(n){t.queue.push([e,n]),t.scheduleApply(0)})},e.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout(function(){t.apply(t.queue.shift()).then(function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)})},e))},e.prototype.apply=function(e){return(0,l.mG)(this,void 0,void 0,function(){var t,n,r,i,o,s,a,c,u,d,h,f,m,g;return(0,l.Jh)(this,function(v){switch(v.label){case 0:if(!e)return[2];t=(0,l.CR)(e,1)[0],n=(0,l.CR)(e,2)[1],r=this.plugins.filter(function(e){return"before"===e.type}),v.label=1;case 1:v.trys.push([1,6,7,8]),o=(i=(0,l.XA)(r)).next(),v.label=2;case 2:if(o.done)return[3,5];if(!(s=o.value).execute)return[3,4];return[4,s.execute((0,l.pi)({},t))];case 3:if(null===(a=v.sent()))return n({event:t,code:0,message:""}),[2];t=a,v.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return h={error:v.sent()},[3,8];case 7:try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(h)throw h.error}return[7];case 8:c=this.plugins.filter(function(e){return"enrichment"===e.type||void 0===e.type}),v.label=9;case 9:v.trys.push([9,14,15,16]),d=(u=(0,l.XA)(c)).next(),v.label=10;case 10:if(d.done)return[3,13];if(!(s=d.value).execute)return[3,12];return[4,s.execute((0,l.pi)({},t))];case 11:if(null===(a=v.sent()))return n({event:t,code:0,message:""}),[2];t=a,v.label=12;case 12:return d=u.next(),[3,10];case 13:return[3,16];case 14:return m={error:v.sent()},[3,16];case 15:try{d&&!d.done&&(g=u.return)&&g.call(u)}finally{if(m)throw m.error}return[7];case 16:return Promise.all(this.plugins.filter(function(e){return"destination"===e.type}).map(function(e){var n=(0,l.pi)({},t);return e.execute(n).catch(function(e){return p(n,0,String(e))})})).then(function(e){var r=(0,l.CR)(e,1)[0]||p(t,100,"Event not tracked, no destination plugins on the instance");n(r)}),[2]}})})},e.prototype.flush=function(){return(0,l.mG)(this,void 0,void 0,function(){var e,t=this;return(0,l.Jh)(this,function(n){switch(n.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(e){return t.apply(e)}))];case 1:return n.sent(),[4,Promise.all(this.plugins.filter(function(e){return"destination"===e.type}).map(function(e){return e.flush&&e.flush()}))];case 2:return n.sent(),[2]}})})},e}(),x=function(e,t){return(0,l.pi)((0,l.pi)({},t),{event_type:b.JU.IDENTIFY,user_properties:e.getUserProperties()})},k=function(e,t,n,r){var i;return(0,l.pi)((0,l.pi)({},r),{event_type:b.JU.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:((i={})[e]=t,i)})},S=function(e,t,n){var r,i=new y.h;return i.set(e,t),(0,l.pi)((0,l.pi)({},n),{event_type:b.JU.IDENTIFY,user_properties:i.getUserProperties(),groups:((r={})[e]=t,r)})},E=function(){function e(e){void 0===e&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new C(this),this.name=e}return e.prototype._init=function(e){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return t.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(e){return(0,l.mG)(this,void 0,void 0,function(){var t,n,r,i,o,s;return(0,l.Jh)(this,function(a){switch(a.label){case 0:t=this[e],this[e]=[],a.label=1;case 1:a.trys.push([1,8,9,10]),r=(n=(0,l.XA)(t)).next(),a.label=2;case 2:if(r.done)return[3,7];if(!((i=(0,r.value)())&&"promise"in i))return[3,4];return[4,i.promise];case 3:return a.sent(),[3,6];case 4:return[4,i];case 5:a.sent(),a.label=6;case 6:return r=n.next(),[3,2];case 7:return[3,10];case 8:return o={error:a.sent()},[3,10];case 9:try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}return[7];case 10:if(!this[e].length)return[3,12];return[4,this.runQueuedFunctions(e)];case 11:a.sent(),a.label=12;case 12:return[2]}})})},e.prototype.track=function(e,t,n){var r=(0,l.pi)((0,l.pi)((0,l.pi)({},"string"==typeof e?{event_type:e}:e),n),t&&{event_properties:t});return(0,c.S)(this.dispatch(r))},e.prototype.identify=function(e,t){var n=x(e,t);return(0,c.S)(this.dispatch(n))},e.prototype.groupIdentify=function(e,t,n,r){var i=k(e,t,n,r);return(0,c.S)(this.dispatch(i))},e.prototype.setGroup=function(e,t,n){var r=S(e,t,n);return(0,c.S)(this.dispatch(r))},e.prototype.revenue=function(e,t){var n=(0,l.pi)((0,l.pi)({},t),{event_type:b.JU.REVENUE,event_properties:e.getEventProperties()});return(0,c.S)(this.dispatch(n))},e.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),(0,c.S)())},e.prototype._addPlugin=function(e){return(0,c.S)(this.timeline.register(e,this.config))},e.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),(0,c.S)())},e.prototype._removePlugin=function(e){return(0,c.S)(this.timeline.deregister(e,this.config))},e.prototype.dispatchWithCallback=function(e,t){if(!this.isReady)return t(p(e,0,"Client not initialized"));this.process(e).then(t)},e.prototype.dispatch=function(e){return(0,l.mG)(this,void 0,void 0,function(){var t=this;return(0,l.Jh)(this,function(n){return this.isReady?[2,this.process(e)]:[2,new Promise(function(n){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,n))})]})})},e.prototype.process=function(e){return(0,l.mG)(this,void 0,void 0,function(){var t,n;return(0,l.Jh)(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),this.config.optOut)return[2,p(e,0,"Event skipped due to optOut config")];return[4,this.timeline.push(e)];case 1:return 200===(t=r.sent()).code?this.config.loggerProvider.log(t.message):100===t.code?this.config.loggerProvider.warn(t.message):this.config.loggerProvider.error(t.message),[2,t];case 2:return n=String(r.sent()),this.config.loggerProvider.error(n),[2,t=p(e,0,n)];case 3:return[2]}})})},e.prototype.setOptOut=function(e){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!e));return}this._setOptOut(e)},e.prototype._setOptOut=function(e){this.config.optOut=!!e},e.prototype.flush=function(){return(0,c.S)(this.timeline.flush())},e}(),T=function(e,t){return"boolean"==typeof e?e:(null==e?void 0:e[t])!==!1},P=function(e){return T(e,"attribution")},I=function(e){return T(e,"pageViews")},R=function(e){return T(e,"sessions")},O=function(e){return"boolean"==typeof e?e:"object"==typeof e&&(!0===e.elementInteractions||"object"==typeof e.elementInteractions)},A=function(e){if(O(e.autocapture)&&"object"==typeof e.autocapture&&"object"==typeof e.autocapture.elementInteractions)return e.autocapture.elementInteractions},N=function(e){var t,n=function(){return!1},r=void 0,i=e.pageCounter;return I(e.defaultTracking)&&(n=void 0,t=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(n=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(t=e.defaultTracking.pageViews.eventType))),{trackOn:n,trackHistoryChanges:r,eventType:t,pageCounter:i}},L="dclid",M="fbclid",D="gbraid",j="gclid",U="ko_click_id",F="li_fat_id",V="msclkid",B="rtd_cid",z="ttclid",H="twclid",q="wbraid",K={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},G=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},W=function(e,t,n,r){void 0===r&&(r=!0),e.referrer;var i=e.referring_domain,o=(0,l._T)(e,["referrer","referring_domain"]),s=t||{},a=(s.referrer,s.referring_domain),c=(0,l._T)(s,["referrer","referring_domain"]);if($(n.excludeReferrers,e.referring_domain)||!r&&Object.values(e).every(function(e){return!e})&&t)return!1;var u=JSON.stringify(o)!==JSON.stringify(c),d=G(i||"")!==G(a||"");return!t||u||d},$=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=""),e.some(function(e){return e instanceof RegExp?e.test(t):e===t})},Z=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},J=n(9911),Y=function(){var e,t=(0,J.l)();return(null===(e=null==t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce(function(e,t){var n=t.split("=",2),r=X(n[0]),i=X(n[1]);return i&&(e[r]=i),e},{}):{}},X=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},Q=function(){function e(){}return e.prototype.parse=function(){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(e){return[2,(0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)({},K),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var e=Y();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=null!==(t=null===(e=n.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(e){}return n},e.prototype.getClickIds=function(){var e,t=Y();return(e={})[L]=t[L],e[M]=t[M],e[D]=t[D],e[j]=t[j],e[U]=t[U],e[F]=t[F],e[V]=t[V],e[B]=t[B],e[z]=t[z],e[H]=t[H],e[q]=t[q],e},e}(),ee=function(e,t){return void 0===t&&(t=Date.now()),Date.now()-t>e},et=function(){function e(e,t){var n,r,i,o;this.shouldTrackNewCampaign=!1,this.options=(0,l.pi)({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:Z(null===(n=t.cookieOptions)||void 0===n?void 0:n.domain)},e),this.storage=t.cookieStorage,this.storageKey=(r=t.apiKey,i="MKTG",void 0===o&&(o=10),[d.xp,i,r.substring(0,o)].filter(Boolean).join("_")),this.currentCampaign=K,this.sessionTimeout=t.sessionTimeout,this.lastEventTime=t.lastEventTime,t.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return(0,l.mG)(this,void 0,void 0,function(){var e,t;return(0,l.Jh)(this,function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:if(t=l.CR.apply(void 0,[n.sent(),2]),this.currentCampaign=t[0],this.previousCampaign=t[1],e=!this.lastEventTime||ee(this.sessionTimeout,this.lastEventTime),!W(this.currentCampaign,this.previousCampaign,this.options,e))return[3,3];return this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(e){switch(e.label){case 0:return[4,Promise.all([new Q().parse(),this.storage.get(this.storageKey)])];case 1:return[2,e.sent()]}})})},e.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var t,n,r=(t=this.currentCampaign,n=this.options,x(Object.entries((0,l.pi)((0,l.pi)({},K),t)).reduce(function(e,t){var r,i=(0,l.CR)(t,2),o=i[0],s=i[1];return(e.setOnce("initial_".concat(o),null!==(r=null!=s?s:n.initialEmptyValue)&&void 0!==r?r:"EMPTY"),s)?e.set(o,s):e.unset(o)},new y.h)));return e&&(r.event_id=e),r},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),en=n(76918),er=function(){function e(){this.name="identity",this.type="before",this.identityStore=(0,en.bM)().identityStore}return e.prototype.execute=function(e){return(0,l.mG)(this,void 0,void 0,function(){var t;return(0,l.Jh)(this,function(n){return(t=e.user_properties)&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]})})},e.prototype.setup=function(e){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(t){return e.instanceName&&(this.identityStore=(0,en.bM)(e.instanceName).identityStore),[2]})})},e}(),ei=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.name,o=r.args,s=r.resolve,a=e&&e[i];if("function"==typeof a){var l=a.apply(e,o);"function"==typeof s&&s(null==l?void 0:l.promise)}}return e},eo=function(e){return e&&void 0!==e._q},es=function(){if("undefined"==typeof navigator)return"";var e,t,n,r,i=navigator.userLanguage;return null!==(r=null!==(n=null!==(t=null===(e=navigator.languages)||void 0===e?void 0:e[0])&&void 0!==t?t:navigator.language)&&void 0!==n?n:i)&&void 0!==r?r:""},ea=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat("2.11.10"),"undefined"!=typeof navigator&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},e.prototype.execute=function(e){var t,n;return(0,l.mG)(this,void 0,void 0,function(){var r,i,o;return(0,l.Jh)(this,function(s){return r=new Date().getTime(),i=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1,o=null!==(n=e.event_id)&&void 0!==n?n:i+1,this.config.lastEventId=o,e.time||(this.config.lastEventTime=r),[2,(0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)((0,l.pi)({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:r},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.language&&{language:es()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:m(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:o,library:this.library,user_agent:this.userAgent})]})})},e}(),el=n(40965),ec=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(e){return[2,!0]})})},e.prototype.get=function(e){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(t){return[2,this.memoryStorage.get(e)]})})},e.prototype.getRaw=function(e){return(0,l.mG)(this,void 0,void 0,function(){var t;return(0,l.Jh)(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return[2,(t=n.sent())?JSON.stringify(t):void 0]}})})},e.prototype.set=function(e,t){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(n){return this.memoryStorage.set(e,t),[2]})})},e.prototype.remove=function(e){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(t){return this.memoryStorage.delete(e),[2]})})},e.prototype.reset=function(){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(e){return this.memoryStorage.clear(),[2]})})},e}(),eu=n(87664),ed=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=10),[d.xp,t,e.substring(0,n)].filter(Boolean).join("_")},eh=function(){function e(e){this.options=(0,l.pi)({},e)}return e.prototype.isEnabled=function(){return(0,l.mG)(this,void 0,void 0,function(){var t,n;return(0,l.Jh)(this,function(r){switch(r.label){case 0:if(!(0,J.l)())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),n="AMP_TEST",r.label=1;case 1:return r.trys.push([1,4,5,7]),[4,t.set(n,e.testValue)];case 2:return r.sent(),[4,t.get(n)];case 3:return[2,r.sent()===e.testValue];case 4:return r.sent(),[2,!1];case 5:return[4,t.remove(n)];case 6:return r.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){var t;return(0,l.mG)(this,void 0,void 0,function(){var n,r;return(0,l.Jh)(this,function(i){switch(i.label){case 0:return[4,this.getRaw(e)];case 1:if(!(n=i.sent()))return[2,void 0];try{if(r=null!==(t=ep(n))&&void 0!==t?t:ef(n),void 0===r)return console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0];return[2,JSON.parse(r)]}catch(t){return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(e){var t,n;return(0,l.mG)(this,void 0,void 0,function(){var r,i;return(0,l.Jh)(this,function(o){return(i=(null!==(n=null===(t=null==(r=(0,J.l)())?void 0:r.document)||void 0===t?void 0:t.cookie.split("; "))&&void 0!==n?n:[]).find(function(t){return 0===t.indexOf(e+"=")}))?[2,i.substring(e.length+1)]:[2,void 0]})})},e.prototype.set=function(e,t){var n;return(0,l.mG)(this,void 0,void 0,function(){var r,i,o,s,a,c,u;return(0,l.Jh)(this,function(l){try{r=null!==(n=this.options.expirationDays)&&void 0!==n?n:0,i=null!==t?r:-1,o=void 0,i&&((s=new Date).setTime(s.getTime()+864e5*i),o=s),a="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),o&&(a+="; expires=".concat(o.toUTCString())),a+="; path=/",this.options.domain&&(a+="; domain=".concat(this.options.domain)),this.options.secure&&(a+="; Secure"),this.options.sameSite&&(a+="; SameSite=".concat(this.options.sameSite)),(c=(0,J.l)())&&(c.document.cookie=a)}catch(t){u=t instanceof Error?t.message:String(t),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(u))}return[2]})})},e.prototype.remove=function(e){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}})})},e.prototype.reset=function(){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(e){return[2]})})},e}(),ep=function(e){try{return decodeURIComponent(atob(e))}catch(e){return}},ef=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch(e){return}},em=n(33670),eg=function(){function e(e){this.storage=e}return e.prototype.isEnabled=function(){return(0,l.mG)(this,void 0,void 0,function(){var t,n,r;return(0,l.Jh)(this,function(i){switch(i.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),n=new e(this.storage),r="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,n.set(r,t)];case 2:return i.sent(),[4,n.get(r)];case 3:return[2,i.sent()===t];case 4:return i.sent(),[2,!1];case 5:return[4,n.remove(r)];case 6:return i.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){return(0,l.mG)(this,void 0,void 0,function(){var t;return(0,l.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:if(!(t=n.sent()))return[2,void 0];return[2,JSON.parse(t)];case 2:return n.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(e){var t;return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(n){return[2,(null===(t=this.storage)||void 0===t?void 0:t.getItem(e))||void 0]})})},e.prototype.set=function(e,t){var n;return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(r){try{null===(n=this.storage)||void 0===n||n.setItem(e,JSON.stringify(t))}catch(e){}return[2]})})},e.prototype.remove=function(e){var t;return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(n){try{null===(t=this.storage)||void 0===t||t.removeItem(e)}catch(e){}return[2]})})},e.prototype.reset=function(){var e;return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(t){try{null===(e=this.storage)||void 0===e||e.clear()}catch(e){}return[2]})})},e}(),ev=function(e){function t(t){var n,r=this;return(r=e.call(this,null===(n=(0,J.l)())||void 0===n?void 0:n.localStorage)||this).loggerProvider=null==t?void 0:t.loggerProvider,r}return(0,l.ZT)(t,e),t.prototype.set=function(t,n){var r;return(0,l.mG)(this,void 0,void 0,function(){var i;return(0,l.Jh)(this,function(o){switch(o.label){case 0:if(!(Array.isArray(n)&&n.length>1e3))return[3,2];return i=n.length-1e3,[4,e.prototype.set.call(this,t,n.slice(0,1e3))];case 1:return o.sent(),null===(r=this.loggerProvider)||void 0===r||r.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(1e3,".")),[3,4];case 2:return[4,e.prototype.set.call(this,t,n)];case 3:o.sent(),o.label=4;case 4:return[2]}})})},t}(eg),ey=function(e){function t(){var t;return e.call(this,null===(t=(0,J.l)())||void 0===t?void 0:t.sessionStorage)||this}return(0,l.ZT)(t,e),t}(eg),eb=n(56938),ew=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={done:4},t}return(0,l.ZT)(t,e),t.prototype.send=function(e,t){return(0,l.mG)(this,void 0,void 0,function(){var n=this;return(0,l.Jh)(this,function(r){return[2,new Promise(function(r,i){"undefined"==typeof XMLHttpRequest&&i(Error("XHRTransport is not supported."));var o=new XMLHttpRequest;o.open("POST",e,!0),o.onreadystatechange=function(){if(o.readyState===n.state.done){var e=o.responseText;try{r(n.buildResponse(JSON.parse(e)))}catch(e){r(n.buildResponse({code:o.status}))}}},o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","*/*"),o.send(JSON.stringify(t))})]})})},t}(eb.d),e_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.ZT)(t,e),t.prototype.send=function(e,t){return(0,l.mG)(this,void 0,void 0,function(){var n=this;return(0,l.Jh)(this,function(r){return[2,new Promise(function(r,i){var o=(0,J.l)();if(!(null==o?void 0:o.navigator.sendBeacon))throw Error("SendBeaconTransport is not supported");try{var s=JSON.stringify(t);if(o.navigator.sendBeacon(e,JSON.stringify(t)))return r(n.buildResponse({code:200,events_ingested:t.events.length,payload_size_bytes:s.length,server_upload_time:Date.now()}));return r(n.buildResponse({code:500}))}catch(e){i(e)}})]})})},t}(eb.d),eC=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},ex=function(e){if(atob&&escape&&e)try{return decodeURIComponent(escape(atob(e)))}catch(e){return}},ek="[Amplitude]",eS="".concat(ek," Form Started"),eE="".concat(ek," Form Submitted"),eT="".concat(ek," File Downloaded"),eP="session_start",eI="session_end",eR="".concat(ek," File Extension"),eO="".concat(ek," File Name"),eA="".concat(ek," Link ID"),eN="".concat(ek," Link Text"),eL="".concat(ek," Link URL"),eM="".concat(ek," Form ID"),eD="".concat(ek," Form Name"),ej="".concat(ek," Form Destination"),eU="cookie",eF=function(e){function t(t,n,r,i,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,_,C,x,k,S,E,T,P,I,R,O,A,N,L){void 0===r&&(r=new ec),void 0===i&&(i={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),void 0===l&&(l=1e3),void 0===c&&(c=5),void 0===u&&(u=30),void 0===d&&(d=eU),void 0===g&&(g=new eu.Y),void 0===v&&(v=el.i.Warn),void 0===b&&(b=!1),void 0===w&&(w=!1),void 0===x&&(x=""),void 0===k&&(k="US"),void 0===E&&(E=18e5),void 0===T&&(T=new ev({loggerProvider:g})),void 0===P&&(P={ipAddress:!0,language:!0,platform:!0}),void 0===I&&(I="fetch"),void 0===R&&(R=!1),void 0===O&&(O=!1);var M=e.call(this,{apiKey:t,storageProvider:T,transportProvider:eB(I)})||this;return M.apiKey=t,M.appVersion=n,M.cookieOptions=i,M.defaultTracking=o,M.autocapture=s,M.flushIntervalMillis=l,M.flushMaxRetries=c,M.flushQueueSize=u,M.identityStorage=d,M.ingestionMetadata=h,M.instanceName=p,M.loggerProvider=g,M.logLevel=v,M.minIdLength=y,M.offline=b,M.partnerId=_,M.plan=C,M.serverUrl=x,M.serverZone=k,M.sessionTimeout=E,M.storageProvider=T,M.trackingOptions=P,M.transport=I,M.useBatch=R,M.fetchRemoteConfig=O,M._optOut=!1,M._cookieStorage=r,M.deviceId=a,M.lastEventId=f,M.lastEventTime=m,M.optOut=w,M.sessionId=S,M.pageCounter=N,M.userId=A,M.debugLogsEnabled=L,M.loggerProvider.enable(L?el.i.Debug:M.logLevel),M}return(0,l.ZT)(t,e),Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(e){this._cookieStorage!==e&&(this._cookieStorage=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(e){this._lastEventId!==e&&(this._lastEventId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(e){this._pageCounter!==e&&(this._pageCounter=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(e){this._debugLogsEnabled!==e&&(this._debugLogsEnabled=e,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var e={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(ed(this.apiKey),e)},t}(f.De),eV=function(e,t){switch(void 0===e&&(e=eU),void 0===t&&(t={}),e){case"localStorage":return new ev;case"sessionStorage":return new ey;case"none":return new ec;default:return new eh((0,l.pi)((0,l.pi)({},t),{expirationDays:t.expiration}))}},eB=function(e){return"xhr"===e?new ew:"beacon"===e?new e_:new em.V},ez=function(e){var t={};for(var n in e){var r=e[n];r&&(t[n]=r)}return t},eH=function(e){void 0===e&&(e={});var t,n,r,i=(0,J.l)(),o=void 0,s=e.trackOn,a=e.trackHistoryChanges,c=e.eventType,u=void 0===c?"[Amplitude] Page Viewed":c,d=function(e){var t=e;try{t=decodeURI(e)}catch(e){null==o||o.error("Malformed URI sequence: ",e)}return t},h=function(){return(0,l.mG)(void 0,void 0,void 0,function(){var e,t,n;return(0,l.Jh)(this,function(r){switch(r.label){case 0:return e=d("undefined"!=typeof location&&location.href||""),n={event_type:u},t=[{}],[4,eq()];case 1:return[2,(n.event_properties=l.pi.apply(void 0,[l.pi.apply(void 0,t.concat([r.sent()])),{"[Amplitude] Page Domain":"undefined"!=typeof location&&location.hostname||"","[Amplitude] Page Location":e,"[Amplitude] Page Path":"undefined"!=typeof location&&d(location.pathname)||"","[Amplitude] Page Title":"undefined"!=typeof document&&document.title||"","[Amplitude] Page URL":e.split("?")[0]}]),n)]}})})},p=function(){return void 0===s||"function"==typeof s&&s()},f="undefined"!=typeof location?location.href:null,m=function(){return(0,l.mG)(void 0,void 0,void 0,function(){var e,n,r,i;return(0,l.Jh)(this,function(s){switch(s.label){case 0:if(n=eG(a,e=location.href,f||"")&&p(),f=e,!n)return[3,4];if(null==o||o.log("Tracking page view event"),null!=t)return[3,1];return[3,3];case 1:return i=(r=t).track,[4,h()];case 2:i.apply(r,[s.sent()]),s.label=3;case 3:s.label=4;case 4:return[2]}})})},g=function(){m()};return{name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(e,s){return(0,l.mG)(void 0,void 0,void 0,function(){var a,c;return(0,l.Jh)(this,function(u){switch(u.label){case 0:if(t=s,r=e,(o=e.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),i&&(i.addEventListener("popstate",g),n=i.history.pushState,i.history.pushState=new Proxy(i.history.pushState,{apply:function(e,t,n){var r=(0,l.CR)(n,3),i=r[0],o=r[1],s=r[2];e.apply(t,[i,o,s]),m()}})),!p())return[3,2];return o.log("Tracking page view event"),c=(a=t).track,[4,h()];case 1:c.apply(a,[u.sent()]),u.label=2;case 2:return[2]}})})},execute:function(e){return(0,l.mG)(void 0,void 0,void 0,function(){var t;return(0,l.Jh)(this,function(n){switch(n.label){case 0:if(!("attribution"===s&&eK(e)))return[3,2];return null==o||o.log("Enriching campaign event to page view event with campaign parameters"),[4,h()];case 1:t=n.sent(),e.event_type=t.event_type,e.event_properties=(0,l.pi)((0,l.pi)({},e.event_properties),t.event_properties),n.label=2;case 2:return r&&e.event_type===u&&(r.pageCounter=r.pageCounter?r.pageCounter+1:1,e.event_properties=(0,l.pi)((0,l.pi)({},e.event_properties),{"[Amplitude] Page Counter":r.pageCounter})),[2,e]}})})},teardown:function(){return(0,l.mG)(void 0,void 0,void 0,function(){return(0,l.Jh)(this,function(e){return i&&(i.removeEventListener("popstate",g),n&&(i.history.pushState=n)),[2]})})}}},eq=function(){return(0,l.mG)(void 0,void 0,void 0,function(){var e;return(0,l.Jh)(this,function(t){switch(t.label){case 0:return e=ez,[4,new Q().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},eK=function(e){if("$identify"===e.event_type&&e.user_properties){var t=e.user_properties,n=t[b.h9.SET]||{},r=t[b.h9.UNSET]||{},i=(0,l.ev)((0,l.ev)([],(0,l.CR)(Object.keys(n)),!1),(0,l.CR)(Object.keys(r)),!1);return Object.keys(K).every(function(e){return i.includes(e)})}return!1},eG=function(e,t,n){if("pathOnly"===e){if(""==n)return!0;var r=new URL(t),i=new URL(n);return r.origin+r.pathname!==i.origin+i.pathname}return t!==n},eW=function(){var e,t=[],n=function(e,n,r){e.addEventListener(n,r),t.push({element:e,type:n,handler:r})},r=function(){t.forEach(function(e){var t=e.element,n=e.type,r=e.handler;null==t||t.removeEventListener(n,r)}),t=[]};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:"enrichment",setup:function(t,r){return(0,l.mG)(void 0,void 0,void 0,function(){var i;return(0,l.Jh)(this,function(o){return null===(i=(0,J.l)())||void 0===i||i.addEventListener("load",function(){if(!r){t.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if("undefined"!=typeof document){var i=function(e){var t=!1;n(e,"change",function(){var n;t||r.track(eS,((n={})[eM]=e$(e.id),n[eD]=e$(e.name),n[ej]=e.action,n)),t=!0}),n(e,"submit",function(){var n,i;t||r.track(eS,((n={})[eM]=e$(e.id),n[eD]=e$(e.name),n[ej]=e.action,n)),r.track(eE,((i={})[eM]=e$(e.id),i[eD]=e$(e.name),i[ej]=e.action,i)),t=!1})};Array.from(document.getElementsByTagName("form")).forEach(i),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"FORM"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(i)})})})).observe(document.body,{subtree:!0,childList:!0})}}),[2]})})},execute:function(e){return(0,l.mG)(void 0,void 0,void 0,function(){return(0,l.Jh)(this,function(t){return[2,e]})})},teardown:function(){return(0,l.mG)(void 0,void 0,void 0,function(){return(0,l.Jh)(this,function(t){return null==e||e.disconnect(),r(),[2]})})}}},e$=function(e){if("string"==typeof e)return e},eZ=function(){var e,t=[],n=function(e,n,r){e.addEventListener(n,r),t.push({element:e,type:n,handler:r})},r=function(){t.forEach(function(e){var t=e.element,n=e.type,r=e.handler;null==t||t.removeEventListener(n,r)}),t=[]};return{name:"@amplitude/plugin-file-download-tracking-browser",type:"enrichment",setup:function(t,r){return(0,l.mG)(void 0,void 0,void 0,function(){var i;return(0,l.Jh)(this,function(o){return null===(i=(0,J.l)())||void 0===i||i.addEventListener("load",function(){if(!r){t.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if("undefined"!=typeof document){var i=function(e){try{t=new URL(e.href,window.location.href)}catch(e){return}var t,i=o.exec(t.href),s=null==i?void 0:i[1];s&&n(e,"click",function(){var n;s&&r.track(eT,((n={})[eR]=s,n[eO]=t.pathname,n[eA]=e.id,n[eN]=e.text,n[eL]=e.href,n))})},o=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/;Array.from(document.getElementsByTagName("a")).forEach(i),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"A"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("a")).map(i)})})})).observe(document.body,{subtree:!0,childList:!0})}}),[2]})})},execute:function(e){return(0,l.mG)(void 0,void 0,void 0,function(){return(0,l.Jh)(this,function(t){return[2,e]})})},teardown:function(){return(0,l.mG)(void 0,void 0,void 0,function(){return(0,l.Jh)(this,function(t){return null==e||e.disconnect(),r(),[2]})})}}},eJ=!1,eY=function(e){eJ||void 0!==e.defaultTracking||(e.loggerProvider.warn("`options.defaultTracking` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to `options.defaultTracking`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\n\namplitude.init(<YOUR_API_KEY>, {\n  defaultTracking: true,\n});\n\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details."),eJ=!0)},eX=function(){var e=(0,J.l)(),t=[],n=function(n,r){e&&(e.addEventListener(n,r),t.push({type:n,handler:r}))},r=function(){t.forEach(function(t){var n=t.type,r=t.handler;e&&e.removeEventListener(n,r)}),t=[]};return{name:"@amplitude/plugin-network-checker-browser",type:"before",setup:function(e,t){return(0,l.mG)(void 0,void 0,void 0,function(){return(0,l.Jh)(this,function(r){return"undefined"==typeof navigator?(e.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),e.offline=!1):(e.offline=!navigator.onLine,n("online",function(){e.loggerProvider.debug("Network connectivity changed to online."),e.offline=!1,setTimeout(function(){t.flush()},e.flushIntervalMillis)}),n("offline",function(){e.loggerProvider.debug("Network connectivity changed to offline."),e.offline=!0})),[2]})})},teardown:function(){return(0,l.mG)(void 0,void 0,void 0,function(){return(0,l.Jh)(this,function(e){return r(),[2]})})}}},eQ=n(54261),e0="Remote config fetch rejected due to timeout after 5 seconds",e1="Unexpected error occurred",e2=function(){function e(e){var t=e.localConfig,n=e.configKeys,r=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(e,t,n){return(0,l.mG)(r,void 0,void 0,function(){var r,i,o;return(0,l.Jh)(this,function(s){switch(s.label){case 0:return r=Date.now(),[4,this.fetchWithTimeout(n)];case 1:if((i=s.sent())&&(o=i.configs&&i.configs[e]))return this.metrics.fetchTimeAPISuccess=Date.now()-r,[2,o[t]];return this.metrics.fetchTimeAPIFail=Date.now()-r,[2,void 0]}})})},this.fetchWithTimeout=function(e){return(0,l.mG)(r,void 0,void 0,function(){var t,n,r;return(0,l.Jh)(this,function(i){switch(i.label){case 0:return t=new AbortController,n=setTimeout(function(){return t.abort()},5e3),[4,this.fetchRemoteConfig(t.signal,e)];case 1:return r=i.sent(),clearTimeout(n),[2,r]}})})},this.fetchRemoteConfig=function(e,t){return(0,l.mG)(r,void 0,void 0,function(){var n,r,i,o,s,a,c,d,h,p,f;return(0,l.Jh)(this,function(m){switch(m.label){case 0:if(t===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:"Remote config fetch rejected due to exceeded retry count"})];if(e.aborted)return[2,this.completeRequest({err:e0})];t!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=t,this.attempts=0),m.label=1;case 1:m.trys.push([1,3,,4]),n=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(i=(r=(0,l.XA)(this.configKeys)).next();!i.done;i=r.next())o=i.value,n.append("config_keys",o)}catch(e){h={error:e}}finally{try{i&&!i.done&&(p=r.return)&&p.call(r)}finally{if(h)throw h.error}}return t&&n.set("session_id",String(t)),s={headers:{Accept:"*/*"},method:"GET"},a="".concat(this.getServerUrl(),"?").concat(n.toString()),this.attempts+=1,[4,fetch(a,(0,l.pi)((0,l.pi)({},s),{signal:e}))];case 2:if(null===(c=m.sent()))return[2,this.completeRequest({err:e1})];switch(new eb.d().buildStatus(c.status)){case u.q.Success:return this.attempts=0,[2,this.parseAndStoreConfig(c)];case u.q.Failed:return[2,this.retryFetch(e,t)];default:return[2,this.completeRequest({err:"Network error occurred, remote config fetch failed"})]}return[3,4];case 3:if(d=m.sent(),e.aborted)return[2,this.completeRequest({err:e0})];return[2,this.completeRequest({err:null!==(f=d.message)&&void 0!==f?f:e1})];case 4:return[2]}})})},this.retryFetch=function(e,t){return(0,l.mG)(r,void 0,void 0,function(){var n=this;return(0,l.Jh)(this,function(r){switch(r.label){case 0:return[4,new Promise(function(e){return setTimeout(e,n.attempts*n.retryTimeout)})];case 1:return r.sent(),[2,this.fetchRemoteConfig(e,t)]}})})},this.parseAndStoreConfig=function(e){return(0,l.mG)(r,void 0,void 0,function(){var t;return(0,l.Jh)(this,function(n){switch(n.label){case 0:return[4,e.json()];case 1:return t=n.sent(),this.completeRequest({success:"Remote config successfully fetched"}),[2,t]}})})},this.localConfig=t,this.configKeys=n}return e.prototype.getServerUrl=function(){return this.localConfig.serverZone===eQ.J.STAGING?"https://sr-client-cfg.stag2.amplitude.com/config":this.localConfig.serverZone===eQ.J.EU?"https://sr-client-cfg.eu.amplitude.com/config":"https://sr-client-cfg.amplitude.com/config"},e.prototype.completeRequest=function(e){var t=e.err,n=e.success;if(t)throw Error(t);n&&this.localConfig.loggerProvider.log(n)},e}(),e3=function(e){var t=e.localConfig,n=e.configKeys;return(0,l.mG)(void 0,void 0,void 0,function(){return(0,l.Jh)(this,function(e){return[2,new e2({localConfig:t,configKeys:n})]})})},e4=function(){function e(e){this.config=e,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return e.prototype.initialize=function(){return(0,l.mG)(this,void 0,void 0,function(){var e;return(0,l.Jh)(this,function(t){switch(t.label){case 0:return e=this,[4,e3({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return e.remoteConfigFetch=t.sent(),[2]}})})},e.prototype.generateJoinedConfig=function(){var e,t,n,r;return(0,l.mG)(this,void 0,void 0,function(){var i,o,s;return(0,l.Jh)(this,function(a){switch(a.label){case 0:if(a.trys.push([0,3,,4]),!(o=this.remoteConfigFetch))return[3,2];return[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)];case 1:o=a.sent(),a.label=2;case 2:return i=o,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(i,null,2)),i&&"autocapture"in i&&("boolean"==typeof i.autocapture&&(this.config.autocapture=i.autocapture),"object"==typeof i.autocapture&&(void 0===this.config.autocapture&&(this.config.autocapture=i.autocapture),"boolean"==typeof this.config.autocapture&&(this.config.autocapture=(0,l.pi)({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},i.autocapture)),"object"==typeof this.config.autocapture&&(this.config.autocapture=(0,l.pi)((0,l.pi)({},this.config.autocapture),i.autocapture))),this.config.defaultTracking=this.config.autocapture),this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),null!==(e=(r=this.config).requestMetadata)&&void 0!==e||(r.requestMetadata=new f.Dg),(null===(t=this.remoteConfigFetch)||void 0===t?void 0:t.metrics.fetchTimeAPISuccess)&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),(null===(n=this.remoteConfigFetch)||void 0===n?void 0:n.metrics.fetchTimeAPIFail)&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return s=a.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",s),[3,4];case 4:return[2,this.config]}})})},e}(),e5=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],e6=["div","span","h1","h2","h3","h4","h5","h6"],e8="[Amplitude] Element Clicked",e7="[Amplitude] Element Tag",e9="[Amplitude] Element Text",te="[Amplitude] Element Selector",tt="[Amplitude] Page URL",tn="https://app.amplitude.com",tr={US:tn,EU:"https://app.eu.amplitude.com",STAGING:"https://apps.stag2.amplitude.com"},ti="amp-visual-tagging-selector-highlight",to=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function ts(e){return"function"==typeof e}function ta(e){return ts(null==e?void 0:e.then)}function tl(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var tc=tl(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function tu(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var td=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,n,r,i,o=this._parentage;if(o){if(this._parentage=null,Array.isArray(o))try{for(var s=(0,l.XA)(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this)}var c=this.initialTeardown;if(ts(c))try{c()}catch(e){i=e instanceof tc?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var d=(0,l.XA)(u),h=d.next();!h.done;h=d.next()){var p=h.value;try{tp(p)}catch(e){i=null!=i?i:[],e instanceof tc?i=(0,l.ev)((0,l.ev)([],(0,l.CR)(i)),(0,l.CR)(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}}if(i)throw new tc(i)}},t.prototype.add=function(e){var n;if(e&&e!==this){if(this.closed)tp(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&tu(t,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&tu(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();function th(e){return e instanceof td||e&&"closed"in e&&ts(e.remove)&&ts(e.add)&&ts(e.unsubscribe)}function tp(e){ts(e)?e():e.unsubscribe()}td.EMPTY;var tf={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},tm={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=tm.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,l.ev)([e,t],(0,l.CR)(n))):setTimeout.apply(void 0,(0,l.ev)([e,t],(0,l.CR)(n)))},clearTimeout:function(e){var t=tm.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function tg(e){tm.setTimeout(function(){var t=tf.onUnhandledError;if(t)t(e);else throw e})}function tv(){}var ty=tb("C",void 0,void 0);function tb(e,t,n){return{kind:e,value:t,error:n}}var tw=null,t_=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,th(t)&&t.add(n)):n.destination=tP,n}return(0,l.ZT)(t,e),t.create=function(e,t,n){return new tS(e,t,n)},t.prototype.next=function(e){this.isStopped?tT(tb("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?tT(tb("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?tT(ty,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(td),tC=Function.prototype.bind;function tx(e,t){return tC.call(e,t)}var tk=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){tE(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){tE(e)}else tE(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){tE(e)}},e}(),tS=function(e){function t(t,n,r){var i,o,s=e.call(this)||this;return ts(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&tf.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&tx(t.next,o),error:t.error&&tx(t.error,o),complete:t.complete&&tx(t.complete,o)}):i=t,s.destination=new tk(i),s}return(0,l.ZT)(t,e),t}(t_);function tE(e){tf.useDeprecatedSynchronousErrorHandling?tf.useDeprecatedSynchronousErrorHandling&&tw&&(tw.errorThrown=!0,tw.error=e):tg(e)}function tT(e,t){var n=tf.onStoppedNotification;n&&tm.setTimeout(function(){return n(e,t)})}var tP={closed:!0,next:tv,error:function(e){throw e},complete:tv},tI="function"==typeof Symbol&&Symbol.observable||"@@observable";function tR(e){return e}var tO=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,o=(r=e)&&r instanceof t_||r&&ts(r.next)&&ts(r.error)&&ts(r.complete)&&th(r)?e:new tS(e,t,n);return function(e){if(tf.useDeprecatedSynchronousErrorHandling){var t=!tw;if(t&&(tw={errorThrown:!1,error:null}),e(),t){var n=tw,r=n.errorThrown,i=n.error;if(tw=null,r)throw i}}else e()}(function(){var e=i.operator,t=i.source;o.add(e?e.call(o,t):t?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=tA(t))(function(t,r){var i=new tS({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[tI]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?tR:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=tA(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function tA(e){var t;return null!==(t=null!=e?e:tf.Promise)&&void 0!==t?t:Promise}function tN(e){return Symbol.asyncIterator&&ts(null==e?void 0:e[Symbol.asyncIterator])}function tL(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var tM="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function tD(e){return ts(null==e?void 0:e[tM])}function tj(e){return(0,l.FC)(this,arguments,function(){var t,n,r;return(0,l.Jh)(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,l.qq)(t.read())];case 3:if(r=(n=i.sent()).value,!n.done)return[3,5];return[4,(0,l.qq)(void 0)];case 4:return[2,i.sent()];case 5:return[4,(0,l.qq)(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function tU(e){return ts(null==e?void 0:e.getReader)}function tF(e){if(e instanceof tO)return e;if(null!=e){if(ts(e[tI]))return new tO(function(t){var n=e[tI]();if(ts(n.subscribe))return n.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(to(e))return new tO(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()});if(ta(e))return new tO(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,tg)});if(tN(e))return tV(e);if(tD(e))return new tO(function(t){var n,r;try{for(var i=(0,l.XA)(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()});if(tU(e))return tV(tj(e))}throw tL(e)}function tV(e){return new tO(function(t){(function(e,t){var n,r,i,o;return(0,l.mG)(this,void 0,void 0,function(){var s;return(0,l.Jh)(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=(0,l.KL)(e),a.label=1;case 1:return[4,n.next()];case 2:if((r=a.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i={error:a.sent()},[3,11];case 6:if(a.trys.push([6,,9,10]),!(r&&!r.done&&(o=n.return)))return[3,8];return[4,o.call(n)];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function tB(e){return function(t){if(ts(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function tz(e,t,n,r,i){return new tH(e,t,n,r,i)}var tH=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,l.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),n||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(t_);function tq(e,t){return tB(function(n,r){var i=0;n.subscribe(tz(r,function(n){r.next(e.call(t,n,i++))}))})}function tK(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function tG(e,t,n){return(void 0===n&&(n=1/0),ts(t))?tG(function(n,r){return tq(function(e,i){return t(n,e,r,i)})(tF(e(n,r)))},n):("number"==typeof t&&(n=t),tB(function(t,r){var i,o,s,a,l,c,u,d,h;return i=n,s=[],a=0,l=0,c=!1,u=function(){!c||s.length||a||r.complete()},d=function(e){return a<i?h(e):s.push(e)},h=function(t){a++;var n=!1;tF(e(t,l++)).subscribe(tz(r,function(e){o?d(e):r.next(e)},function(){n=!0},void 0,function(){if(n)try{for(a--;s.length&&a<i;)!function(){var e=s.shift();h(e)}();u()}catch(e){r.error(e)}}))},t.subscribe(tz(r,d,function(){c=!0,u()})),function(){}}))}var tW=Array.isArray,t$=["addListener","removeListener"],tZ=["addEventListener","removeEventListener"],tJ=["on","off"];function tY(e,t,n,r){if(ts(n)&&(r=n,n=void 0),r)return tY(e,t,n).pipe((i=r,tq(function(e){return tW(e)?i.apply(void 0,(0,l.ev)([],(0,l.CR)(e))):i(e)})));var i,o=(0,l.CR)(ts(e.addEventListener)&&ts(e.removeEventListener)?tZ.map(function(r){return function(i){return e[r](t,i,n)}}):ts(e.addListener)&&ts(e.removeListener)?t$.map(tX(e,t)):ts(e.on)&&ts(e.off)?tJ.map(tX(e,t)):[],2),s=o[0],a=o[1];if(!s&&to(e))return tG(function(e){return tY(e,t,n)})(tF(e));if(!s)throw TypeError("Invalid event target");return new tO(function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return s(t),function(){return a(t)}})}function tX(e,t){return function(n){return function(r){return e[n](t,r)}}}function tQ(e,t,n){for(var r=null,o=[],s=e,a=0;s&&"break"!==function(){var e,c,u,d,h=t8((e=s.getAttribute("id"))&&i.idName(e)?{name:"#"+CSS.escape(e),penalty:0}:null)||t8.apply(void 0,(0,l.ev)([],(0,l.CR)(Array.from(s.attributes).filter(function(e){return i.attr(e.name,e.value)}).map(function(e){return{name:"[".concat(CSS.escape(e.name),'="').concat(CSS.escape(e.value),'"]'),penalty:.5}})),!1))||t8.apply(void 0,(0,l.ev)([],(0,l.CR)(Array.from(s.classList).filter(i.className).map(function(e){return{name:"."+CSS.escape(e),penalty:1}})),!1))||t8((c=s.tagName.toLowerCase(),i.tagName(c)?{name:c,penalty:2}:null))||[t4()],p=function(e){var t=e.parentNode;if(!t)return null;var n=t.firstChild;if(!n)return null;for(var r=0;n&&(n.nodeType===Node.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling;return r}(s);if("all"==t)p&&(h=h.concat(h.filter(t6).map(function(e){return t5(e,p)})));else if("two"==t)h=h.slice(0,1),p&&(h=h.concat(h.filter(t6).map(function(e){return t5(e,p)})));else if("one"==t){var f=(0,l.CR)(h=h.slice(0,1),1)[0];p&&t6(f)&&(h=[t5(f,p)])}else"none"==t&&(h=[t4()],p&&(h=[t5(h[0],p)]));try{for(var m=(u=void 0,(0,l.XA)(h)),g=m.next();!g.done;g=m.next()){var f=g.value;f.level=a}}catch(e){u={error:e}}finally{try{g&&!g.done&&(d=m.return)&&d.call(m)}finally{if(u)throw u.error}}if(o.push(h),o.length>=i.seedMinLength&&(r=t0(o,n)))return"break";s=s.parentElement,a++}(););return(r||(r=t0(o,n)),!r&&n)?n():r}function t0(e,t){if(e.reduce(function(e,t){return e*t.length},1)>i.threshold)return t?t():null;var n,r,o=t9(function e(t,n){var r,i,o,s,a;return void 0===n&&(n=[]),(0,l.Jh)(this,function(c){switch(c.label){case 0:if(!(t.length>0))return[3,9];c.label=1;case 1:c.trys.push([1,6,7,8]),i=(r=(0,l.XA)(t[0])).next(),c.label=2;case 2:if(i.done)return[3,5];return o=i.value,[5,(0,l.XA)(e(t.slice(1,t.length),n.concat(o)))];case 3:c.sent(),c.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return s={error:c.sent()},[3,8];case 7:try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(s)throw s.error}return[7];case 8:return[3,11];case 9:return[4,n];case 10:c.sent(),c.label=11;case 11:return[2]}})}(e));try{for(var s=(0,l.XA)(o),a=s.next();!a.done;a=s.next()){var c=a.value;if(t3(c))return c}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return null}function t1(e){for(var t=e[0],n=t.name,r=1;r<e.length;r++){var i=e[r].level||0;n=t.level===i-1?"".concat(e[r].name," > ").concat(n):"".concat(e[r].name," ").concat(n),t=e[r]}return n}function t2(e){return e.map(function(e){return e.penalty}).reduce(function(e,t){return e+t},0)}function t3(e){var t=t1(e);switch(o.querySelectorAll(t).length){case 0:throw Error("Can't select any node with this selector: ".concat(t));case 1:return!0;default:return!1}}function t4(){return{name:"*",penalty:3}}function t5(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function t6(e){return"html"!==e.name&&!e.name.startsWith("#")}function t8(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(t7);return n.length>0?n:null}function t7(e){return null!=e}function t9(e){return(0,l.ev)([],(0,l.CR)(e),!1).sort(function(e,t){return t2(e)-t2(t)})}var ne=["input","select","textarea"],nt=function(e,t){return function(n,r){var i,o,s,a=e.pageUrlAllowlist,l=e.shouldTrackEventResolver,c=null===(o=null===(i=null==r?void 0:r.tagName)||void 0===i?void 0:i.toLowerCase)||void 0===o?void 0:o.call(i);if(!c)return!1;if(l)return l(n,r);if(!ns(window.location.href,a))return!1;var u=String(null==r?void 0:r.getAttribute("type"))||"";if("string"==typeof u)switch(u.toLowerCase()){case"hidden":case"password":return!1}if(t&&!t.some(function(e){var t;return!!(null===(t=null==r?void 0:r.matches)||void 0===t?void 0:t.call(r,e))}))return!1;switch(c){case"input":case"select":case"textarea":return"change"===n||"click"===n;default:var d=null===(s=null==window?void 0:window.getComputedStyle)||void 0===s?void 0:s.call(window,r);if(d&&"pointer"===d.getPropertyValue("cursor")&&"click"===n)return!0;return"click"===n}}},nn=function(e){return!(null==e||"string"==typeof e&&(/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((e||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(e)))},nr=function(e){var t,n,r,i=null===(n=null===(t=null==e?void 0:e.tagName)||void 0===t?void 0:t.toLowerCase)||void 0===n?void 0:n.call(t),o=e instanceof HTMLElement&&(null===(r=e.getAttribute("contenteditable"))||void 0===r?void 0:r.toLowerCase())==="true";return!ne.includes(i)&&!o},ni=function(e){var t="";return nr(e)&&e.childNodes&&e.childNodes.length&&e.childNodes.forEach(function(e){var n="";e&&3===e.nodeType?e.textContent&&(n=e.textContent):n=ni(e),t+=n.split(/(\s+)/).filter(nn).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),t},no=function(e,t){var n,r,s="";try{return s=function(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";var n,r={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,t){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};o=(n=(i=(0,l.pi)((0,l.pi)({},r),t)).root).nodeType===Node.DOCUMENT_NODE?n:n===r.root?n.ownerDocument:n;var s=tQ(e,"all",function(){return tQ(e,"two",function(){return tQ(e,"one",function(){return tQ(e,"none")})})});if(s){var a=t9(function e(t,n,r){var s,a,c;return void 0===r&&(r={counter:0,visited:new Map}),(0,l.Jh)(this,function(u){switch(u.label){case 0:if(!(t.length>2&&t.length>i.optimizedMinLength))return[3,5];s=1,u.label=1;case 1:var d;if(!(s<t.length-1))return[3,5];if(r.counter>i.maxNumberOfTries||(r.counter+=1,(a=(0,l.ev)([],(0,l.CR)(t),!1)).splice(s,1),c=t1(a),r.visited.has(c)))return[2];if(!(t3(a)&&(d=a,o.querySelector(t1(d))===n)))return[3,4];return[4,a];case 2:return u.sent(),r.visited.set(c,!0),[5,(0,l.XA)(e(a,n,r))];case 3:u.sent(),u.label=4;case 4:return s++,[3,1];case 5:return[2]}})}(s,e));return a.length>0&&(s=a[0]),t1(s)}throw Error("Selector was not found.")}(e,{className:function(e){return e!==ti},maxNumberOfTries:1e3})}catch(e){t&&t.warn("Failed to get selector with finder, use fallback strategy instead: ".concat(e.toString()))}var a=null===(r=null===(n=null==e?void 0:e.tagName)||void 0===n?void 0:n.toLowerCase)||void 0===r?void 0:r.call(n);a&&(s=a);var c=e.getAttribute("id"),u=e.getAttribute("class");if(c)s="#".concat(c);else if(u){var d=u.split(" ").filter(function(e){return e!==ti}).join(".");d&&(s="".concat(s,".").concat(d))}return s},ns=function(e,t){return!t||!t.length||t.some(function(t){return"string"==typeof t?e===t:e.match(t)})},na=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null==r||"object"==typeof r&&0===Object.keys(r).length||"string"==typeof r&&0===r.trim().length||(t[n]=r),t},{})},nl=function(e){var t,n=e.parentElement;if(!n)return"";try{t=n.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch(e){t=null}if(t){var r=t.textContent||"";return nn(r)?r:""}return nl(n)},nc=function(e,t){return e?t.some(function(t){var n;return null===(n=null==e?void 0:e.matches)||void 0===n?void 0:n.call(e,t)})?e:nc(null==e?void 0:e.parentElement,t):null},nu=function(e,t){if(!e)return{};var n,r,i,o=null===(i=null===(r=null==e?void 0:e.tagName)||void 0===r?void 0:r.toLowerCase)||void 0===i?void 0:i.call(r),s=no(e,t);return na(((n={})[e7]=o,n[e9]=ni(e),n[te]=s,n[tt]=window.location.href.split("?")[0],n))},nd=function(e){return null!==e.event.target&&!!e.closestTrackedAncestor},nh=function(){function e(e){var t=(void 0===e?{}:e).origin,n=this;this.endpoint=tn,this.requestCallbacks={},this.onSelect=function(e){n.notify({action:"element-selected",data:e})},this.onTrack=function(e,t){"selector-mode-changed"===e?n.notify({action:"track-selector-mode-changed",data:t}):"selector-moved"===e&&n.notify({action:"track-selector-moved",data:t})},this.endpoint=void 0===t?tn:t}return e.prototype.notify=function(e){var t,n,r,i;null===(n=null===(t=this.logger)||void 0===t?void 0:t.debug)||void 0===n||n.call(t,"Message sent: ",JSON.stringify(e)),null===(i=null===(r=window.opener)||void 0===r?void 0:r.postMessage)||void 0===i||i.call(r,e,this.endpoint)},e.prototype.sendRequest=function(e,t,n){var r=this;void 0===n&&(n={timeout:15e3});var i="".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),o={id:i,action:e,args:t};return new Promise(function(t,s){r.requestCallbacks[i]={resolve:t,reject:s},r.notify(o),(null==n?void 0:n.timeout)>0&&setTimeout(function(){s(Error("".concat(e," timed out (id: ").concat(i,")"))),delete r.requestCallbacks[i]},n.timeout)})},e.prototype.handleResponse=function(e){var t;if(!this.requestCallbacks[e.id]){null===(t=this.logger)||void 0===t||t.warn("No callback found for request id: ".concat(e.id));return}this.requestCallbacks[e.id].resolve(e.responseData),delete this.requestCallbacks[e.id]},e.prototype.setup=function(e){var t=this,n=void 0===e?{}:e,r=n.logger,i=n.endpoint,o=n.isElementSelectable,s=n.cssSelectorAllowlist,a=n.actionClickAllowlist;this.logger=r,i&&this.endpoint===tn&&(this.endpoint=i);var l=null;window.addEventListener("message",function(e){if(null===(r=null===(n=t.logger)||void 0===n?void 0:n.debug)||void 0===r||r.call(n,"Message received: ",JSON.stringify(e)),t.endpoint===e.origin){var n,r,i,c,u,d=null==e?void 0:e.data,h=null==d?void 0:d.action;if(h){if("id"in d)null===(c=null===(i=t.logger)||void 0===i?void 0:i.debug)||void 0===c||c.call(i,"Received Response to previous request: ",JSON.stringify(e)),t.handleResponse(d);else if("ping"===h)t.notify({action:"pong"});else if("initialize-visual-tagging-selector"===h){var p,f=null==d?void 0:d.data;(p="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",new Promise(function(e,t){var n;try{var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=p,r.addEventListener("load",function(){e({status:!0})},{once:!0}),r.addEventListener("error",function(){t({status:!1,message:"Failed to load the script ".concat(p)})}),null===(n=document.head)||void 0===n||n.appendChild(r)}catch(e){t(e)}})).then(function(){var e;l=null===(e=null==window?void 0:window.amplitudeVisualTaggingSelector)||void 0===e?void 0:e.call(window,{getEventTagProps:nu,isElementSelectable:function(e){return!o||o((null==f?void 0:f.actionType)||"click",e)},onTrack:t.onTrack,onSelect:t.onSelect,visualHighlightClass:ti,messenger:t,cssSelectorAllowlist:s,actionClickAllowlist:a}),t.notify({action:"selector-loaded"})}).catch(function(){var e;null===(e=t.logger)||void 0===e||e.warn("Failed to initialize visual tagging selector")})}else"close-visual-tagging-selector"===h&&(null===(u=null==l?void 0:l.close)||void 0===u||u.call(l))}}}),this.notify({action:"page-loaded"})},e}(),np=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],nf=["type"],nm=["svg","path","g"],ng=["password","hidden"];function nv(e,t){return tB(function(n,r){var i=0;n.subscribe(tz(r,function(n){return e.call(t,n,i++)&&r.next(n)}))})}var ny=function(e){function t(t,n){return e.call(this)||this}return(0,l.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(td),nb={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=nb.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,(0,l.ev)([e,t],(0,l.CR)(n))):setInterval.apply(void 0,(0,l.ev)([e,t],(0,l.CR)(n)))},clearInterval:function(e){var t=nb.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},nw=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,l.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n,r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),nb.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&nb.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,tu(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ny),n_={now:function(){return(n_.delegate||Date).now()},delegate:void 0},nC=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=n_.now,e}(),nx=new(function(e){function t(t,n){void 0===n&&(n=nC.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return(0,l.ZT)(t,e),t.prototype.flush=function(e){var t,n=this.actions;if(this._active){n.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,t){for(;e=n.shift();)e.unsubscribe();throw t}},t}(nC))(nw);function nk(e){return void 0===e&&(e=1/0),tG(tR,e)}var nS=new tO(function(e){return e.complete()});function nE(e){return e&&ts(e.schedule)}function nT(e){return e[e.length-1]}function nP(e){return nE(nT(e))?e.pop():void 0}function nI(e,t){return void 0===t&&(t=0),tB(function(n,r){n.subscribe(tz(r,function(n){return tK(r,e,function(){return r.next(n)},t)},function(){return tK(r,e,function(){return r.complete()},t)},function(n){return tK(r,e,function(){return r.error(n)},t)}))})}function nR(e,t){return void 0===t&&(t=0),tB(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function nO(e,t){if(!e)throw Error("Iterable cannot be null");return new tO(function(n){tK(n,t,function(){var r=e[Symbol.asyncIterator]();tK(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}function nA(e,t){return t?function(e,t){if(null!=e){if(ts(e[tI]))return tF(e).pipe(nR(t),nI(t));if(to(e))return new tO(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})});if(ta(e))return tF(e).pipe(nR(t),nI(t));if(tN(e))return nO(e,t);if(tD(e))return new tO(function(n){var r;return tK(n,t,function(){r=e[tM](),tK(n,t,function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){n.error(e);return}i?n.complete():n.next(t)},0,!0)}),function(){return ts(null==r?void 0:r.return)&&r.return()}});if(tU(e))return nO(tj(e),t)}throw tL(e)}(e,t):tF(e)}function nN(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=nP(t),i=(e=1/0,"number"==typeof nT(t)?t.pop():e);return t.length?1===t.length?tF(t[0]):nk(i)(nA(t,r)):nS}function nL(e){return e<=0?function(){return nS}:tB(function(t,n){var r=0;t.subscribe(tz(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}function nM(e){return e instanceof Date&&!isNaN(e)}var nD=tl(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function nj(e){throw new nD(e)}(r=s||(s={})).ClickObservable="clickObservable",r.ChangeObservable="changeObservable",r.NavigateObservable="navigateObservable",r.MutationObservable="mutationObservable";var nU=function(e){void 0===e&&(e={});var t,n,r,i=e.dataAttributePrefix,o=void 0===i?"data-amp-track-":i,a=e.visualTaggingOptions,c=void 0===a?{enabled:!0,messenger:new nh}:a;e.cssSelectorAllowlist=null!==(t=e.cssSelectorAllowlist)&&void 0!==t?t:e5,e.actionClickAllowlist=null!==(n=e.actionClickAllowlist)&&void 0!==n?n:e6,e.debounceTime=null!==(r=e.debounceTime)&&void 0!==r?r:0;var u="@amplitude/plugin-autocapture-browser",d=[],h=void 0,p=function(){var e,t,n=tY(document,"click",{capture:!0}).pipe(tq(function(e){return m(e,"click")})),r=tY(document,"change",{capture:!0}).pipe(tq(function(e){return m(e,"change")}));window.navigation&&(t=tY(window.navigation,"navigate").pipe(tq(function(e){return m(e,"navigate")})));var i=new tO(function(e){var t=new MutationObserver(function(t){e.next(t)});return t.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return t.disconnect()}}).pipe(tq(function(e){return m(e,"mutation")}));return(e={})[s.ClickObservable]=n,e[s.ChangeObservable]=r,e[s.NavigateObservable]=t,e[s.MutationObservable]=i,e},f=function(e,t){var n,r,i,s,a=null===(s=null===(i=null==t?void 0:t.tagName)||void 0===i?void 0:i.toLowerCase)||void 0===s?void 0:s.call(i),c="function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{left:null,top:null},u=t.getAttribute("aria-label"),d=t.getAttributeNames().reduce(function(e,n){if(n.startsWith(o)){var r=n.replace(o,""),i=t.getAttribute(n);r&&(e[r]=i||"")}return e},{}),p=nl(t),f=no(t,h),m=((r={})["[Amplitude] Element ID"]=t.getAttribute("id")||"",r["[Amplitude] Element Class"]=t.getAttribute("class"),r["[Amplitude] Element Hierarchy"]=(n=t)?function(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];if(null===i)n+=4;else{var o=function e(t,n){void 0===n&&(n=!1);try{if(null==t){if(n)return"None";return null}if("string"==typeof t){if(n){if((t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")).includes('"'))return"'".concat(t,"'");if(t.includes("'"))return'"'.concat(t.replace(/'/g,"\\'"),'"');return"'".concat(t,"'")}return t}if("boolean"==typeof t)return t?"True":"False";if(Array.isArray(t)){var r=t.map(function(t){return e(t,!0)});return"[".concat(r.join(", "),"]")}else if("object"==typeof t){var i=Object.entries(t).filter(function(e){var t=(0,l.CR)(e,1)[0];return null!=t}).map(function(t){var n=(0,l.CR)(t,2),r=n[0],i=n[1];return"".concat(String(e(r,!0)),": ").concat(String(e(i,!0)))}),o="{".concat(i.join(", "),"}");return o.includes("\\'")&&(o=o.replace(/'/g,"'").replace(/'/g,"\\'")),o}return t.toString()}catch(e){return null}}(i);n+=o?Array.from(o).length:4}if(n>1024)return e.slice(0,r)}return e}((function(e){var t=[];if(!e)return t;t.push(e);for(var n=e.parentElement;n&&"HTML"!==n.tagName;)t.push(n),n=n.parentElement;return t})(n).map(function(e){return function(e){if(null===e)return null;var t,n,r,i,o,s,a=String(e.tagName).toLowerCase(),c={tag:a},u=Array.from(null!==(i=null===(r=e.parentElement)||void 0===r?void 0:r.children)&&void 0!==i?i:[]);u.length&&(c.index=u.indexOf(e),c.indexOfType=u.filter(function(t){return t.tagName===e.tagName}).indexOf(e));var d=null===(s=null===(o=e.previousElementSibling)||void 0===o?void 0:o.tagName)||void 0===s?void 0:s.toLowerCase();d&&(c.prevSib=String(d));var h=e.getAttribute("id");h&&(c.id=String(h));var p=Array.from(e.classList);p.length&&(c.classes=p);var f={},m=Array.from(e.attributes).filter(function(e){return!np.includes(e.name)}),g=!nr(e);if(!ng.includes(String(e.getAttribute("type")))&&!nm.includes(a))try{for(var v=(0,l.XA)(m),y=v.next();!y.done;y=v.next()){var b=y.value;(!g||nf.includes(b.name))&&(f[b.name]=String(b.value).substring(0,128))}}catch(e){t={error:e}}finally{try{y&&!y.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}return Object.keys(f).length&&(c.attrs=f),c}(e)}),0):[],r[e7]=a,r[e9]=ni(t),r["[Amplitude] Element Position Left"]=null==c.left?null:Math.round(c.left),r["[Amplitude] Element Position Top"]=null==c.top?null:Math.round(c.top),r["[Amplitude] Element Aria Label"]=u,r["[Amplitude] Element Attributes"]=d,r[te]=f,r["[Amplitude] Element Parent Label"]=p,r[tt]=window.location.href.split("?")[0],r["[Amplitude] Page Title"]="undefined"!=typeof document&&document.title||"",r["[Amplitude] Viewport Height"]=window.innerHeight,r["[Amplitude] Viewport Width"]=window.innerWidth,r);return"a"===a&&"click"===e&&t instanceof HTMLAnchorElement&&(m["[Amplitude] Element Href"]=t.href),na(m)},m=function(t,n){var r={event:t,timestamp:Date.now(),type:n};if(("click"===r.type||"change"===r.type)&&null!==r.event.target){var i=nc(r.event.target,e.cssSelectorAllowlist);i&&(r.closestTrackedAncestor=i,r.targetElementProperties=f(r.type,i))}return r};return{name:u,type:"enrichment",setup:function(t,n){return(0,l.mG)(void 0,void 0,void 0,function(){var r,i,o,s,a,m,g,v,y,b;return(0,l.Jh)(this,function(w){var _,C,x,k,S,E,T,P,I,R,O,A,N,L,M,D,j,U,F,V,B,z,H,q,K,G,W,$,Z,J,Y,X,Q,ee;return h=t.loggerProvider,"undefined"==typeof document||(r=nt(e,e.cssSelectorAllowlist),i=nt(e,e.actionClickAllowlist),C=(_={allObservables:o=p(),options:e,amplitude:n,shouldTrackEvent:r}).amplitude,x=_.allObservables,k=_.options,S=_.shouldTrackEvent,I=nN((E=x.clickObservable).pipe(tB(function(e,t){var n,r=!1;e.subscribe(tz(t,function(e){var i=n;n=e,r&&t.next([i,e]),r=!0}))}),nv(function(e){var t=(0,l.CR)(e,2),n=t[0],r=t[1],i=n.event.target!==r.event.target,o=20>=Math.abs(r.event.screenX-n.event.screenX)&&20>=Math.abs(r.event.screenY-n.event.screenY);return i&&!o})),E.pipe((T=k.debounceTime,void 0===P&&(P=nx),tB(function(e,t){var n=null,r=null,i=null,o=function(){if(n){n.unsubscribe(),n=null;var e=r;r=null,t.next(e)}};function s(){var e=i+T,r=P.now();if(r<e){n=this.schedule(void 0,e-r),t.add(n);return}o()}e.subscribe(tz(t,function(e){r=e,i=P.now(),n||(n=P.schedule(s,T),t.add(n))},function(){o(),t.complete()},void 0,function(){r=n=null}))})),tq(function(){return"timeout"}))),s=E.pipe((void 0===R&&(R=nx),O=0,A=R,void 0===O&&(O=0),void 0===N&&(N=nx),L=-1,null!=A&&(nE(A)?N=A:L=A),M=new tO(function(e){var t=nM(O)?+O-N.now():O;t<0&&(t=0);var n=0;return N.schedule(function(){e.closed||(e.next(n++),0<=L?this.schedule(void 0,L):e.complete())},t)}),function e(t,n){return n?function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nk(1)(nA(e,nP(e)))}(n.pipe(nL(1),tB(function(e,t){e.subscribe(tz(t,tv))})),r.pipe(e(t)))}:tG(function(e,n){return tF(t(e,n)).pipe(nL(1),tq(function(){return e}))})}(function(){return M})),nv(nd),nv(function(e){return S("click",e.closestTrackedAncestor)}),tB(function(e,t){var n=[];return e.subscribe(tz(t,function(e){return n.push(e)},function(){t.next(n),t.complete()})),tF(I).subscribe(tz(t,function(){var e=n;n=[],t.next(e)},tv)),function(){n=null}})).subscribe(function(e){var t,n,r=(e.length,e8);try{for(var i=(0,l.XA)(e),o=i.next();!o.done;o=i.next()){var s=o.value;null==C||C.track(r,s.targetElementProperties,{time:s.timestamp})}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}),d.push(s),j=(D={allObservables:o,getEventProperties:f,amplitude:n,shouldTrackEvent:r}).amplitude,U=D.allObservables,F=D.getEventProperties,V=D.shouldTrackEvent,a=U.changeObservable.pipe(nv(nd),nv(function(e){return V("change",e.closestTrackedAncestor)})).subscribe(function(e){null==j||j.track("[Amplitude] Element Changed",F("change",e.closestTrackedAncestor))}),d.push(a),z=(B={allObservables:o,options:e,getEventProperties:f,amplitude:n,shouldTrackEvent:r,shouldTrackActionClick:i}).amplitude,H=B.allObservables,q=B.options,K=B.getEventProperties,G=B.shouldTrackEvent,W=B.shouldTrackActionClick,$=H.clickObservable,Z=H.mutationObservable,J=H.navigateObservable,Y=$.pipe(nv(function(e){return!G("click",e.closestTrackedAncestor)}),tq(function(e){var t=nc(e.event.target,q.actionClickAllowlist);return e.closestTrackedAncestor=t,null!==e.closestTrackedAncestor&&(e.targetElementProperties=K(e.type,e.closestTrackedAncestor)),e}),nv(nd),nv(function(e){return W("click",e.closestTrackedAncestor)})),X=[Z],J&&X.push(J),Q=nN.apply(void 0,(0,l.ev)([],(0,l.CR)(X),!1)),m=Y.pipe((ee=function(e){return Q.pipe(nL(1),function(e,t){var n=nM(e)?{first:e}:"number"==typeof e?{each:e}:e,r=n.first,i=n.each,o=n.with,s=void 0===o?nj:o,a=n.scheduler,l=void 0===a?nx:a,c=n.meta,u=void 0===c?null:c;if(null==r&&null==i)throw TypeError("No timeout provided.");return tB(function(e,t){var n,o,a=null,c=0,d=function(e){o=tK(t,l,function(){try{n.unsubscribe(),tF(s({meta:u,lastValue:a,seen:c})).subscribe(t)}catch(e){t.error(e)}},e)};n=e.subscribe(tz(t,function(e){null==o||o.unsubscribe(),c++,t.next(a=e),i>0&&d(i)},void 0,void 0,function(){(null==o?void 0:o.closed)||null==o||o.unsubscribe(),a=null})),c||d(null!=r?"number"==typeof r?r:+r-l.now():i)})}({first:500,with:function(){return nS}}),tq(function(){return e}))},tB(function(e,t){var n=null,r=0,i=!1,o=function(){return i&&!n&&t.complete()};e.subscribe(tz(t,function(e){null==n||n.unsubscribe(),tF(ee(e,r++)).subscribe(n=tz(t,function(e){return t.next(e)},function(){n=null,o()}))},function(){i=!0,o()}))}))).subscribe(function(e){null==z||z.track(e8,K("click",e.closestTrackedAncestor),{time:e.timestamp})}),d.push(m),null===(y=null==t?void 0:t.loggerProvider)||void 0===y||y.log("".concat(u," has been successfully added.")),window.opener&&c.enabled&&(g=e.cssSelectorAllowlist,v=e.actionClickAllowlist,null===(b=c.messenger)||void 0===b||b.setup((0,l.pi)((0,l.pi)({logger:null==t?void 0:t.loggerProvider},(null==t?void 0:t.serverZone)&&{endpoint:tr[t.serverZone]}),{isElementSelectable:nt(e,(0,l.ev)((0,l.ev)([],(0,l.CR)(g),!1),(0,l.CR)(v),!1)),cssSelectorAllowlist:g,actionClickAllowlist:v})))),[2]})})},execute:function(e){return(0,l.mG)(void 0,void 0,void 0,function(){return(0,l.Jh)(this,function(t){return[2,e]})})},teardown:function(){return(0,l.mG)(void 0,void 0,void 0,function(){var e,t,n,r;return(0,l.Jh)(this,function(i){try{for(t=(e=(0,l.XA)(d)).next();!t.done;t=e.next())t.value.unsubscribe()}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]})})}}},nF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.ZT)(t,e),t.prototype.init=function(e,t,n){var r,i;return void 0===e&&(e=""),arguments.length>2?(r=t,i=n):"string"==typeof t?(r=t,i=void 0):(r=null==t?void 0:t.userId,i=t),(0,c.S)(this._init((0,l.pi)((0,l.pi)({},i),{userId:r,apiKey:e})))},t.prototype._init=function(t){var n,r,i;return(0,l.mG)(this,void 0,void 0,function(){var o,s,a,c,u,h=this;return(0,l.Jh)(this,function(p){var f,g,y,b,w;switch(p.label){case 0:if(this.initializing)return[2];return this.initializing=!0,[4,(f=t.apiKey,g=t,y=this,void 0===g&&(g={}),(0,l.mG)(void 0,void 0,void 0,function(){var e,t,n,r,i,o,s,a,c,u,h,p,v,b,w,_,C,x,k,S,E,T,P,I,R,O,A,N,L,M,D,j,U,F,V,B,z,H,q,K,G,W,$;return(0,l.Jh)(this,function(Z){var J,X,Q;switch(Z.label){case 0:if(e=g.identityStorage||eU,k={},!(e!==eU))return[3,1];return n="",[3,5];case 1:if(!(null!==(E=null===(S=g.cookieOptions)||void 0===S?void 0:S.domain)&&void 0!==E))return[3,2];return r=E,[3,4];case 2:return[4,(0,l.mG)(void 0,void 0,void 0,function(){var e,t,n,r,i,o;return(0,l.Jh)(this,function(s){switch(s.label){case 0:return[4,new eh().isEnabled()];case 1:if(!s.sent()||"undefined"==typeof location||!location.hostname)return[2,""];for(e=(null!=J?J:location.hostname).split("."),t=[],n="AMP_TLDTEST",r=e.length-2;r>=0;--r)t.push(e.slice(r).join("."));r=0,s.label=2;case 2:if(!(r<t.length))return[3,7];return[4,(o=new eh({domain:"."+(i=t[r])})).set(n,1)];case 3:return s.sent(),[4,o.get(n)];case 4:if(!s.sent())return[3,6];return[4,o.remove(n)];case 5:return s.sent(),[2,"."+i];case 6:return r++,[3,2];case 7:return[2,""]}})})];case 3:r=Z.sent(),Z.label=4;case 4:n=r,Z.label=5;case 5:return t=l.pi.apply(void 0,[(k.domain=n,k.expiration=365,k.sameSite="Lax",k.secure=!1,k.upgrade=!0,k),g.cookieOptions]),[4,(X=i=eV(g.identityStorage,t),void 0===(Q=null===(P=null===(T=g.cookieOptions)||void 0===T?void 0:T.upgrade)||void 0===P||P)&&(Q=!0),(0,l.mG)(void 0,void 0,void 0,function(){var e,t,n,r,i,o,s,a,c;return(0,l.Jh)(this,function(u){switch(u.label){case 0:return e="".concat(d.xp.toLowerCase(),"_").concat(f.substring(0,6)),[4,X.getRaw(e)];case 1:if(!(t=u.sent()))return[2,{optOut:!1}];if(!Q)return[3,3];return[4,X.remove(e)];case 2:u.sent(),u.label=3;case 3:return r=(n=(0,l.CR)(t.split("."),6))[0],i=n[1],o=n[2],s=n[3],a=n[4],c=n[5],[2,{deviceId:r,userId:ex(i),sessionId:eC(s),lastEventId:eC(c),lastEventTime:eC(a),optOut:!!o}]}})}))];case 6:return o=Z.sent(),[4,i.get(ed(f))];case 7:return s=Z.sent(),a=Y(),c=null!==(N=null!==(A=null!==(O=null!==(R=null!==(I=g.deviceId)&&void 0!==I?I:a.ampDeviceId)&&void 0!==R?R:a.deviceId)&&void 0!==O?O:null==s?void 0:s.deviceId)&&void 0!==A?A:o.deviceId)&&void 0!==N?N:m(),u=null!==(L=null==s?void 0:s.lastEventId)&&void 0!==L?L:o.lastEventId,h=null!==(M=null==s?void 0:s.lastEventTime)&&void 0!==M?M:o.lastEventTime,p=null!==(j=null!==(D=g.optOut)&&void 0!==D?D:null==s?void 0:s.optOut)&&void 0!==j?j:o.optOut,v=null!==(U=null==s?void 0:s.sessionId)&&void 0!==U?U:o.sessionId,b=null!==(V=null!==(F=g.userId)&&void 0!==F?F:null==s?void 0:s.userId)&&void 0!==V?V:o.userId,y.previousSessionDeviceId=null!==(B=null==s?void 0:s.deviceId)&&void 0!==B?B:o.deviceId,y.previousSessionUserId=null!==(z=null==s?void 0:s.userId)&&void 0!==z?z:o.userId,w={ipAddress:null===(q=null===(H=g.trackingOptions)||void 0===H?void 0:H.ipAddress)||void 0===q||q,language:null===(G=null===(K=g.trackingOptions)||void 0===K?void 0:K.language)||void 0===G||G,platform:null===($=null===(W=g.trackingOptions)||void 0===W?void 0:W.platform)||void 0===$||$},_=null==s?void 0:s.pageCounter,C=null==s?void 0:s.debugLogsEnabled,void 0!==g.autocapture&&(g.defaultTracking=g.autocapture),[4,(x=new eF(f,g.appVersion,i,t,g.defaultTracking,g.autocapture,c,g.flushIntervalMillis,g.flushMaxRetries,g.flushQueueSize,e,g.ingestionMetadata,g.instanceName,u,h,g.loggerProvider,g.logLevel,g.minIdLength,g.offline,p,g.partnerId,g.plan,g.serverUrl,g.serverZone,v,g.sessionTimeout,g.storageProvider,w,g.transport,g.useBatch,g.fetchRemoteConfig,b,_,C)).storageProvider.isEnabled()];case 8:return Z.sent()||(x.loggerProvider.warn("Storage provider ".concat(x.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),x.storageProvider=new ec),[2,x]}})}))];case 1:if(o=p.sent(),!t.fetchRemoteConfig)return[3,4];return[4,(b=o,(0,l.mG)(void 0,void 0,void 0,function(){var e;return(0,l.Jh)(this,function(t){switch(t.label){case 0:return[4,(e=new e4(b)).initialize()];case 1:return t.sent(),[2,e]}})}))];case 2:return[4,p.sent().generateJoinedConfig()];case 3:o=p.sent(),p.label=4;case 4:return[4,e.prototype._init.call(this,o)];case 5:if(p.sent(),this.logBrowserOptions(o),!P(this.config.defaultTracking))return[3,7];return s=P((w=this.config).defaultTracking)&&w.defaultTracking&&"object"==typeof w.defaultTracking&&w.defaultTracking.attribution&&"object"==typeof w.defaultTracking.attribution?(0,l.pi)({},w.defaultTracking.attribution):{},this.webAttribution=new et(s,this.config),[4,this.webAttribution.init()];case 6:p.sent(),p.label=7;case 7:if(c=Number.isNaN(Number((a=Y()).ampSessionId))?void 0:Number(a.ampSessionId),this.setSessionId(null!==(i=null!==(r=null!==(n=t.sessionId)&&void 0!==n?n:c)&&void 0!==r?r:this.config.sessionId)&&void 0!==i?i:Date.now()),(u=(0,en.bM)(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),!(null!==this.config.offline))return[3,9];return[4,this.add(eX()).promise];case 8:p.sent(),p.label=9;case 9:return[4,this.add(new v).promise];case 10:return p.sent(),[4,this.add(new ea).promise];case 11:return p.sent(),[4,this.add(new er).promise];case 12:if(p.sent(),eY(this.config),!T(this.config.defaultTracking,"fileDownloads"))return[3,14];return this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(eZ()).promise];case 13:p.sent(),p.label=14;case 14:if(!T(this.config.defaultTracking,"formInteractions"))return[3,16];return this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(eW()).promise];case 15:p.sent(),p.label=16;case 16:if(!I(this.config.defaultTracking))return[3,18];return this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(eH(N(this.config))).promise];case 17:p.sent(),p.label=18;case 18:if(!O(this.config.autocapture))return[3,20];return this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(nU(A(this.config))).promise];case 19:p.sent(),p.label=20;case 20:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 21:return p.sent(),u.eventBridge.setEventReceiver(function(e){h.track(e.eventType,e.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},t.prototype.setUserId=function(e){if(!this.config){this.q.push(this.setUserId.bind(this,e));return}this.config.loggerProvider.debug("function setUserId: ",e),(e!==this.config.userId||void 0===e)&&(this.config.userId=e,(0,en.x)(e,this.config.instanceName))},t.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},t.prototype.setDeviceId=function(e){if(!this.config){this.q.push(this.setDeviceId.bind(this,e));return}this.config.loggerProvider.debug("function setDeviceId: ",e),this.config.deviceId=e,(0,en.Sb)(e,this.config.instanceName)},t.prototype.reset=function(){this.setDeviceId(m()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.sessionId},t.prototype.setSessionId=function(e){var t,n=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,e)),(0,c.S)(Promise.resolve());if(e===this.config.sessionId)return(0,c.S)(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",e);var r=this.getSessionId(),i=this.config.lastEventTime,o=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,this.config.pageCounter=0,R(this.config.defaultTracking)&&(r&&i&&n.push(this.track(eI,void 0,{device_id:this.previousSessionDeviceId,event_id:++o,session_id:r,time:i+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var s=this.trackCampaignEventIfNeeded(++o,n);return R(this.config.defaultTracking)&&n.push(this.track(eP,void 0,{event_id:s?++o:o,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,(0,c.S)(Promise.all(n))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(e){if(!this.config){this.q.push(this.setTransport.bind(this,e));return}this.config.transportProvider=eB(e)},t.prototype.identify=function(t,n){if(eo(t)){var r=t._q;t._q=[],t=ei(new y.h,r)}return(null==n?void 0:n.user_id)&&this.setUserId(n.user_id),(null==n?void 0:n.device_id)&&this.setDeviceId(n.device_id),e.prototype.identify.call(this,t,n)},t.prototype.groupIdentify=function(t,n,r,i){if(eo(r)){var o=r._q;r._q=[],r=ei(new y.h,o)}return e.prototype.groupIdentify.call(this,t,n,r,i)},t.prototype.revenue=function(t,n){if(eo(t)){var r=t._q;t._q=[],t=ei(new _,r)}return e.prototype.revenue.call(this,t,n)},t.prototype.trackCampaignEventIfNeeded=function(e,t){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var n=this.webAttribution.generateCampaignEvent(e);return t?t.push(this.track(n).promise):this.track(n),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(t){return(0,l.mG)(this,void 0,void 0,function(){var n,r,i;return(0,l.Jh)(this,function(o){return n=Date.now(),r=ee(this.config.sessionTimeout,this.config.lastEventTime),i=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),t.event_type===eP||t.event_type===eI||t.session_id&&t.session_id!==this.getSessionId()||(r||i?(this.setSessionId(n),i&&this.config.loggerProvider.log("Created a new session for new campaign.")):r||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,t)]})})},t.prototype.logBrowserOptions=function(e){try{var t=(0,l.pi)((0,l.pi)({},e),{apiKey:e.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(t))}catch(e){this.config.loggerProvider.error("Error logging browser config",e)}},t}(E),nV=function(){var e=new nF;return{init:(0,a.w_)(e.init.bind(e),"init",(0,a.yh)(e),(0,a.zn)(e,["config"])),add:(0,a.w_)(e.add.bind(e),"add",(0,a.yh)(e),(0,a.zn)(e,["config.apiKey","timeline.plugins"])),remove:(0,a.w_)(e.remove.bind(e),"remove",(0,a.yh)(e),(0,a.zn)(e,["config.apiKey","timeline.plugins"])),track:(0,a.w_)(e.track.bind(e),"track",(0,a.yh)(e),(0,a.zn)(e,["config.apiKey","timeline.queue.length"])),logEvent:(0,a.w_)(e.logEvent.bind(e),"logEvent",(0,a.yh)(e),(0,a.zn)(e,["config.apiKey","timeline.queue.length"])),identify:(0,a.w_)(e.identify.bind(e),"identify",(0,a.yh)(e),(0,a.zn)(e,["config.apiKey","timeline.queue.length"])),groupIdentify:(0,a.w_)(e.groupIdentify.bind(e),"groupIdentify",(0,a.yh)(e),(0,a.zn)(e,["config.apiKey","timeline.queue.length"])),setGroup:(0,a.w_)(e.setGroup.bind(e),"setGroup",(0,a.yh)(e),(0,a.zn)(e,["config.apiKey","timeline.queue.length"])),revenue:(0,a.w_)(e.revenue.bind(e),"revenue",(0,a.yh)(e),(0,a.zn)(e,["config.apiKey","timeline.queue.length"])),flush:(0,a.w_)(e.flush.bind(e),"flush",(0,a.yh)(e),(0,a.zn)(e,["config.apiKey","timeline.queue.length"])),getUserId:(0,a.w_)(e.getUserId.bind(e),"getUserId",(0,a.yh)(e),(0,a.zn)(e,["config","config.userId"])),setUserId:(0,a.w_)(e.setUserId.bind(e),"setUserId",(0,a.yh)(e),(0,a.zn)(e,["config","config.userId"])),getDeviceId:(0,a.w_)(e.getDeviceId.bind(e),"getDeviceId",(0,a.yh)(e),(0,a.zn)(e,["config","config.deviceId"])),setDeviceId:(0,a.w_)(e.setDeviceId.bind(e),"setDeviceId",(0,a.yh)(e),(0,a.zn)(e,["config","config.deviceId"])),reset:(0,a.w_)(e.reset.bind(e),"reset",(0,a.yh)(e),(0,a.zn)(e,["config","config.userId","config.deviceId"])),getSessionId:(0,a.w_)(e.getSessionId.bind(e),"getSessionId",(0,a.yh)(e),(0,a.zn)(e,["config"])),setSessionId:(0,a.w_)(e.setSessionId.bind(e),"setSessionId",(0,a.yh)(e),(0,a.zn)(e,["config"])),extendSession:(0,a.w_)(e.extendSession.bind(e),"extendSession",(0,a.yh)(e),(0,a.zn)(e,["config"])),setOptOut:(0,a.w_)(e.setOptOut.bind(e),"setOptOut",(0,a.yh)(e),(0,a.zn)(e,["config"])),setTransport:(0,a.w_)(e.setTransport.bind(e),"setTransport",(0,a.yh)(e),(0,a.zn)(e,["config"]))}};nV();let nB={default:"39bbdcaee6ca6e36cb5f9b1b7735801c"},nz={plan:{version:"18",branch:"main",source:"browser",versionId:"d4e2f8a1-d7d3-450b-969b-ec89e457a108"},ingestionMetadata:{sourceName:"browser-typescript-ampli",sourceVersion:"2.0.0"}};class nH{constructor(e){this.event_properties=e,this.event_type="auth_popup_dismissed",this.event_properties=e}}class nq{constructor(e){this.event_properties=e,this.event_type="auth_started",this.event_properties=e}}class nK{constructor(e){this.event_properties=e,this.event_type="blocked_words_modified",this.event_properties=e}}class nG{constructor(e){this.event_properties=e,this.event_type="character_selected",this.event_properties=e}}class nW{constructor(e){this.event_properties=e,this.event_type="character_updated",this.event_properties=e}}class n${constructor(e){this.event_properties=e,this.event_type="chat_attachment",this.event_properties=e}}class nZ{constructor(e){this.event_properties=e,this.event_type="chat_rewind",this.event_properties=e}}class nJ{constructor(e){this.event_properties=e,this.event_type="chat_updated",this.event_properties=e}}class nY{constructor(e){this.event_properties=e,this.event_type="content_viewed",this.event_properties=e}}class nX{constructor(e){this.event_properties=e,this.event_type="creator_selected",this.event_properties=e}}class nQ{constructor(e){this.event_properties=e,this.event_type="deeplink_handled",this.event_properties=e}}class n0{constructor(e){this.event_properties=e,this.event_type="deeplink_redirect",this.event_properties=e}}class n1{constructor(e){this.event_properties=e,this.event_type="discord-bot",this.event_properties=e}}class n2{constructor(e){this.event_properties=e,this.event_type="element_clicked",this.event_properties=e}}class n3{constructor(e){this.event_properties=e,this.event_type="element_dismissed",this.event_properties=e}}class n4{constructor(e){this.event_properties=e,this.event_type="email_opened",this.event_properties=e}}class n5{constructor(e){this.event_properties=e,this.event_type="email_verified",this.event_properties=e}}class n6{constructor(e){this.event_properties=e,this.event_type="error",this.event_properties=e}}class n8{constructor(e){this.event_properties=e,this.event_type="game_end",this.event_properties=e}}class n7{constructor(e){this.event_properties=e,this.event_type="game_start",this.event_properties=e}}class n9{constructor(e){this.event_properties=e,this.event_type="generation_mode_modified",this.event_properties=e}}class re{constructor(e){this.event_properties=e,this.event_type="group_chat_member_invoked",this.event_properties=e}}class rt{constructor(e){this.event_properties=e,this.event_type="group_chat_member_mentioned",this.event_properties=e}}class rn{constructor(e){this.event_properties=e,this.event_type="group_chat_updated",this.event_properties=e}}class rr{constructor(){this.event_type="handle_appsflyer_attribution"}}class ri{constructor(){this.event_type="image_violation_detected"}}class ro{constructor(e){this.event_properties=e,this.event_type="link_handled",this.event_properties=e}}class rs{constructor(e){this.event_properties=e,this.event_type="link_opened",this.event_properties=e}}class ra{constructor(e){this.event_properties=e,this.event_type="login",this.event_properties=e}}class rl{constructor(e){this.event_properties=e,this.event_type="login_disallowed",this.event_properties=e}}class rc{constructor(e){this.event_properties=e,this.event_type="login_success",this.event_properties=e}}class ru{constructor(e){this.event_properties=e,this.event_type="logout",this.event_properties=e}}class rd{constructor(e){this.event_properties=e,this.event_type="media_playback_status_changed",this.event_properties=e}}class rh{constructor(e){this.event_properties=e,this.event_type="message_copied",this.event_properties=e}}class rp{constructor(e){this.event_properties=e,this.event_type="message_deleted",this.event_properties=e}}class rf{constructor(e){this.event_properties=e,this.event_type="message_edited",this.event_properties=e}}class rm{constructor(e){this.event_properties=e,this.event_type="message_filtered_action",this.event_properties=e}}class rg{constructor(e){this.event_properties=e,this.event_type="message_pin",this.event_properties=e}}class rv{constructor(e){this.event_properties=e,this.event_type="message_send",this.event_properties=e}}class ry{constructor(e){this.event_properties=e,this.event_type="message_submit",this.event_properties=e}}class rb{constructor(e){this.event_properties=e,this.event_type="modal_closed",this.event_properties=e}}class rw{constructor(e){this.event_properties=e,this.event_type="modal_opened",this.event_properties=e}}class r_{constructor(e){this.event_properties=e,this.event_type="model_selector_selection",this.event_properties=e}}class rC{constructor(e){this.event_properties=e,this.event_type="page_viewed",this.event_properties=e}}class rx{constructor(e){this.event_properties=e,this.event_type="persona_updated",this.event_properties=e}}class rk{constructor(e){this.event_properties=e,this.event_type="phone_code_verification_error",this.event_properties=e}}class rS{constructor(e){this.event_properties=e,this.event_type="phone_code_verification_failed",this.event_properties=e}}class rE{constructor(e){this.event_properties=e,this.event_type="phone_code_verification_success",this.event_properties=e}}class rT{constructor(e){this.event_properties=e,this.event_type="phone_settings_verification_send",this.event_properties=e}}class rP{constructor(e){this.event_properties=e,this.event_type="phone_settings_verification_validate",this.event_properties=e}}class rI{constructor(e){this.event_properties=e,this.event_type="phone_verify_error",this.event_properties=e}}class rR{constructor(e){this.event_properties=e,this.event_type="phone_verify_failed",this.event_properties=e}}class rO{constructor(e){this.event_properties=e,this.event_type="phone_verify_sent",this.event_properties=e}}class rA{constructor(e){this.event_properties=e,this.event_type="post",this.event_properties=e}}class rN{constructor(e){this.event_properties=e,this.event_type="profile_updated",this.event_properties=e}}class rL{constructor(e){this.event_properties=e,this.event_type="purchase_flow_complete",this.event_properties=e}}class rM{constructor(e){this.event_properties=e,this.event_type="purchase_flow_started",this.event_properties=e}}class rD{constructor(e){this.event_properties=e,this.event_type="search",this.event_properties=e}}class rj{constructor(e){this.event_properties=e,this.event_type="search_attempt",this.event_properties=e}}class rU{constructor(e){this.event_properties=e,this.event_type="setting_changed",this.event_properties=e}}class rF{constructor(e){this.event_properties=e,this.event_type="signup_completed",this.event_properties=e}}class rV{constructor(e){this.event_properties=e,this.event_type="signup_rejected",this.event_properties=e}}class rB{constructor(e){this.event_properties=e,this.event_type="social_post_action",this.event_properties=e}}class rz{constructor(){this.event_type="survey_dismissed"}}class rH{constructor(){this.event_type="survey_start"}}class rq{constructor(e){this.event_properties=e,this.event_type="user_social_action",this.event_properties=e}}class rK{constructor(e){this.event_properties=e,this.event_type="user_video_generation_completed",this.event_properties=e}}class rG{constructor(e){this.event_properties=e,this.event_type="video_gen_audio_thumb_feedback",this.event_properties=e}}class rW{constructor(e){this.event_properties=e,this.event_type="video_gen_submitted_audio_duration",this.event_properties=e}}class r${constructor(e){this.event_properties=e,this.event_type="video_gen_thumb_feedback",this.event_properties=e}}class rZ{constructor(){this.event_type="video_tos_accept"}}class rJ{constructor(e){this.event_properties=e,this.event_type="voice_call_state_change",this.event_properties=e}}class rY{constructor(e){this.event_properties=e,this.event_type="voice_file_chosen",this.event_properties=e}}class rX{constructor(e){this.event_properties=e,this.event_type="voice_rtc_connection_status_change",this.event_properties=e}}class rQ{constructor(e){this.event_properties=e,this.event_type="voice_selected",this.event_properties=e}}class r0{constructor(e){this.event_properties=e,this.event_type="voice_stop_charcter_speaking",this.event_properties=e}}let r1=()=>({promise:Promise.resolve()});class r2{get client(){return this.isInitializedAndEnabled(),this.amplitude}get isLoaded(){return null!=this.amplitude}isInitializedAndEnabled(){return!!this.amplitude&&!this.disabled}load(e){var t;if(this.disabled=null!==(t=e.disabled)&&void 0!==t&&t,this.amplitude)return r1();let n=null;if(e.client&&"apiKey"in e.client?n=e.client.apiKey:"environment"in e&&(n=nB[e.environment]),e.client&&"instance"in e.client)this.amplitude=e.client.instance;else if(n){this.amplitude=nV();let t=e.client&&"configuration"in e.client?e.client.configuration:{};return this.amplitude.init(n,void 0,{...nz,...t})}return r1()}identify(e,t,n){if(!this.isInitializedAndEnabled())return r1();e&&(n={...n,user_id:e});let r=new y.h;if(null!=t)for(let[e,n]of Object.entries(t))r.set(e,n);return this.amplitude.identify(r,n)}flush(){return this.isInitializedAndEnabled()?this.amplitude.flush():r1()}track(e,t){return this.isInitializedAndEnabled()?this.amplitude.track(e,void 0,t):r1()}authPopupDismissed(e,t){return this.track(new nH(e),t)}authStarted(e,t){return this.track(new nq(e),t)}blockedWordsModified(e,t){return this.track(new nK(e),t)}characterSelected(e,t){return this.track(new nG(e),t)}characterUpdated(e,t){return this.track(new nW(e),t)}chatAttachment(e,t){return this.track(new n$(e),t)}chatRewind(e,t){return this.track(new nZ(e),t)}chatUpdated(e,t){return this.track(new nJ(e),t)}contentViewed(e,t){return this.track(new nY(e),t)}creatorSelected(e,t){return this.track(new nX(e),t)}deeplinkHandled(e,t){return this.track(new nQ(e),t)}deeplinkRedirect(e,t){return this.track(new n0(e),t)}discordBot(e,t){return this.track(new n1(e),t)}elementClicked(e,t){return this.track(new n2(e),t)}elementDismissed(e,t){return this.track(new n3(e),t)}emailOpened(e,t){return this.track(new n4(e),t)}emailVerified(e,t){return this.track(new n5(e),t)}error(e,t){return this.track(new n6(e),t)}gameEnd(e,t){return this.track(new n8(e),t)}gameStart(e,t){return this.track(new n7(e),t)}generationModeModified(e,t){return this.track(new n9(e),t)}groupChatMemberInvoked(e,t){return this.track(new re(e),t)}groupChatMemberMentioned(e,t){return this.track(new rt(e),t)}groupChatUpdated(e,t){return this.track(new rn(e),t)}handleAppsflyerAttribution(e){return this.track(new rr,e)}imageViolationDetected(e){return this.track(new ri,e)}linkHandled(e,t){return this.track(new ro(e),t)}linkOpened(e,t){return this.track(new rs(e),t)}login(e,t){return this.track(new ra(e),t)}loginDisallowed(e,t){return this.track(new rl(e),t)}loginSuccess(e,t){return this.track(new rc(e),t)}logout(e,t){return this.track(new ru(e),t)}mediaPlaybackStatusChanged(e,t){return this.track(new rd(e),t)}messageCopied(e,t){return this.track(new rh(e),t)}messageDeleted(e,t){return this.track(new rp(e),t)}messageEdited(e,t){return this.track(new rf(e),t)}messageFilteredAction(e,t){return this.track(new rm(e),t)}messagePin(e,t){return this.track(new rg(e),t)}messageSend(e,t){return this.track(new rv(e),t)}messageSubmit(e,t){return this.track(new ry(e),t)}modalClosed(e,t){return this.track(new rb(e),t)}modalOpened(e,t){return this.track(new rw(e),t)}modelSelectorSelection(e,t){return this.track(new r_(e),t)}pageViewed(e,t){return this.track(new rC(e),t)}personaUpdated(e,t){return this.track(new rx(e),t)}phoneCodeVerificationError(e,t){return this.track(new rk(e),t)}phoneCodeVerificationFailed(e,t){return this.track(new rS(e),t)}phoneCodeVerificationSuccess(e,t){return this.track(new rE(e),t)}phoneSettingsVerificationSend(e,t){return this.track(new rT(e),t)}phoneSettingsVerificationValidate(e,t){return this.track(new rP(e),t)}phoneVerifyError(e,t){return this.track(new rI(e),t)}phoneVerifyFailed(e,t){return this.track(new rR(e),t)}phoneVerifySent(e,t){return this.track(new rO(e),t)}post(e,t){return this.track(new rA(e),t)}profileUpdated(e,t){return this.track(new rN(e),t)}purchaseFlowComplete(e,t){return this.track(new rL(e),t)}purchaseFlowStarted(e,t){return this.track(new rM(e),t)}search(e,t){return this.track(new rD(e),t)}searchAttempt(e,t){return this.track(new rj(e),t)}settingChanged(e,t){return this.track(new rU(e),t)}signupCompleted(e,t){return this.track(new rF(e),t)}signupRejected(e,t){return this.track(new rV(e),t)}socialPostAction(e,t){return this.track(new rB(e),t)}surveyDismissed(e){return this.track(new rz,e)}surveyStart(e){return this.track(new rH,e)}userSocialAction(e,t){return this.track(new rq(e),t)}userVideoGenerationCompleted(e,t){return this.track(new rK(e),t)}videoGenAudioThumbFeedback(e,t){return this.track(new rG(e),t)}videoGenSubmittedAudioDuration(e,t){return this.track(new rW(e),t)}videoGenThumbFeedback(e,t){return this.track(new r$(e),t)}videoTosAccept(e){return this.track(new rZ,e)}voiceCallStateChange(e,t){return this.track(new rJ(e),t)}voiceFileChosen(e,t){return this.track(new rY(e),t)}voiceRtcConnectionStatusChange(e,t){return this.track(new rX(e),t)}voiceSelected(e,t){return this.track(new rQ(e),t)}voiceStopCharcterSpeaking(e,t){return this.track(new r0(e),t)}constructor(){this.disabled=!1}}let r3=new r2},73478:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(21236);let i=e=>{if(e){let{name:t,properties:n}=e;r.iN[t](n)}}},20808:function(e,t,n){"use strict";var r,i;n.d(t,{b:function(){return r}}),(i=r||(r={})).IsEU="eu-user",i.DiscordAccountLinking="discord-account-linking",i.DemoteSystemVoices="demote-system-voices",i.EnableSSR="enable-ssr",i.GuideSearch="guide-search",i.CharacterCalls="character-calls",i.SmartCustomFeedbackLabelOrdering="smart-custom-feedback-label-ordering",i.SignupPromptOnScroll="signup-prompt-on-scroll",i.RecaptchaEnabled="recaptcha-enabled",i.VoiceOverridesMigration="voice-overrides-migration",i.CharacterCreationDialogUX="character-creation-dialog-ux",i.HomeFeed="home-feed"},48364:function(e,t,n){"use strict";n.d(t,{H:function(){return f},NI:function(){return i},RJ:function(){return h},az:function(){return p},cf:function(){return m},jh:function(){return g}});var r,i,o=n(67115),s=n(21236),a=n(9343),l=n(15030),c=n(59887),u=n(92642),d=n(21805);let h=e=>{(0,o.Z1)();let t=m(e);e&&"accept_all"!==t||((0,o.mm)(!0),(0,a.M0)(!0),(0,a.Aj)())},p=e=>{var t;let n=null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.id,r=null==e?void 0:e.email;null===e?u.av(null):u.av({userID:n,email:r})};(r=i||(i={})).Voice="voice",r.Auth="auth",r.Render="render";let f=(e,t)=>{try{let n;let{error:r,type:i,extra:o}=t||{};r instanceof Error?n=r.toString():r&&(n=JSON.stringify(r)),s.iN.error({description:e,error:n,type:i,referrer:"error",extra:null==t?void 0:t.extra}),(0,c.nC)(e,r,i,o)}catch(e){(0,c.nC)("Failed to report error to Amplitude",e)}},m=e=>{try{let t=d.Z.get(l.ee);if(t)return t;if(!e)return g("not_applicable"),"not_applicable"}catch(e){f("Failed to get cookie consent",{error:e})}return"unset"},g=e=>{try{d.Z.set(l.ee,e,{expires:365,path:"/"})}catch(e){f("Failed to set cookie consent",{error:e})}}},6669:function(e,t,n){"use strict";let r;n.d(t,{Uo:function(){return h},Xu:function(){return f},i:function(){return d},wz:function(){return p}});var i=n(21236),o=n(83944),s=n(59742),a=n(92488),l=n(5632),c=n(2784),u=n(15584);let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,u.BF)(a.DQ),r=(0,c.useContext)(s.$),i=!t.disableExposures;return(0,c.useMemo)(()=>{var t;return n&&i?null===(t=o.w.experiment)||void 0===t?void 0:t.variant(e):r[e]},[r,n,i,e])},h=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=d(e,n);return null!==(t=null==r?void 0:r.value)&&void 0!==t?t:""},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=h(e);return t?n===t:!["off","control"].includes(n||"off")},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=(0,l.useRouter)(),s=(0,u.BF)(a.DQ),d=JSON.stringify(t);(0,c.useEffect)(()=>{if(null==n?void 0:n.disabled)return;let t=JSON.parse(d);s&&(i.iN.pageViewed({page_name:e,referrer:null!=r?r:document.referrer,url:o.asPath,...t}),r=o.asPath)},[e,o,null==n?void 0:n.disabled,d,s])}},9343:function(e,t,n){"use strict";n.d(t,{Aj:function(){return h},M0:function(){return d},Zl:function(){return u},r8:function(){return p}});var r=n(21805);let i=null,o=null,s="appsflyer_first_invocation",a=()=>!!window&&!!window.AF&&!!window.AF_SDK&&!!window.AF_SDK.PLUGINS&&!!window.AF_SDK.PLUGINS.PBA,l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return!0===o?Promise.resolve(!0):!1===o?Promise.reject(Error("Appsflyer SDK not ready within timeout")):(i||(i=new Promise((t,n)=>{let r=0,i=()=>{a()?(o=!0,t(!0)):r<e?(r+=200,setTimeout(i,200)):(o=!1,n(Error("Appsflyer SDK not ready within timeout")))};i()})),i)},c=e=>{l().then(e).catch(()=>{})},u=e=>{c(()=>{try{window.AF("pba","setCustomerUserId",e||void 0)}catch(e){}})},d=e=>{e&&!a()&&f(),c(()=>{try{e?window.AF_SDK.PLUGINS.PBA.enableMeasurement():window.AF_SDK.PLUGINS.PBA.disableMeasurement()}catch(e){}})},h=()=>{c(()=>{try{if(!r.Z.get(s)){r.Z.set(s,"true");return}window.AF("banners","showBanner")}catch(e){}})},p=(e,t)=>{if(a())try{window.AF("pba","event",{eventType:"EVENT",eventName:"AF_".concat(e),eventValue:{...t}})}catch(e){}},f=()=>{try{!function(e,t,n,r,i,o,s){var a;e.AppsFlyerSdkObject=i,e.AF=e.AF||function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e.AF.q=e.AF.q||[]).push([Date.now(),...n])},e.AF.id=e.AF.id||s.pba.webAppId,e.AF.plugins={};let l=t.createElement(n),c=t.getElementsByTagName(n)[0];l.async=!0,l.src="https://websdk.appsflyer.com?".concat(o.length>0?"st=".concat(o.split(",").sort().join(","),"&"):"").concat(s.pba.webAppId?"af_id=".concat(s.pba.webAppId):""),null==c||null===(a=c.parentNode)||void 0===a||a.insertBefore(l,c)}(window,document,"script",0,"AF","pba,banners",{pba:{webAppId:"31d4ac89-b721-42f9-bc8c-56e0c68b2a62"},banners:{key:"81ac37f8-7426-400d-8715-e952503db2a5"}})}catch(e){}}},50567:function(e,t,n){"use strict";n.d(t,{EY:function(){return m},F5:function(){return l},Lo:function(){return h},db:function(){return u},m2:function(){return c},sD:function(){return d}});var r,i,o,s,a,l,c,u,d,h,p=n(83614);(r=l||(l={})).SignupToChat="signup_to_chat",r.CaiVideoGenAccess="cai-video-gen-access-v0",r.AvatarFXUsageLimitsEnabled="avatar_fx_usage_limits_enabled",r.GroupChat="group_chat_on_web",r.ChatStreaks="chat_streaks",r.SignupReload="signup_reload",r.EditedMessageV2="edited_message_v2",r.UseMasImageGen="use_mas_image_gen",r.CaiPlusFasterResponses="cai-plus-faster-responses-featured",r.IncentivizedInvites="incentivized_invites",r.ModelSelector="model_selector",r.NRTRecommendationEvents="near_real_time_recommendation_event_capturing",r.NRTSearchEvents="near_real_time_search_event_capturing",r.NuxTopicPicker="nux_topic_picker_web",r.BlockedWords="blocked_words",r.ChatSafetyTimeout="chat_safety_timeout_4",r.ThumbFeedback="thumb_feedback",r.PromoteEmailSignin="promote_email_signin_over_third_party_exp",r.NewLoggedOutHomePage="new_logged_out_home_page_experience_gate",r.MutedWordsUpsell="cai_plus_muted_upsell",r.MobileUpsellOverride="mweb_upsell_override",r.PopularAndTrending="popular_and_trending_web_userid",r.VoiceCallQRCode="voice_call_qr_code",r.DisableAutoSearch="disable_auto_search",r.ChatImageAttachments="chat_image_attachments",r.ParentalControls="parental_controls_enabled",r.SwipeAnnotationFeedback="swipe_annotation_feedback",r.ModelSelectorShowOnNewChat="show-chat-styles-on-new-chat",r.CaiPlusSwipeExpansion="cai_plus_swipe_limits_upsell",r.CaiPlusChatUpgradeUpsell="cai_plus_chat_upgrade_memory_upsell",r.NUXEducationBannerWebV0="nux_education_banner_web_v0",r.AutocompleteSearch="search_improvements_autocomplete_web",r.AllowChatStyleChangeDuringChat="allow-chat-style-change-during-chat-v2",r.U18PublicCharacterCreation="u18_public_character_creation",r.CharacterEditorTags="character_tags_editor",r.LoggedOutHomePageRecommendations="logged_out_homepage_recommendations",r.CreatorProfileTags="web_creator_profile_tags",r.SearchNoResultCTACreateCharacter="search_no_result_cta_create",r.AvatarFXWaitlist="avfx_waitlist_enabled",r.NUXDynamicGreetingWeb="nux-dynamic-greeting-web",r.ThrottlingKillSwitch="throttling_fe_killswitch",r.DisableScenarios="disable_scenarios",r.VirtualCurrency="virtual_currency_dev",r.NRTGenerationModeLogging="near_real_time_generation_mode_changes_dev",r.SubscriptionGiveaway="cai_plus_giveaway",r.ScenesShelfPlacement="scenes-shelf-placement",(i=c||(c={})).AvatarFXShareEnabled="avfx_share_enabled",i.CreationPostToCaiFeed="creation_post_to_cai_feed",(o=u||(u={})).NewLoggedOutHomePage="new_logged_out_homepage_experience",o.Throttling="slow_mode_v1",o.ProfileWithFeeds="profile_with_feeds",(s=d||(d={})).SignupToChat="signupToChat",s.EnablePostToFeed="enable_post_to_feed",(a=h||(h={})).InProductSurvey="in_product_survey",a.ObfuscatedUserType="obfuscated_user_type",a.ScenarioOverride="secenario_override",a.FeaturedCharacters="featured_characters",a.AllowedDomainsForLinks="allowed_domains_for_links",a.CuratedScenes="curated_scenes",a.VideoGenPresetImages="preset-image-avatar",a.AvatarFXTransformArtStyle="avatarfx_transform_art_style",a.ZeroBurnDiscountCodes="zero_burn_discount_codes";let f={chat_streaks:{showStreaks:!1},edited_message_v2:{enabled:!1,variant:"control"},"cai-plus-faster-responses-featured":{variant:"control"},incentivized_invites:{enabled:!1},nux_topic_picker_web:{enabled:!1,showSkip:!1,topics:{"role-playing":[{name:"romance",mature:!0,avatar:""},{name:"adventure",avatar:""},{name:"sci_fi",avatar:""}]}},chat_safety_timeout_4:{config:{}},promote_email_signin_over_third_party_exp:{enabled:!1},voice_call_qr_code:{enabled:!1},disable_auto_search:{enabled:!1},swipe_annotation_feedback:{enabled:!1,signalThreshold:0,exponentialBase:0,cookieTTLDays:0,cookieName:"SwipeFeedback_shown_empty"},"show-chat-styles-on-new-chat":{"new-chat-sidebar":!1},popular_and_trending_web_userid:{enabled:!1},cai_plus_chat_upgrade_memory_upsell:{enabled:!1,threshold:0},nux_education_banner_web_v0:{enabled:!1},search_improvements_autocomplete_web:{enabled:!1},"allow-chat-style-change-during-chat-v2":{enabled:!1},logged_out_homepage_recommendations:{variant:"control"},"nux-dynamic-greeting-web":{enabled:!1},disable_scenarios:{disableScenarios:!1},"scenes-shelf-placement":{shelf_location:"none"}};function m(e){var t;let n=(0,p.useStatsigClient)().getExperiment(e);return{config:{...null!==(t=f[e])&&void 0!==t?t:{},...n.value},statsigConfigResult:n}}},68159:function(e,t,n){"use strict";n.d(t,{b:function(){return f},q:function(){return p}});var r=n(52322),i=n(92488),o=n(21236),s=n(15030),a=n(2784),l=n(10386),c=n(15584),u=n(93326),d=n(3927),h=n(92599);let p=(e,t)=>{localStorage.getItem(s.hl.Keys.BetaEducationShown)?t():(o.iN.elementClicked({referrer:"BetaTagWrappedElementClicked_FirstTime",value:e}),i.uW.value=e,localStorage.setItem(s.hl.Keys.BetaEducationShown,"true"))};function f(){let e=(0,c.BF)(i.uW),{t}=(0,l.$G)();return(0,a.useEffect)(()=>{e&&o.iN.contentViewed({referrer:e,content:"BetaTagDialog"})},[e]),(0,r.jsxs)(d.Vq,{open:!!e,onOpenChange:e=>{e||(i.uW.value=void 0)},children:[(0,r.jsx)(d.t9,{className:"backdrop-blur-none"}),(0,r.jsx)(d.cZ,{className:"sm:max-w-[425px] w-full",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 items-center justify-center pt-8 pb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center size-16",children:[(0,r.jsx)("div",{className:"absolute bg-plus opacity-10 size-16 rounded-[100%] object-center self-center origin-center"}),(0,r.jsx)(h.ynJ,{className:"size-10 text-plus"})]}),(0,r.jsx)("h1",{children:t("beta.you-are-using-a-beta-feature")}),(0,r.jsx)("div",{className:"text-muted-foreground text-center",children:t("beta.dialog-description")}),(0,r.jsx)(u.zx,{variant:"primary",className:"w-full",onPress:()=>{o.iN.elementClicked({referrer:"BetaTagDialog_ContinueButtonClicked",value:e}),i.Af.value=e,i.uW.value=void 0},children:t("Common.continue")})]})})]})}},95856:function(e,t,n){"use strict";n.d(t,{B7:function(){return v},Ps:function(){return g},cE:function(){return b},lc:function(){return y}});var r=n(52322),i=n(92599),o=n(37344),s=n(3927),a=n(61676),l=n(55264),c=n(15030),u=n(38617),d=n(96577),h=n.n(d),p=n(2784),f=n(10386),m=n(50090);function g(e){return(0,r.jsxs)(s.Vq,{children:[(0,r.jsx)(s.hg,{children:(0,r.jsx)(v,{...e})}),(0,r.jsx)(s.cZ,{hideClose:!0,className:"bg-transparent outline-none border-none shadow-none",children:(0,r.jsx)(v,{...e,size:256})})]})}function v(e){let{name:t,src:n,size:i,height:s,cdnOverride:d,style:f,loading:m,backgroundOverride:g,animated:v=!1,circle:y=!0,priority:b,className:w=""}=e,{resolvedTheme:_}=(0,u.F)(),C=(0,p.useMemo)(()=>(0,l.yC)(t),[t]),x="dark"===_||null==_?c.nq:c.w,k=new URL(l.Wj.getCDNImageSource(n,null!=d?d:l.Wj.getCDNSize(i)));return k.searchParams.set("webp","true"),v||k.searchParams.set("anim","0"),(0,r.jsx)(o.qE,{className:(0,a.cn)("shrink-0 grow-0",w,{[C]:!n}),style:{width:i,height:null!=s?s:i,...f,borderRadius:y?i:Math.round(.16*i),background:g},title:t,children:n?(0,r.jsx)(h(),{alt:t,className:"object-cover object-center bg-card shrink-0 grow-0 h-full amp-block",src:k.href,height:null!=s?s:i,width:i,blurDataURL:x,placeholder:i>40?"blur":"empty",loading:m,priority:b,fetchPriority:b?"high":"auto",quality:25,draggable:!1,unoptimized:!0}):(0,r.jsx)("div",{className:"flex justify-center items-center w-full font-bold opacity-75",style:{fontSize:.4*i},children:(null==t?void 0:t.length)>0?t.slice(0,1):""})})}function y(e){let{href:t,referrer:n,characterId:i}=e;return(0,r.jsx)(m.Z,{href:t,analytics:{name:"linkHandled",properties:{link:t,referrer:n,character_id:i}},children:(0,r.jsx)(v,{...e})})}function b(){let{t:e}=(0,f.$G)();return(0,r.jsxs)("div",{className:"flex flex-row space-x-4 rounded-xl max-w-[340px] bg-warning/20 p-4 mt-2 align-center",children:[(0,r.jsx)(i.avX,{width:"24px",className:"text-warning min-w-[24px]"}),(0,r.jsx)("p",{className:"text-sm text-left",children:e("Chat.licensed-professional-disclaimer")})]})}},87790:function(e,t,n){"use strict";n.d(t,{J:function(){return m},V:function(){return f}});var r=n(52322),i=n(21236),o=n(95856),s=n(92197),a=n(67938),l=n(61676),c=n(55264),u=n(2784),d=n(10386),h=n(50090),p=n(34581);function f(){return(0,r.jsxs)("div",{className:"my-2 flex h-10 items-center gap-2 p-2 pl-4",children:[(0,r.jsx)(p.O,{className:"mr-2 h-8 w-8 min-w-8 rounded-sm"}),(0,r.jsx)(p.O,{className:"h-4 w-full"})]})}function m(e){let{index:t,referrer:n,name:p,description:f,tag:m,src:g,href:v,title:y,author:b,interactions:w,upvotes:_,nameClassname:C,titleClassname:x,infoClassname:k,descriptionClassname:S,tagClassname:E,containerClassname:T,avatarImageSize:P,onClick:I,disableLinkNavigation:R,searchResultCharacterIds:O,id:A,rightContent:N,openInNewTab:L=!1,trackImpressions:M=!1,searchUuid:D}=e,{t:j}=(0,d.$G)(),U=(0,u.useRef)(null),F=(0,a.O)(U,{enabled:M,onlyTriggerOnce:!0});return(0,u.useEffect)(()=>{F&&i.iN.contentViewed({content:A,type:"character_list_result",referrer:n,index:t,component:"CharacterListItemCompact",search_uuid:D})},[A,F,n,t,D]),(0,r.jsx)(h.Z,{className:"w-full",href:null!=v?v:"#",target:L?"_blank":void 0,analytics:{name:"characterSelected",properties:{index:t,link:v,referrer:n,type:"CharacterListItemCompact",character_id:A,all_search_result_ids:O,search_uuid:D}},onClick:I,disableLinkNavigation:R,children:(0,r.jsxs)("div",{ref:U,className:(0,l.cn)("group my-1 flex w-full flex-row justify-between hover:bg-surface-elevation-3 hover:rounded-spacing-m p-2 gap-3 items-center",T),children:[(0,r.jsxs)("div",{className:"relative text-mini",children:[(0,r.jsx)(o.B7,{name:p,src:g,size:null!=P?P:40}),!!m&&(0,r.jsx)("span",{className:(0,l.cn)("rounded-full px-2 py-0.5 absolute -bottom-2 bg-accent text-accent-foreground left-1/2 -translate-x-1/2",E),children:m})]}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col justify-center",children:[(0,r.jsx)("p",{className:C,children:p}),(0,r.jsx)("p",{className:(0,l.cn)("text-md mb-1 line-clamp-1 text-ellipsis text-muted-foreground",x),children:y}),(0,r.jsx)("div",{className:(0,l.cn)("flex gap-1 text-muted-foreground text-sm",k),children:(()=>{let e=[];return w&&w>0&&e.push((0,r.jsx)("div",{className:"flex whitespace-nowrap",children:j("Common.num-interactions",{num:c.Wj.formatNumber(w),count:w})},"num-interactions")),_&&_>0&&(e.length>=1&&e.push((0,r.jsx)("span",{children:""},"dot-upvotes")),e.push((0,r.jsx)("div",{className:"flex whitespace-nowrap",children:j("Common.num-likes",{num:c.Wj.formatNumber(_),count:_})},"num-likes"))),b&&(e.length>=1&&e.push((0,r.jsx)("span",{children:""},"dot-creator")),e.push((0,r.jsx)(s.f,{author:b,clickable:!1},"creator-link"))),(0,r.jsx)(r.Fragment,{children:e.map(e=>e)})})()}),!!f&&(0,r.jsx)("div",{className:(0,l.cn)("text-muted-foreground text-sm line-clamp-1",S),children:f})]}),N]})})}},88585:function(e,t,n){"use strict";n.d(t,{y:function(){return h}});var r=n(52322),i=n(34318),o=n(55264),s=n(38978),a=n(82876),l=n(5632),c=n(2784),u=n(10386),d=n(93326);let h=c.forwardRef((e,t)=>{let{character_id:n,referrer:h,onCallback:p}=e,{t:f}=(0,u.$G)(),{mutateAsync:m}=(0,s.Kz)(),g=i.h.useUtils(),v=(0,a.usePathname)(),y=(0,l.useRouter)(),b=(0,c.useCallback)(async()=>{await m({externalId:n},{onSuccess:async()=>{await g.discovery.invalidate(),null==p||p(),o.nN.chat(n)===v&&await y.push("/")}}),await g.discovery.recent.invalidate()},[m,y,v,n,p,g]);return(0,r.jsx)(d.zx,{ref:t,variant:"ghost",className:"justify-start hover:bg-accent rounded-spacing-s",onPress:b,analytics:{name:"elementClicked",properties:{characterId:n,type:"HideCharacterChatButton",referrer:h}},children:f("Guide.remove-from-recents")})});h.displayName="HideCharacterChatButton"},79298:function(e,t,n){"use strict";n.d(t,{R:function(){return l},C:function(){return c}});var r=n(52322),i=n(50090),o=n(61676),s=n(15030),a=n(59218);let l=e=>{let{size:t="text-md"}=e;return(0,r.jsx)("div",{className:(0,o.cn)("text-muted-foreground max-w-80 text-center",{[t]:!!t}),children:(0,r.jsxs)(a.cC,{i18nKey:"Signup.disclaimer",children:["By continuing, you agree to our"," ",(0,r.jsx)(i.Z,{href:s.Hb.tos,target:"_blank",className:"text-foreground",analytics:{name:"linkOpened",properties:{link:s.Hb.tos,referrer:"Signup",type:"legal"}},children:"Terms"})," ","and acknowledge our"," ",(0,r.jsx)(i.Z,{href:s.Hb.privacyPolicy,target:"_blank",className:"text-foreground",analytics:{name:"linkOpened",properties:{link:s.Hb.privacyPolicy,referrer:"Signup",type:"legal"}},children:"Privacy Policy"})]})})},c=e=>{let{size:t="text-md"}=e;return(0,r.jsx)("div",{className:(0,o.cn)("text-muted-foreground max-w-[11rem] text-center gap-1",{[t]:!!t}),children:(0,r.jsxs)(a.cC,{i18nKey:"Signup.disclaimer-new-home",children:["By continuing, you agree with the"," ",(0,r.jsx)("a",{href:s.Hb.tos,target:"_blank",className:"text-muted-foreground font-medium hover:text-foreground transition-colors",children:"Terms"})," ","and"," ",(0,r.jsx)("a",{href:s.Hb.privacyPolicy,target:"_blank",className:"text-muted-foreground font-medium hover:text-foreground transition-colors",children:"Privacy Policy"})]})})}},27714:function(e,t,n){"use strict";n.d(t,{a2:function(){return s}});var r=n(52322),i=n(65239),o=n(57352);function s(e){let{children:t,durationSeconds:n,className:s=""}=e;return(0,r.jsx)(i.M,{children:(0,r.jsx)(o.E.div,{className:s,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:n,ease:"easeInOut"},children:t})})}},46086:function(e,t,n){"use strict";n.d(t,{t:function(){return l}});var r=n(52322);function i(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"206",height:"56",viewBox:"0 0 103 28",...e,children:(0,r.jsx)("g",{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1189 11.826C16.5477 11.527 15.9127 11.3709 15.268 11.3709C14.6236 11.3709 13.9886 11.527 13.4173 11.826C13.1412 11.9815 12.8885 12.1757 12.6672 12.4027V6.99756H10.1797V20.7407H12.6672V15.4751C12.6599 15.1368 12.7415 14.8025 12.904 14.5057C13.0575 14.2331 13.2845 14.0093 13.5593 13.8598C13.8515 13.7045 14.1784 13.6259 14.5092 13.6314C14.7547 13.6188 15.0001 13.6579 15.2294 13.7461C15.4588 13.8342 15.6672 13.9695 15.8411 14.1432C16.015 14.317 16.1507 14.5252 16.2391 14.7546C16.3278 14.984 16.3671 15.2295 16.3551 15.4751V20.7407H18.844V14.9243C18.8566 14.2802 18.6993 13.6442 18.3875 13.0806C18.0882 12.5534 17.6492 12.1192 17.1189 11.826ZM6.2929 18.3931C5.93527 18.5433 5.55043 18.6176 5.16265 18.6116C4.73353 18.6188 4.31035 18.5105 3.9374 18.298C3.57793 18.0902 3.28225 17.7878 3.08235 17.4237C2.86861 17.0304 2.76061 16.5883 2.76893 16.1407C2.75772 15.6927 2.86588 15.2499 3.08235 14.8576C3.28713 14.502 3.58207 14.2068 3.9374 14.0019C4.31069 13.7903 4.73372 13.6824 5.16265 13.6894C5.54296 13.6848 5.92039 13.7558 6.27314 13.8981C6.60257 14.0339 6.89764 14.2414 7.13686 14.5057L8.73229 12.8905C8.29507 12.4007 7.75709 12.0114 7.15535 11.7494C6.52565 11.4791 5.84652 11.3433 5.16138 11.3505C4.28116 11.3394 3.41335 11.5591 2.64429 11.9877C1.89874 12.396 1.27907 13.0006 0.852332 13.7361C0.42561 14.4717 0.208078 15.31 0.223415 16.1604C0.210751 17.0053 0.428766 17.8377 0.85384 18.5678C1.27891 19.2978 1.89499 19.8979 2.63566 20.3035C3.40882 20.7286 4.27931 20.9449 5.16138 20.9308C5.84652 20.9381 6.52565 20.8022 7.15535 20.532C7.76829 20.2617 8.31831 19.8669 8.77048 19.3724L7.15535 17.7559C6.92011 18.0313 6.62513 18.2492 6.2929 18.3931ZM26.4532 11.7692C26.7868 11.9381 27.0888 12.1638 27.3453 12.436V11.5605H29.813V20.7407H27.3453V19.8516C27.087 20.1228 26.7854 20.3493 26.4532 20.522C25.9066 20.8012 25.2998 20.9417 24.6863 20.9308C23.8889 20.9417 23.105 20.724 22.4272 20.3035C21.7568 19.8864 21.2119 19.2952 20.8503 18.5931C20.4752 17.8336 20.28 16.9978 20.28 16.1506C20.28 15.3033 20.4752 14.4675 20.8503 13.7079C21.2117 13.0056 21.7566 12.4145 22.4272 11.9976C23.105 11.577 23.8889 11.3594 24.6863 11.3703C25.2988 11.3593 25.9048 11.4961 26.4532 11.7692ZM25.1428 18.6315C25.8397 18.6307 26.4031 18.3993 26.8333 17.9374C27.2634 17.4748 27.4785 16.8758 27.4785 16.1407C27.4872 15.6954 27.3865 15.2547 27.1848 14.8576C26.9989 14.496 26.7161 14.1932 26.3681 13.9833C25.9961 13.7684 25.5724 13.6599 25.1428 13.6697C24.7195 13.6611 24.3018 13.7697 23.9361 13.9833C23.5882 14.1929 23.3056 14.4958 23.1204 14.8576C22.918 15.2545 22.8167 15.6952 22.8256 16.1407C22.8155 16.5926 22.9168 17.0401 23.1204 17.4435C23.306 17.8051 23.5884 18.1079 23.9361 18.3177C24.3018 18.5314 24.7195 18.6399 25.1428 18.6315ZM38.0715 11.5889C37.6906 11.4381 37.2839 11.3639 36.8745 11.3703C35.8487 11.3703 35.064 11.6963 34.5203 12.3483L34.5006 12.3743V11.5605H32.0131V20.7407H34.5006V15.6652C34.5006 14.9811 34.6684 14.4711 35.0041 14.1352C35.1754 13.9669 35.379 13.8354 35.6029 13.7488C35.8266 13.6622 36.0658 13.6222 36.3056 13.6314C36.5354 13.6275 36.7639 13.6664 36.9794 13.7462C37.1716 13.8193 37.344 13.9364 37.4829 14.0883L39.04 12.3014C38.7764 11.9922 38.445 11.7483 38.0715 11.5889ZM45.2748 11.7692C45.6087 11.9381 45.911 12.1637 46.1681 12.436L46.1717 11.5605H48.6395V20.7407H46.1717V19.8516C45.9128 20.1228 45.6111 20.3493 45.2785 20.522C44.7323 20.8012 44.1259 20.9415 43.5128 20.9308C42.715 20.9417 41.9307 20.724 41.2523 20.3035C40.5821 19.8864 40.0372 19.2952 39.6755 18.5931C39.3005 17.8336 39.1055 16.9978 39.1055 16.1506C39.1055 15.3033 39.3005 14.4675 39.6755 13.7079C40.0358 13.006 40.5795 12.415 41.2486 11.9976C41.927 11.5771 42.7112 11.3594 43.509 11.3703C44.1211 11.3594 44.7267 11.4962 45.2748 11.7692ZM43.9645 18.6315C44.6612 18.6307 45.2246 18.3993 45.6548 17.9375C46.0851 17.4748 46.3002 16.8758 46.3002 16.1407C46.3088 15.6954 46.2079 15.2547 46.0065 14.8576C45.821 14.4957 45.538 14.1929 45.1896 13.9833C44.8176 13.7684 44.3938 13.6599 43.9645 13.6697C43.5414 13.6613 43.1243 13.7699 42.759 13.9833C42.4103 14.1925 42.1273 14.4954 41.9421 14.8576C41.7397 15.2545 41.6384 15.6952 41.6472 16.1407C41.637 16.5926 41.7383 17.0401 41.9421 17.4435C42.1277 17.8054 42.4105 18.1083 42.759 18.3177C43.1243 18.5312 43.5414 18.6397 43.9645 18.6315ZM56.3008 18.3931C55.943 18.5431 55.5583 18.6176 55.1705 18.6116C54.7414 18.6192 54.318 18.5109 53.9452 18.298C53.5856 18.0906 53.2897 17.7881 53.0901 17.4237C52.8764 17.0304 52.7685 16.5883 52.7767 16.1407C52.7655 15.6927 52.8738 15.2499 53.0901 14.8576C53.2947 14.5018 53.5896 14.2065 53.9452 14.0019C54.3184 13.79 54.7416 13.6822 55.1705 13.6894C55.5508 13.6846 55.9283 13.7555 56.2809 13.8981C56.6105 14.0337 56.9056 14.2413 57.1446 14.5057L58.7388 12.8905C58.302 12.4007 57.7645 12.0114 57.1631 11.7494C56.5334 11.4794 55.8544 11.3436 55.1691 11.3505C54.2889 11.3394 53.4211 11.5591 52.6521 11.9877C51.9065 12.396 51.2868 13.0006 50.8601 13.7361C50.4333 14.4717 50.2159 15.31 50.2311 16.1604C50.2187 17.0052 50.4366 17.8373 50.8615 18.5674C51.2862 19.2972 51.9019 19.8976 52.6422 20.3035C53.4159 20.7286 54.2867 20.9447 55.1691 20.9308C55.8544 20.9379 56.5334 20.802 57.1631 20.532C57.7758 20.2621 58.3256 19.8671 58.777 19.3724L57.1631 17.7559C56.9277 18.031 56.6329 18.249 56.3008 18.3931ZM61.3805 7.7385H63.8694V11.5592H66.015V13.745H63.8694V20.7407H61.3805V13.745H59.2349V11.5592H61.3805V7.7385ZM73.7538 11.9495C73.041 11.5413 72.2308 11.3343 71.4094 11.3505C70.5509 11.3404 69.7053 11.5604 68.9603 11.9877C68.2417 12.3965 67.6425 12.9861 67.2218 13.6981C66.8944 14.2475 66.6809 14.8573 66.5941 15.4911C66.5072 16.1249 66.5486 16.7697 66.7163 17.3871C66.8839 18.0045 67.174 18.5818 67.5692 19.0846C67.9645 19.5873 68.4568 20.0052 69.017 20.3133C69.805 20.7351 70.6878 20.9475 71.5811 20.9308C72.2937 20.9373 73.0004 20.8016 73.6601 20.532C74.2873 20.2741 74.8439 19.8701 75.2839 19.3539L73.8217 17.8893C73.552 18.1999 73.2141 18.4442 72.8346 18.603C72.4302 18.7658 71.9972 18.8464 71.5612 18.8401C71.0844 18.8502 70.6132 18.7358 70.1941 18.5079C69.8036 18.29 69.488 17.9589 69.2886 17.5583C69.204 17.3909 69.1374 17.2149 69.0898 17.0335L75.7934 17.0162C75.8395 16.8253 75.8744 16.632 75.8984 16.437C76.0041 15.4528 75.8121 14.4594 75.3468 13.5857C74.9729 12.9065 74.4226 12.3412 73.7538 11.9495ZM69.0924 15.1688C69.1362 15.0027 69.1965 14.8413 69.2725 14.6872C69.4568 14.3003 69.7507 13.9761 70.1178 13.7549C70.5091 13.5271 70.9558 13.4121 71.4082 13.4227C71.8237 13.4091 72.2346 13.5113 72.5952 13.7178C72.9218 13.9185 73.1799 14.2134 73.3355 14.5637C73.4215 14.7534 73.4869 14.9517 73.5305 15.1552L69.0924 15.1688ZM84.4949 12.3014L82.9365 14.0883C82.798 13.9365 82.6261 13.8193 82.4342 13.7462C82.2183 13.6663 81.9893 13.6273 81.7594 13.6314C81.5196 13.6221 81.2806 13.662 81.0571 13.7486C80.8333 13.8353 80.6297 13.9668 80.4589 14.1352C80.1232 14.4711 79.9553 14.9811 79.9553 15.6652V20.7407H77.4666V11.5605H79.9553V12.3743L79.9738 12.3483C80.5194 11.6963 81.3045 11.3703 82.3295 11.3703C82.7387 11.3641 83.1453 11.4383 83.5263 11.5889C83.8995 11.7486 84.231 11.9925 84.4949 12.3014ZM83.5928 17.7757C83.3843 17.7683 83.1767 17.805 82.9833 17.8836C82.7902 17.9621 82.6155 18.0805 82.4712 18.2313C82.1903 18.5374 82.0346 18.9376 82.0346 19.3533C82.0346 19.7688 82.1903 20.1692 82.4712 20.4751C82.6155 20.6259 82.7902 20.7443 82.9833 20.8229C83.1767 20.9015 83.3843 20.9383 83.5928 20.9308C83.798 20.9365 84.002 20.8989 84.1918 20.8205C84.3813 20.7419 84.5524 20.6243 84.6935 20.4751C84.9743 20.1692 85.1301 19.7688 85.1301 19.3533C85.1301 18.9376 84.9743 18.5374 84.6935 18.2313C84.5524 18.0821 84.3813 17.9645 84.1918 17.886C84.002 17.8075 83.798 17.7699 83.5928 17.7757ZM92.8271 11.7692C93.1608 11.9381 93.4627 12.1638 93.7192 12.436L93.7156 11.5605H96.1834V20.7443H93.7156V19.8552C93.4571 20.1264 93.1558 20.3529 92.8235 20.5258C92.2768 20.8048 91.6701 20.9451 91.0567 20.9345C90.2587 20.9453 89.4745 20.7276 88.7961 20.3071C88.1261 19.89 87.5816 19.299 87.2204 18.5969C86.8455 17.8373 86.6503 17.0015 86.6503 16.1543C86.6503 15.307 86.8455 14.4712 87.2204 13.7116C87.5814 13.0093 88.1259 12.4182 88.7961 12.0013C89.4751 11.5789 90.2609 11.36 91.0603 11.3703C91.6727 11.3594 92.2788 11.4962 92.8271 11.7692ZM91.5156 18.6315C92.2114 18.6307 92.7749 18.3993 93.206 17.9374H93.2022C93.6334 17.4748 93.8501 16.8758 93.8525 16.1407C93.8609 15.6953 93.7596 15.2546 93.5576 14.8576C93.3721 14.4957 93.0893 14.1929 92.7407 13.9833C92.3688 13.7684 91.9449 13.6599 91.5156 13.6697C91.0926 13.6613 90.6755 13.7699 90.3101 13.9833C89.9618 14.1929 89.6787 14.4957 89.4932 14.8576C89.2918 15.2547 89.1909 15.6954 89.1995 16.1407C89.1897 16.5924 89.2904 17.0397 89.4932 17.4435C89.6791 17.8052 89.962 18.1079 90.3101 18.3177C90.6755 18.5312 91.0926 18.6397 91.5156 18.6315ZM100.895 11.5592H98.3883V20.7407H100.895V11.5592ZM100.194 9.98186C100.019 10.0523 99.8305 10.0849 99.6419 10.0774C99.455 10.083 99.2691 10.0495 99.096 9.97914C98.9227 9.90875 98.7664 9.803 98.6363 9.66863C98.3798 9.39413 98.2373 9.03239 98.2373 8.65663C98.2373 8.28086 98.3798 7.91912 98.6363 7.64465C98.9046 7.37656 99.2683 7.22598 99.6474 7.22598C100.027 7.22598 100.39 7.37656 100.659 7.64465C100.91 7.92192 101.048 8.28259 101.048 8.65663C101.048 9.03066 100.91 9.39135 100.659 9.66863C100.528 9.80467 100.369 9.9114 100.194 9.98186Z",fill:"currentColor"})})})}function o(e){return(0,r.jsx)("svg",{width:"34",height:"16",viewBox:"0 0 34 16",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsxs)("g",{clipPath:"url(#clip0_516_1077)",children:[(0,r.jsx)("path",{d:"M30.4134 15.778V5.05962H33.3426V15.778H30.4134ZM31.878 3.3287C31.4046 3.3287 31.0125 3.17336 30.7019 2.86268C30.3912 2.53721 30.2358 2.13776 30.2358 1.66435C30.2358 1.20573 30.3912 0.813681 30.7019 0.488209C31.0125 0.162736 31.4046 0 31.878 0C32.3662 0 32.7582 0.162736 33.0541 0.488209C33.3648 0.813681 33.5202 1.20573 33.5202 1.66435C33.5202 2.13776 33.3648 2.53721 33.0541 2.86268C32.7582 3.17336 32.3662 3.3287 31.878 3.3287Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M22.4133 15.9996C21.4369 15.9996 20.5566 15.7555 19.7725 15.2673C18.9884 14.7791 18.3745 14.1134 17.9306 13.2701C17.4868 12.4268 17.2649 11.48 17.2649 10.4296C17.2649 9.36443 17.4868 8.4102 17.9306 7.56693C18.3745 6.72366 18.9884 6.05793 19.7725 5.56972C20.5566 5.08151 21.4369 4.8374 22.4133 4.8374C23.1826 4.8374 23.8705 4.99274 24.4771 5.30342C25.0836 5.6141 25.5644 6.05053 25.9195 6.61271C26.2894 7.16009 26.4891 7.78145 26.5187 8.47678V12.3381C26.4891 13.0482 26.2894 13.6769 25.9195 14.2243C25.5644 14.7717 25.0836 15.2081 24.4771 15.5336C23.8705 15.8443 23.1826 15.9996 22.4133 15.9996ZM22.9459 13.3145C23.7596 13.3145 24.4179 13.0482 24.9209 12.5156C25.4239 11.9682 25.6754 11.2655 25.6754 10.4074C25.6754 9.84524 25.557 9.34964 25.3203 8.9206C25.0984 8.47678 24.7803 8.13651 24.3661 7.8998C23.9667 7.6483 23.4933 7.52255 22.9459 7.52255C22.4133 7.52255 21.9399 7.6483 21.5256 7.8998C21.1262 8.13651 20.8081 8.47678 20.5714 8.9206C20.3495 9.34964 20.2385 9.84524 20.2385 10.4074C20.2385 10.9844 20.3495 11.4948 20.5714 11.9386C20.8081 12.3677 21.1262 12.7079 21.5256 12.9594C21.9399 13.1961 22.4133 13.3145 22.9459 13.3145ZM25.5201 15.7777V12.8928L25.9861 10.2743L25.5201 7.70008V5.05932H28.4049V15.7777H25.5201Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M13.6366 15.9997C13.104 15.9997 12.6676 15.8221 12.3273 15.4671C11.987 15.112 11.8169 14.6756 11.8169 14.1578C11.8169 13.64 11.987 13.2036 12.3273 12.8485C12.6676 12.4934 13.104 12.3159 13.6366 12.3159C14.1544 12.3159 14.5834 12.4934 14.9237 12.8485C15.2639 13.2036 15.4341 13.64 15.4341 14.1578C15.4341 14.6756 15.2639 15.112 14.9237 15.4671C14.5834 15.8221 14.1544 15.9997 13.6366 15.9997Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M5.76974 15.9999C4.67497 15.9999 3.69115 15.7557 2.8183 15.2675C1.94544 14.7793 1.25751 14.1136 0.754504 13.2703C0.251501 12.427 0 11.4802 0 10.4298C0 9.36465 0.251501 8.41042 0.754504 7.56715C1.25751 6.72388 1.94544 6.05814 2.8183 5.56993C3.70595 5.06693 4.68976 4.81543 5.76974 4.81543C6.61301 4.81543 7.3897 4.97077 8.09983 5.28145C8.80995 5.59212 9.42391 6.03595 9.94171 6.61293L8.07763 8.49919C7.79655 8.18851 7.45628 7.9518 7.05683 7.78906C6.67219 7.62633 6.24315 7.54496 5.76974 7.54496C5.23715 7.54496 4.75634 7.67071 4.3273 7.92221C3.91307 8.15892 3.5802 8.49179 3.3287 8.92082C3.09199 9.33506 2.97363 9.83067 2.97363 10.4076C2.97363 10.9698 3.09199 11.4728 3.3287 11.9166C3.5802 12.3457 3.91307 12.6859 4.3273 12.9374C4.75634 13.1742 5.23715 13.2925 5.76974 13.2925C6.25795 13.2925 6.69438 13.2111 7.07903 13.0484C7.47847 12.8709 7.81874 12.6194 8.09983 12.2939L9.98609 14.1802C9.4387 14.7719 8.80995 15.2232 8.09983 15.5338C7.3897 15.8445 6.61301 15.9999 5.76974 15.9999Z",fill:"currentColor"})]})})}var s=n(16369),a=n(61676);function l(e){let{className:t,size:n="regular",isPlus:l,logoClassName:c,props:u}=e;return(0,r.jsxs)("div",{className:(0,a.cn)("text-2xl font-sans font-semibold flex items-center",t),children:[(()=>{switch(n){case"mini":return(0,r.jsx)(o,{className:(0,a.cn)("text-foreground",c),...u});case"large":return(0,r.jsx)(i,{className:(0,a.cn)("text-foreground",c),...u});default:return(0,r.jsx)(s.i,{className:(0,a.cn)("text-foreground",c),...u})}})(),!!l&&(0,r.jsx)("div",{className:"text-plus",children:"+"})]})}},16369:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(52322);function i(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"103",height:"28",viewBox:"0 0 103 28",...e,children:(0,r.jsx)("g",{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1189 11.826C16.5477 11.527 15.9127 11.3709 15.268 11.3709C14.6236 11.3709 13.9886 11.527 13.4173 11.826C13.1412 11.9815 12.8885 12.1757 12.6672 12.4027V6.99756H10.1797V20.7407H12.6672V15.4751C12.6599 15.1368 12.7415 14.8025 12.904 14.5057C13.0575 14.2331 13.2845 14.0093 13.5593 13.8598C13.8515 13.7045 14.1784 13.6259 14.5092 13.6314C14.7547 13.6188 15.0001 13.6579 15.2294 13.7461C15.4588 13.8342 15.6672 13.9695 15.8411 14.1432C16.015 14.317 16.1507 14.5252 16.2391 14.7546C16.3278 14.984 16.3671 15.2295 16.3551 15.4751V20.7407H18.844V14.9243C18.8566 14.2802 18.6993 13.6442 18.3875 13.0806C18.0882 12.5534 17.6492 12.1192 17.1189 11.826ZM6.2929 18.3931C5.93527 18.5433 5.55043 18.6176 5.16265 18.6116C4.73353 18.6188 4.31035 18.5105 3.9374 18.298C3.57793 18.0902 3.28225 17.7878 3.08235 17.4237C2.86861 17.0304 2.76061 16.5883 2.76893 16.1407C2.75772 15.6927 2.86588 15.2499 3.08235 14.8576C3.28713 14.502 3.58207 14.2068 3.9374 14.0019C4.31069 13.7903 4.73372 13.6824 5.16265 13.6894C5.54296 13.6848 5.92039 13.7558 6.27314 13.8981C6.60257 14.0339 6.89764 14.2414 7.13686 14.5057L8.73229 12.8905C8.29507 12.4007 7.75709 12.0114 7.15535 11.7494C6.52565 11.4791 5.84652 11.3433 5.16138 11.3505C4.28116 11.3394 3.41335 11.5591 2.64429 11.9877C1.89874 12.396 1.27907 13.0006 0.852332 13.7361C0.42561 14.4717 0.208078 15.31 0.223415 16.1604C0.210751 17.0053 0.428766 17.8377 0.85384 18.5678C1.27891 19.2978 1.89499 19.8979 2.63566 20.3035C3.40882 20.7286 4.27931 20.9449 5.16138 20.9308C5.84652 20.9381 6.52565 20.8022 7.15535 20.532C7.76829 20.2617 8.31831 19.8669 8.77048 19.3724L7.15535 17.7559C6.92011 18.0313 6.62513 18.2492 6.2929 18.3931ZM26.4532 11.7692C26.7868 11.9381 27.0888 12.1638 27.3453 12.436V11.5605H29.813V20.7407H27.3453V19.8516C27.087 20.1228 26.7854 20.3493 26.4532 20.522C25.9066 20.8012 25.2998 20.9417 24.6863 20.9308C23.8889 20.9417 23.105 20.724 22.4272 20.3035C21.7568 19.8864 21.2119 19.2952 20.8503 18.5931C20.4752 17.8336 20.28 16.9978 20.28 16.1506C20.28 15.3033 20.4752 14.4675 20.8503 13.7079C21.2117 13.0056 21.7566 12.4145 22.4272 11.9976C23.105 11.577 23.8889 11.3594 24.6863 11.3703C25.2988 11.3593 25.9048 11.4961 26.4532 11.7692ZM25.1428 18.6315C25.8397 18.6307 26.4031 18.3993 26.8333 17.9374C27.2634 17.4748 27.4785 16.8758 27.4785 16.1407C27.4872 15.6954 27.3865 15.2547 27.1848 14.8576C26.9989 14.496 26.7161 14.1932 26.3681 13.9833C25.9961 13.7684 25.5724 13.6599 25.1428 13.6697C24.7195 13.6611 24.3018 13.7697 23.9361 13.9833C23.5882 14.1929 23.3056 14.4958 23.1204 14.8576C22.918 15.2545 22.8167 15.6952 22.8256 16.1407C22.8155 16.5926 22.9168 17.0401 23.1204 17.4435C23.306 17.8051 23.5884 18.1079 23.9361 18.3177C24.3018 18.5314 24.7195 18.6399 25.1428 18.6315ZM38.0715 11.5889C37.6906 11.4381 37.2839 11.3639 36.8745 11.3703C35.8487 11.3703 35.064 11.6963 34.5203 12.3483L34.5006 12.3743V11.5605H32.0131V20.7407H34.5006V15.6652C34.5006 14.9811 34.6684 14.4711 35.0041 14.1352C35.1754 13.9669 35.379 13.8354 35.6029 13.7488C35.8266 13.6622 36.0658 13.6222 36.3056 13.6314C36.5354 13.6275 36.7639 13.6664 36.9794 13.7462C37.1716 13.8193 37.344 13.9364 37.4829 14.0883L39.04 12.3014C38.7764 11.9922 38.445 11.7483 38.0715 11.5889ZM45.2748 11.7692C45.6087 11.9381 45.911 12.1637 46.1681 12.436L46.1717 11.5605H48.6395V20.7407H46.1717V19.8516C45.9128 20.1228 45.6111 20.3493 45.2785 20.522C44.7323 20.8012 44.1259 20.9415 43.5128 20.9308C42.715 20.9417 41.9307 20.724 41.2523 20.3035C40.5821 19.8864 40.0372 19.2952 39.6755 18.5931C39.3005 17.8336 39.1055 16.9978 39.1055 16.1506C39.1055 15.3033 39.3005 14.4675 39.6755 13.7079C40.0358 13.006 40.5795 12.415 41.2486 11.9976C41.927 11.5771 42.7112 11.3594 43.509 11.3703C44.1211 11.3594 44.7267 11.4962 45.2748 11.7692ZM43.9645 18.6315C44.6612 18.6307 45.2246 18.3993 45.6548 17.9375C46.0851 17.4748 46.3002 16.8758 46.3002 16.1407C46.3088 15.6954 46.2079 15.2547 46.0065 14.8576C45.821 14.4957 45.538 14.1929 45.1896 13.9833C44.8176 13.7684 44.3938 13.6599 43.9645 13.6697C43.5414 13.6613 43.1243 13.7699 42.759 13.9833C42.4103 14.1925 42.1273 14.4954 41.9421 14.8576C41.7397 15.2545 41.6384 15.6952 41.6472 16.1407C41.637 16.5926 41.7383 17.0401 41.9421 17.4435C42.1277 17.8054 42.4105 18.1083 42.759 18.3177C43.1243 18.5312 43.5414 18.6397 43.9645 18.6315ZM56.3008 18.3931C55.943 18.5431 55.5583 18.6176 55.1705 18.6116C54.7414 18.6192 54.318 18.5109 53.9452 18.298C53.5856 18.0906 53.2897 17.7881 53.0901 17.4237C52.8764 17.0304 52.7685 16.5883 52.7767 16.1407C52.7655 15.6927 52.8738 15.2499 53.0901 14.8576C53.2947 14.5018 53.5896 14.2065 53.9452 14.0019C54.3184 13.79 54.7416 13.6822 55.1705 13.6894C55.5508 13.6846 55.9283 13.7555 56.2809 13.8981C56.6105 14.0337 56.9056 14.2413 57.1446 14.5057L58.7388 12.8905C58.302 12.4007 57.7645 12.0114 57.1631 11.7494C56.5334 11.4794 55.8544 11.3436 55.1691 11.3505C54.2889 11.3394 53.4211 11.5591 52.6521 11.9877C51.9065 12.396 51.2868 13.0006 50.8601 13.7361C50.4333 14.4717 50.2159 15.31 50.2311 16.1604C50.2187 17.0052 50.4366 17.8373 50.8615 18.5674C51.2862 19.2972 51.9019 19.8976 52.6422 20.3035C53.4159 20.7286 54.2867 20.9447 55.1691 20.9308C55.8544 20.9379 56.5334 20.802 57.1631 20.532C57.7758 20.2621 58.3256 19.8671 58.777 19.3724L57.1631 17.7559C56.9277 18.031 56.6329 18.249 56.3008 18.3931ZM61.3805 7.7385H63.8694V11.5592H66.015V13.745H63.8694V20.7407H61.3805V13.745H59.2349V11.5592H61.3805V7.7385ZM73.7538 11.9495C73.041 11.5413 72.2308 11.3343 71.4094 11.3505C70.5509 11.3404 69.7053 11.5604 68.9603 11.9877C68.2417 12.3965 67.6425 12.9861 67.2218 13.6981C66.8944 14.2475 66.6809 14.8573 66.5941 15.4911C66.5072 16.1249 66.5486 16.7697 66.7163 17.3871C66.8839 18.0045 67.174 18.5818 67.5692 19.0846C67.9645 19.5873 68.4568 20.0052 69.017 20.3133C69.805 20.7351 70.6878 20.9475 71.5811 20.9308C72.2937 20.9373 73.0004 20.8016 73.6601 20.532C74.2873 20.2741 74.8439 19.8701 75.2839 19.3539L73.8217 17.8893C73.552 18.1999 73.2141 18.4442 72.8346 18.603C72.4302 18.7658 71.9972 18.8464 71.5612 18.8401C71.0844 18.8502 70.6132 18.7358 70.1941 18.5079C69.8036 18.29 69.488 17.9589 69.2886 17.5583C69.204 17.3909 69.1374 17.2149 69.0898 17.0335L75.7934 17.0162C75.8395 16.8253 75.8744 16.632 75.8984 16.437C76.0041 15.4528 75.8121 14.4594 75.3468 13.5857C74.9729 12.9065 74.4226 12.3412 73.7538 11.9495ZM69.0924 15.1688C69.1362 15.0027 69.1965 14.8413 69.2725 14.6872C69.4568 14.3003 69.7507 13.9761 70.1178 13.7549C70.5091 13.5271 70.9558 13.4121 71.4082 13.4227C71.8237 13.4091 72.2346 13.5113 72.5952 13.7178C72.9218 13.9185 73.1799 14.2134 73.3355 14.5637C73.4215 14.7534 73.4869 14.9517 73.5305 15.1552L69.0924 15.1688ZM84.4949 12.3014L82.9365 14.0883C82.798 13.9365 82.6261 13.8193 82.4342 13.7462C82.2183 13.6663 81.9893 13.6273 81.7594 13.6314C81.5196 13.6221 81.2806 13.662 81.0571 13.7486C80.8333 13.8353 80.6297 13.9668 80.4589 14.1352C80.1232 14.4711 79.9553 14.9811 79.9553 15.6652V20.7407H77.4666V11.5605H79.9553V12.3743L79.9738 12.3483C80.5194 11.6963 81.3045 11.3703 82.3295 11.3703C82.7387 11.3641 83.1453 11.4383 83.5263 11.5889C83.8995 11.7486 84.231 11.9925 84.4949 12.3014ZM83.5928 17.7757C83.3843 17.7683 83.1767 17.805 82.9833 17.8836C82.7902 17.9621 82.6155 18.0805 82.4712 18.2313C82.1903 18.5374 82.0346 18.9376 82.0346 19.3533C82.0346 19.7688 82.1903 20.1692 82.4712 20.4751C82.6155 20.6259 82.7902 20.7443 82.9833 20.8229C83.1767 20.9015 83.3843 20.9383 83.5928 20.9308C83.798 20.9365 84.002 20.8989 84.1918 20.8205C84.3813 20.7419 84.5524 20.6243 84.6935 20.4751C84.9743 20.1692 85.1301 19.7688 85.1301 19.3533C85.1301 18.9376 84.9743 18.5374 84.6935 18.2313C84.5524 18.0821 84.3813 17.9645 84.1918 17.886C84.002 17.8075 83.798 17.7699 83.5928 17.7757ZM92.8271 11.7692C93.1608 11.9381 93.4627 12.1638 93.7192 12.436L93.7156 11.5605H96.1834V20.7443H93.7156V19.8552C93.4571 20.1264 93.1558 20.3529 92.8235 20.5258C92.2768 20.8048 91.6701 20.9451 91.0567 20.9345C90.2587 20.9453 89.4745 20.7276 88.7961 20.3071C88.1261 19.89 87.5816 19.299 87.2204 18.5969C86.8455 17.8373 86.6503 17.0015 86.6503 16.1543C86.6503 15.307 86.8455 14.4712 87.2204 13.7116C87.5814 13.0093 88.1259 12.4182 88.7961 12.0013C89.4751 11.5789 90.2609 11.36 91.0603 11.3703C91.6727 11.3594 92.2788 11.4962 92.8271 11.7692ZM91.5156 18.6315C92.2114 18.6307 92.7749 18.3993 93.206 17.9374H93.2022C93.6334 17.4748 93.8501 16.8758 93.8525 16.1407C93.8609 15.6953 93.7596 15.2546 93.5576 14.8576C93.3721 14.4957 93.0893 14.1929 92.7407 13.9833C92.3688 13.7684 91.9449 13.6599 91.5156 13.6697C91.0926 13.6613 90.6755 13.7699 90.3101 13.9833C89.9618 14.1929 89.6787 14.4957 89.4932 14.8576C89.2918 15.2547 89.1909 15.6954 89.1995 16.1407C89.1897 16.5924 89.2904 17.0397 89.4932 17.4435C89.6791 17.8052 89.962 18.1079 90.3101 18.3177C90.6755 18.5312 91.0926 18.6397 91.5156 18.6315ZM100.895 11.5592H98.3883V20.7407H100.895V11.5592ZM100.194 9.98186C100.019 10.0523 99.8305 10.0849 99.6419 10.0774C99.455 10.083 99.2691 10.0495 99.096 9.97914C98.9227 9.90875 98.7664 9.803 98.6363 9.66863C98.3798 9.39413 98.2373 9.03239 98.2373 8.65663C98.2373 8.28086 98.3798 7.91912 98.6363 7.64465C98.9046 7.37656 99.2683 7.22598 99.6474 7.22598C100.027 7.22598 100.39 7.37656 100.659 7.64465C100.91 7.92192 101.048 8.28259 101.048 8.65663C101.048 9.03066 100.91 9.39135 100.659 9.66863C100.528 9.80467 100.369 9.9114 100.194 9.98186Z",fill:"currentColor"})})})}},55677:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(52322),i=n(92599),o=n(92488),s=n(61676),a=n(2784);function l(e){let{className:t,onClick:n,enableClick:l,referrer:c,size:u="md",cta:d}=e,h=(0,a.useCallback)(e=>{l&&(n?n():l&&(e.preventDefault(),e.stopPropagation(),o.Um.value={referrer:c||"unknown",trigger:"cai_plus_upsell"}))},[l,n,c]),p={sm:{classes:"px-[3.5px] pt-[3.5px] pb-[4.5px] rounded-[4px] h-[16px] w-auto",icon:(0,r.jsx)(i.ARX,{})},md:{classes:"px-[4px] pt-[4.5px] pb-[5.5px] rounded-[5px] h-[20px] w-auto",icon:(0,r.jsx)(i.KLH,{})},lg:{classes:"px-[6px] pt-[5.5px] pb-[6.5px] rounded-[6px] h-[24px] w-auto",icon:(0,r.jsx)(i.dPJ,{})},cta:{classes:"px-[6px] py-[5px] rounded-[6px] h-[24px] w-auto",icon:(0,r.jsx)(i.KLH,{})}},f=d?p.cta:p[u];return(0,r.jsx)("div",{onClick:h,className:(0,s.cn)(f.classes,t,{"cursor-pointer":l,"cai-plus-gradient":!0}),children:f.icon})}},92197:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var r=n(52322),i=n(50090),o=n(61676),s=n(55264),a=n(10386);function l(e){let{author:t,clickable:n=!0,createdBy:l=!0,className:c="",link:u=!0}=e,{t:d}=(0,a.$G)(),h=l?d("Character.by-username",{username:t}):"@".concat(t);return(0,r.jsx)("div",{className:(0,o.cn)("text-muted-foreground font-normal text-sm truncate",c),children:n&&u?(0,r.jsx)(i.Z,{href:s.nN.profile(t),className:"hover:text-foreground",analytics:{name:"pageViewed",properties:{page_name:"Profile",referrer:"CreatorLink",author:t}},children:h}):h})}},16994:function(e,t,n){"use strict";n.d(t,{m:function(){return m},o:function(){return f}});var r=n(52322),i=n(48364),o=n(93326),s=n(15030),a=n(97812),l=n(38617),c=n(5632),u=n(2784),d=n(59131),h=n(92599);let p=e=>{let{refresh:t,isTransient:n,className:i}=e,{t:s}=(0,d.$G)(),a=(0,c.useRouter)();return n?(0,r.jsx)(o.zx,{onPress:t,className:i,children:s("Common.retry")}):(0,r.jsxs)(o.zx,{onPress:()=>a.back(),className:i,children:[(0,r.jsx)(h.xCe,{})," ",s("Common.back")]})};function f(e){let{refresh:t,text:n,isTransient:o=!1,disableErrorLogging:s=!1,children:a}=e,{t:l}=(0,d.$G)();return(0,u.useEffect)(()=>{s||(0,i.H)("An error has occurred",{error:{referrer:"ErrorView",text:n,isTransient:o}})},[s,o,n]),(0,r.jsxs)("div",{className:"flex flex-col p-4 gap-2 items-center justify-center",children:[(0,r.jsx)("div",{children:null!=n?n:l("Error.something-went-wrong")}),!!o&&(0,r.jsx)("div",{children:l("Error.please-try-again")}),(0,r.jsx)(p,{className:"mt-2",isTransient:null!=o&&o,refresh:t}),a]})}function m(){let e=(0,c.useRouter)();return(0,r.jsx)(l.f,{attribute:"class",defaultTheme:"system",disableTransitionOnChange:!0,enableSystem:!0,enableColorScheme:!0,children:(0,r.jsxs)("div",{className:"h-dvh flex flex-col p-4 justify-center items-center",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(a.T,{})}),(0,r.jsx)(f,{isTransient:!0,disableErrorLogging:!0,refresh:()=>{e.reload()}}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)(d.cC,{i18nKey:"Error.join-the-conversation",children:["In the meantime, you can join our"," ",(0,r.jsx)("a",{href:s.Ew.discordServer,target:"_blank",className:"underline",children:"Discord server"}),(0,r.jsx)("br",{}),"or",(0,r.jsx)("a",{href:s.Ew.status,target:"_blank",className:"underline",children:"view the status"})," ","of our services."]})})]})})}},35505:function(e,t,n){"use strict";n.d(t,{$:function(){return R},U:function(){return A}});var r,i,o=n(52322),s=n(21236),a=n(50567),l=n(93326),c=n(50090),u=n(92599),d=n(83614),h=n(65239),p=n(57352),f=n(31396),m=n(2784),g=n(10386);let v=e=>"desktopInProductSurvey:".concat(e),y=()=>{let{t:e}=(0,g.$G)(),{isOpen:t,surveyURL:n,surveyTitle:r,surveyBody:i,surveyStart:y,surveyThankYou:b,dismiss:w}=function(){let[e,t]=(0,m.useState)(!1),[n,r]=(0,m.useState)(!1),i=(0,d.useDynamicConfig)(a.Lo.InProductSurvey),o=i.get("surveyURL",""),s=i.get("surveyTitle",""),l=i.get("surveyBody",""),c=i.get("surveyStart",""),u=i.get("surveyThankYou","");(0,m.useEffect)(()=>{o&&t("dismissed"===localStorage.getItem(v(o)))},[o]);let h=()=>{o&&(localStorage.setItem(v(o),"dismissed"),r(!1),t(!0))};return(0,m.useEffect)(()=>{if(o&&!e){r(!0);return}r(!1)},[o,e,n]),(0,m.useEffect)(()=>()=>{h()},[]),{isOpen:n,surveyURL:o,surveyTitle:s,surveyBody:l,surveyStart:c,surveyThankYou:u,dismiss:h}}(),[_,C]=(0,m.useState)(!1);return(0,o.jsx)("div",{className:"fixed bottom-unit-2xl right-unit-md z-10",children:(0,o.jsx)(h.M,{children:!!t&&!!n&&(0,o.jsxs)(p.E.div,{className:"relative w-unit-6xl hidden lg:flex z-50 origin-bottom-right min-w-32 text-popover-foreground flex-col overflow-hidden bg-surface-elevation-1 rounded-spacing-s shadow-md p-unit-md border border-surface-elevation-2",initial:{opacity:0,rotate:45},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:45},transition:{duration:.25},children:[(0,o.jsx)("div",{className:"text-sm text-muted-foreground pb-unit-sm",children:(0,o.jsx)(u.PQg,{className:"h-unit-lg w-unit-lg"})}),(0,o.jsx)("div",{className:"",children:r||e("Survey.title")}),(0,o.jsx)("p",{className:"text-md text-muted-foreground pb-unit-sm",children:i||e("Survey.body")}),(0,o.jsx)("div",{children:_?(0,o.jsx)(l.zx,{onPress:()=>{w()},children:b||e("Survey.thank-you")}):(0,o.jsx)(l.zx,{as:c.Z,href:n,target:"_blank",onPress:()=>{if(C(!0),s.iN.surveyStart(),n){var e;null===(e=window.open(n,"_blank","noopener,noreferrer"))||void 0===e||e.focus()}},children:y||e("Survey.start-survey")})}),(0,o.jsxs)("button",{type:"button",onClick:()=>{w(),s.iN.surveyDismissed()},className:"absolute top-0 right-0 p-unit-md rounded-sm opacity-70 transition-opacity text-muted-foreground hover:opacity-100 focus:outline-none disabled:pointer-events-none",children:[(0,o.jsx)(f.Z,{className:"h-4 w-4"}),(0,o.jsx)("span",{className:"sr-only",children:e("Common.close")})]})]},"survey-modal")})})};var b=n(73210),w=n(35740),_=n(9441),C=n(34318),x=n(15030),k=n(61676),S=n(21805),E=n(96577),T=n.n(E),P=n(76330);(r=i||(i={})).PROD="prod",r.CANARY="canary";let I=()=>{let{debugInfo:e}=function(){let e=(0,_.E)(),{data:t}=C.h.staff.debugInfo.useQuery(void 0,{cacheTime:x.yV,staleTime:x.yV,refetchInterval:x.yV,enabled:e});return{debugInfo:null!=t?t:null}}();return null==e||(null==e?void 0:e.IS_CF_PAGES)===!1?null:(0,o.jsxs)("div",{className:"m-2 text-md",children:[(0,o.jsxs)("div",{children:["Git Sha: ",e.GIT_SHA]}),(0,o.jsxs)("div",{children:["Git Branch: ",e.GIT_BRANCH]}),(0,o.jsxs)("div",{children:["Pages URL: ",e.PAGES_URL]})]})};function R(e){let{className:t}=e,{t:n}=(0,g.$G)(),{user:r}=(0,w.a)(),i=[{label:n("Common.about"),href:x.Ew.about},{label:n("Sitemap.characters"),href:x.Hb.charactersSitemap},{label:n("ExternalLinks.careers"),href:x.Hb.joinUs},{label:n("ExternalLinks.safety-center"),href:x.Hb.safety},{label:n("Guide.blog"),href:x.Ew.blog},{label:n("Guide.research"),href:x.Ew.research}],s=[{label:n("Help.privacy-policy"),href:x.Hb.privacyPolicy},{label:n("Help.terms-of-service"),href:x.Hb.tos}];return(0,o.jsxs)("nav",{className:(0,k.cn)("static mb-6",t),children:[(0,o.jsx)("div",{className:"flex w-full justify-center flex-row flex-wrap text-muted-foreground mb-2",children:i.map(e=>(0,o.jsx)(c.Z,{href:e.href,className:"flex items-center hover:text-foreground px-4 py-2",analytics:{name:"linkOpened",properties:{link:e,referrer:"footer",type:"footer_links"}},children:(0,o.jsx)("h1",{children:e.label})},e.label))}),!r&&(0,o.jsx)("div",{className:"flex justify-center w-full mb-2",children:s.map(e=>(0,o.jsx)(c.Z,{href:e.href,target:"_blank",className:"flex items-center hover:text-foreground text-sm text-muted-foreground p-2",analytics:{name:"linkOpened",properties:{link:e,referrer:"footer",type:"legal"}},children:e.label},e.label))}),(0,o.jsx)(A,{className:"right-3 sm:bottom-4 bottom-16 absolute z-50"}),(0,o.jsx)(y,{})]})}let O=e=>{let{webDeployment:t}=e;return"prod"===t?(0,o.jsx)("div",{className:"w-6 h-6 font-bold flex items-center justify-center",children:"?"}):(0,o.jsx)(P.G7_,{className:"size-6"})},A=e=>{let{className:t}=e,{t:n}=(0,g.$G)(),[r,i]=(0,m.useState)(!1),[s,a]=(0,m.useState)("prod");(0,m.useEffect)(()=>{let e=S.Z.get(x.PJ);e&&a(e)},[]);let d=[{label:n("ExternalLinks.character-guide"),href:x.Ew.characterGuide,icon:(0,o.jsx)(u.vJ3,{height:"1.25em",className:"text-muted-foreground"})},{label:n("Help.about-us"),href:x.Ew.about,icon:(0,o.jsx)(u.F3p,{height:"1.25em",className:"text-muted-foreground"})},{label:n("ExternalLinks.support"),href:x.Ew.support,icon:(0,o.jsx)(u.$EJ,{height:"1.25em",className:"text-muted-foreground"})},{label:n("ExternalLinks.safety-center"),href:x.Hb.safety,icon:(0,o.jsx)(P.eL2,{size:"1.25em",className:"text-muted-foreground p-px"})}];return(0,o.jsxs)(b.h_,{open:r,onOpenChange:i,children:[(0,o.jsx)(b.$F,{className:(0,k.cn)(t),asChild:!0,children:(0,o.jsx)(l.zx,{className:"rounded-full bg-surface-elevation-2 h-fit min-w-fit w-fit p-2",disableRipple:!0,onPress:()=>i(!r),isIconOnly:!0,variant:"ghost",children:r?(0,o.jsx)("div",{className:"w-6 h-6 font-bold flex items-center justify-center",children:(0,o.jsx)(u.Two,{className:"size-3"})}):(0,o.jsx)(O,{webDeployment:s})})}),(0,o.jsxs)(b.AW,{align:"end",className:"w-48 absolute right-0 bottom-12 tracking-wide bg-surface-elevation-2",children:[(0,o.jsx)(I,{}),d.map(e=>(0,o.jsx)(b.Xi,{className:"cursor-pointer rounded-spacing-s bg-surface-elevation-2",children:(0,o.jsxs)(c.Z,{href:e.href,target:"_blank",className:"justify-start items-center gap-3 flex w-full text-md p-2",analytics:{name:"linkOpened",properties:{link:e,referrer:"footer",type:"help"}},children:[e.icon,e.label]})},e.label)),(0,o.jsx)(b.Xi,{className:"cursor-pointer rounded-spacing-s  bg-surface-elevation-2",children:(0,o.jsxs)(c.Z,{href:x.Hb.privacyChoices,target:"_blank",className:"justify-start items-center gap-3 flex w-full text-sm text-muted-foreground p-2",analytics:{name:"linkOpened",properties:{link:x.Hb.privacyChoices,referrer:"footer",type:"privacy"}},children:[n("Help.your-privacy-choices"),(0,o.jsx)(T(),{alt:"ccpa",src:"https://characterai.io/ccpa-icon.png",width:25,height:14})]})})]})]})}},9010:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(52322),i=n(61676);function o(e){let{size:t,className:n=""}=e;return(0,r.jsx)("span",{className:(0,i.cn)("loader border-r-2 border-t-2 border-r-transparent border-t-foreground ",n),style:{width:t,height:t}})}},77009:function(e,t,n){"use strict";n.d(t,{k:function(){return u}});var r=n(52322),i=n(61676),o=n(55264),s=n(2784),a=n(10386),l=n(92599);let c=e=>{let{type:t,className:n,size:i,filled:o}=e,s={width:i,height:i,className:n};return"currency"===t?(0,r.jsx)(l.r7p,{...s}):"interactions"===t||"chats"===t?o?(0,r.jsx)(l.qKI,{...s}):(0,r.jsx)(l.kBi,{...s}):o?(0,r.jsx)(l.eLy,{...s}):(0,r.jsx)(l.lbB,{...s})},u=e=>{let{num:t,type:n,capitalized:l,iconProps:u,withPrecedingDot:d,textClassname:h,omitQuantifier:p}=e,{t:f}=(0,a.$G)(),m=(0,s.useMemo)(()=>{if(p)return o.Wj.formatNumber(t);if("currency"===n)return"".concat(t," Currency");let e="";switch(n){case"chats":e="chats";break;case"upvotes":e="likes";break;default:e="interactions"}return l?f("Common.".concat(e),{count:t,formattedCount:o.Wj.formatNumber(t)}):f("Common.num-".concat(e),{count:t,num:o.Wj.formatNumber(t)})},[t,l,n,f,p]);return(0,r.jsxs)(r.Fragment,{children:[!!d&&(0,r.jsx)("p",{children:""}),!!u&&(0,r.jsx)(c,{type:n,...u}),(0,r.jsx)("p",{className:(0,i.cn)("text-sm sm:text-md whitespace-nowrap",h),children:m})]})}},8066:function(e,t,n){"use strict";n.d(t,{ZP:function(){return I},_D:function(){return E}});var r=n(52322),i=n(21236),o=n(27714),s=n(92599),a=n(93326),l=n(89363),c=n(46962),u=n(92488),d=n(61676),h=n(15030),p=n(96445),f=n(88883),m=n(5632),g=n(63955),v=n(10386),y=n(15584),b=n(30195),w=n(54972),_=n(39452),C=n(92304),x=n(46272),k=n(9010);let S="PromoteEmailSigninExperiment",E=e=>{let{sentEmail:t,handleContinue:n,continueAlwaysShown:l,largeButton:c,referrer:u}=e,{t:y}=(0,v.$G)(),x=(0,m.useRouter)(),k=b.z.object({email:b.z.string().max(320).email(y("Error.enter-valid-email"))}),E=(0,g.cI)({resolver:(0,f.F)(k),mode:"onSubmit",defaultValues:{email:""},disabled:t}),T=E.watch(),P=async e=>{var r,i;let o=await E.trigger(Object.keys(null!==(i=E.formState.defaultValues)&&void 0!==i?i:{}));!t&&o&&(null===(r=localStorage)||void 0===r||r.setItem(h.pT,x.asPath),await n(e.email))},I=l&&(!u||u!==S);return(0,r.jsx)(_.l0,{...E,children:(0,r.jsxs)("form",{onSubmit:E.handleSubmit(P),className:"flex flex-col gap-2",children:[(0,r.jsx)("div",{className:"flex flex-col",children:(0,r.jsxs)("div",{className:"flex items-center border-spacing-1 border-1 border-surface-elevation-3 rounded-lg px-4",children:[(0,r.jsx)(s.LQS,{}),(0,r.jsx)(g.Qr,{name:"email",control:E.control,render:e=>{let{field:t}=e;return(0,r.jsx)(w.C,{...t,type:"email",className:"bg-transparent border-none w-full h-14",checks:(0,_.XF)(k,"email"),errorClassname:"-mt-4 mb-1",autoFocus:I,onFocus:()=>i.iN.authStarted({provider:"email",extra:"on-focus",referrer:null!=u?u:"SignInButtons"})})}})]})}),!!(T.email||t||l)&&(0,r.jsxs)(o.a2,{className:"w-full",children:[(0,r.jsx)(a.zx,{type:"submit",className:(0,d.cn)("w-full",{"h-[50px]":c}),isDisabled:!T.email||t||(0,p.Z)(),children:y("Common.continue")}),(0,r.jsx)(C._,{className:(0,d.cn)("w-full flex justify-center mt-2",t?"":"hidden"),children:y("Common.one-moment-please")})]})]})})},T=e=>{let{onPressGoogle:t,onPressApple:n}=e,{t:i}=(0,v.$G)(),o=(0,p.Z)(),u=(0,c.G)(),h=(0,d.cn)("rounded-2xl py-[5px] h-[50px] items-center bg-button-filled text-lg"),{sentEmail:f,handleContinue:m}=(0,l._w)(S);return(0,r.jsxs)("div",{className:(0,d.cn)("flex flex-col space-y-2 gap-1 w-full"),tabIndex:0,children:[(0,r.jsx)(E,{handleContinue:m,sentEmail:f,continueAlwaysShown:!0,largeButton:!0,referrer:S}),(0,r.jsx)(x.Z,{className:"text-muted-foreground font-thin text-sm",children:i("Common.or")}),(0,r.jsx)(a.zx,{onPress:t,isDisabled:o,className:h,children:(0,r.jsxs)("div",{className:"flex justify-between w-full items-center",children:[(0,r.jsx)(s._8Z,{height:"1.5em"}),(0,r.jsx)("div",{className:"w-full flex-1",children:i("Auth.continue-with",{provider:"Google"})})]})}),(0,r.jsx)(a.zx,{isDisabled:o,onPress:n,className:h,children:(0,r.jsxs)("div",{className:"flex justify-between w-full items-center",children:[(0,r.jsx)(s.qwG,{height:"1.5em",fill:u?"black":"white"}),(0,r.jsx)("div",{className:"w-full flex-1",children:i("Auth.continue-with",{provider:"Apple"})})]})})]})},P=e=>{let{onPressGoogle:t,onPressApple:n,onPressEmailContinue:i}=e,{t:o}=(0,v.$G)(),l=(0,p.Z)(),h=(0,c.G)(),f=(0,y.BF)(u.MX),m=(0,y.BF)(u.f8),g=(0,d.cn)("rounded-2xl py-[5px] h-[50px] items-center bg-button-filled text-lg");return(0,r.jsxs)("div",{className:(0,d.cn)("flex flex-col space-y-2 gap-1 w-full"),tabIndex:0,children:[(0,r.jsx)(a.zx,{onPress:t,isDisabled:l,className:g,children:(0,r.jsxs)("div",{className:"flex justify-between w-full items-center",children:[(0,r.jsx)(s._8Z,{height:"1.5em"}),(0,r.jsx)("div",{className:"w-full flex-1",children:o("Auth.continue-with",{provider:"Google"})})]})}),(0,r.jsx)(a.zx,{isDisabled:l,onPress:n,className:g,children:(0,r.jsxs)("div",{className:"flex justify-between w-full items-center",children:[(0,r.jsx)(s.qwG,{height:"1.5em",fill:h?"black":"white"}),(0,r.jsx)("div",{className:"w-full flex-1",children:o("Auth.continue-with",{provider:"Apple"})})]})}),!(f&&"signin"!==m)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{className:"text-muted-foreground font-thin text-sm",children:o("Common.or")}),(0,r.jsx)(a.zx,{variant:"ghost",onPress:i,className:"text-link rounded-2xl py-[5px] items-center",children:o("Auth.continue-with-email")})]})]})};function I(e){let{onPressEmailContinue:t,variant:n}=e,i=(0,y.BF)(u.n_),{onPressApple:o,onPressGoogle:s}=(0,l._w)("signup-consolidation-experiment"===n?S:void 0);return i?(0,r.jsx)(k.$,{}):"signup-consolidation-experiment"===n?(0,r.jsx)(T,{onPressGoogle:s,onPressApple:o}):(0,r.jsx)(P,{onPressGoogle:s,onPressApple:o,onPressEmailContinue:t})}},31001:function(e,t,n){"use strict";n.d(t,{Nh:function(){return i},w3:function(){return o}});var r=n(52322);let i=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_3610_3218)",children:[(0,r.jsx)("path",{d:"M6.4 4.8002L3.2 8.0002L6.4 11.2002",stroke:"#A2A2AC",strokeWidth:"1.28",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M12.4 4.8002L9.19999 8.0002L12.4 11.2002",stroke:"#A2A2AC",strokeWidth:"1.28",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_3610_3218",children:(0,r.jsx)("rect",{width:"16",height:"16",fill:"white",transform:"matrix(-1 0 0 -1 16 16)"})})})]}),o=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",...e,children:(0,r.jsx)("path",{d:"M13.4232 6L8.56131 10.8619C8.30096 11.1223 7.87885 11.1223 7.6185 10.8619L2.75656 6",stroke:"#A2A2AC",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},16671:function(e,t,n){"use strict";n.d(t,{t:function(){return R},Q:function(){return O}});var r=n(52322),i=n(21236),o=n(50567),s=n(55677),a=n(31001),l=n(92599),c=n(93326),u=n(50090),d=n(35740),h=n(92488),p=n(61676),f=n(34318),m=n(55264),g=n(39097),v=n.n(g),y=n(5632),b=n(2784),w=n(10386),_=n(85256),C=n(72539),x=n(73210);function k(e){let{name:t,avatarFilename:n,username:i,isPlusUser:c,menuOpen:d,setMenuOpen:g,handleLogout:v,handleLogoutClick:_}=e,{t:k}=(0,w.$G)(),S=()=>g(!1),E=i===t,{config:{enabled:T}}=(0,o.EY)(o.F5.IncentivizedInvites),P=(0,y.useRouter)(),{mutateAsync:I}=f.h.social.createInviteForLoggedInUser.useMutation(),R=(0,b.useCallback)(async()=>{var e,t;let n=await I({});P.push(m.nN.invite(null!==(t=null==n?void 0:null===(e=n.invite)||void 0===e?void 0:e.code)&&void 0!==t?t:""))},[I,P]);return(0,r.jsxs)(x.h_,{open:d,onOpenChange:g,children:[(0,r.jsx)(x.$F,{className:"rounded-spacing-xs h-full w-full py-2 px-2 flex-start hover:bg-accent outline-none",children:(0,r.jsxs)("div",{className:"flex w-full items-center gap-1 overflow-hidden",children:[(0,r.jsx)("div",{className:"w-[36px] h-[36px] flex items-center justify-center",children:(0,r.jsx)(C.a,{name:t||"",size:36,src:n,rounded:!0})}),(0,r.jsxs)("div",{className:"text-sm flex flex-auto flex-col justify-center text-left ml-1 w-full",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-1 items-center overflow-hidden w-full",children:[(0,r.jsx)("p",{className:"line-clamp-1 text-ellipsis break-anywhere overflow-hidden whitespace-normal",children:t}),!!c&&(0,r.jsx)(s.s,{})]}),!E&&(0,r.jsxs)("p",{className:(0,p.cn)("line-clamp-1 text-ellipsis break-anywhere overflow-hidden whitespace-normal text-sm",{"text-muted-foreground":!E}),children:["@",i]})]}),(0,r.jsx)(a.w3,{})]})}),(0,r.jsxs)(x.AW,{align:"end",className:"w-64",children:[(0,r.jsx)(x.Xi,{className:"cursor-pointer rounded-spacing-s",onClick:S,children:(0,r.jsxs)(u.Z,{href:m.nN.profile(null!=i?i:""),className:"justify-between flex w-full px-4 py-2 text-md",analytics:{name:"pageViewed",properties:{page_name:"Profile",referrer:"UserMenu"}},children:[k("User.profile"),(0,r.jsx)(l.$IO,{height:"1.5em"})]})}),(0,r.jsx)(x.Xi,{className:"cursor-pointer rounded-spacing-s",onClick:S,children:(0,r.jsxs)("div",{className:"justify-between flex w-full px-4 py-2 text-md",onClick:()=>{h.bB.value=!0},children:[k("Common.settings"),(0,r.jsx)(l.ewm,{height:"1.5em"})]})}),!!T&&(0,r.jsx)(x.Xi,{className:"cursor-pointer rounded-spacing-s",onClick:S,children:(0,r.jsxs)("div",{className:"justify-between flex w-full px-4 py-2 text-md",onClick:R,children:[k("User.invite"),(0,r.jsx)(l.aAc,{height:"1.5em"})]})}),(0,r.jsx)(x.Xi,{className:"cursor-pointer rounded-spacing-s",onClick:v,children:(0,r.jsxs)("a",{href:"#",className:"justify-between flex w-full px-4 py-2 text-md",onClick:_,children:[k("Common.logout"),(0,r.jsx)(l.R0g,{height:"1.5em"})]})})]})]})}function S(){var e,t,n;let{user:o,isPlusUser:s}=(0,d.a)(),[a,l]=(0,b.useState)(!1),u=f.h.auth.logout.useMutation();if(!o)return(0,r.jsx)(v(),{href:"/api/auth/login",children:(0,r.jsx)(c.zx,{className:"rounded-none",color:"secondary",children:(0,r.jsx)(_.Vyx,{})})});let h=async()=>{await u.mutateAsync(),setTimeout(()=>{window.location.href="/"},100)};return(0,r.jsx)(k,{menuOpen:a,setMenuOpen:l,name:o.name,avatarFilename:null===(t=o.user)||void 0===t?void 0:null===(e=t.account)||void 0===e?void 0:e.avatar_file_name,username:null===(n=o.user)||void 0===n?void 0:n.username,isPlusUser:s,handleLogout:h,handleLogoutClick:e=>{e.preventDefault(),i.iN.logout({referrer:"UserMenu"})}})}function E(){let{t:e}=(0,w.$G)(),{isPlusUser:t}=(0,d.a)();return t?null:(0,r.jsx)("div",{className:"flex flex-col gap-3 py-3",children:(0,r.jsxs)(c.zx,{variant:"outline",onPress:()=>{h.Um.value={referrer:"Home"}},className:"bold flex w-full items-center justify-center gap-1 bg-background py-3 hover hover:bg-primary-foreground",children:[e("Subscription.upgrade-to"),(0,r.jsxs)("span",{className:"flex items-center font-medium rounded-spacing-xs p-0 text-light bg-transparent",children:["c.ai",(0,r.jsx)("span",{className:"text-plus font-bold",children:"+"})]})]})})}var T=n(46272),P=n(15030);function I(){let{t:e}=(0,w.$G)();return(0,r.jsxs)("div",{className:"flex justify-center flex-wrap items-center w-full text-sm text-muted-foreground pt-5 pb-3",children:[(0,r.jsx)(u.Z,{href:P.Hb.privacyPolicy,target:"_blank",className:"flex items-center hover:text-foreground",analytics:{name:"linkOpened",properties:{link:P.Hb.privacyPolicy,referrer:"GuideLowerContent",type:"legal"}},children:e("Help.privacy-policy")}),(0,r.jsx)("span",{className:"text-muted-foreground px-2",children:""}),(0,r.jsx)(u.Z,{href:P.Hb.tos,target:"_blank",className:"flex items-center hover:text-foreground",analytics:{name:"linkOpened",properties:{link:P.Hb.tos,referrer:"GuideLowerContent",type:"legal"}},children:e("Help.terms-of-service")})]})}function R(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I,{}),(0,r.jsx)(T.Z,{className:"mb-3"}),(0,r.jsx)(E,{}),(0,r.jsx)(S,{})]})}function O(e){let{type:t,copyOverride:n,onButtonPress:o}=e,{t:s}=(0,w.$G)(),a=s("Common.".concat("signin"===t?"sign-in":"sign-up")),l=null!=o?o:()=>{i.iN.modalOpened({referrer:"GuideLowerContentSignedOut",type:"SignInDialog",value:t}),h.Ib.value=!0,h.f8.value=t};return(0,r.jsx)(c.zx,{variant:"signin"===t?"outline":"primary",onPress:l,children:null!=n?n:a})}},35206:function(e,t,n){"use strict";n.d(t,{o:function(){return ee}});var r={};n.r(r),n.d(r,{RadioGroup:function(){return M},Q4:function(){return j},mJ:function(){return D}});var i=n(52322),o=n(48364),s=n(7896),a=n(2784),l=n(3758),c=n(46389),u=n(30017),d=n(81722),h=n(1775),p=n(64147),f=n(14354),m=n(56958),g=n(32578),v=n(1);let y="Radio",[b,w]=(0,u.b)(y),[_,C]=b(y),x=(0,a.forwardRef)((e,t)=>{let{__scopeRadio:n,name:r,checked:i=!1,required:o,disabled:u,value:h="on",onCheck:p,...f}=e,[m,g]=(0,a.useState)(null),v=(0,c.e)(t,e=>g(e)),y=(0,a.useRef)(!1),b=!m||!!m.closest("form");return(0,a.createElement)(_,{scope:n,checked:i,disabled:u},(0,a.createElement)(d.WV.button,(0,s.Z)({type:"button",role:"radio","aria-checked":i,"data-state":E(i),"data-disabled":u?"":void 0,disabled:u,value:h},f,{ref:v,onClick:(0,l.M)(e.onClick,e=>{i||null==p||p(),b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})),b&&(0,a.createElement)(S,{control:m,bubbles:!y.current,name:r,value:h,checked:i,required:o,disabled:u,style:{transform:"translateX(-100%)"}}))}),k=(0,a.forwardRef)((e,t)=>{let{__scopeRadio:n,forceMount:r,...i}=e,o=C("RadioIndicator",n);return(0,a.createElement)(v.z,{present:r||o.checked},(0,a.createElement)(d.WV.span,(0,s.Z)({"data-state":E(o.checked),"data-disabled":o.disabled?"":void 0},i,{ref:t})))}),S=e=>{let{control:t,checked:n,bubbles:r=!0,...i}=e,o=(0,a.useRef)(null),l=(0,g.D)(n),c=(0,m.t)(t);return(0,a.useEffect)(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==n&&t){let i=new Event("click",{bubbles:r});t.call(e,n),e.dispatchEvent(i)}},[l,n,r]),(0,a.createElement)("input",(0,s.Z)({type:"radio","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function E(e){return e?"checked":"unchecked"}let T=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],P="RadioGroup",[I,R]=(0,u.b)(P,[h.Pc,w]),O=(0,h.Pc)(),A=w(),[N,L]=I(P),M=(0,a.forwardRef)((e,t)=>{let{__scopeRadioGroup:n,name:r,defaultValue:i,value:o,required:l=!1,disabled:c=!1,orientation:u,dir:m,loop:g=!0,onValueChange:v,...y}=e,b=O(n),w=(0,f.gm)(m),[_,C]=(0,p.T)({prop:o,defaultProp:i,onChange:v});return(0,a.createElement)(N,{scope:n,name:r,required:l,disabled:c,value:_,onValueChange:C},(0,a.createElement)(h.fC,(0,s.Z)({asChild:!0},b,{orientation:u,dir:w,loop:g}),(0,a.createElement)(d.WV.div,(0,s.Z)({role:"radiogroup","aria-required":l,"aria-orientation":u,"data-disabled":c?"":void 0,dir:w},y,{ref:t}))))}),D=(0,a.forwardRef)((e,t)=>{let{__scopeRadioGroup:n,disabled:r,...i}=e,o=L("RadioGroupItem",n),u=o.disabled||r,d=O(n),p=A(n),f=(0,a.useRef)(null),m=(0,c.e)(t,f),g=o.value===i.value,v=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{let e=e=>{T.includes(e.key)&&(v.current=!0)},t=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,a.createElement)(h.ck,(0,s.Z)({asChild:!0},d,{focusable:!u,active:g}),(0,a.createElement)(x,(0,s.Z)({disabled:u,required:o.required,checked:g},p,i,{name:o.name,ref:m,onCheck:()=>o.onValueChange(i.value),onKeyDown:(0,l.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,l.M)(i.onFocus,()=>{var e;v.current&&(null===(e=f.current)||void 0===e||e.click())})})))}),j=(0,a.forwardRef)((e,t)=>{let{__scopeRadioGroup:n,...r}=e,i=A(n);return(0,a.createElement)(k,(0,s.Z)({},i,r,{ref:t}))});var U=n(61676),F=n(83156);let{RadioGroup:V}=r,B=a.forwardRef((e,t)=>{let{className:n,children:r,...o}=e;return(0,i.jsxs)(D,{ref:t,className:(0,U.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-start outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 group",n),...o,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center rounded-full border border-primary group-hover:bg-accent",children:(0,i.jsx)(j,{children:(0,i.jsx)(F.Z,{className:"h-2 w-2 fill-current"})})}),r]})});B.displayName=D.displayName;var z=n(93326),H=n(3927),q=n(92304),K=n(92014),G=n(2608),W=n(59887),$=n(92357),Z=n(61346),J=n(13789);let Y=()=>(0,J.Db)(async e=>{let{report:t,category:n,comment:r}=e,i=function(e,t,n){let r;switch(e.type){case"MESSAGE":{let i=e.turn,o=e.candidate;r={type:e.type,turn_create_time:Date.parse(i.create_time)/1e3,turn_key:{turn_id:i.turn_key.turn_id,chat_id:i.turn_key.chat_id},reported_resource_id:o.candidate_id,category:t,comments:n};break}case"ROOM":{let i=e.turn,o=e.candidate;i&&o?r={type:e.type,turn_create_time:Date.parse(i.create_time)/1e3,turn_key:{turn_id:i.turn_key.turn_id,chat_id:i.turn_key.chat_id},reported_resource_id:o.candidate_id,category:t,comments:n}:W.$G.logError("Trying to report a group chat without a turn and candidate",{extra:{report:e}});break}case"CHARACTER":{let i=e.character;r={type:e.type,reported_resource_id:i.external_id,category:t,comments:n};break}case"VOICE":{let i=e.voice_id;r={type:e.type,reported_resource_id:i,category:t,comments:n};break}case"USER":r={type:e.type,reported_resource_id:e.username,category:t,comments:n};break;case"IMAGE":r={type:e.type,reported_resource_id:e.imageUrl,reported_resource_url:e.imageUrl,category:t,comments:n};break;case"AVATAR_FX":r={type:e.type,reported_resource_id:e.reported_resource_id,reported_resource_url:e.reported_resource_url,category:t,comments:n};break;case"FEED_POST":r={type:e.type,reported_resource_id:e.reported_resource_id,category:t,comments:n};break;default:W.$G.logError("Invalid report type",{extra:{report:e}})}return r}(t,n,r);return i?await (0,$.od)().post("/report/create",i,{baseURL:(0,Z.tU)()}):Promise.reject("Invalid report data!")});var X=n(70393),Q=n(10386);function ee(e){let{isOpen:t,title:n,report:r,onComplete:s,...l}=e,{t:c}=(0,Q.$G)(),u=(0,a.useRef)(null),{mutate:d,isLoading:h}=Y(),[p,f]=(0,a.useState)(),[m,g]=(0,a.useState)("");return(0,a.useEffect)(()=>{t||(f(void 0),g(""))},[t]),(0,i.jsxs)(H.cZ,{className:"w-full sm:w-[480px]","aria-describedby":void 0,onOpenAutoFocus:e=>{var t;e.preventDefault(),null===(t=u.current)||void 0===t||t.focus()},...l,children:[(0,i.jsx)(H.fK,{children:(0,i.jsx)(H.$N,{children:n})}),(0,i.jsx)(V,{ref:u,className:"grid sm:grid-cols-2 h-56 overflow-y-scroll gap-y-1",value:p,onValueChange:e=>f(e),"aria-required":!0,children:Object.keys(X.c8).map(e=>(0,i.jsx)(B,{value:e,children:(0,i.jsx)(q._,{children:c("Moderation.report-categories.".concat(e.toLowerCase()))})},e))}),(0,i.jsx)(K.g,{className:"bg-transparent text-foreground mt-1",onChange:e=>g(e.target.value),value:m,autoFocus:!1,rows:2,label:c("Feedback.anything-else"),placeholder:c("Moderation.comment-placeholder")}),(0,i.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,i.jsx)(H.GG,{asChild:!0,children:(0,i.jsx)(z.zx,{color:"secondary",onPress:s,children:c("Common.cancel")})}),(0,i.jsx)(H.GG,{asChild:!0,children:(0,i.jsx)(z.zx,{onPress:()=>{p&&d({report:r,category:p,comment:m},{onSuccess:()=>{s(),(0,G.K)(c("Moderation.report-success"),void 0,"default")},onError:e=>{(0,G.K)(c("Moderation.report-failed"),void 0,"destructive"),(0,o.H)("Failed to create moderation report",{error:e})}})},isLoading:h,isDisabled:!p,children:c("Common.submit")})})]})]})}},72539:function(e,t,n){"use strict";n.d(t,{V:function(){return h},a:function(){return p}});var r=n(52322),i=n(55677),o=n(37344),s=n(3927),a=n(61676),l=n(55264),c=n(96577),u=n.n(c),d=n(2784);function h(e){return(0,r.jsxs)(s.Vq,{children:[(0,r.jsx)(s.hg,{children:(0,r.jsx)(p,{...e})}),(0,r.jsx)(s.cZ,{hideClose:!0,className:"bg-transparent outline-none border-none shadow-none",children:(0,r.jsx)(p,{...e,size:256})})]})}function p(e){let{name:t,src:n,size:s,style:c,animated:h=!1,priority:p=!1,isPlus:f=!1}=e,m=(0,d.useMemo)(()=>(0,l.yC)(t),[t]),g=new URL(l.Wj.getCDNImageSource(n,l.Wj.getCDNSize(s)));return h||g.searchParams.set("anim","0"),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o.qE,{title:t,className:(0,a.cn)("shrink-0 grow-0",{[m]:!n}),style:{width:s,height:s,...c},children:n?(0,r.jsx)(u(),{alt:t,className:"object-cover object-top amp-block",priority:p,src:g.href,fill:!0,unoptimized:!0}):(0,r.jsx)("div",{className:"flex justify-center items-center w-full font-bold opacity-90",style:{fontSize:.4*s},children:(null==t?void 0:t.length)>0?t.slice(0,1):""})}),!!f&&(0,r.jsx)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2",children:(0,r.jsx)(i.s,{size:"md"})})]})}},40022:function(e,t,n){"use strict";n.d(t,{Sc:function(){return i},HP:function(){return g},T4:function(){return v},Yr:function(){return f}});var r,i,o=n(21236),s=n(2784);let a=e=>{let{searchType:t,isLoading:n,searchResults:r,resultIdField:i,submittedSearchQuery:a,activeTab:l,referrer:c,uuid:u,source:d,searchMetadata:h}=e,p=t===l,f=(0,s.useRef)(u);(0,s.useEffect)(()=>{if(p&&a.length>0&&!n&&u&&f.current!==u){var e;f.current=u,o.iN.search({referrer:c,type:l,query:a,all_search_result_ids:null==r?void 0:r.map(e=>e[i]),uuid:u,source:d,tag_id:null==h?void 0:null===(e=h.tag)||void 0===e?void 0:e.id,sorted_by:null==h?void 0:h.sortedBy})}},[p,n,r,a,i,l,c,u,d,h])};var l=n(34318),c=n(84938);let u="RECENT_SEARCH_QUERIES",d=e=>{let[t,n]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{let t=await e.getData(u);t&&n(t)})()},[e]);let r=(0,s.useCallback)(t=>{let r=t.trim().toLowerCase();r&&n(t=>{let n=t.filter(e=>e.toLowerCase()!==r),i=[r,...n].slice(0,5);return e.storeData(u,i),i})},[e]),i=(0,s.useCallback)(r=>{let i=t.filter(e=>e.toLowerCase()!==r.toLowerCase().trim());n(i),e.storeData(u,i)},[t,e]);return{recentSearches:t,saveSearch:r,removeSearch:i,clearRecentSearches:(0,s.useCallback)(async()=>{n([]),await e.storeData(u,[])},[e])}};var h=n(53111);(r=i||(i={})).characters="characters",r.creators="creators",r.voices="voices";let p={getData:async e=>{let t=localStorage.getItem(e);return t?JSON.parse(t):null},storeData:async(e,t)=>{localStorage.setItem(e,JSON.stringify(t))}},f=()=>{let{recentSearches:e,removeSearch:t,saveSearch:n}=d(p);return{recentSearches:e,removeSearch:t,saveSearch:n}},m=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"characters",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"search_hook",o=arguments.length>4?arguments[4]:void 0,{data:s,isLoading:c,error:u,isError:d,refetch:h}=l.h.search.search.useQuery({searchQuery:e,tagId:null==o?void 0:null===(t=o.tag)||void 0===t?void 0:t.id,sortedBy:null==o?void 0:o.sortedBy},{enabled:"characters"===n&&!!e}),{data:p,isLoading:f,isError:m,error:g}=l.h.search.searchCreators.useQuery({searchQuery:e,sortedBy:null==o?void 0:o.sortedBy},{enabled:"creators"===n&&!!e});return(a({searchType:n,isLoading:"characters"===n?c:f,searchResults:"characters"===n?null==s?void 0:s.characters:null==p?void 0:p.creators,resultIdField:"characters"===n?"external_id":"username",submittedSearchQuery:e,activeTab:n,referrer:i,source:r,uuid:"characters"===n?null==s?void 0:s.uuid:null==p?void 0:p.uuid,searchMetadata:o}),"creators"===n)?{characterResults:[],creatorResults:null==p?void 0:p.creators,error:g,isLoading:f,isSearchError:!!m,uuid:null==p?void 0:p.uuid,refetchSearch:h}:{characterResults:null==s?void 0:s.characters,characterTags:null==s?void 0:s.tags,creatorResults:[],isLoading:c,error:u,isSearchError:!!d,uuid:null==s?void 0:s.uuid,refetchSearch:h,safetyFiltered:null==s?void 0:s.safetyFiltered}},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"characters",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"search_hook",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"manual",a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],[c,u]=(0,s.useState)(e),[d,p]=(0,s.useState)(e),[f,g]=(0,s.useState)(""),v=(0,h.Nr)(f,1e3);(0,s.useEffect)(()=>{t||p(v)},[v,t]);let{characterResults:y,creatorResults:b,isLoading:w,isSearchError:_,refetchSearch:C,error:x,uuid:k,characterTags:S,safetyFiltered:E}=m(d,n,o,r,a),T=()=>{p(""),g("")},P=e=>{e||t?g(e):T(),u(e)},I=!l||f.length>0?i.filter(e=>e.name.toLowerCase().includes(f.toLowerCase())):i,R=w&&(d.length>0||f.length>0&&!t);return{clearSearch:()=>{P("")},onChangeSearchText:P,searchQuery:c,showSearchError:!R&&_,recentResults:I,characterResults:y,creatorResults:b,isSearchLoading:R,submittedSearchQuery:d,error:x,refetchSearch:C,setSubmittedSearchQuery:p,uuid:k,characterTags:S,safetyFiltered:E}},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"search_hook",[r,i]=(0,s.useState)(e),[l,u]=(0,s.useState)(e),[d,p]=(0,s.useState)(""),f=(0,h.Nr)(d,1e3);(0,s.useEffect)(()=>{l&&o.iN.search({referrer:n,type:"voices",query:l})},[n,l]),(0,s.useEffect)(()=>{t||u(f)},[f,t]);let{searchResults:m,isLoading:g,isError:v,refetch:y,error:b}=(0,c.Vo)(l,l===e);a({searchType:"voices",isLoading:g,searchResults:m,resultIdField:"id",submittedSearchQuery:l,activeTab:"voices",referrer:n});let w=()=>{u(""),p("")},_=e=>{e||t?p(e):w(),i(e)},C=g&&(l.length>0||d.length>0&&!t);return{clearSearch:()=>{_("")},onChangeSearchText:_,searchQuery:r,showSearchError:!C&&v,searchResults:m,isSearchLoading:C,submittedSearchQuery:l,error:b,refetchSearch:y,setSubmittedSearchQuery:u}}},19459:function(e,t,n){"use strict";n.d(t,{d:function(){return F}});var r=n(52322),i=n(39452),o=n(35740),s=n(48364),a=n(34318),l=n(55264),c=n(2784),u=n(10386);let d=e=>{let{handleFieldUpdate:t}=e,{t:n}=(0,u.$G)(),[r,i]=(0,c.useState)(!1),[o,d]=(0,c.useState)(""),h=a.h.user.uploadAvatar.useMutation(),p=a.h.user.uploadGeneratedAvatar.useMutation(),f=async(e,r)=>{i(!0),d("");try{if("uploaded"===r){let n=await h.mutateAsync({imageDataUrl:e});await t(n)}else if("generated"===r){let n=await p.mutateAsync({imageDataUrl:e});await t(n)}}catch(e){d(n("Error.imageUploadFailed")),(0,s.H)("Failed to upload avatar image by url")}finally{i(!1)}},m=async e=>{let{file:t}=e;if(t){i(!0),d("");try{let e=await (0,l.vn)(t);await f(e,"uploaded")}catch(e){d(n("Error.imageUploadFailed")),(0,s.H)("Failed to upload avatar image by selected")}finally{i(!1)}}};return{isUploading:r,errorMessage:o,handleUploadedImageSelected:async e=>{var t;let{target:n}=e,r=null===(t=n.files)||void 0===t?void 0:t[0];if(r)return m({file:r})},handleGeneratedImageSelected:async e=>{e&&await f(e,"generated")},handleUploadedImageFileSelected:m}};var h=n(61676),p=n(63955),f=n(9010),m=n(72539),g=n(35981),v=n(92599),y=n(93326),b=n(21236),w=n(50567),_=n(38978),C=n(71245),x=n(70677),k=n(83614),S=n(31396),E=n(6364),T=n(96577),P=n.n(T),I=n(34581),R=(0,c.memo)(e=>{let{src:t,alt:n,width:i,height:o,retryDelay:s=1e3,maxRetries:a=15}=e,[l,u]=(0,c.useState)(!0),[d,p]=(0,c.useState)(t),f=(0,c.useRef)(0);return(0,r.jsxs)("span",{className:"gap-0 relative flex justify-center items-center",style:{width:i,height:o,minWidth:i},children:[!!l&&(0,r.jsx)(I.O,{className:"h-full w-full rounded-spacing-xs bg-background opacity-90 drastic-pulse"}),(0,r.jsx)(P(),{className:(0,h.cn)({"absolute top-0 left-0":l}),src:d,alt:n,width:l?0:i,height:l?0:o,onError:()=>{(null==f?void 0:f.current)<a?setTimeout(()=>{p("".concat(t,"?retry=").concat(f.current+1)),f.current+=1},s):u(!1)},onLoad:()=>u(!1)})]})},(e,t)=>e.src===t.src&&e.height===t.height&&e.width===t.width),O=n(3927),A=n(81364),N=n(2608);let L=e=>{let{referrer:t,open:n,setOpen:i,avatarOptions:o,setAvatarOptions:a,username:l,handleGeneratedImageSelected:d,handleCloseDropdown:f,placeholder:m,label:g}=e,{t:T}=(0,u.$G)(),[P,I]=(0,c.useState)(!1),[L,M]=(0,c.useState)(-1),{mutate:D,isLoading:j}=(0,_.kI)(),{mutate:U,isLoading:F}=(0,C.I)(),[V,B]=(0,c.useState)(""),z=(0,p.Gc)(),H=(0,k.useStatsigClient)(),q=async()=>{(!z.getFieldState("name").isDirty||await z.trigger(["name"]))&&(i(!0),M(-1),b.iN.elementClicked({referrer:"AvatarFieldDropdown",type:"generate"}))},K=(0,c.useCallback)(()=>{let e=V?"custom":"autogenerated";if(M(-1),b.iN.elementClicked({type:"regenerate",avatarOptionType:e,referrer:"AvatarGenerationDialog"}),H.checkGate(w.F5.UseMasImageGen)){let n=(0,E.Z)(),r=null!=V?V:"profile picture for ".concat(null!=l?l:"fictional character");U({prompt:r,imageSize:x.jh.Square,numImages:4,context_id:n},{onSuccess:n=>{I(!1),a(n.map(t=>({url:t,type:e}))),b.iN.contentViewed({type:e,value:n,referrer:t})},onError:e=>{I(!0),(0,s.H)("Failed to generate avatar options from MAS",{error:e,extra:{prompt:r,context_id:n}}),(0,N.K)(T("Common.generic-error"),void 0,"destructive")}})}else{let n=V?{prompt:V,num_candidates:4,model_version:"v1"}:{name:l||"fictional character",num_candidates:4,model_version:"v1"};D(n,{onSuccess:n=>{I(!1),a(n.result.map(t=>({...t,type:e}))),b.iN.contentViewed({type:e,value:n.result,referrer:t})},onError:e=>{I(!0),(0,s.H)("Failed to generate avatar options",{error:e,extra:n}),(0,N.K)(T("Common.generic-error"),void 0,"destructive")}})}},[V,H,l,U,a,t,T,D]),G=async()=>{f();let e=o[L];await d(e.url),b.iN.elementClicked({referrer:t,option:e}),B(""),i(!1)};return(0,r.jsxs)(O.Vq,{open:n,onOpenChange:i,analyticsProps:{referrer:"AvatarFieldDropdown",type:"AvatarGenerationDialog"},children:[(0,r.jsx)(O.hg,{children:(0,r.jsx)(y.zx,{variant:"ghost",className:"w-full flex flex-row justify-between rounded-spacing-xs hover:bg-[--transparency-4]",onPress:q,endContent:(0,r.jsx)(v.m26,{width:"1rem",height:"1rem"}),children:T("CharacterEditor.Form.GenerateAvatar.generate-image")})}),(0,r.jsxs)(O.cZ,{className:"w-full sm:w-[600px] p-4",hideClose:!0,children:[(0,r.jsxs)("div",{className:"w-full flex flex-row justify-between",children:[(0,r.jsx)("p",{children:T("CharacterEditor.Form.GenerateAvatar.generate-image")}),(0,r.jsxs)(O.GG,{children:[(0,r.jsx)(S.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:T("Common.close")})]})]}),(0,r.jsx)("div",{className:"w-full flex flex-row justify-center",children:P?(0,r.jsx)("p",{children:T("Common.generic-error")}):(0,r.jsx)("div",{className:"w-fit grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-2 place-items-center auto-cols-max",children:o.map((e,t)=>(0,r.jsx)(y.zx,{variant:"ghost",onPress:()=>M(t),className:(0,h.cn)("h-fit w-fit p-0 rounded-spacing-xs border-2 border-muted",{"border-primary":t===L}),analytics:{name:"elementClicked",properties:{type:"select",value:{...e,index:t},referrer:"AvatarGenerationDialog"}},children:(0,r.jsx)(R,{src:e.url,alt:"".concat(l," ").concat(t),width:132,height:132,retryDelay:1e3,maxRetries:15})},e.url))})}),(0,r.jsx)(A.I,{className:"bg-surface-elevation-2",value:V,onChange:e=>B(e.target.value),label:null!=g?g:T("CharacterEditor.Form.GenerateAvatar.describe-character"),placeholder:null!=m?m:l?T("CharacterEditor.Form.GenerateAvatar.what-does-character-name-look-like",{name:l}):T("CharacterEditor.Form.GenerateAvatar.what-does-your-character-look-like"),maxLength:500}),(0,r.jsxs)("div",{className:"w-full flex flex-row justify-between",children:[(0,r.jsx)(y.zx,{variant:"ghost",isLoading:j||F,onPress:K,endContent:(0,r.jsx)(v.uuU,{height:"16px"}),children:T("Common.generate")}),(0,r.jsx)(y.zx,{variant:"primary",onPress:G,isDisabled:-1===L,children:T("Common.select")})]})]})]})},M=e=>{let[t,n]=(0,c.useState)(!1),[i,o]=(0,c.useState)([]);return(0,r.jsx)(L,{...e,open:t,setOpen:n,avatarOptions:i,setAvatarOptions:o})},D=e=>{let{handleUploadedImageSelected:t,fileInputRef:n,handleCloseDropdown:i}=e,{t:o}=(0,u.$G)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.zx,{variant:"ghost",className:"w-full flex flex-row justify-between rounded-spacing-xs hover:bg-[--transparency-4]",onPress:()=>{var e;null===(e=n.current)||void 0===e||e.click()},endContent:(0,r.jsx)(v.THf,{width:"1rem",height:"1rem"}),analytics:{name:"elementClicked",properties:{referrer:"AvatarFieldDropdown",type:"upload"}},children:o("CharacterEditor.Form.GenerateAvatar.upload-image")}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{i(),await t(e)},ref:n,className:"hidden"})]})},j=e=>{var t,n;let{referrer:i,fileInputRef:s,isUploading:a,errorMessage:l,open:c,setOpen:u,fieldValue:d,username:p,size:y,disabled:b,handleUploadedImageSelected:w,handleGeneratedImageSelected:_,generationPlaceholder:C,generationLabel:x}=e,k=()=>u(!1),{user:S}=(0,o.a)(),E=[{content:(0,r.jsx)(M,{referrer:i,username:p,handleGeneratedImageSelected:_,handleCloseDropdown:k,placeholder:C,label:x}),asChild:!0,key:"generate"},{content:(0,r.jsx)(D,{handleUploadedImageSelected:w,fileInputRef:s,handleCloseDropdown:k}),asChild:!0,key:"upload"}];return(0,r.jsxs)(g.C,{options:E,setIsOpen:u,isOpen:c,triggerClassName:"opacity-100",side:"right",disabled:b,children:[(0,r.jsx)("div",{className:(0,h.cn)("relative w-full h-full flex justify-center items-center",{"cursor-pointer":!b}),children:a?(0,r.jsx)("div",{className:"flex justify-center items-center p-3",style:{height:y,width:y},children:(0,r.jsx)(f.$,{size:y-16})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.a,{src:d||(null==S?void 0:null===(n=S.user)||void 0===n?void 0:null===(t=n.account)||void 0===t?void 0:t.avatar_file_name),name:p,size:y}),(0,r.jsx)("div",{className:"absolute -bottom-1 p-1.5 rounded-full -right-1 bg-surface-elevation-2",children:(0,r.jsx)(v.dY8,{height:"".concat(Math.floor(.25*y),"px")})})]})}),!!l&&(0,r.jsx)("div",{className:"text-sm text-error",children:l})]})},U=e=>{let{fieldName:t,fieldValue:n,username:i,disabled:o}=e,[s,a]=(0,c.useState)(!1),l=(0,p.Gc)(),u=(0,c.useRef)(null),{isUploading:h,errorMessage:f,handleUploadedImageSelected:m,handleGeneratedImageSelected:g}=d({handleFieldUpdate:async e=>{l.setValue(t,e,{shouldDirty:!0}),await l.trigger(t),u.current&&(u.current.value="")}});return(0,r.jsx)(j,{...e,fieldValue:n,username:i,disabled:o||h,open:s,setOpen:a,fileInputRef:u,isUploading:h,errorMessage:f,handleUploadedImageSelected:m,handleGeneratedImageSelected:g})};function F(e){let{referrer:t,name:n,username:o,size:s,generationLabel:a,generationPlaceholder:l}=e,c=null!=s?s:86;return(0,r.jsx)(i.Wi,{name:n,render:e=>{let{field:n}=e;return(0,r.jsx)(i.xJ,{style:{width:c,height:c},children:(0,r.jsx)(U,{referrer:t,fieldName:n.name,fieldValue:n.value,username:o,size:c,disabled:!!n.disabled,generationLabel:a,generationPlaceholder:l})})}})}},75015:function(e,t,n){"use strict";n.d(t,{WB:function(){return _},qE:function(){return w}});var r=n(52322),i=n(3927),o=n(55264),s=n(38694),a=n(31396),l=n(96577),c=n.n(l),u=n(2784),d=n(66582),h=n(10386),p=n(76330),f=n(93326),m=n(50090),g=n(41327);let v=e=>{let{thisIsAndroid:t}=e,{t:n}=(0,h.$G)(),i=t?s.Bc:s.xY;return(0,r.jsxs)("div",{className:"w-full flex flex-col gap-4 items-center",children:[(0,r.jsx)(c(),{src:"/icon.svg",width:"88",height:"88",alt:"c.ai"}),(0,r.jsx)("p",{className:"text-center text-md text-muted-foreground",children:n(t?"GetTheApp.android-download-the-app":"GetTheApp.iphone-download-the-app")}),(0,r.jsx)(m.Z,{href:i,target:"_blank",analytics:{name:"linkOpened",properties:{referrer:"GetTheAppDialog",link:i}},children:(0,r.jsx)(f.zx,{startContent:t?(0,r.jsx)(p.Wfz,{}):(0,r.jsx)(p.oPZ,{}),children:n("GetTheApp.get-app")})})]})},y=()=>{let{t:e}=(0,h.$G)();return(0,r.jsxs)("div",{className:"w-full flex flex-col gap-4 items-center",children:[(0,r.jsx)("div",{className:"w-fit h-fit p-2 border-1 border-accent rounded-spacing-xs",children:(0,r.jsx)(c(),{src:o.Wj.getStaticImageSource("get-app-qr-code"),alt:e("Settings.get-the-app"),width:88,height:88})}),(0,r.jsx)("p",{className:"text-center text-md text-muted-foreground",children:e("GetTheApp.scan-the-qr-code")})]})},b=e=>{let{thisIsMobile:t,thisIsAndroid:n}=e;return t?(0,r.jsx)(v,{thisIsAndroid:n}):(0,r.jsx)(y,{})},w=()=>{let{t:e}=(0,h.$G)(),[t,n]=(0,u.useState)(!1);return(0,r.jsxs)(i.Vq,{open:t,onOpenChange:n,analyticsProps:{referrer:"Settings",type:"GetTheAppDialog"},children:[(0,r.jsx)(i.hg,{asChild:!0,children:(0,r.jsx)(g.l,{highlighted:!0,icon:(0,r.jsx)(c(),{src:"/icon.svg",width:"24",height:"24",alt:"c.ai"}),onPress:()=>n(!t),children:e("Settings.get-the-app")})}),(0,r.jsxs)(i.cZ,{hideClose:!0,className:"w-72 p-4",children:[(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,r.jsxs)(i.GG,{children:[(0,r.jsx)(a.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:e("Common.close")})]}),(0,r.jsx)("p",{children:e("Settings.get-the-app")}),(0,r.jsx)("div",{className:"h-4 w-4"})]}),(0,r.jsx)(b,{thisIsMobile:d.tq,thisIsAndroid:d.Dt})]})]})},_=e=>{let{referrer:t,open:n,setOpen:o}=e,{t:s}=(0,h.$G)();return(0,r.jsx)(i.Vq,{open:n,onOpenChange:o,analyticsProps:{referrer:t,type:"GetTheAppDialog"},children:(0,r.jsxs)(i.cZ,{hideClose:!0,className:"w-72 p-4",children:[(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,r.jsxs)(i.GG,{children:[(0,r.jsx)(a.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:s("Common.close")})]}),(0,r.jsx)("p",{children:s("Settings.get-the-app")}),(0,r.jsx)("div",{className:"h-4 w-4"})]}),(0,r.jsx)(b,{thisIsMobile:d.tq,thisIsAndroid:d.Dt})]})})}},41327:function(e,t,n){"use strict";n.d(t,{l:function(){return s}});var r=n(52322),i=n(93326),o=n(61676);function s(e){let{highlighted:t,disabled:n,icon:s,analytics:a,onPress:l,children:c,className:u}=e;return(0,r.jsxs)(i.zx,{variant:"ghost",isDisabled:n,className:(0,o.cn)("sm:w-full sm:justify-start rounded-spacing-s font-normal",t&&"bg-accent",u),analytics:a,onPress:l,children:[!!s&&(0,r.jsx)("div",{className:"mr-2",children:s}),c]})}},84422:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(52322),i=n(61676);let o=e=>{let{className:t}=e;return(0,r.jsx)("span",{className:(0,i.cn)("text-labs-gradient font-medium text-lg",t),children:"AvatarFX"})}},24497:function(e,t,n){"use strict";n.d(t,{K:function(){return p}});var r=n(52322),i=n(92599),o=n(93326),s=n(39395),a=n(92488),l=n(61676),c=n(5634),u=n(2784),d=n(10386),h=n(15584);function p(e){let{className:t,id:n,autoPlay:p,preventDefault:f}=e,{t:m}=(0,d.$G)(),g=(0,c.Ai)(n),{playVoicePreview:v,stopVoicePreview:y}=(0,s.ZU)(n),b=n===(0,h.BF)(a.ag),w=(0,u.useRef)(!1),_=(0,u.useCallback)(()=>{v(),w.current=!0},[v]);return(0,u.useEffect)(()=>{var e,t;p&&(null===(t=navigator)||void 0===t?void 0:null===(e=t.userActivation)||void 0===e?void 0:e.hasBeenActive)&&!b&&!w.current&&_()},[p,_,b]),(0,u.useEffect)(()=>y,[y]),(0,r.jsx)(o.zx,{isIconOnly:!0,variant:"ghost","aria-label":m("Voice.play-sample"),type:"button",className:(0,l.cn)("flex justify-center items-center bg-surface-elevation-1 rounded-spacing-xs text-card-foreground cursor-pointer p-3",t),style:{backgroundColor:g.primary,borderColor:"rgba(255,255,255,0.15)"},onPress:_,preventDefault:f,children:b?(0,r.jsx)(i.wNq,{className:"size-4 text-white"}):(0,r.jsx)(i.o1U,{className:"size-4 text-white"})})}},33002:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var r=n(52322),i=n(92197),o=n(61676),s=n(10386);function a(e){let{voice:t,clickable:n,className:a}=e,{t:l}=(0,s.$G)();return"character.ai"===t.creatorInfo.source?(0,r.jsx)("div",{className:(0,o.cn)("text-muted-foreground font-normal text-sm truncate",a),children:l("Common.cai-attribution")}):t.creatorInfo.username?(0,r.jsx)(i.f,{author:t.creatorInfo.username,clickable:n,className:a}):null}},98178:function(e,t,n){"use strict";n.d(t,{V:function(){return ev}});var r=n(52322),i=n(35206),o=n(92599),s=n(93326),a=n(3927),l=n(70393),c=n(2784),u=n(10386);function d(e){let{voice_id:t,referrer:n}=e,{t:d}=(0,u.$G)(),[h,p]=(0,c.useState)(!1),f={type:l.C2.VOICE,voice_id:t};return(0,r.jsxs)(a.Vq,{open:h,onOpenChange:p,analyticsProps:{referrer:n,type:"ReportVoiceDialog"},children:[(0,r.jsx)(a.hg,{asChild:!0,children:(0,r.jsx)(s.zx,{variant:"ghost",isIconOnly:!0,"aria-label":d("Common.report"),children:(0,r.jsx)(o.cWE,{className:"size-4 text-muted-foreground"})})}),(0,r.jsx)(i.o,{isOpen:h,title:d("Moderation.report-voice-title"),report:f,onComplete:()=>p(!1)})]})}var h=n(24497),p=n(21236),f=n(87790),m=n(9010),g=n(7896),v=n(81722),y=n(1),b=n(30017),w=n(46389),_=n(53693),C=n(14354),x=n(18137),k=n(3758);let S="ScrollArea",[E,T]=(0,b.b)(S),[P,I]=E(S),R=(0,c.forwardRef)((e,t)=>{let{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=e,[a,l]=(0,c.useState)(null),[u,d]=(0,c.useState)(null),[h,p]=(0,c.useState)(null),[f,m]=(0,c.useState)(null),[y,b]=(0,c.useState)(null),[_,x]=(0,c.useState)(0),[k,S]=(0,c.useState)(0),[E,T]=(0,c.useState)(!1),[I,R]=(0,c.useState)(!1),O=(0,w.e)(t,e=>l(e)),A=(0,C.gm)(i);return(0,c.createElement)(P,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:m,scrollbarXEnabled:E,onScrollbarXEnabledChange:T,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:I,onScrollbarYEnabledChange:R,onCornerWidthChange:x,onCornerHeightChange:S},(0,c.createElement)(v.WV.div,(0,g.Z)({dir:A},s,{ref:O,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":k+"px",...e.style}})))}),O=(0,c.forwardRef)((e,t)=>{let{__scopeScrollArea:n,children:r,...i}=e,o=I("ScrollAreaViewport",n),s=(0,c.useRef)(null),a=(0,w.e)(t,s,o.onViewportChange);return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),(0,c.createElement)(v.WV.div,(0,g.Z)({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style}}),(0,c.createElement)("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),A="ScrollAreaScrollbar",N=(0,c.forwardRef)((e,t)=>{let{forceMount:n,...r}=e,i=I(A,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a="horizontal"===e.orientation;return(0,c.useEffect)(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),"hover"===i.type?(0,c.createElement)(L,(0,g.Z)({},r,{ref:t,forceMount:n})):"scroll"===i.type?(0,c.createElement)(M,(0,g.Z)({},r,{ref:t,forceMount:n})):"auto"===i.type?(0,c.createElement)(D,(0,g.Z)({},r,{ref:t,forceMount:n})):"always"===i.type?(0,c.createElement)(j,(0,g.Z)({},r,{ref:t})):null}),L=(0,c.forwardRef)((e,t)=>{let{forceMount:n,...r}=e,i=I(A,e.__scopeScrollArea),[o,s]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let e=i.scrollArea,t=0;if(e){let n=()=>{window.clearTimeout(t),s(!0)},r=()=>{t=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",n),e.removeEventListener("pointerleave",r)}}},[i.scrollArea,i.scrollHideDelay]),(0,c.createElement)(y.z,{present:n||o},(0,c.createElement)(D,(0,g.Z)({"data-state":o?"visible":"hidden"},r,{ref:t})))}),M=(0,c.forwardRef)((e,t)=>{var n,r;let{forceMount:i,...o}=e,s=I(A,e.__scopeScrollArea),a="horizontal"===e.orientation,l=et(()=>d("SCROLL_END"),100),[u,d]=(n="hidden",r={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},(0,c.useReducer)((e,t)=>{let n=r[e][t];return null!=n?n:e},n));return(0,c.useEffect)(()=>{if("idle"===u){let e=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,s.scrollHideDelay,d]),(0,c.useEffect)(()=>{let e=s.viewport,t=a?"scrollLeft":"scrollTop";if(e){let n=e[t],r=()=>{let r=e[t];n!==r&&(d("SCROLL"),l()),n=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[s.viewport,a,d,l]),(0,c.createElement)(y.z,{present:i||"hidden"!==u},(0,c.createElement)(j,(0,g.Z)({"data-state":"hidden"===u?"hidden":"visible"},o,{ref:t,onPointerEnter:(0,k.M)(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:(0,k.M)(e.onPointerLeave,()=>d("POINTER_LEAVE"))})))}),D=(0,c.forwardRef)((e,t)=>{let n=I(A,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,s]=(0,c.useState)(!1),a="horizontal"===e.orientation,l=et(()=>{if(n.viewport){let e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?e:t)}},10);return en(n.viewport,l),en(n.content,l),(0,c.createElement)(y.z,{present:r||o},(0,c.createElement)(j,(0,g.Z)({"data-state":o?"visible":"hidden"},i,{ref:t})))}),j=(0,c.forwardRef)((e,t)=>{let{orientation:n="vertical",...r}=e,i=I(A,e.__scopeScrollArea),o=(0,c.useRef)(null),s=(0,c.useRef)(0),[a,l]=(0,c.useState)({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=J(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:!!(u>0&&u<1),onThumbChange:e=>o.current=e,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:e=>s.current=e};function h(e,t){return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ltr",i=Y(n),o=t||i/2,s=n.scrollbar.paddingStart+o,a=n.scrollbar.size-n.scrollbar.paddingEnd-(i-o),l=n.content-n.viewport;return Q([s,a],"ltr"===r?[0,l]:[-1*l,0])(e)}(e,s.current,a,t)}return"horizontal"===n?(0,c.createElement)(U,(0,g.Z)({},d,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){let e=X(i.viewport.scrollLeft,a,i.dir);o.current.style.transform="translate3d(".concat(e,"px, 0, 0)")}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=h(e,i.dir))}})):"vertical"===n?(0,c.createElement)(F,(0,g.Z)({},d,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){let e=X(i.viewport.scrollTop,a);o.current.style.transform="translate3d(0, ".concat(e,"px, 0)")}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=h(e))}})):null}),U=(0,c.forwardRef)((e,t)=>{let{sizes:n,onSizesChange:r,...i}=e,o=I(A,e.__scopeScrollArea),[s,a]=(0,c.useState)(),l=(0,c.useRef)(null),u=(0,w.e)(t,l,o.onScrollbarXChange);return(0,c.useEffect)(()=>{l.current&&a(getComputedStyle(l.current))},[l]),(0,c.createElement)(z,(0,g.Z)({"data-orientation":"horizontal"},i,{ref:u,sizes:n,style:{bottom:0,left:"rtl"===o.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===o.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Y(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,n)=>{if(o.viewport){let r=o.viewport.scrollLeft+t.deltaX;e.onWheelScroll(r),r>0&&r<n&&t.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Z(s.paddingLeft),paddingEnd:Z(s.paddingRight)}})}}))}),F=(0,c.forwardRef)((e,t)=>{let{sizes:n,onSizesChange:r,...i}=e,o=I(A,e.__scopeScrollArea),[s,a]=(0,c.useState)(),l=(0,c.useRef)(null),u=(0,w.e)(t,l,o.onScrollbarYChange);return(0,c.useEffect)(()=>{l.current&&a(getComputedStyle(l.current))},[l]),(0,c.createElement)(z,(0,g.Z)({"data-orientation":"vertical"},i,{ref:u,sizes:n,style:{top:0,right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Y(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,n)=>{if(o.viewport){let r=o.viewport.scrollTop+t.deltaY;e.onWheelScroll(r),r>0&&r<n&&t.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Z(s.paddingTop),paddingEnd:Z(s.paddingBottom)}})}}))}),[V,B]=E(A),z=(0,c.forwardRef)((e,t)=>{let{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,f=I(A,n),[m,y]=(0,c.useState)(null),b=(0,w.e)(t,e=>y(e)),C=(0,c.useRef)(null),x=(0,c.useRef)(""),S=f.viewport,E=r.content-r.viewport,T=(0,_.W)(d),P=(0,_.W)(l),R=et(h,10);function O(e){C.current&&u({x:e.clientX-C.current.left,y:e.clientY-C.current.top})}return(0,c.useEffect)(()=>{let e=e=>{let t=e.target;(null==m?void 0:m.contains(t))&&T(e,E)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[S,m,E,T]),(0,c.useEffect)(P,[r,P]),en(m,R),en(f.content,R),(0,c.createElement)(V,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:(0,_.W)(o),onThumbPointerUp:(0,_.W)(s),onThumbPositionChange:P,onThumbPointerDown:(0,_.W)(a)},(0,c.createElement)(v.WV.div,(0,g.Z)({},p,{ref:b,style:{position:"absolute",...p.style},onPointerDown:(0,k.M)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),C.current=m.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),O(e))}),onPointerMove:(0,k.M)(e.onPointerMove,O),onPointerUp:(0,k.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=x.current,f.viewport&&(f.viewport.style.scrollBehavior=""),C.current=null})})))}),H="ScrollAreaThumb",q=(0,c.forwardRef)((e,t)=>{let{forceMount:n,...r}=e,i=B(H,e.__scopeScrollArea);return(0,c.createElement)(y.z,{present:n||i.hasThumb},(0,c.createElement)(K,(0,g.Z)({ref:t},r)))}),K=(0,c.forwardRef)((e,t)=>{let{__scopeScrollArea:n,style:r,...i}=e,o=I(H,n),s=B(H,n),{onThumbPositionChange:a}=s,l=(0,w.e)(t,e=>s.onThumbChange(e)),u=(0,c.useRef)(),d=et(()=>{u.current&&(u.current(),u.current=void 0)},100);return(0,c.useEffect)(()=>{let e=o.viewport;if(e){let t=()=>{if(d(),!u.current){let t=ee(e,a);u.current=t,a()}};return a(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[o.viewport,d,a]),(0,c.createElement)(v.WV.div,(0,g.Z)({"data-state":s.hasThumb?"visible":"hidden"},i,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:(0,k.M)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;s.onThumbPointerDown({x:n,y:r})}),onPointerUp:(0,k.M)(e.onPointerUp,s.onThumbPointerUp)}))}),G="ScrollAreaCorner",W=(0,c.forwardRef)((e,t)=>{let n=I(G,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return"scroll"!==n.type&&r?(0,c.createElement)($,(0,g.Z)({},e,{ref:t})):null}),$=(0,c.forwardRef)((e,t)=>{let{__scopeScrollArea:n,...r}=e,i=I(G,n),[o,s]=(0,c.useState)(0),[a,l]=(0,c.useState)(0),u=!!(o&&a);return en(i.scrollbarX,()=>{var e;let t=(null===(e=i.scrollbarX)||void 0===e?void 0:e.offsetHeight)||0;i.onCornerHeightChange(t),l(t)}),en(i.scrollbarY,()=>{var e;let t=(null===(e=i.scrollbarY)||void 0===e?void 0:e.offsetWidth)||0;i.onCornerWidthChange(t),s(t)}),u?(0,c.createElement)(v.WV.div,(0,g.Z)({},r,{ref:t,style:{width:o,height:a,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}})):null});function Z(e){return e?parseInt(e,10):0}function J(e,t){let n=e/t;return isNaN(n)?0:n}function Y(e){let t=J(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-n)*t,18)}function X(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr",r=Y(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=function(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}(e,"ltr"===n?[0,s]:[-1*s,0]);return Q([0,s],[0,o-r])(a)}function Q(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}let ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n={left:e.scrollLeft,top:e.scrollTop},r=0;return!function i(){let o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function et(e,t){let n=(0,_.W)(e),r=(0,c.useRef)(0);return(0,c.useEffect)(()=>()=>window.clearTimeout(r.current),[]),(0,c.useCallback)(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function en(e,t){let n=(0,_.W)(t);(0,x.b)(()=>{let t=0;if(e){let r=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}},[e,n])}var er=n(61676);let ei=c.forwardRef((e,t)=>{let{className:n,children:i,...o}=e;return(0,r.jsxs)(R,{ref:t,className:(0,er.cn)("relative overflow-hidden",n),...o,children:[(0,r.jsx)(O,{className:"h-full w-full rounded-[inherit]",children:i}),(0,r.jsx)(eo,{}),(0,r.jsx)(W,{})]})});ei.displayName=R.displayName;let eo=c.forwardRef((e,t)=>{let{className:n,orientation:i="vertical",...o}=e;return(0,r.jsx)(N,{ref:t,orientation:i,className:(0,er.cn)("flex touch-none select-none transition-colors","vertical"===i&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...o,children:(0,r.jsx)(q,{className:"relative flex-1 rounded-full bg-accent"})})});eo.displayName=N.displayName;var es=n(86777),ea=n(39395),el=n(34318),ec=n(40022);let eu=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"ml-[8px] text-md-medium text-foreground",children:t})},ed=e=>{var t,n;let{voiceName:i,voiceId:o}=e,{t:s}=(0,u.$G)(),a="SuggestedCharactersForVoice",[l,d]=(0,c.useState)(!1),{overrideVoiceForChat:h}=(0,ea.Hq)(),{recentCharacters:g,isLoading:v}=(0,es.Z)(),[y,b]=(0,c.useState)(i),{data:w,isLoading:_}=el.h.search.search.useQuery({searchQuery:y});if((0,c.useEffect)(()=>{b(i),p.iN.search({referrer:a,type:ec.Sc.voices,query:i})},[i]),v||_||l)return(0,r.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,r.jsx)(m.$,{size:32})});let C=e=>{d(!0),p.iN.characterSelected({referrer:a,character_id:e,voice_id:o}),h(e,o,a)};return(0,r.jsx)("div",{className:"pl-4 pt-2 -mt-5",children:(0,r.jsxs)(ei,{className:"flex flex-col w-full max-h-64",children:[!!g.length&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eu,{children:s("VoiceDetail.recent-chats")}),g.slice(0,7).map((e,t)=>(0,r.jsx)(f.J,{referrer:"SuggestedCharactersForVoice",src:e.avatar_file_name,href:window.location.href,name:e.name,nameClassname:"text-md",titleClassname:"text-sm",onClick:()=>{C(e.character_id)},disableLinkNavigation:!0,id:e.character_id,index:t},e.character_id))]}),!!(null==w?void 0:null===(t=w.characters)||void 0===t?void 0:t.length)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eu,{children:s("VoiceDetail.suggested-characters")}),null==w?void 0:null===(n=w.characters)||void 0===n?void 0:n.map((e,t)=>(0,r.jsx)(f.J,{referrer:"SuggestedCharactersForVoice",src:e.avatar_file_name,href:window.location.href,name:e.participant__name,title:e.title?e.title:e.greeting,interactions:e.participant__num_interactions,upvotes:e.upvotes,nameClassname:"text-md",titleClassname:"text-sm",onClick:()=>{C(e.external_id)},disableLinkNavigation:!0,id:e.external_id,index:t},e.external_id))]})]})})};var eh=n(33002),ep=n(16981),ef=n(35740),em=n(55264),eg=n(66149);function ev(e){var t,n;let{isOpen:i,voice:l,onClose:c,isSelected:p,selectVoice:f,referrer:g,action:v,showSuggestedCharacters:y}=e,{t:b}=(0,u.$G)(),w=(0,eg.Z)(),{user:_}=(0,ef.a)(),C=!!l&&"character.ai"!==l.creatorInfo.source&&l.creatorInfo.id!==(null==_?void 0:null===(t=_.user)||void 0===t?void 0:t.id.toString()),x="private"===l.visibility,k=!_,S=!k&&l.creatorInfo.id===(null==_?void 0:null===(n=_.user)||void 0===n?void 0:n.id.toString()),E=em.nN.voice(l.id);return(0,r.jsx)(a.Vq,{open:i,onOpenChange:e=>{e||c()},children:(0,r.jsxs)(a.cZ,{hideClose:!0,className:"p-0 cursor-default w-full max-w-lg",children:[(0,r.jsx)(a.fK,{className:"px-5 pt-5",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:["view"===v&&(0,r.jsx)("div",{className:"flex gap-4",onClick:c,children:(0,r.jsx)(a.gC,{})}),"override"===v&&(0,r.jsxs)(s.zx,{variant:"ghost","aria-label":b("Common.back"),className:"pl-0",onPress:c,children:[(0,r.jsx)(o.bfG,{className:"size-8 mr-1 text-muted-foreground"}),(0,r.jsx)(a.$N,{children:b("Voice.voice")})]}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:!!C&&(0,r.jsx)(d,{voice_id:l.id})})]})}),(0,r.jsx)(a.Be,{children:(0,r.jsxs)("div",{className:"flex items-center ml-6 pb-6",children:[(0,r.jsx)(h.K,{id:l.id,className:"w-24 h-24",autoPlay:i}),(0,r.jsxs)("div",{className:"px-4 flex flex-col h-24",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"text-foreground text-md flex items-center gap-1",children:[l.name,!!x&&(0,r.jsx)(o.mBM,{className:"size-4 min-w-4"})]}),!!l.description&&(0,r.jsx)("div",{className:"text-md text-muted-foreground",children:l.description})]}),(0,r.jsx)(eh.g,{voice:l,className:"mt-auto"})]})]})}),(0,r.jsxs)("div",{className:"flex mx-4 mb-4 justify-between",children:[(0,r.jsxs)("div",{className:"flex",children:[!!k&&(0,r.jsx)(m.$,{}),!!S&&(0,r.jsx)("div",{className:"flex gap-1",children:(0,r.jsxs)(s.zx,{variant:"ghost",className:"data-[focus-visible]:ring-2",as:ep.rU,analytics:{name:"linkHandled",properties:{link:E,referrer:g,type:"VoiceDetailView"}},href:E,children:[(0,r.jsx)(o.dY8,{className:"size-4 text-muted-foreground"}),b("Common.edit")]})}),!k&&!!(null==l?void 0:l.id)&&"private"!==l.visibility&&(0,r.jsxs)(s.zx,{variant:"outline",onPress:()=>w(em.nN.home("voiceId=".concat(l.id)),"Voice"),children:[(0,r.jsx)(o.aAc,{className:"size-4 text-muted-foreground"}),b("Common.share")]})]}),(0,r.jsx)(a.GG,{asChild:!0,children:"override"===v&&f?(0,r.jsx)(s.zx,{onPress:()=>{null==f||f(l.id,l.name)},variant:"primary",children:b(p?"Common.unselect":"Common.select")}):(0,r.jsx)(s.zx,{variant:"primary",onPress:c,children:b("Common.done")})})]}),!!y&&(0,r.jsx)(ed,{voiceName:l.name,voiceId:l.id})]})})}},63458:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var r=n(52322),i=n(81364),o=n(61676),s=n(2784),a=n(10386);let l=e=>{let{setValue:t,error:n,setError:l,resetError:c,locale:u}=e,d=(0,s.useMemo)(()=>new Date().getFullYear(),[]),{t:h}=(0,a.$G)(),[p,f]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),[v,y]=(0,s.useState)("");(0,s.useEffect)(()=>{if(!(p&&/\d{1,2}/.test(m)&&/\d{4}/.test(v))){t();return}if(!(+m>=1&&31>=+m)){t(),l("day");return}if(!(+v>=d-200&&+v<=d)){t(),l("year",{minYear:d-200,maxYear:d});return}t(new Date(+v,+p,+m)),null==c||c()},[m,p,v]);let b=!(null==u?void 0:u.match(/\w\w-\w\w/))||"undefined"==typeof Intl||"month"===Intl.DateTimeFormat(u).formatToParts(new Date)[0].type,w=()=>(0,r.jsxs)("select",{value:p,onChange:e=>f(e.target.value),className:(0,o.cn)("appearance-none bg-background border border-input font-medium rounded-spacing-s px-3 text-md text-muted-foreground",{"text-primary font-normal":!!p,"border-error":!!n,"text-error":!!n&&!p}),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:h("Form.labels.month")}),(0,r.jsx)("option",{value:"0",children:h("Months.january")}),(0,r.jsx)("option",{value:"1",children:h("Months.february")}),(0,r.jsx)("option",{value:"2",children:h("Months.march")}),(0,r.jsx)("option",{value:"3",children:h("Months.april")}),(0,r.jsx)("option",{value:"4",children:h("Months.may")}),(0,r.jsx)("option",{value:"5",children:h("Months.june")}),(0,r.jsx)("option",{value:"6",children:h("Months.july")}),(0,r.jsx)("option",{value:"7",children:h("Months.august")}),(0,r.jsx)("option",{value:"8",children:h("Months.september")}),(0,r.jsx)("option",{value:"9",children:h("Months.october")}),(0,r.jsx)("option",{value:"10",children:h("Months.november")}),(0,r.jsx)("option",{value:"11",children:h("Months.december")})]}),_=()=>(0,r.jsx)(i.I,{type:"tel",label:h("Form.labels.day"),min:1,max:31,maxLength:2,autoComplete:"off",spellCheck:"false",hideError:!0,size:2,error:n,value:m,onChange:e=>g(e.target.value)});return(0,r.jsxs)("div",{className:"flex gap-1 items-stretch my-2",children:[b?(0,r.jsxs)(r.Fragment,{children:[w(),_()]}):(0,r.jsxs)(r.Fragment,{children:[_(),w()]}),(0,r.jsx)(i.I,{type:"tel",label:h("Form.labels.year"),minLength:4,maxLength:4,autoComplete:"off",spellCheck:"false",hideError:!0,size:4,error:n,value:v,onChange:e=>y(e.target.value)})]})}},35981:function(e,t,n){"use strict";n.d(t,{C:function(){return s}});var r=n(52322),i=n(73210),o=n(80113);function s(e){let{children:t,options:n,isOpen:s,setIsOpen:a,triggerClassName:l,contentClassName:c,itemClassName:u,side:d,align:h,asChild:p,disabled:f=!1}=e;return(0,r.jsxs)(i.h_,{open:s,onOpenChange:a,children:[(0,r.jsx)(i.$F,{className:l,disabled:f,asChild:p,children:t}),(0,r.jsx)(i.AW,{side:d,align:h||"end",className:(0,o.cn)("flex flex-col rounded-spacing-m overflow-hidden shadow-md w-64 p-1",c),children:n.map(e=>(0,r.jsx)(i.Xi,{asChild:e.asChild,className:(0,o.cn)(u),disabled:f,children:e.content},e.key))})]})}},55541:function(e,t,n){"use strict";n.d(t,{l:function(){return H},Z:function(){return z}});var r=n(52322),i=n(61676),o=n(2784),s=n(7896),a=n(3758),l=n(46389),c=n(30017),u=n(25390),d=n(87819),h=n(87265),p=(n(62745),n(1)),f=n(81722),m=n(57621),g=n(64147),v=n(34006);let[y,b]=(0,c.b)("Tooltip",[h.D7]),w=(0,h.D7)(),_="tooltip.open",[C,x]=y("TooltipProvider"),k="Tooltip",[S,E]=y(k),T="TooltipTrigger",P=(0,o.forwardRef)((e,t)=>{let{__scopeTooltip:n,...r}=e,i=E(T,n),c=x(T,n),u=w(n),d=(0,o.useRef)(null),p=(0,l.e)(t,d,i.onTriggerChange),m=(0,o.useRef)(!1),g=(0,o.useRef)(!1),v=(0,o.useCallback)(()=>m.current=!1,[]);return(0,o.useEffect)(()=>()=>document.removeEventListener("pointerup",v),[v]),(0,o.createElement)(h.ee,(0,s.Z)({asChild:!0},u),(0,o.createElement)(f.WV.button,(0,s.Z)({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:p,onPointerMove:(0,a.M)(e.onPointerMove,e=>{"touch"===e.pointerType||g.current||c.isPointerInTransitRef.current||(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:(0,a.M)(e.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:(0,a.M)(e.onPointerDown,()=>{m.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:(0,a.M)(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:(0,a.M)(e.onBlur,i.onClose),onClick:(0,a.M)(e.onClick,i.onClose)})))}),[I,R]=y("TooltipPortal",{forceMount:void 0}),O="TooltipContent",A=(0,o.forwardRef)((e,t)=>{let n=R(O,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,l=E(O,e.__scopeTooltip);return(0,o.createElement)(p.z,{present:r||l.open},l.disableHoverableContent?(0,o.createElement)(D,(0,s.Z)({side:i},a,{ref:t})):(0,o.createElement)(N,(0,s.Z)({side:i},a,{ref:t})))}),N=(0,o.forwardRef)((e,t)=>{let n=E(O,e.__scopeTooltip),r=x(O,e.__scopeTooltip),i=(0,o.useRef)(null),a=(0,l.e)(t,i),[c,u]=(0,o.useState)(null),{trigger:d,onClose:h}=n,p=i.current,{onPointerInTransitChange:f}=r,m=(0,o.useCallback)(()=>{u(null),f(!1)},[f]),g=(0,o.useCallback)((e,t)=>{let n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=function(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw Error("unreachable")}}(r,n.getBoundingClientRect());u(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return(n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y)?t:t.concat(n)}(t)}([...function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,i),...function(e){let{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}(t.getBoundingClientRect())])),f(!0)},[f]);return(0,o.useEffect)(()=>()=>m(),[m]),(0,o.useEffect)(()=>{if(d&&p){let e=e=>g(e,p),t=e=>g(e,d);return d.addEventListener("pointerleave",e),p.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),p.removeEventListener("pointerleave",t)}}},[d,p,g,m]),(0,o.useEffect)(()=>{if(c){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},r=(null==d?void 0:d.contains(t))||(null==p?void 0:p.contains(t)),i=!function(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let s=t[e].x,a=t[e].y,l=t[o].x,c=t[o].y;a>r!=c>r&&n<(l-s)*(r-a)/(c-a)+s&&(i=!i)}return i}(n,c);r?m():i&&(m(),h())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,p,c,h,m]),(0,o.createElement)(D,(0,s.Z)({},e,{ref:a}))}),[L,M]=y(k,{isInside:!1}),D=(0,o.forwardRef)((e,t)=>{let{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...c}=e,d=E(O,n),p=w(n),{onClose:f}=d;return(0,o.useEffect)(()=>(document.addEventListener(_,f),()=>document.removeEventListener(_,f)),[f]),(0,o.useEffect)(()=>{if(d.trigger){let e=e=>{let t=e.target;null!=t&&t.contains(d.trigger)&&f()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,f]),(0,o.createElement)(u.XB,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:f},(0,o.createElement)(h.VY,(0,s.Z)({"data-state":d.stateAttribute},p,c,{ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),(0,o.createElement)(m.A4,null,r),(0,o.createElement)(L,{scope:n,isInside:!0},(0,o.createElement)(v.f,{id:d.contentId,role:"tooltip"},i||r))))}),j=(0,o.forwardRef)((e,t)=>{let{__scopeTooltip:n,...r}=e,i=w(n);return M("TooltipArrow",n).isInside?null:(0,o.createElement)(h.Eh,(0,s.Z)({},i,r,{ref:t}))}),U=e=>{let{__scopeTooltip:t,delayDuration:n=700,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,[a,l]=(0,o.useState)(!0),c=(0,o.useRef)(!1),u=(0,o.useRef)(0);return(0,o.useEffect)(()=>{let e=u.current;return()=>window.clearTimeout(e)},[]),(0,o.createElement)(C,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:(0,o.useCallback)(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:(0,o.useCallback)(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:(0,o.useCallback)(e=>{c.current=e},[]),disableHoverableContent:i},s)},F=e=>{let{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=e,c=x(k,e.__scopeTooltip),u=w(t),[p,f]=(0,o.useState)(null),m=(0,d.M)(),v=(0,o.useRef)(0),y=null!=a?a:c.disableHoverableContent,b=null!=l?l:c.delayDuration,C=(0,o.useRef)(!1),[E=!1,T]=(0,g.T)({prop:r,defaultProp:i,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(_))):c.onClose(),null==s||s(e)}}),P=(0,o.useMemo)(()=>E?C.current?"delayed-open":"instant-open":"closed",[E]),I=(0,o.useCallback)(()=>{window.clearTimeout(v.current),C.current=!1,T(!0)},[T]),R=(0,o.useCallback)(()=>{window.clearTimeout(v.current),T(!1)},[T]),O=(0,o.useCallback)(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{C.current=!0,T(!0)},b)},[b,T]);return(0,o.useEffect)(()=>()=>window.clearTimeout(v.current),[]),(0,o.createElement)(h.fC,u,(0,o.createElement)(S,{scope:t,contentId:m,open:E,stateAttribute:P,trigger:p,onTriggerChange:f,onTriggerEnter:(0,o.useCallback)(()=>{c.isOpenDelayed?O():I()},[c.isOpenDelayed,O,I]),onTriggerLeave:(0,o.useCallback)(()=>{y?R():window.clearTimeout(v.current)},[R,y]),onOpen:I,onClose:R,disableHoverableContent:y},n))},V=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(j,{ref:t,fill:"currentColor",className:(0,i.cn)("text-surface-elevation-2",n),...o})});V.displayName="TooltipArrow";let B=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(A,{ref:t,className:(0,i.cn)("text-md bg-surface-elevation-2 text-foreground p-2 rounded-spacing-xs border border-border-outline",n),...o})});function z(e){let{children:t,...n}=e;return(0,r.jsx)(U,{...n,children:t})}B.displayName="TooltipContent";let H=o.forwardRef((e,t)=>{let{children:n,content:s,side:a,className:l,disabled:c,...u}=e,[d,h]=o.useState(!1);return c?n:(0,r.jsxs)(F,{delayDuration:0,open:d,children:[(0,r.jsx)(P,{asChild:!0,onMouseEnter:()=>{h(!0)},onMouseLeave:()=>{h(!1)},onFocus:()=>{h(!0)},onBlur:()=>{h(!1)},children:n}),(0,r.jsxs)(B,{side:a,sideOffset:8,ref:t,className:(0,i.cn)("z-20",l),...u,children:[s,(0,r.jsx)(V,{})]})]})});H.displayName="DynamicTooltip"},54972:function(e,t,n){"use strict";n.d(t,{C:function(){return l}});var r=n(52322),i=n(61676),o=n(2784),s=n(39452),a=n(81364);let l=(0,o.forwardRef)((e,t)=>{let{name:n,checks:o,showMaxLengthIndicator:l,label:c,placeholder:u,className:d,tooltipProps:h,errorClassname:p,labelClassname:f,type:m="text",labelPosition:g="floating",onFocus:v,prefixElement:y,postfix:b,value:w,onChange:_,autoFocus:C}=e;return(0,r.jsx)(s.Wi,{name:n,rules:(0,s.Of)(o),render:e=>{let{field:n}=e;return(0,r.jsx)(s.xJ,{className:"w-full",children:(0,r.jsx)(s.NI,{children:(0,r.jsx)(a.I,{tooltipProps:h,showMaxLengthIndicator:l,className:(0,i.cn)("bg-surface-elevation-3 focus-visible:border-primary",d),type:m,...n,ref:t,value:(w&&"string"!=typeof w?w.toString():w)||(n.value&&"string"!=typeof n.value?n.value.toString():n.value),label:c,placeholder:u,errorClassname:p,labelPosition:g,labelClassname:f,onFocus:v,postfixElement:b,prefixElement:y,autoFocus:C,..._&&{onChange:_}})})})}})});l.displayName="FormInputField"},38513:function(e,t,n){"use strict";n.d(t,{j:function(){return V}});var r=n(52322),i=n(21236),o=n(48364),s=n(16538),a=(0,n(8857).tv)({slots:{base:"flex flex-col justify-center gap-1 max-w-fit items-center",label:"",svgWrapper:"relative block",svg:"z-0 relative overflow-hidden",track:"h-full stroke-default-300/50",indicator:"h-full stroke-current",value:"absolute font-normal inset-0 flex items-center justify-center"},variants:{color:{default:{svg:"text-default-400"},primary:{svg:"text-primary"},secondary:{svg:"text-secondary"},success:{svg:"text-success"},warning:{svg:"text-warning"},danger:{svg:"text-danger"}},size:{sm:{svg:"w-8 h-8",label:"text-small",value:"text-[0.5rem]"},md:{svg:"w-10 h-10",label:"text-small",value:"text-[0.55rem]"},lg:{svg:"w-12 h-12",label:"text-medium",value:"text-[0.6rem]"}},isIndeterminate:{true:{svg:"animate-spinner-ease-spin"}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-all !duration-500"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,disableAnimation:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{svg:"!transition-none motion-reduce:transition-none"}}]}),l=n(2784);"undefined"!=typeof window&&window.document&&window.document.createElement;var c=e=>e?"true":void 0;"undefined"!=typeof window&&window.document&&window.document.createElement;let u=new Map;var d=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r};function h(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&90>=e.charCodeAt(2)?t[e]=function(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}(n,i):("className"===e||"UNSAFE_className"===e)&&"string"==typeof n&&"string"==typeof i?t[e]=d(n,i):"id"===e&&n&&i?t.id=function(e,t){if(e===t)return e;let n=u.get(e);if(n)return n(t),t;let r=u.get(t);return r?(r(e),e):t}(n,i):t[e]=void 0!==i?i:n}}return t}let p=new Set(["id"]),f=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),m=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),g=/^(data-.*)$/;"undefined"!=typeof window&&window.document&&window.document.createElement;let v=new Map;var y=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r},b=n(46749);let w=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),_=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);var C=n(23047);let x=Symbol.for("react-aria.i18n.locale");function k(){let e="undefined"!=typeof window&&window[x]||"undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:!function(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize(),n="function"==typeof t.getTextInfo?t.getTextInfo():t.textInfo;if(n)return"rtl"===n.direction;if(t.script)return w.has(t.script)}let t=e.split("-")[0];return _.has(t)}(e)?"ltr":"rtl"}}let S=k(),E=new Set;function T(){for(let e of(S=k(),E))e(S)}let P=l.createContext(null),I=new Map,R=!1;try{R="exceptZero"===new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay}catch(e){}let O=!1;try{O="unit"===new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style}catch(e){}let A={degree:{narrow:{default:"\xb0","ja-JP":" ","zh-TW":"","sl-SI":" \xb0"}}};class N{format(e){let t="";if(t=R||null==this.options.signDisplay?this.numberFormatter.format(e):function(e,t,n){if("auto"===t)return e.format(n);{if("never"===t)return e.format(Math.abs(n));let r=!1;if("always"===t?r=n>0||Object.is(n,0):"exceptZero"===t&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),!r)return e.format(n);{let t=e.format(-n),r=e.format(n),i=t.replace(r,"").replace(/\u200e|\u061C/,"");return 1!=[...i].length&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),t.replace(r,"!!!").replace(i,"+").replace("!!!",r)}}}(this.numberFormatter,this.options.signDisplay,e),"unit"===this.options.style&&!O){var n;let{unit:e,unitDisplay:r="short",locale:i}=this.resolvedOptions();if(!e)return t;let o=null===(n=A[e])||void 0===n?void 0:n[r];t+=o[i]||o.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if("function"==typeof this.numberFormatter.formatRange)return this.numberFormatter.formatRange(e,t);if(t<e)throw RangeError("End date must be >= start date");return`${this.format(e)} \u{2013} ${this.format(t)}`}formatRangeToParts(e,t){if("function"==typeof this.numberFormatter.formatRangeToParts)return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(e),r=this.numberFormatter.formatToParts(t);return[...n.map(e=>({...e,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...r.map(e=>({...e,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return R||null==this.options.signDisplay||(e={...e,signDisplay:this.options.signDisplay}),O||"unit"!==this.options.style||(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=function(e,t={}){let{numberingSystem:n}=t;if(n&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${n}`),"unit"===t.style&&!O){var r;let{unit:e,unitDisplay:n="short"}=t;if(!e)throw Error('unit option must be provided with style: "unit"');if(!(null===(r=A[e])||void 0===r?void 0:r[n]))throw Error(`Unsupported unit ${e} with unitDisplay = ${n}`);t={...t,style:"decimal"}}let i=e+(t?Object.entries(t).sort((e,t)=>e[0]<t[0]?-1:1).join():"");if(I.has(i))return I.get(i);let o=new Intl.NumberFormat(e,t);return I.set(i,o),o}(e,t),this.options=t}}var L=(0,s.Gp)((e,t)=>{let{Component:n,slots:i,classNames:o,label:u,showValueLabel:d,getProgressBarProps:w,getLabelProps:_,getSvgProps:x,getIndicatorProps:k,getTrackProps:I}=function(e){var t;let[n,r]=(0,s.oe)(e,a.variantKeys),{ref:i,as:o,id:u,className:d,classNames:w,label:_,valueLabel:x,value:k,minValue:I=0,maxValue:R=100,strokeWidth:O,showValueLabel:A=!1,formatOptions:L={style:"percent"},...M}=n,D=function(e){let t=(0,l.useRef)(null);return(0,l.useImperativeHandle)(e,()=>t.current),t}(i),j=function(...e){for(var t,n,r=0,i="";r<e.length;)(t=e[r++])&&(n=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r);else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}(t))&&(i&&(i+=" "),i+=n);return i}(null==w?void 0:w.base,d),[,U]=function(e={}){let{rerender:t=!1,delay:n=0}=e,r=(0,l.useRef)(!1),[i,o]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{r.current=!0;let e=null;return t&&(n>0?e=setTimeout(()=>{o(!0)},n):o(!0)),()=>{r.current=!1,t&&o(!1),e&&clearTimeout(e)}},[t]),[(0,l.useCallback)(()=>r.current,[]),i]}({rerender:!0,delay:100}),F=(null==(t=e.isIndeterminate)||t)&&void 0===k,{progressBarProps:V,labelProps:B}=function(e){let{value:t=0,minValue:n=0,maxValue:r=100,valueLabel:i,isIndeterminate:o,formatOptions:s={style:"percent"}}=e,a=function(e,t={}){let{labelable:n,isLink:r,propNames:i}=t,o={};for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(p.has(t)||n&&f.has(t)||r&&m.has(t)||(null==i?void 0:i.has(t))||g.test(t))&&(o[t]=e[t]);return o}(e,{labelable:!0}),{labelProps:c,fieldProps:u}=(0,b.N)({...e,labelElementType:"span"}),d=((t=function(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}(t,n,r))-n)/(r-n),h=function(e={}){let t;let{locale:n}=(t=function(){let e=(0,C.Av)(),[t,n]=(0,l.useState)(S);return((0,l.useEffect)(()=>(0===E.size&&window.addEventListener("languagechange",T),E.add(n),()=>{E.delete(n),0===E.size&&window.removeEventListener("languagechange",T)}),[]),e)?{locale:"en-US",direction:"ltr"}:t}(),(0,l.useContext)(P)||t);return(0,l.useMemo)(()=>new N(n,e),[n,e])}(s);if(!o&&!i){let e="percent"===s.style?d:t;i=h.format(e)}return{progressBarProps:function(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&90>=e.charCodeAt(2)?t[e]=function(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}(n,i):("className"===e||"UNSAFE_className"===e)&&"string"==typeof n&&"string"==typeof i?t[e]=y(n,i):"id"===e&&n&&i?t.id=function(e,t){if(e===t)return e;let n=v.get(e);if(n)return n(t),t;let r=v.get(t);return r?(r(e),e):t}(n,i):t[e]=void 0!==i?i:n}}return t}(a,{...u,"aria-valuenow":o?void 0:t,"aria-valuemin":n,"aria-valuemax":r,"aria-valuetext":o?void 0:i,role:"progressbar"}),labelProps:c}}({id:u,label:_,value:k,minValue:I,maxValue:R,valueLabel:x,formatOptions:L,isIndeterminate:F,"aria-labelledby":e["aria-labelledby"],"aria-label":e["aria-label"]}),z=(0,l.useMemo)(()=>a({...r,isIndeterminate:F}),[F,...Object.values(r)]),H=!!e.disableAnimation||U,q=O||"sm"===e.size?2:3,K=16-q,G=2*K*Math.PI,W=G-(0,l.useMemo)(()=>H?F?.25:k?function(e,t=100){return Math.min(Math.max(e,0),t)}((k-I)/(R-I),1):0:0,[H,k,I,R,F])*G,$=(0,l.useCallback)((t={})=>({ref:D,"data-indeterminate":c(F),"data-disabled":c(e.isDisabled),className:z.base({class:j}),...h(V,M,t)}),[D,z,F,e.isDisabled,j,V,M]),Z=(0,l.useCallback)((e={})=>({className:z.label({class:null==w?void 0:w.label}),...h(B,e)}),[z,w,B]),J=(0,l.useCallback)((e={})=>({viewBox:"0 0 32 32",fill:"none",strokeWidth:q,className:z.svg({class:null==w?void 0:w.svg}),...e}),[q,z,w]),Y=(0,l.useCallback)((e={})=>({cx:16,cy:16,r:K,role:"presentation",strokeDasharray:`${G} ${G}`,strokeDashoffset:W,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:z.indicator({class:null==w?void 0:w.indicator}),...e}),[z,w,W,G,K]),X=(0,l.useCallback)((e={})=>({cx:16,cy:16,r:K,role:"presentation",strokeDasharray:`${G} ${G}`,strokeDashoffset:0,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:z.track({class:null==w?void 0:w.track}),...e}),[z,w,G,K]);return{Component:o||"div",domRef:D,slots:z,classNames:w,label:_,showValueLabel:A,getProgressBarProps:$,getLabelProps:Z,getSvgProps:J,getIndicatorProps:Y,getTrackProps:X}}({ref:t,...e}),R=w();return(0,r.jsxs)(n,{...R,children:[(0,r.jsxs)("div",{className:i.svgWrapper({class:null==o?void 0:o.svgWrapper}),children:[(0,r.jsxs)("svg",{...x(),children:[(0,r.jsx)("circle",{...I()}),(0,r.jsx)("circle",{...k()})]}),d&&(0,r.jsx)("span",{className:i.value({class:null==o?void 0:o.value}),children:R["aria-valuetext"]})]}),u&&(0,r.jsx)("span",{..._(),children:u})]})});L.displayName="NextUI.CircularProgress";var M=n(92599),D=n(93326),j=n(39452),U=n(92014),F=n(80113);function V(e){let{name:t,checks:n,label:s,placeholder:a,className:l,containerClassName:c,showMaxLengthIndicator:u,tooltipProps:d,generateFieldProps:h,labelEndContent:p,labelPosition:f="floating",numberOfLines:m}=e;return(0,r.jsx)(j.Wi,{name:t,rules:(0,j.Of)(n),render:e=>{let{field:n}=e;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(j.xJ,{children:(0,r.jsx)(j.NI,{children:(0,r.jsx)(U.g,{numberOfLines:m,showMaxLengthIndicator:u,className:(0,F.cn)("bg-surface-elevation-3 focus-visible:border-primary",l),containerClassName:c,...n,label:s,value:"string"!=typeof n.value?n.value.toString():n.value,placeholder:a,disabled:(null==h?void 0:h.isLoading)||n.disabled,tooltipProps:d,labelPosition:f,labelEndContent:p})})}),!!h&&(0,r.jsx)(D.zx,{variant:"ghost",spinnerSize:"xs",className:(0,F.cn)("rounded-full p-1 absolute top-0 right-0 bg-accent h-5 w-5 min-w-5 mt-1 mr-1",{"top-[31px] right-[2px]":"top"===f}),isIconOnly:!0,isLoading:h.isLoading,isDisabled:h.isLoading,onPress:()=>{h.onGenerate({onSuccess:e=>{var r;(null==e?void 0:null===(r=e[0])||void 0===r?void 0:r.text)?(n.onChange(e[0].text),i.iN.elementClicked({type:t,referrer:"FormTextareaField"})):(0,o.H)("Content generation result missing data")},onError:e=>{(0,o.H)("Failed to update form text field",{error:e})}})},children:h.isLoading?(0,r.jsx)(L,{}):(0,r.jsx)(M.Vk2,{className:"w-4 h-4"})})]})}})}},92599:function(e,t,n){"use strict";n.d(t,{$EJ:function(){return V},$IO:function(){return en},$Sf:function(){return E},ARX:function(){return e1},Ad7:function(){return e4},AsP:function(){return eS},BFJ:function(){return U},C$L:function(){return ev},CjM:function(){return ts},D7w:function(){return A},DCR:function(){return eF},F3p:function(){return z},FBk:function(){return eC},F_y:function(){return B},Fu6:function(){return i},GxE:function(){return ti},HMg:function(){return eQ},HiY:function(){return tt},IHp:function(){return er},IbZ:function(){return ta},Ibz:function(){return ej},J0w:function(){return eY},JiW:function(){return P},KAl:function(){return e9},KLH:function(){return e2},KML:function(){return y},KyT:function(){return eX},LQS:function(){return eA},LX6:function(){return eU},LYK:function(){return e0},NWY:function(){return em},PQg:function(){return d},Prq:function(){return te},R0g:function(){return K},T$Z:function(){return ez},T39:function(){return tr},THf:function(){return J},TIy:function(){return R},TW3:function(){return o},Two:function(){return T},U65:function(){return eN},VQN:function(){return C},Vk2:function(){return es},W1M:function(){return ea},W4w:function(){return eK},XCv:function(){return x},XHJ:function(){return e_},XaD:function(){return e$},XjK:function(){return ep},Xl7:function(){return M},ZO8:function(){return G},Zmm:function(){return ex},_8Z:function(){return eR},_BK:function(){return eB},_Gj:function(){return I},__D:function(){return tc},aAc:function(){return eu},aIO:function(){return el},aNP:function(){return eI},aNi:function(){return ew},aj$:function(){return c},avX:function(){return eP},b7C:function(){return eM},bS$:function(){return l},bfG:function(){return _},bxK:function(){return eL},cWE:function(){return eo},cvK:function(){return h},dMm:function(){return eG},dPJ:function(){return e3},dY8:function(){return N},eLy:function(){return eb},eOB:function(){return b},ewm:function(){return ec},fbS:function(){return e8},fpf:function(){return Z},gq4:function(){return g},iF7:function(){return e6},jUn:function(){return $},kBK:function(){return O},kBi:function(){return m},kZ9:function(){return eg},lO_:function(){return to},lUz:function(){return p},lbB:function(){return ey},m26:function(){return ei},mBM:function(){return q},mCP:function(){return eq},ma8:function(){return tl},n9J:function(){return j},nPH:function(){return eD},nQG:function(){return v},ney:function(){return et},o1U:function(){return Q},pNs:function(){return D},pOD:function(){return ee},pjr:function(){return eZ},qKI:function(){return f},qQX:function(){return Y},qwG:function(){return eO},qzz:function(){return eh},r7p:function(){return ed},r96:function(){return e5},rG2:function(){return ek},sC:function(){return eW},shA:function(){return X},t6u:function(){return e7},tEF:function(){return L},tQe:function(){return W},tWY:function(){return eV},tci:function(){return S},uAs:function(){return eE},utk:function(){return F},uuU:function(){return eT},v4q:function(){return w},vJ3:function(){return u},veu:function(){return s},wNq:function(){return ef},wyc:function(){return k},xCe:function(){return a},xPt:function(){return H},xX_:function(){return tn},ynJ:function(){return eH},ze2:function(){return eJ}});var r=n(52322);function i(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M14 13.25a8 8 0 0 0-2-.25c-2.978 0-5.325 1.554-6.566 3.862C4.596 18.42 6.028 20 7.795 20H11m7-5v3m0 0v3m0-3h-3m3 0h3M15.5 6.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function o(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M9 4a1 1 0 0 0-2 0v16a1 1 0 1 0 2 0zm8 2a1 1 0 1 0-2 0v3a1 1 0 1 0 2 0zm-4 2a1 1 0 1 0-2 0v5a1 1 0 1 0 2 0zm-8 2a1 1 0 0 0-2 0v4a1 1 0 1 0 2 0zm13.5 4a1 1 0 1 0-2 0v2.5H14a1 1 0 1 0 0 2h2.5V21a1 1 0 1 0 2 0v-2.5H21a1 1 0 1 0 0-2h-2.5z",fill:"currentColor",fillRule:"evenodd"})})}function s(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m7 10 5 5 5-5z",fill:"currentColor"})})}function a(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m15 20-8-8 8-8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function l(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6ZM2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H3C2.44772 13 2 12.5523 2 12ZM2 18C2 17.4477 2.44772 17 3 17H11C11.5523 17 12 17.4477 12 18C12 18.5523 11.5523 19 11 19H3C2.44772 19 2 18.5523 2 18Z"})})}function c(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12.0003 2.17163L12.7074 1.46452L12.0003 0.757417L11.2932 1.46452L12.0003 2.17163ZM13.4145 3.58584L12.7074 4.29295L13.4145 3.58584ZM10.5861 3.58584L9.87898 2.87874V2.87874L10.5861 3.58584ZM13 7.00006C13 6.44777 12.5523 6.00006 12 6.00006C11.4477 6.00006 11 6.44777 11 7.00006H13ZM11 10.0001C11 10.5523 11.4477 11.0001 12 11.0001C12.5523 11.0001 13 10.5523 13 10.0001H11ZM7.74278 15.7029L8.11417 16.6314L8.11417 16.6314L7.74278 15.7029ZM8.75722 15.2972L8.38583 14.3687H8.38583L8.75722 15.2972ZM10.2428 15.2972L10.6142 14.3687H10.6142L10.2428 15.2972ZM11.2572 15.7029L10.8858 16.6314H10.8858L11.2572 15.7029ZM12.7428 15.7029L13.1142 16.6314L13.1142 16.6314L12.7428 15.7029ZM13.7572 15.2972L13.3858 14.3687H13.3858L13.7572 15.2972ZM5.75722 15.5029L6.12861 14.5745H6.12861L5.75722 15.5029ZM6.25722 15.7029L5.88583 16.6314L5.88583 16.6314L6.25722 15.7029ZM15.2428 15.2972L15.6142 14.3687H15.6142L15.2428 15.2972ZM16.2572 15.7029L15.8858 16.6314H15.8858L16.2572 15.7029ZM17.7428 15.7029L18.1142 16.6314H18.1142L17.7428 15.7029ZM18.2428 15.5029L17.8714 14.5745L17.8714 14.5745L18.2428 15.5029ZM18 15.0001V19.0001H20V15.0001H18ZM17 20.0001H7V22.0001H17V20.0001ZM6 19.0001V15.0001H4V19.0001H6ZM7 20.0001C6.44772 20.0001 6 19.5523 6 19.0001H4C4 20.6569 5.34315 22.0001 7 22.0001V20.0001ZM18 19.0001C18 19.5523 17.5523 20.0001 17 20.0001V22.0001C18.6569 22.0001 20 20.6569 20 19.0001H18ZM11.2932 4.29295L12.7074 2.87874L11.2932 1.46452L9.87898 2.87874L11.2932 4.29295ZM11.2932 2.87874L12.7074 4.29295L14.1216 2.87874L12.7074 1.46452L11.2932 2.87874ZM12.7074 5.70717C12.3169 6.09769 11.6837 6.09769 11.2932 5.70717L9.87898 7.12138C11.0506 8.29295 12.95 8.29295 14.1216 7.12138L12.7074 5.70717ZM12.7074 4.29295C13.0979 4.68348 13.0979 5.31664 12.7074 5.70717L14.1216 7.12138C15.2932 5.94981 15.2932 4.05031 14.1216 2.87874L12.7074 4.29295ZM9.87898 2.87874C8.70741 4.05031 8.70741 5.94981 9.87898 7.12138L11.2932 5.70717C10.9027 5.31664 10.9027 4.68348 11.2932 4.29295L9.87898 2.87874ZM11 7.00006V10.0001H13V7.00006H11ZM8.11417 16.6314L9.12861 16.2256L8.38583 14.3687L7.37139 14.7745L8.11417 16.6314ZM9.87139 16.2256L10.8858 16.6314L11.6286 14.7745L10.6142 14.3687L9.87139 16.2256ZM13.1142 16.6314L14.1286 16.2256L13.3858 14.3687L12.3714 14.7745L13.1142 16.6314ZM20.5 13.646V12.0001H18.5V13.646H20.5ZM17.5 9.00006H6.5V11.0001H17.5V9.00006ZM3.5 12.0001V13.646H5.5V12.0001H3.5ZM5.38583 16.4314L5.88583 16.6314L6.62861 14.7745L6.12861 14.5745L5.38583 16.4314ZM14.8714 16.2256L15.8858 16.6314L16.6286 14.7745L15.6142 14.3687L14.8714 16.2256ZM18.1142 16.6314L18.6142 16.4314L17.8714 14.5745L17.3714 14.7745L18.1142 16.6314ZM3.5 13.646C3.5 14.8727 4.24685 15.9758 5.38583 16.4314L6.12861 14.5745C5.74895 14.4226 5.5 14.0549 5.5 13.646H3.5ZM6.5 9.00006C4.84315 9.00006 3.5 10.3432 3.5 12.0001H5.5C5.5 11.4478 5.94772 11.0001 6.5 11.0001V9.00006ZM20.5 12.0001C20.5 10.3432 19.1569 9.00006 17.5 9.00006V11.0001C18.0523 11.0001 18.5 11.4478 18.5 12.0001H20.5ZM18.5 13.646C18.5 14.0549 18.251 14.4226 17.8714 14.5745L18.6142 16.4314C19.7531 15.9758 20.5 14.8727 20.5 13.646H18.5ZM15.8858 16.6314C16.6011 16.9175 17.3989 16.9175 18.1142 16.6314L17.3714 14.7745C17.133 14.8698 16.867 14.8698 16.6286 14.7745L15.8858 16.6314ZM14.1286 16.2256C14.367 16.1303 14.633 16.1303 14.8714 16.2256L15.6142 14.3687C14.8989 14.0826 14.1011 14.0826 13.3858 14.3687L14.1286 16.2256ZM10.8858 16.6314C11.6011 16.9175 12.3989 16.9175 13.1142 16.6314L12.3714 14.7745C12.133 14.8698 11.867 14.8698 11.6286 14.7745L10.8858 16.6314ZM9.12861 16.2256C9.36702 16.1303 9.63298 16.1303 9.87139 16.2256L10.6142 14.3687C9.89894 14.0826 9.10106 14.0826 8.38583 14.3687L9.12861 16.2256ZM7.37139 14.7745C7.13298 14.8698 6.86702 14.8698 6.62861 14.7745L5.88583 16.6314C6.60106 16.9175 7.39894 16.9175 8.11417 16.6314L7.37139 14.7745Z",fill:"currentColor"})})}function u(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M9 6a1 1 0 0 0 0 2zm6 2a1 1 0 1 0 0-2zm-6 2a1 1 0 1 0 0 2zm3 2a1 1 0 1 0 0-2zM7 4h9V2H7zm11 2v12h2V6zm-2 14H7v2h9zM6 19V5H4v14zm1 1a1 1 0 0 1-1-1H4a3 3 0 0 0 3 3zm11-2a2 2 0 0 1-2 2v2a4 4 0 0 0 4-4zM16 4a2 2 0 0 1 2 2h2a4 4 0 0 0-4-4zM7 2a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1zm11 10v2h2v-2zm-2 4H7v2h9zm-9 6h3v-2H7zm0-6a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1zm11-2a2 2 0 0 1-2 2v2a4 4 0 0 0 4-4zM9 8h6V6H9zm0 4h3v-2H9z",fill:"currentColor"})})}function d(e){return(0,r.jsxs)("svg",{viewBox:"0 0 28 28",fill:"none",...e,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4998 16.3333C10.4998 15.689 11.0222 15.1667 11.6665 15.1667H16.3332C16.9775 15.1667 17.4998 15.689 17.4998 16.3333C17.4998 16.9777 16.9775 17.5 16.3332 17.5H11.6665C11.0222 17.5 10.4998 16.9777 10.4998 16.3333Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M13.8249 3.58695C13.9378 3.5305 14.0294 3.43896 14.0858 3.32607L14.6438 2.21015C14.8587 1.78021 15.4723 1.78021 15.6873 2.21015L16.2452 3.32607C16.3017 3.43896 16.3932 3.5305 16.5061 3.58695L17.622 4.14491C18.052 4.35988 18.052 4.97343 17.622 5.18841L16.5061 5.74636C16.3932 5.80281 16.3017 5.89435 16.2452 6.00724L15.6873 7.12316C15.4723 7.5531 14.8587 7.5531 14.6438 7.12316L14.0858 6.00724C14.0294 5.89435 13.9378 5.80281 13.8249 5.74636L12.709 5.18841C12.2791 4.97343 12.2791 4.35988 12.709 4.14491L13.8249 3.58695Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M7.60271 5.53139C7.7156 5.47495 7.80714 5.38341 7.86359 5.27052L8.2271 4.54349C8.44207 4.11354 9.05563 4.11354 9.2706 4.54349L9.63411 5.27052C9.69056 5.38341 9.7821 5.47495 9.89499 5.53139L10.622 5.89491C11.052 6.10988 11.052 6.72343 10.622 6.93841L9.89499 7.30192C9.7821 7.35837 9.69056 7.4499 9.63411 7.5628L9.2706 8.28982C9.05563 8.71977 8.44207 8.71977 8.2271 8.28982L7.86359 7.5628C7.80714 7.4499 7.7156 7.35837 7.60271 7.30192L6.87568 6.93841C6.44574 6.72343 6.44574 6.10988 6.87568 5.89491L7.60271 5.53139Z",fill:"currentColor"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.778 4.83973C23.3267 5.17742 23.4978 5.89603 23.1601 6.44478L20.6646 10.5H22.1665C22.8108 10.5 23.3332 11.0223 23.3332 11.6667V22.1667C23.3332 24.0997 21.7662 25.6667 19.8332 25.6667H8.1665C6.23351 25.6667 4.6665 24.0997 4.6665 22.1667V11.6667C4.6665 11.0223 5.18884 10.5 5.83317 10.5H17.9248L21.1729 5.22188C21.5106 4.67313 22.2292 4.50204 22.778 4.83973ZM6.99984 12.8333V22.1667C6.99984 22.811 7.52217 23.3333 8.1665 23.3333H19.8332C20.4775 23.3333 20.9998 22.811 20.9998 22.1667V12.8333H6.99984Z",fill:"currentColor"})]})}function h(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M15 10a3 3 0 0 1-3-3m-3 7a3 3 0 0 1 3 3m0 3.242a4.502 4.502 0 0 0 6.827-2.503A3.5 3.5 0 0 0 19.95 12a3.5 3.5 0 0 0-2.07-5.98A4.002 4.002 0 0 0 12 3.535m0 16.707a4.502 4.502 0 0 1-6.827-2.503A3.5 3.5 0 0 1 4.05 12a3.5 3.5 0 0 1 2.07-5.98A4.002 4.002 0 0 1 12 3.535m0 16.707V3.535",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function p(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M6.754 3C4.738 3 2.866 4.684 3.25 6.91c1.218 7.058 6.784 12.624 13.841 13.842 2.226.384 3.91-1.489 3.91-3.504a3.75 3.75 0 0 0-2.674-3.594l-.994-.299a2.83 2.83 0 0 0-2.81.709c-.266.266-.609.283-.826.149a12.1 12.1 0 0 1-3.908-3.908c-.135-.218-.118-.56.149-.827a2.83 2.83 0 0 0 .708-2.81l-.298-.994A3.75 3.75 0 0 0 6.754 3",fill:"currentColor"})})}function f(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12 3c3.065 0 5.69.792 7.567 2.357C21.467 6.94 22.5 9.233 22.5 12s-1.033 5.06-2.933 6.643C17.69 20.208 15.065 21 12 21c-1.62 0-3.443-.15-5.084-.862-.28.156-.664.345-1.12.504-.951.33-2.337.563-3.724-.094a1 1 0 0 1-.369-1.508c.689-.908.905-1.612.966-2.063.057-.433-.024-.681-.033-.708v.001-.003.002l-.002-.005-.008-.018-.012-.03a22 22 0 0 1-.601-1.638C1.769 13.818 1.5 12.817 1.5 12c0-2.767 1.033-5.06 2.933-6.643C6.31 3.792 8.935 3 12 3",fill:"currentColor"})})}function m(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M21.5 12c0-5-3.694-8-9.5-8s-9.5 3-9.5 8c0 1.294.894 3.49 1.037 3.83l.037.092c.098.266.49 1.66-1.074 3.722 2.111 1 4.353-.644 4.353-.644 1.551.815 3.397 1 5.147 1 5.806 0 9.5-3 9.5-8Z",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round",strokeWidth:"2"})})}function g(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.774 8.133a1 1 0 0 0-1.548-1.266l-3.8 4.645-1.219-1.22a1 1 0 0 0-1.414 1.415l2 2a1 1 0 0 0 1.481-.074z",fill:"currentColor",fillRule:"evenodd"})})}function v(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M15 9.5 10.5 15l-2-2M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function y(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M3 15L9.29412 20L21 4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}function b(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m8 10 4 4 4-4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function w(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m20 9-7.293 7.293a1 1 0 0 1-1.414 0L4 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function _(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m14 16-4-4 4-4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function C(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m10 16 4-4-4-4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function x(e){let{strokeWidth:t}=e;return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m9 4 8 8-8 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:null!=t?t:"2"})})}function k(e){let{strokeWidth:t}=e;return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m15 4-8 8 8 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:null!=t?t:"2"})})}function S(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m8 14 4-4 4 4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function E(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12 8V13M12 13L14 11M12 13L10 11M9 16H15M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function T(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m5 5 14 14m0-14L5 19",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"})})}function P(e){return(0,r.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",...e,children:(0,r.jsx)("path",{d:"M9 1L0.833333 9.16667M9 9.16667L4.91667 5.08333L0.833333 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})}function I(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12m12.524-3.753a1 1 0 0 1 1.228 1.228l-1.12 4.105a1.5 1.5 0 0 1-1.052 1.052l-4.105 1.12a1 1 0 0 1-1.228-1.228l1.12-4.105a1.5 1.5 0 0 1 1.052-1.052z",fill:"currentColor",fillRule:"evenodd"})})}function R(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M15 9V5.25A2.25 2.25 0 0 0 12.75 3h-7.5A2.25 2.25 0 0 0 3 5.25v7.5A2.25 2.25 0 0 0 5.25 15H9m2.25-6h7.5A2.25 2.25 0 0 1 21 11.25v7.5A2.25 2.25 0 0 1 18.75 21h-7.5A2.25 2.25 0 0 1 9 18.75v-7.5A2.25 2.25 0 0 1 11.25 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function O(e){return(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",...e,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.22671 9.72217H8.16261C9.3309 9.72217 10.278 10.6693 10.278 11.8376V16.7735C10.278 17.9417 9.3309 18.8888 8.16261 18.8888H3.22671C2.05842 18.8888 1.11133 17.9417 1.11133 16.7735V11.8376C1.11133 10.6693 2.05842 9.72217 3.22671 9.72217ZM3.22564 12.5426C3.61507 12.5426 3.93076 12.2269 3.93076 11.8375C3.93076 11.448 3.61507 11.1323 3.22564 11.1323C2.8362 11.1323 2.52051 11.448 2.52051 11.8375C2.52051 12.2269 2.8362 12.5426 3.22564 12.5426ZM8.86707 11.8373C8.86707 12.2268 8.55137 12.5425 8.16194 12.5425C7.77251 12.5425 7.45681 12.2268 7.45681 11.8373C7.45681 11.4479 7.77251 11.1322 8.16194 11.1322C8.55137 11.1322 8.86707 11.4479 8.86707 11.8373ZM8.16194 17.4785C8.55137 17.4785 8.86707 17.1628 8.86707 16.7733C8.86707 16.3839 8.55137 16.0682 8.16194 16.0682C7.77251 16.0682 7.45681 16.3839 7.45681 16.7733C7.45681 17.1628 7.77251 17.4785 8.16194 17.4785ZM3.93076 16.7735C3.93076 17.1629 3.61507 17.4786 3.22564 17.4786C2.8362 17.4786 2.52051 17.1629 2.52051 16.7735C2.52051 16.3841 2.8362 16.0684 3.22564 16.0684C3.61507 16.0684 3.93076 16.3841 3.93076 16.7735ZM5.69551 15.0108C6.08494 15.0108 6.40064 14.6951 6.40064 14.3056C6.40064 13.9162 6.08494 13.6005 5.69551 13.6005C5.30608 13.6005 4.99038 13.9162 4.99038 14.3056C4.99038 14.6951 5.30608 15.0108 5.69551 15.0108Z",fill:"currentColor"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2448 4.98601L15.7546 1.4958C14.9285 0.669694 13.5891 0.669694 12.763 1.4958L9.27278 4.98601C8.44667 5.81212 8.44667 7.15151 9.27278 7.97762L12.763 11.4678C13.5891 12.2939 14.9285 12.2939 15.7546 11.4678L19.2448 7.97762C20.0709 7.15151 20.0709 5.81212 19.2448 4.98601ZM14.7574 3.49043C14.482 3.7658 14.0356 3.7658 13.7602 3.49043C13.4848 3.21506 13.4848 2.7686 13.7602 2.49323C14.0356 2.21786 14.482 2.21786 14.7574 2.49323C15.0328 2.7686 15.0328 3.21506 14.7574 3.49043ZM17.2504 6.98067C17.5258 7.25604 17.9723 7.25604 18.2476 6.98067C18.523 6.7053 18.523 6.25883 18.2476 5.98346C17.9723 5.70809 17.5258 5.70809 17.2504 5.98346C16.9751 6.25883 16.9751 6.7053 17.2504 6.98067ZM14.7574 10.4704C14.482 10.7458 14.0356 10.7458 13.7602 10.4704C13.4848 10.195 13.4848 9.74858 13.7602 9.47321C14.0356 9.19784 14.482 9.19784 14.7574 9.47321C15.0328 9.74858 15.0328 10.195 14.7574 10.4704ZM10.269 6.98018C10.5443 7.25555 10.9908 7.25555 11.2662 6.98018C11.5415 6.70481 11.5415 6.25835 11.2662 5.98298C10.9908 5.70761 10.5443 5.70761 10.269 5.98298C9.99361 6.25835 9.99361 6.70481 10.269 6.98018Z",fill:"currentColor"})]})}function A(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M19.289 5.34A17.3 17.3 0 0 0 14.956 4q-.307.552-.554 1.134a16 16 0 0 0-4.809 0Q9.346 4.553 9.038 4a17.4 17.4 0 0 0-4.335 1.343C1.96 9.421 1.218 13.398 1.589 17.318A17.4 17.4 0 0 0 6.903 20q.645-.875 1.138-1.845a11.3 11.3 0 0 1-1.792-.86q.226-.166.439-.332a12.43 12.43 0 0 0 10.624 0q.215.178.44.332-.861.51-1.796.862A13 13 0 0 0 17.094 20a17.4 17.4 0 0 0 5.317-2.68c.436-4.546-.745-8.486-3.122-11.98M8.512 14.907c-1.036 0-1.892-.944-1.892-2.107 0-1.162.826-2.115 1.888-2.115s1.911.953 1.893 2.115-.834 2.107-1.89 2.107m6.976 0c-1.037 0-1.89-.944-1.89-2.107 0-1.162.827-2.115 1.89-2.115 1.064 0 1.907.953 1.888 2.115-.018 1.163-.832 2.107-1.888 2.107",fill:"currentColor"})})}function N(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M14 21h7M19.879 4.379l-.258-.258a3 3 0 0 0-4.242 0l-11.5 11.5A3 3 0 0 0 3 17.743V21h3.257a3 3 0 0 0 2.122-.879l11.5-11.5a3 3 0 0 0 0-4.242",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function L(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m2 12-.888-.46-.238.46.238.46zm20 0 .888.46.238-.46-.238-.46zm-19.112.46C5.166 8.055 8.653 6 12 6s6.834 2.055 9.112 6.46l1.776-.92C20.338 6.611 16.24 4 12 4 7.76 4 3.661 6.611 1.112 11.54zm-1.776 0C3.662 17.389 7.76 20 12 20c4.24 0 8.339-2.611 10.888-7.54l-1.776-.92C18.834 15.946 15.347 18 12 18s-6.834-2.055-9.112-6.46zM14 12a2 2 0 0 1-2 2v2a4 4 0 0 0 4-4zm-2 2a2 2 0 0 1-2-2H8a4 4 0 0 0 4 4zm-2-2a2 2 0 0 1 2-2V8a4 4 0 0 0-4 4zm2-2a2 2 0 0 1 2 2h2a4 4 0 0 0-4-4z",fill:"currentColor"})})}function M(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M10.607 4.09503L9.61619 4.23054L9.88722 6.21209L10.878 6.07658L10.607 4.09503ZM22 12L22.8882 12.4594L23.1258 12L22.8882 11.5406L22 12ZM19.5181 14.02L18.8948 14.802L20.4587 16.0486L21.082 15.2667L19.5181 14.02ZM2 12.0001L1.11178 11.5406L0.874156 12.0001L1.11178 12.4595L2 12.0001ZM7.18937 7.48113C7.65206 7.17957 7.78268 6.56002 7.48113 6.09733C7.17957 5.63464 6.56002 5.50402 6.09733 5.80558L7.18937 7.48113ZM17.9027 18.1944C18.3654 17.8929 18.496 17.2733 18.1944 16.8106C17.8929 16.3479 17.2733 16.2173 16.8106 16.5189L17.9027 18.1944ZM10.878 6.07658C14.5691 5.57172 18.5834 7.57116 21.1118 12.4594L22.8882 11.5406C20.0548 6.06256 15.3042 3.45256 10.607 4.09503L10.878 6.07658ZM21.082 15.2667C21.7444 14.4356 22.3505 13.4991 22.8882 12.4594L21.1118 11.5406C20.6305 12.4711 20.0946 13.2968 19.5181 14.02L21.082 15.2667ZM12 14C10.8954 14 10 13.1046 10 12H8C8 14.2091 9.79086 16 12 16V14ZM2.29289 3.70711L9.17157 10.5858L10.5858 9.17157L3.70711 2.29289L2.29289 3.70711ZM10 12C10 11.4474 10.2228 10.9488 10.5858 10.5858L9.17157 9.17157C8.44881 9.89434 8 10.8957 8 12H10ZM9.17157 10.5858L13.4142 14.8284L14.8284 13.4142L10.5858 9.17157L9.17157 10.5858ZM13.4142 14.8284L20.2929 21.7071L21.7071 20.2929L14.8284 13.4142L13.4142 14.8284ZM13.4142 13.4142C13.0512 13.7772 12.5526 14 12 14V16C13.1043 16 14.1057 15.5512 14.8284 14.8284L13.4142 13.4142ZM2.29289 3.70711L20.2929 21.7071L21.7071 20.2929L3.70711 2.29289L2.29289 3.70711ZM2.88822 12.4595C4.0635 10.1872 5.56387 8.54054 7.18937 7.48113L6.09733 5.80558C4.14612 7.07728 2.42496 9.00176 1.11178 11.5406L2.88822 12.4595ZM1.11178 12.4595C3.00295 16.1158 5.74306 18.4987 8.78165 19.4861C11.8271 20.4757 15.0837 20.0317 17.9027 18.1944L16.8106 16.5189C14.4793 18.0383 11.8492 18.3799 9.39972 17.584C6.94336 16.7858 4.58027 14.812 2.88822 11.5406L1.11178 12.4595Z",fill:"currentColor"})})}function D(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M17 19H18C19.6569 19 21 17.6569 21 16V10C21 8.34315 19.6569 7 18 7H13.0704C12.4017 7 11.7772 6.6658 11.4063 6.1094L10.8906 5.3359C10.3342 4.5013 9.39751 4 8.39445 4H6C4.34315 4 3 5.34315 3 7V16C3 17.6569 4.34315 19 6 19H7M12 12V18M12 18L14.5 15.5M12 18L9.5 15.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function j(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c-2.21 0-4-4.03-4-9s1.79-9 4-9m0 18c2.21 0 4-4.03 4-9s-1.79-9-4-9m-9 9a9 9 0 0 1 9-9",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"2"})})}function U(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M18 19h.926c1.74 0 3.203-1.543 2.424-3.1-1.16-2.318-3.358-3.246-5.35-2.785M11 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0m8.5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0M10.78 20H5.22c-1.74 0-3.185-1.523-2.514-3.129 2.155-5.161 8.434-5.161 10.59 0 .67 1.606-.774 3.129-2.514 3.129",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function F(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4V20ZM22 12C22 17.5228 17.5228 22 12 22C11.6252 22 11.2549 21.9793 10.8901 21.939C5.88912 21.3862 2 17.148 2 12C2 6.85205 5.88912 2.61382 10.8901 2.06098C11.2549 2.02066 11.6252 2 12 2C17.5228 2 22 6.47715 22 12Z",fill:"currentColor"})})}function V(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m0 7a1 1 0 0 0-.879.522 1 1 0 1 1-1.754-.96A3 3 0 0 1 12 7c1.515 0 2.567 1.006 2.866 2.189.302 1.189-.156 2.574-1.524 3.258A.62.62 0 0 0 13 13a1 1 0 1 1-2 0c0-.992.56-1.898 1.447-2.342.455-.227.572-.618.48-.978C12.836 9.314 12.529 9 12 9m0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2",fill:"currentColor",fillRule:"evenodd"})})}function B(e){return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M15 4.582a8 8 0 0 0-6.5 14.614M9 15v5H4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M13 21a1 1 0 1 0 0-2 1 1 0 0 0 0 2M21 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0M19.93 14.268a1 1 0 1 1-1 1.732 1 1 0 0 1 1-1.732M17.368 19.294a1 1 0 1 0-1-1.732 1 1 0 0 0 1 1.732M18.927 8a1 1 0 1 1-1-1.732 1 1 0 0 1 1 1.732",fill:"currentColor"})]})}function z(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m-2 9a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-4a1 1 0 0 1-1-1m2-4a1 1 0 1 0 0 2 1 1 0 0 0 0-2",fill:"currentColor",fillRule:"evenodd"})})}function H(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m10 5.5.751-.742a6.003 6.003 0 0 1 8.49 8.49L18.5 14m-13-4-.742.751a6.003 6.003 0 0 0 8.49 8.49L14 18.5M10 14l4-4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function q(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M16 10H8m8 0a3 3 0 0 1 3 3v5a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3v-5a3 3 0 0 1 3-3m8 0V7a4 4 0 0 0-8 0v3m4 4v3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function K(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M11.25 20H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h4.25M20 12H8.75M20 12l-4.5 4.5M20 12l-4.5-4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function G(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12 19v2m0-2c-3.678 0-5.853-2.255-6.986-4M12 19c3.678 0 5.853-2.255 6.985-4M16 7v4a4 4 0 1 1-8 0V7a4 4 0 1 1 8 0",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function W(e){return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M12.093 2.53a1 1 0 0 1-.041 1.07 6 6 0 0 0 8.345 8.344 1 1 0 0 1 1.563.908c-.434 5.122-4.728 9.144-9.962 9.144C6.476 21.996 2 17.52 2 11.998c0-5.234 4.021-9.528 9.144-9.962a1 1 0 0 1 .95.494M9.42 4.424a7.998 7.998 0 1 0 10.152 10.152A8 8 0 0 1 9.42 4.424",fill:"currentColor",fillRule:"evenodd"}),(0,r.jsx)("path",{d:"m16.237 5.017.812-1.623a.5.5 0 0 1 .894 0l.812 1.623a.5.5 0 0 0 .224.224l1.623.812a.5.5 0 0 1 0 .894l-1.623.812a.5.5 0 0 0-.224.223l-.812 1.623a.5.5 0 0 1-.894 0l-.812-1.623a.5.5 0 0 0-.223-.223l-1.623-.812a.5.5 0 0 1 0-.894l1.623-.812a.5.5 0 0 0 .223-.224",fill:"currentColor"})]})}function $(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M11 5a1 1 0 1 0 0-2zm10 8a1 1 0 1 0-2 0zM5.638 19.673l.454-.891zm-1.311-1.311-.891.454zm14.035 1.311-.454-.891zm1.311-1.311-.891-.454zM4.327 5.638l.891.454zm1.311-1.311.454.891zM9 15H8a1 1 0 0 0 1 1zm.293-3.293.707.707zM17.25 3.75l-.707-.707zm3 3-.707-.707zm-7.957 7.957.707.707zM20.25 3.75l-.707.707zM15.2 19H8.8v2h6.4zM5 15.2V8.8H3v6.4zM8.8 5H11V3H8.8zM19 13v2.2h2V13zM8.8 19c-.857 0-1.439 0-1.889-.038-.438-.035-.663-.1-.819-.18l-.908 1.782c.485.247 1.002.346 1.564.392C7.298 21 7.976 21 8.8 21zM3 15.2c0 .824 0 1.501.044 2.052.046.562.145 1.079.392 1.564l1.782-.908c-.08-.156-.145-.38-.18-.82C5 16.639 5 16.058 5 15.2zm3.092 3.582a2 2 0 0 1-.874-.874l-1.782.908a4 4 0 0 0 1.748 1.748zM15.2 21c.824 0 1.501 0 2.052-.044.562-.046 1.079-.145 1.564-.392l-.908-1.782c-.156.08-.38.145-.819.18-.45.037-1.032.038-1.889.038zm3.8-5.8c0 .857 0 1.439-.038 1.889-.035.438-.1.663-.18.819l1.782.908c.247-.485.346-1.002.392-1.564.045-.55.044-1.228.044-2.052zm-.184 5.364a4 4 0 0 0 1.748-1.748l-1.782-.908a2 2 0 0 1-.874.874zM5 8.8c0-.857 0-1.439.038-1.889.035-.438.1-.663.18-.819l-1.782-.908c-.247.485-.346 1.002-.392 1.564C3 7.298 3 7.976 3 8.8zM8.8 3c-.824 0-1.501 0-2.052.044-.562.046-1.079.145-1.564.392l.908 1.782c.156-.08.38-.145.819-.18C7.361 5 7.943 5 8.8 5zM5.218 6.092a2 2 0 0 1 .874-.874l-.908-1.782a4 4 0 0 0-1.748 1.748zM8 12.414V15h2v-2.586zM9 16h2.586v-2H9zm1-3.586 7.957-7.957-1.414-1.414L8.586 11zm9.543-6.371L11.586 14 13 15.414l7.957-7.957zm0-1.586a1.12 1.12 0 0 1 0 1.586l1.414 1.414a3.12 3.12 0 0 0 0-4.414zm-1.586 0a1.12 1.12 0 0 1 1.586 0l1.414-1.414a3.12 3.12 0 0 0-4.414 0zM11.586 16A2 2 0 0 0 13 15.414L11.586 14zM10 12.414 8.586 11A2 2 0 0 0 8 12.414z",fill:"currentColor"})})}function Z(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M4 6a3 3 0 0 1 6 0v12a3 3 0 1 1-6 0zM14 6a3 3 0 1 1 6 0v12a3 3 0 1 1-6 0z",fill:"currentColor"})})}function J(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m4.268 16.68-.837-.548zm1.877-2.872.837.547zm2.127-.4.581-.813zm1.012.723.581-.813zm2.09-.344-.812-.584zm2.305-3.202.812.584zm2.498.095.854-.52zm3.682 6.04.854-.521zm-14.754.506 1.877-2.87-1.674-1.095-1.877 2.87zm2.586-3.004 1.012.723 1.162-1.627-1.012-.723zm4.494.15 2.306-3.203L12.868 10l-2.306 3.203zm3.138-3.171 3.683 6.039 1.707-1.041-3.682-6.04zM5.523 20h13.056v-2H5.523zm13.483-2.76a.5.5 0 0 1-.427.76v2c1.95 0 3.15-2.136 2.134-3.802zm-4.515-6.071a.5.5 0 0 1 .832.032l1.708-1.041c-.931-1.528-3.118-1.611-4.163-.16zm-5.788 3.776a2.5 2.5 0 0 0 3.482-.573l-1.623-1.169a.5.5 0 0 1-.697.115zm-1.721-.59a.5.5 0 0 1 .709-.133l1.162-1.627a2.5 2.5 0 0 0-3.545.666zM3.43 16.133C2.343 17.795 3.536 20 5.523 20v-2a.5.5 0 0 1-.418-.774zM10.5 6.5A1.5 1.5 0 0 1 9 8v2a3.5 3.5 0 0 0 3.5-3.5zM9 8a1.5 1.5 0 0 1-1.5-1.5h-2A3.5 3.5 0 0 0 9 10zM7.5 6.5A1.5 1.5 0 0 1 9 5V3a3.5 3.5 0 0 0-3.5 3.5zM9 5a1.5 1.5 0 0 1 1.5 1.5h2A3.5 3.5 0 0 0 9 3z",fill:"currentColor"})})}function Y(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12 15H5V13.2644C5 12.775 5.19444 12.3056 5.54054 11.9595C6.79516 10.7048 7.5 9.00321 7.5 7.2289V5C7.5 3.89543 8.39543 3 9.5 3H14.5C15.6046 3 16.5 3.89543 16.5 5V7.2289C16.5 9.00321 17.2048 10.7048 18.4595 11.9595C18.8056 12.3056 19 12.775 19 13.2644V15H12ZM12 15V21",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})})}function X(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M8.5 2a2 2 0 0 0-2 2v2.997a6.25 6.25 0 0 1-1.83 4.42l-.377.376A1 1 0 0 0 4 12.5V14a2 2 0 0 0 2 2h5v5a1 1 0 1 0 2 0v-5h5a2 2 0 0 0 2-2v-1.5a1 1 0 0 0-.293-.707l-.376-.377a6.25 6.25 0 0 1-1.831-4.42V4a2 2 0 0 0-2-2z",fill:"currentColor"})})}function Q(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M9.576 2.534C7.578 1.299 5 2.737 5 5.086v13.828c0 2.35 2.578 3.787 4.576 2.552l11.194-6.914c1.899-1.172 1.899-3.932 0-5.104z",fill:"currentColor"})})}function ee(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12 4v8m0 0v8m0-8H4m8 0h8",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"})})}function et(e){return(0,r.jsx)("svg",{viewBox:"0 0 14 14",fill:"none",...e,children:(0,r.jsx)("path",{d:"M7.00001 1.6665V6.99984M7.00001 6.99984V12.3332M7.00001 6.99984H1.66667M7.00001 6.99984H12.3333",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round"})})}function en(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10m3-12a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-3 10a7.98 7.98 0 0 1-5.714-2.4C7.618 16.004 9.605 15 12 15s4.383 1.005 5.714 2.6A7.98 7.98 0 0 1 12 20",fill:"currentColor",fillRule:"evenodd"})})}function er(e){return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M18.947 1.894a.5.5 0 0 0-.894 0l-.979 1.957a.5.5 0 0 1-.223.224l-1.957.978a.5.5 0 0 0 0 .894l1.957.978a.5.5 0 0 1 .224.224l.978 1.957a.5.5 0 0 0 .894 0l.979-1.957a.5.5 0 0 1 .223-.224l1.957-.978a.5.5 0 0 0 0-.894l-1.957-.978a.5.5 0 0 1-.224-.224z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M5 7a2 2 0 0 1 2-2h4a1 1 0 1 0 0-2H7a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-4a1 1 0 1 0-2 0v4a2 2 0 0 1-2 2h-.1a5.002 5.002 0 0 0-9.8 0H7a2 2 0 0 1-2-2z",fill:"currentColor",fillRule:"evenodd"}),(0,r.jsx)("path",{d:"M12 7.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6",fill:"currentColor"})]})}function ei(e){return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M7 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h.1a5.002 5.002 0 0 1 9.8 0h.1a2 2 0 0 0 2-2v-4a1 1 0 1 1 2 0v4a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V7a4 4 0 0 1 4-4h4a1 1 0 1 1 0 2zm2.17 14h5.66a3.001 3.001 0 0 0-5.66 0M12 9a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m-3.5 1.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0",fill:"currentColor",fillRule:"evenodd"}),(0,r.jsx)("path",{d:"M18.947 1.894a.5.5 0 0 0-.894 0l-.979 1.957a.5.5 0 0 1-.223.224l-1.957.978a.5.5 0 0 0 0 .894l1.957.978a.5.5 0 0 1 .224.224l.978 1.957a.5.5 0 0 0 .894 0l.979-1.957a.5.5 0 0 1 .223-.224l1.957-.978a.5.5 0 0 0 0-.894l-1.957-.978a.5.5 0 0 1-.224-.224z",fill:"currentColor"})]})}function eo(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M5 15V4a1 1 0 0 1 1-1h13.131a1 1 0 0 1 .832 1.555l-2.593 3.89a1 1 0 0 0 0 1.11l2.593 3.89A1 1 0 0 1 19.132 15zm0 0v6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function es(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M19.517 14.667A8 8 0 1 1 11.972 4c2.883 0 4.758 1.301 6.617 3.5M19 4v3a1 1 0 0 1-1 1h-3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function ea(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m20 20-3.95-3.95M18 11a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"})})}function el(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M3.113 6.178C2.448 4.073 4.64 2.202 6.615 3.19l13.149 6.575c1.842.921 1.842 3.55 0 4.472l-13.15 6.575c-1.974.987-4.166-.884-3.501-2.99L4.635 13H9a1 1 0 1 0 0-2H4.635z",fill:"currentColor"})})}function ec(e){return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:[(0,r.jsx)("path",{d:"m7.677 5.325-.372-.085A1.722 1.722 0 0 0 5.24 7.305l.085.372a2.41 2.41 0 0 1-1.011 2.547l-.565.377a1.682 1.682 0 0 0 0 2.798l.565.377a2.41 2.41 0 0 1 1.011 2.547l-.085.372a1.722 1.722 0 0 0 2.065 2.065l.372-.085a2.41 2.41 0 0 1 2.547 1.011l.377.565a1.682 1.682 0 0 0 2.798 0l.377-.565a2.41 2.41 0 0 1 2.547-1.011l.372.085a1.722 1.722 0 0 0 2.065-2.065l-.085-.372a2.41 2.41 0 0 1 1.011-2.547l.565-.377a1.682 1.682 0 0 0 0-2.798l-.565-.377a2.41 2.41 0 0 1-1.011-2.547l.085-.372a1.722 1.722 0 0 0-2.065-2.065l-.372.085a2.41 2.41 0 0 1-2.547-1.011l-.377-.565a1.682 1.682 0 0 0-2.798 0l-.377.565a2.41 2.41 0 0 1-2.547 1.011Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})]})}function eu(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M20 12.75V17a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-4.25M12 4v11.25M12 4l4.5 4.5M12 4 7.5 8.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function ed(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M11.529 2.295a.524.524 0 0 1 .942 0l2.475 5.151a.52.52 0 0 0 .403.291l5.697.746c.435.057.61.59.29.89l-4.167 3.93a.52.52 0 0 0-.154.47l1.047 5.613a.521.521 0 0 1-.763.55l-5.05-2.723a.53.53 0 0 0-.498 0l-5.05 2.723a.521.521 0 0 1-.763-.55l1.047-5.612a.52.52 0 0 0-.154-.471l-4.168-3.93a.518.518 0 0 1 .291-.89l5.697-.746a.52.52 0 0 0 .403-.29z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function eh(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M16 8a1 1 0 1 0-2 0c0 2.309-.51 3.742-1.384 4.616S10.309 14 8 14a1 1 0 1 0 0 2c2.309 0 3.742.51 4.616 1.384S14 19.692 14 22a1 1 0 1 0 2 0c0-2.308.51-3.742 1.384-4.616S19.692 16 22 16a1 1 0 1 0 0-2c-2.308 0-3.742-.51-4.616-1.384S16 10.309 16 8M7.5 2a1 1 0 0 0-2 0c0 1.44-.32 2.25-.785 2.715C4.249 5.18 3.44 5.5 2 5.5a1 1 0 0 0 0 2c1.44 0 2.25.32 2.715.785C5.18 8.751 5.5 9.56 5.5 11a1 1 0 1 0 2 0c0-1.44.32-2.25.785-2.715C8.751 7.82 9.56 7.5 11 7.5a1 1 0 1 0 0-2c-1.44 0-2.25-.32-2.715-.785C7.82 4.249 7.5 3.44 7.5 2",fill:"currentColor"})})}function ep(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 5C4.13401 5 1 8.13401 1 12C1 15.866 4.13401 19 8 19H16C19.866 19 23 15.866 23 12C23 8.13401 19.866 5 16 5H8ZM16.5 10.5C16.5 11.1904 17.0596 11.75 17.75 11.75C18.4404 11.75 19 11.1904 19 10.5C19 9.80964 18.4404 9.25 17.75 9.25C17.0596 9.25 16.5 9.80964 16.5 10.5ZM13.5 13.5C13.5 14.1904 14.0596 14.75 14.75 14.75C15.4404 14.75 16 14.1904 16 13.5C16 12.8096 15.4404 12.25 14.75 12.25C14.0596 12.25 13.5 12.8096 13.5 13.5ZM9 10C9 9.44772 8.55228 9 8 9C7.44772 9 7 9.44772 7 10V11H6C5.44772 11 5 11.4477 5 12C5 12.5523 5.44772 13 6 13H7V14C7 14.5523 7.44772 15 8 15C8.55228 15 9 14.5523 9 14V13H10C10.5523 13 11 12.5523 11 12C11 11.4477 10.5523 11 10 11H9V10Z",fill:"currentColor"})})}function ef(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M16.839 3H7.16c-.527 0-.981 0-1.356.03-.395.033-.789.104-1.167.297a3 3 0 0 0-1.311 1.311c-.193.378-.264.772-.296 1.167C3 6.18 3 6.635 3 7.161v9.678c0 .527 0 .982.03 1.356.033.395.104.789.297 1.167a3 3 0 0 0 1.311 1.311c.378.193.772.264 1.167.296.375.031.83.031 1.356.031h9.678c.527 0 .982 0 1.356-.03.395-.033.789-.104 1.167-.297a3 3 0 0 0 1.311-1.311c.193-.378.264-.772.296-1.167.031-.375.031-.83.031-1.356V7.16c0-.527 0-.981-.03-1.356-.033-.395-.104-.789-.297-1.167a3 3 0 0 0-1.311-1.311c-.378-.193-.772-.264-1.167-.296A18 18 0 0 0 16.838 3",fill:"currentColor"})})}function em(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12 3V2m0 20v-1m6.36-15.36.71-.71M4.93 19.07l.71-.71M21 12h1M2 12h1m15.36 6.36.71.71M4.93 4.93l.71.71m9.896 2.824a5 5 0 1 1-7.071 7.072 5 5 0 0 1 7.07-7.072",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function eg(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M17 13H20C20.5523 13 21 12.5523 21 12L21 5C21 4.44772 20.5523 4 20 4H17M17 13L17 4M17 13L13.301 20.4505C13.1339 20.7871 12.7905 21 12.4147 21V21C11.1917 21 10.2572 19.9046 10.4456 18.6919L11.0192 15L5.98994 15C4.17839 15 2.78316 13.3959 3.02793 11.5947L3.70735 6.59466C3.90933 5.1082 5.17443 4 6.66936 4H17",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})})}function ev(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M14.1967 20.8952C13.8607 21.572 13.1703 22 12.4147 22C10.5741 22 9.17547 20.3533 9.45744 18.5384L9.85181 16H5.98994C3.56858 16 1.71124 13.8576 2.03703 11.46L2.71645 6.46001C2.98543 4.48052 4.67151 3 6.66936 3L20 3C21.1046 3 22 3.89543 22 5L22 12C22 13.1046 21.1046 14 20 14H17.62L14.1967 20.8952ZM18 12H20L20 5H18L18 12Z"})})}function ey(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M7 11H4a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h3m0-9v9m0-9 4-8h.616a2 2 0 0 1 1.976 2.308L13.016 9h5.047a3 3 0 0 1 2.973 3.405l-.682 5A3 3 0 0 1 17.38 20H7",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})})}function eb(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M11 2C10.6212 2 10.275 2.214 10.1056 2.55279L6.38197 10H4C2.89543 10 2 10.8954 2 12V19C2 20.1046 2.89543 21 4 21H17.3813C19.3816 21 21.0744 19.5224 21.3446 17.5405L22.0265 12.5405C22.354 10.1387 20.4871 8 18.0631 8H14.1841L14.5798 5.46216C14.8634 3.64303 13.4567 2 11.6156 2H11ZM6 19V12H4V19H6Z"})})}function ew(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M7.417 5a5 5 0 0 1 9.168 0H21a1 1 0 1 1 0 2h-1.064l-.751 11.266A4 4 0 0 1 15.192 22H8.807a4 4 0 0 1-3.991-3.734L4.064 7H3a1 1 0 0 1 0-2zm2.348 0c.55-.614 1.348-1 2.236-1s1.687.386 2.236 1zM11 11a1 1 0 1 0-2 0v5a1 1 0 1 0 2 0zm3-1a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-5a1 1 0 0 1 1-1",fill:"currentColor",fillRule:"evenodd"})})}function e_(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"m5.813 18.2.998-.067zm12.374 0 .997.066zM3 5a1 1 0 0 0 0 2zm18 2a1 1 0 1 0 0-2zm-10 4a1 1 0 1 0-2 0zm-2 5a1 1 0 1 0 2 0zm6-5a1 1 0 1 0-2 0zm-2 5a1 1 0 1 0 2 0zm1.906-9.75a1 1 0 1 0 1.936-.5zM4.002 6.066l.814 12.2 1.995-.134-.813-12.2zM8.807 22h6.386v-2H8.807zm10.378-3.734.813-12.2-1.996-.133-.813 12.2zM19 5H5v2h14zM3 7h2V5H3zm16 0h2V5h-2zm-3.807 15a4 4 0 0 0 3.992-3.734l-1.996-.133A2 2 0 0 1 15.193 20zM4.816 18.266A4 4 0 0 0 8.806 22v-2a2 2 0 0 1-1.995-1.867zM9 11v5h2v-5zm4 0v5h2v-5zm-1-7c1.396 0 2.573.955 2.906 2.25l1.936-.5A5 5 0 0 0 12 2zM9.094 6.25A3 3 0 0 1 12 4V2a5 5 0 0 0-4.842 3.75z",fill:"currentColor"})})}function eC(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M16 11.9999L8 12.0001M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})}function ex(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M17.728 3h3.053l-6.67 7.625L21.959 21h-6.145L11 14.707 5.494 21H2.438l7.136-8.155L2.044 3h6.302l4.35 5.752zm-1.072 16.172h1.692L7.426 4.732H5.611z",fill:"currentColor"})})}function ek(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M16 19h2a3 3 0 0 0 3-3v-6a3 3 0 0 0-3-3h-4.93a2 2 0 0 1-1.664-.89l-.515-.774A3 3 0 0 0 8.394 4H6a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h2m4 0v-6m0 0 2.5 2.5M12 13l-2.5 2.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function eS(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M8 3a1 1 0 0 1 1 1v7.105l2-1.473V8a1 1 0 1 1 2 0v.158l2-1.474V6a1 1 0 0 1 1.78-.627l2.415-1.78a1 1 0 0 1 1.186 1.61L2.991 18.018a1 1 0 0 1-1.186-1.61L3 15.527V10a1 1 0 1 1 2 0v4.053l2-1.474V4a1 1 0 0 1 1-1M7 20v-1.958l2-1.474V20a1 1 0 1 1-2 0m6-4v-2.379l-2 1.474V16a1 1 0 1 0 2 0m2 2v-5.853l2-1.473V18a1 1 0 1 1-2 0m5-9a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0v-4a1 1 0 0 1 1-1",fill:"currentColor",fillRule:"evenodd"})})}function eE(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M8 4v16M4 10v4m8-6v8m4-10v12m4-8v4",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"})})}function eT(e){return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M16.543 3.543a2.768 2.768 0 1 1 3.914 3.914l-13 13a2.768 2.768 0 1 1-3.914-3.914zm2.5 1.414c-.3-.3-.786-.3-1.086 0L16.164 6.75l1.086 1.086 1.793-1.793c.3-.3.3-.786 0-1.086M15.836 9.25 14.75 8.164l-9.793 9.793a.768.768 0 1 0 1.086 1.086z",fill:"currentColor",fillRule:"evenodd"}),(0,r.jsx)("path",{d:"M9.85 2.075a.5.5 0 0 0 .224-.224l.478-.957a.5.5 0 0 1 .895 0l.478.957a.5.5 0 0 0 .223.224l.957.478a.5.5 0 0 1 0 .894l-.957.478a.5.5 0 0 0-.223.224l-.478.957a.5.5 0 0 1-.895 0l-.478-.957a.5.5 0 0 0-.224-.224l-.956-.478a.5.5 0 0 1 0-.894zM18.85 13.075a.5.5 0 0 0 .224-.224l.478-.957a.5.5 0 0 1 .895 0l.478.957a.5.5 0 0 0 .223.223l.957.479a.5.5 0 0 1 0 .894l-.957.479a.5.5 0 0 0-.223.223l-.478.957a.5.5 0 0 1-.895 0l-.478-.957a.5.5 0 0 0-.224-.223l-.956-.479a.5.5 0 0 1 0-.894zM4.85 7.075a.5.5 0 0 0 .224-.224l.478-.957a.5.5 0 0 1 .895 0l.478.957a.5.5 0 0 0 .223.224l.957.478a.5.5 0 0 1 0 .894l-.957.478a.5.5 0 0 0-.223.224l-.478.957a.5.5 0 0 1-.895 0l-.478-.957a.5.5 0 0 0-.224-.224l-.956-.478a.5.5 0 0 1 0-.894z",fill:"currentColor"})]})}function eP(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M8.603 4.07c1.565-2.517 5.229-2.517 6.794 0l6.103 9.818C23.156 16.553 21.24 20 18.102 20H5.897C2.76 20 .844 16.553 2.5 13.888zM12 8a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0V9a1 1 0 0 1 1-1m-1.25 7a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0",fill:"currentColor",fillRule:"evenodd"})})}function eI(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{d:"M12 8.885v3.034M9.482 4.433l-6.03 9.93C2.224 16.385 3.644 19 5.969 19h12.062c2.325 0 3.745-2.615 2.518-4.637l-6.031-9.93a2.93 2.93 0 0 0-5.036 0",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function eR(e){return(0,r.jsxs)("svg",{width:"24",height:"25",viewBox:"0 0 24 25",...e,children:[(0,r.jsx)("path",{d:"M21.8055 11.0076H21V10.9661H12V14.9661H17.6515C16.827 17.2946 14.6115 18.9661 12 18.9661C8.6865 18.9661 6 16.2796 6 12.9661C6 9.65256 8.6865 6.96606 12 6.96606C13.5295 6.96606 14.921 7.54306 15.9805 8.48556L18.809 5.65706C17.023 3.99256 14.634 2.96606 12 2.96606C6.4775 2.96606 2 7.44356 2 12.9661C2 18.4886 6.4775 22.9661 12 22.9661C17.5225 22.9661 22 18.4886 22 12.9661C22 12.2956 21.931 11.6411 21.8055 11.0076Z",fill:"#FFC107"}),(0,r.jsx)("path",{d:"M3.15234 8.31156L6.43784 10.7211C7.32684 8.52006 9.47984 6.96606 11.9993 6.96606C13.5288 6.96606 14.9203 7.54306 15.9798 8.48556L18.8083 5.65706C17.0223 3.99256 14.6333 2.96606 11.9993 2.96606C8.15834 2.96606 4.82734 5.13456 3.15234 8.31156Z",fill:"#FF3D00"}),(0,r.jsx)("path",{d:"M12.0002 22.9664C14.5832 22.9664 16.9302 21.9779 18.7047 20.3704L15.6097 17.7514C14.5719 18.5406 13.3039 18.9674 12.0002 18.9664C9.39916 18.9664 7.19066 17.3079 6.35866 14.9934L3.09766 17.5059C4.75266 20.7444 8.11366 22.9664 12.0002 22.9664Z",fill:"#4CAF50"}),(0,r.jsx)("path",{d:"M21.8055 11.0076H21V10.9661H12V14.9661H17.6515C17.2571 16.0743 16.5467 17.0427 15.608 17.7516L15.6095 17.7506L18.7045 20.3696C18.4855 20.5686 22 17.9661 22 12.9661C22 12.2956 21.931 11.6411 21.8055 11.0076Z",fill:"#1976D2"})]})}function eO(e){let{fill:t}=e;return(0,r.jsx)("svg",{width:"24",height:"25",viewBox:"0 0 24 25",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M17.6643 21.4713C16.5658 22.474 15.3665 22.3157 14.212 21.8407C12.9903 21.3552 11.8695 21.3341 10.5805 21.8407C8.96647 22.4951 8.11462 22.3051 7.15069 21.4713C1.68095 16.1626 2.48796 8.07803 8.69746 7.78251C10.2106 7.85639 11.2642 8.56352 12.1497 8.62685C13.4723 8.37355 14.7388 7.64531 16.1511 7.7403C17.8436 7.86695 19.1214 8.5002 19.962 9.64006C16.4649 11.6137 17.2944 15.9515 20.5 17.1652C19.8611 18.7484 19.0317 20.3209 17.653 21.4819L17.6643 21.4713ZM12.0376 7.71919C11.8695 5.3656 13.8982 3.42362 16.2296 3.23364C16.5546 5.95663 13.6068 7.98304 12.0376 7.71919Z",fill:null!=t?t:"white"})})}function eA(e){return(0,r.jsx)("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M4.09202 19.7481L4.31901 19.3026H4.31901L4.09202 19.7481ZM3.21799 18.874L3.66349 18.647H3.66349L3.21799 18.874ZM20.782 18.874L20.3365 18.647V18.647L20.782 18.874ZM19.908 19.7481L20.135 20.1936L19.908 19.7481ZM20.782 7.05808L20.3365 7.28508V7.28508L20.782 7.05808ZM19.908 6.18405L20.135 5.73855V5.73855L19.908 6.18405ZM3.21799 7.05808L2.77248 6.83109L2.77248 6.83109L3.21799 7.05808ZM4.09202 6.18405L3.86502 5.73855L3.86502 5.73855L4.09202 6.18405ZM13.2665 12.9299L13.5831 13.3168L13.2665 12.9299ZM10.7335 12.9299L10.4169 13.3168L10.7335 12.9299ZM20.5 9.16606V16.7661H21.5V9.16606H20.5ZM17.8 19.4661H6.2V20.4661H17.8V19.4661ZM3.5 16.7661V9.16606H2.5V16.7661H3.5ZM6.2 6.46606H17.8V5.46606H6.2V6.46606ZM6.2 19.4661C5.6317 19.4661 5.23554 19.4657 4.92712 19.4405C4.62454 19.4158 4.45069 19.3697 4.31901 19.3026L3.86502 20.1936C4.16117 20.3445 4.48126 20.4074 4.84569 20.4372C5.20428 20.4664 5.6482 20.4661 6.2 20.4661V19.4661ZM2.5 16.7661C2.5 17.3179 2.49961 17.7618 2.52891 18.1204C2.55868 18.4848 2.62159 18.8049 2.77248 19.101L3.66349 18.647C3.5964 18.5154 3.55031 18.3415 3.52559 18.0389C3.50039 17.7305 3.5 17.3344 3.5 16.7661H2.5ZM4.31901 19.3026C4.03677 19.1588 3.8073 18.9293 3.66349 18.647L2.77248 19.101C3.01217 19.5714 3.39462 19.9539 3.86502 20.1936L4.31901 19.3026ZM20.5 16.7661C20.5 17.3344 20.4996 17.7305 20.4744 18.0389C20.4497 18.3415 20.4036 18.5154 20.3365 18.647L21.2275 19.101C21.3784 18.8049 21.4413 18.4848 21.4711 18.1204C21.5004 17.7618 21.5 17.3179 21.5 16.7661H20.5ZM17.8 20.4661C18.3518 20.4661 18.7957 20.4664 19.1543 20.4372C19.5187 20.4074 19.8388 20.3445 20.135 20.1936L19.681 19.3026C19.5493 19.3697 19.3755 19.4158 19.0729 19.4405C18.7645 19.4657 18.3683 19.4661 17.8 19.4661V20.4661ZM20.3365 18.647C20.1927 18.9293 19.9632 19.1588 19.681 19.3026L20.135 20.1936C20.6054 19.9539 20.9878 19.5714 21.2275 19.101L20.3365 18.647ZM21.5 9.16606C21.5 8.61426 21.5004 8.17034 21.4711 7.81175C21.4413 7.44733 21.3784 7.12723 21.2275 6.83109L20.3365 7.28508C20.4036 7.41676 20.4497 7.5906 20.4744 7.89318C20.4996 8.2016 20.5 8.59776 20.5 9.16606H21.5ZM17.8 6.46606C18.3683 6.46606 18.7645 6.46645 19.0729 6.49165C19.3755 6.51637 19.5493 6.56246 19.681 6.62955L20.135 5.73855C19.8388 5.58765 19.5187 5.52475 19.1543 5.49497C18.7957 5.46568 18.3518 5.46606 17.8 5.46606V6.46606ZM21.2275 6.83109C20.9878 6.36068 20.6054 5.97823 20.135 5.73855L19.681 6.62955C19.9632 6.77336 20.1927 7.00284 20.3365 7.28508L21.2275 6.83109ZM3.5 9.16606C3.5 8.59776 3.50039 8.2016 3.52559 7.89318C3.55031 7.5906 3.5964 7.41676 3.66349 7.28508L2.77248 6.83109C2.62159 7.12723 2.55868 7.44733 2.52891 7.81175C2.49961 8.17034 2.5 8.61426 2.5 9.16606H3.5ZM6.2 5.46606C5.6482 5.46606 5.20428 5.46568 4.84569 5.49497C4.48126 5.52475 4.16117 5.58765 3.86502 5.73855L4.31901 6.62955C4.45069 6.56246 4.62454 6.51637 4.92712 6.49165C5.23554 6.46645 5.6317 6.46606 6.2 6.46606V5.46606ZM3.66349 7.28508C3.8073 7.00284 4.03677 6.77336 4.31901 6.62955L3.86502 5.73855C3.39462 5.97823 3.01217 6.36068 2.77248 6.83109L3.66349 7.28508ZM20.6834 6.21545L12.9499 12.5429L13.5831 13.3168L21.3166 6.98941L20.6834 6.21545ZM11.0501 12.5429L3.31662 6.21545L2.68338 6.98941L10.4169 13.3168L11.0501 12.5429ZM12.9499 12.5429C12.3973 12.995 11.6027 12.995 11.0501 12.5429L10.4169 13.3168C11.3378 14.0703 12.6622 14.0703 13.5831 13.3168L12.9499 12.5429Z"})})}function eN(e){return(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:(0,r.jsx)("path",{d:"M9.39898 4.6666H13.3407C13.6331 4.6666 13.7793 4.6666 13.8648 4.726C13.9394 4.77782 13.988 4.85758 13.9986 4.94575C14.0109 5.04681 13.9399 5.17028 13.7978 5.41723L12.8371 7.08786C12.7856 7.17742 12.7599 7.2222 12.7498 7.26962C12.7408 7.31159 12.7408 7.35488 12.7498 7.39685C12.7599 7.44428 12.7856 7.48905 12.8371 7.57861L13.7978 9.24924C13.9399 9.49619 14.0109 9.61967 13.9986 9.72072C13.988 9.80889 13.9394 9.88866 13.8648 9.94048C13.7793 9.99987 13.6331 9.99987 13.3407 9.99987H8.37476C8.00862 9.99987 7.82556 9.99987 7.68571 9.93104C7.5627 9.87049 7.46268 9.77387 7.40001 9.65503C7.32875 9.51993 7.32875 9.34307 7.32875 8.98936V7.33324M4.91349 14L2.15319 3.33346M3.18833 7.33327H8.35297C8.71911 7.33327 8.90218 7.33327 9.04203 7.26444C9.16504 7.20388 9.26505 7.10727 9.32773 6.98843C9.39898 6.85333 9.39898 6.67647 9.39898 6.32276V3.01051C9.39898 2.6568 9.39898 2.47994 9.32773 2.34484C9.26505 2.22601 9.16504 2.12939 9.04203 2.06884C8.90218 2 8.71911 2 8.35297 2H3.14784C2.69118 2 2.46285 2 2.30668 2.09141C2.1698 2.17153 2.0681 2.29737 2.02084 2.44508C1.96692 2.61362 2.0223 2.82762 2.13307 3.25561L3.18833 7.33327Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}function eL(e){return(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:(0,r.jsx)("path",{d:"M3.33337 10V3.07949C3.33337 2.82656 3.47619 2.59572 3.71087 2.50138C4.20201 2.30394 5.10367 2 6.00004 2C7.32757 2 8.67251 3.33333 10 3.33333C10.5921 3.33333 11.1866 3.20071 11.6634 3.05377C12.1366 2.90798 12.6667 3.24818 12.6667 3.74327V9.58718C12.6667 9.84011 12.5239 10.071 12.2892 10.1653C11.7981 10.3627 10.8964 10.6667 10 10.6667C8.67251 10.6667 7.32757 9.33333 6.00004 9.33333C4.67251 9.33333 3.33337 10 3.33337 10ZM3.33337 10V14",strokeWidth:"1.33333",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}function eM(e){return(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:(0,r.jsx)("path",{d:"M5.99996 7.99986L7.33329 9.3332L9.99996 6.66653M7.73275 1.78343L3.06608 3.8251C2.82342 3.93126 2.66663 4.17101 2.66663 4.43587V8.66653C2.66663 11.612 5.05444 13.9999 7.99996 13.9999C10.9455 13.9999 13.3333 11.612 13.3333 8.66653V4.43587C13.3333 4.17101 13.1765 3.93126 12.9338 3.8251L8.26717 1.78343C8.09683 1.70891 7.90309 1.70891 7.73275 1.78343Z",strokeWidth:"1.33333",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}function eD(e){return(0,r.jsx)("svg",{width:"29",height:"28",viewBox:"0 0 29 28",xmlns:"http://www.w3.org/2000/svg",fill:"none",...e,children:(0,r.jsx)("path",{d:"M14.7515 23.3307V25.6641M14.7515 23.3307C10.4603 23.3307 7.92279 20.7 6.60156 18.6641M14.7515 23.3307C19.0428 23.3307 21.5802 20.7 22.9015 18.6641M19.4182 9.33073V13.9974C19.4182 16.5747 17.3288 18.6641 14.7515 18.6641C12.1742 18.6641 10.0848 16.5747 10.0848 13.9974V9.33073C10.0848 6.7534 12.1742 4.66406 14.7515 4.66406C17.3288 4.66406 19.4182 6.7534 19.4182 9.33073Z",stroke:"currentColor",strokeWidth:"1.63333",strokeLinecap:"round"})})}function ej(e){return(0,r.jsx)("svg",{width:"29",height:"28",viewBox:"0 0 29 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M14.75 25.6666V23.3333M14.75 23.3333C10.4588 23.3333 7.9213 20.7026 6.60007 18.6666M14.75 23.3333C17.3496 23.3333 19.3056 22.3679 20.7375 21.1541M11.8554 5.67255C12.6509 5.0427 13.6566 4.66663 14.75 4.66663C17.3273 4.66663 19.4167 6.75596 19.4167 9.33329V13.2338M10.0833 10.5L4.25 4.66663L25.25 25.6666L20.7375 21.1541M10.0833 10.5V14C10.0833 16.5773 12.1727 18.6666 14.75 18.6666C15.7407 18.6666 16.6593 18.3579 17.4148 17.8315M10.0833 10.5L17.4148 17.8315M17.4148 17.8315L20.7375 21.1541",strokeWidth:"1.63333",stroke:"currentColor",strokeLinecap:"round"})})}function eU(e){return(0,r.jsxs)("svg",{width:"29",height:"28",viewBox:"0 0 29 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("g",{clipPath:"url(#clip0_4103_8518)",children:(0,r.jsx)("g",{clipPath:"url(#clip1_4103_8518)",children:(0,r.jsx)("path",{d:"M26.6224 17.0963C28.2852 15.4335 28.4408 12.4995 26.2875 10.98C19.4604 6.16245 10.2769 6.16245 3.44984 10.98C1.29654 12.4995 1.45207 15.4335 3.11485 17.0963C4.48182 18.4633 6.58361 18.7718 8.28573 17.8552L9.35227 17.2809C10.4198 16.7061 11.0856 15.5915 11.0856 14.379C11.0856 13.9392 11.3544 13.6426 11.6448 13.5743C13.7626 13.0755 15.9747 13.0755 18.0925 13.5743C18.3828 13.6426 18.6517 13.9392 18.6517 14.379C18.6517 15.5915 19.3175 16.7061 20.385 17.2809L21.4516 17.8552C23.1537 18.7718 25.2555 18.4633 26.6224 17.0963Z",fill:"#CE365C"})})}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("clipPath",{id:"clip0_4103_8518",children:(0,r.jsx)("rect",{width:"28",height:"28",fill:"white",transform:"translate(0.25)"})}),(0,r.jsx)("clipPath",{id:"clip1_4103_8518",children:(0,r.jsx)("rect",{width:"28",height:"28",fill:"white",transform:"translate(34.668 14) rotate(135)"})})]})]})}function eF(e){return(0,r.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M16 20V16M16 16V12M16 16H12M16 16H20M16 28C22.6274 28 28 22.6274 28 16C28 9.37258 22.6274 4 16 4C9.37258 4 4 9.37258 4 16C4 17.5962 4.31165 19.1196 4.87742 20.5127C4.9857 20.7793 5.03984 20.9126 5.06399 21.0204C5.08762 21.1258 5.09626 21.2038 5.09628 21.3118C5.09629 21.4223 5.07624 21.5426 5.03614 21.7831L4.2455 26.527C4.16271 27.0238 4.12131 27.2721 4.19835 27.4518C4.26577 27.609 4.39104 27.7342 4.54825 27.8017C4.72786 27.8787 4.97624 27.8373 5.47301 27.7545L10.2169 26.9639C10.4574 26.9238 10.5777 26.9037 10.6882 26.9037C10.7962 26.9037 10.8742 26.9124 10.9796 26.936C11.0874 26.9602 11.2207 27.0143 11.4873 27.1226C12.8804 27.6884 14.4038 28 16 28Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",stroke:"currentColor"})})}function eV(e){let{fill:t="#FAFAFA",opacity:n=.5,...i}=e;return(0,r.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...i,children:(0,r.jsxs)("g",{opacity:n,children:[(0,r.jsx)("path",{d:"M26.6691 12.0012C26.6691 14.9987 25.4319 17.7076 23.4431 19.6445H8.55936C6.57052 17.7076 5.33337 14.9987 5.33337 12.0012C5.33337 6.1095 10.1095 1.33334 16.0012 1.33334C21.8929 1.33334 26.6691 6.1095 26.6691 12.0012Z",fill:t}),(0,r.jsx)("path",{d:"M10.6663 23V21.6445H21.3361V23C21.3361 24.2887 20.2915 25.3333 19.0028 25.3333H12.9996C11.711 25.3333 10.6663 24.2887 10.6663 23Z",fill:t}),(0,r.jsx)("path",{d:"M13 27.3333C12.4478 27.3333 12 27.7811 12 28.3333C12 28.8856 12.4478 29.3333 13 29.3333H19C19.5523 29.3333 20 28.8856 20 28.3333C20 27.7811 19.5523 27.3333 19 27.3333H13Z",fill:t})]})})}function eB(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:(0,r.jsx)("path",{id:"Icon",fill:"currentColor",d:"M12.2223 3.71245C12.6562 3.86583 13.1323 3.63839 13.2857 3.20446C13.4391 2.77053 13.2116 2.29443 12.7777 2.14105L12.2223 3.71245ZM18.1268 8.14892C18.025 7.70009 17.5786 7.41881 17.1297 7.52065C16.6809 7.62249 16.3996 8.0689 16.5015 8.51773L18.1268 8.14892ZM15.8333 0.833323C15.3731 0.833323 15 1.20642 15 1.66666C15 2.12689 15.3731 2.49999 15.8333 2.49999V0.833323ZM18.3333 1.66666L19 2.16666C19.1894 1.91414 19.2198 1.5763 19.0787 1.29398C18.9375 1.01166 18.649 0.833323 18.3333 0.833323V1.66666ZM15.8333 4.99999L15.1667 4.49999C14.9773 4.7525 14.9468 5.09035 15.088 5.37267C15.2291 5.65499 15.5177 5.83332 15.8333 5.83332V4.99999ZM18.3333 5.83332C18.7936 5.83332 19.1667 5.46023 19.1667 4.99999C19.1667 4.53975 18.7936 4.16666 18.3333 4.16666V5.83332ZM10.8333 6.66666C10.8333 6.20642 10.4602 5.83332 10 5.83332C9.53976 5.83332 9.16667 6.20642 9.16667 6.66666H10.8333ZM10 9.99999H9.16667C9.16667 10.221 9.25446 10.433 9.41074 10.5892L10 9.99999ZM11.4941 12.6726C11.8195 12.998 12.3472 12.998 12.6726 12.6726C12.998 12.3471 12.998 11.8195 12.6726 11.4941L11.4941 12.6726ZM16.6667 9.99999C16.6667 13.6819 13.6819 16.6667 10 16.6667V18.3333C14.6024 18.3333 18.3333 14.6024 18.3333 9.99999H16.6667ZM10 16.6667C6.3181 16.6667 3.33333 13.6819 3.33333 9.99999H1.66667C1.66667 14.6024 5.39763 18.3333 10 18.3333V16.6667ZM3.33333 9.99999C3.33333 6.31809 6.3181 3.33332 10 3.33332V1.66666C5.39763 1.66666 1.66667 5.39762 1.66667 9.99999H3.33333ZM10 3.33332C10.7807 3.33332 11.5283 3.46716 12.2223 3.71245L12.7777 2.14105C11.9078 1.83359 10.9725 1.66666 10 1.66666V3.33332ZM16.5015 8.51773C16.6095 8.99365 16.6667 9.48963 16.6667 9.99999H18.3333C18.3333 9.3647 18.2621 8.74503 18.1268 8.14892L16.5015 8.51773ZM15.8333 2.49999H18.3333V0.833323H15.8333V2.49999ZM17.6667 1.16666L15.1667 4.49999L16.5 5.49999L19 2.16666L17.6667 1.16666ZM15.8333 5.83332H18.3333V4.16666H15.8333V5.83332ZM9.16667 6.66666V9.99999H10.8333V6.66666H9.16667ZM9.41074 10.5892L11.4941 12.6726L12.6726 11.4941L10.5893 9.41073L9.41074 10.5892Z"})})}function ez(e){return(0,r.jsxs)("svg",{viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M3.83333 4.16669C3.3731 4.16669 3 4.53978 3 5.00002C3 5.46026 3.3731 5.83335 3.83333 5.83335H17.1667C17.6269 5.83335 18 5.46026 18 5.00002C18 4.53978 17.6269 4.16669 17.1667 4.16669H3.83333Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M15.4326 8.00509C15.3013 7.69868 15 7.50002 14.6667 7.50002C14.3333 7.50002 14.032 7.69868 13.9007 8.00509L12.782 10.6154L10.1717 11.7341C9.86533 11.8654 9.66667 12.1667 9.66667 12.5C9.66667 12.8334 9.86533 13.1347 10.1717 13.266L12.782 14.3847L13.9007 16.995C14.032 17.3014 14.3333 17.5 14.6667 17.5C15 17.5 15.3013 17.3014 15.4326 16.995L16.5513 14.3847L19.1616 13.266C19.468 13.1347 19.6667 12.8334 19.6667 12.5C19.6667 12.1667 19.468 11.8654 19.1616 11.7341L16.5513 10.6154L15.4326 8.00509Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M3.83333 9.16669C3.3731 9.16669 3 9.53978 3 10C3 10.4603 3.3731 10.8334 3.83333 10.8334H8C8.46024 10.8334 8.83333 10.4603 8.83333 10C8.83333 9.53978 8.46024 9.16669 8 9.16669H3.83333Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M3.83333 14.1667C3.3731 14.1667 3 14.5398 3 15C3 15.4603 3.3731 15.8334 3.83333 15.8334H6.33333C6.79357 15.8334 7.16667 15.4603 7.16667 15C7.16667 14.5398 6.79357 14.1667 6.33333 14.1667H3.83333Z",fill:"currentColor"})]})}function eH(e){return(0,r.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3.375C3.5 3.16789 3.66789 3 3.875 3H8.125C8.33211 3 8.5 3.16789 8.5 3.375C8.5 3.58211 8.33211 3.75 8.125 3.75H8V5.36629C8.11942 5.50963 8.25272 5.6588 8.3958 5.81774C8.4112 5.83484 8.4267 5.85205 8.4423 5.86937C8.60351 6.04833 8.77479 6.23846 8.93995 6.43544C9.30018 6.86505 9.65699 7.35631 9.85465 7.90954C9.94484 8.16196 10 8.42908 10 8.70812C10 9.97389 8.97389 11 7.70812 11H4.29188C3.02611 11 2 9.97389 2 8.70812C2 8.42908 2.05516 8.16196 2.14535 7.90954C2.34301 7.35631 2.69982 6.86505 3.06005 6.43544C3.22521 6.23846 3.39649 6.04833 3.5577 5.86937C3.5733 5.85206 3.5888 5.83484 3.6042 5.81774C3.74728 5.6588 3.88058 5.50963 4 5.36629V3.75H3.875C3.66789 3.75 3.5 3.58211 3.5 3.375ZM4.75 3.75V5.63154L4.66783 5.73426C4.51304 5.92774 4.3371 6.12458 4.16162 6.31952C4.14641 6.33642 4.13119 6.35331 4.11598 6.3702C3.95335 6.55075 3.7909 6.73111 3.63475 6.91733C3.46273 7.12248 3.30478 7.32746 3.17085 7.53445C3.1871 7.53192 3.20351 7.52939 3.22008 7.52686C3.6673 7.45864 4.2465 7.38941 4.71536 7.40192C5.28335 7.41707 5.71495 7.55289 6.10206 7.6747L6.11255 7.678C6.50197 7.80053 6.84694 7.90757 7.30464 7.91978C7.70323 7.93041 8.22746 7.87017 8.66682 7.80314C8.77257 7.78701 8.87205 7.7707 8.96201 7.75527C8.80535 7.47266 8.5982 7.19515 8.36525 6.91733C8.2091 6.73111 8.04665 6.55075 7.88403 6.37021C7.86881 6.35331 7.85359 6.33642 7.83838 6.31952C7.6629 6.12458 7.48695 5.92774 7.33217 5.73426L7.25 5.63154V3.75H4.75Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M5.5 2C5.5 2.27614 5.27614 2.5 5 2.5C4.72386 2.5 4.5 2.27614 4.5 2C4.5 1.72386 4.72386 1.5 5 1.5C5.27614 1.5 5.5 1.72386 5.5 2Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M7.5 1.25C7.5 1.66421 7.16421 2 6.75 2C6.33579 2 6 1.66421 6 1.25C6 0.835786 6.33579 0.5 6.75 0.5C7.16421 0.5 7.5 0.835786 7.5 1.25Z",fill:"currentColor"})]})}function eq(e){return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M20 6.5L17.4448 8.98386C16.6121 8.97828 15.7463 9.08581 14.8767 9.3188C14.0072 9.55178 13.2037 9.89153 12.4854 10.3127L8.23926 9.32674L9.11761 14.1907C8.79389 15.135 8.73348 16.1269 8.99221 17.0925C9.29987 18.2407 10.0169 19.1954 11 19.8962M7 20H17C18.6569 20 20 18.6569 20 17V7C20 5.34315 18.6569 4 17 4H7C5.34315 4 4 5.34315 4 7V17C4 18.6569 5.34315 20 7 20Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M13.9894 14.4899C14.1727 15.1742 13.8591 15.8527 13.2889 16.0055C12.7187 16.1583 12.1078 15.7275 11.9244 15.0432C11.7411 14.359 12.0547 13.6804 12.6249 13.5276C13.1951 13.3748 13.806 13.8057 13.9894 14.4899Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M20.1837 12.83C20.367 13.5143 20.0534 14.1928 19.4832 14.3456C18.913 14.4984 18.3021 14.0676 18.1188 13.3833C17.9354 12.699 18.249 12.0205 18.8192 11.8677C19.3895 11.7149 20.0003 12.1458 20.1837 12.83Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M18.068 16.4955C18.1903 16.9516 17.7347 17.4701 17.0504 17.6534C16.3661 17.8367 15.7124 17.6156 15.5901 17.1594C15.4679 16.7032 15.9235 16.1848 16.6078 16.0015C17.292 15.8181 17.9458 16.0393 18.068 16.4955Z",fill:"currentColor"})]})}function eK(e){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M19.5657 9H13.5C13.2239 9 13 8.77614 13 8.5V2.40139C13 1.90668 12.3584 1.71242 12.084 2.12404L4.01823 14.2226C3.79672 14.5549 4.03491 15 4.43426 15H10.5C10.7761 15 11 15.2239 11 15.5V21.5986C11 22.0933 11.6416 22.2876 11.916 21.876L19.9818 9.77735C20.2033 9.44507 19.9651 9 19.5657 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})})}function eG(e){return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M5 6C5 5.44772 5.44772 5 6 5H8C8.55228 5 9 4.55228 9 4C9 3.44772 8.55228 3 8 3H6C4.34315 3 3 4.34315 3 6V8C3 8.55228 3.44772 9 4 9C4.55228 9 5 8.55228 5 8V6Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M16 3C15.4477 3 15 3.44772 15 4C15 4.55228 15.4477 5 16 5H18C18.5523 5 19 5.44772 19 6V8C19 8.55228 19.4477 9 20 9C20.5523 9 21 8.55228 21 8V6C21 4.34315 19.6569 3 18 3H16Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M5 16C5 15.4477 4.55228 15 4 15C3.44772 15 3 15.4477 3 16V18C3 19.6569 4.34315 21 6 21H8C8.55228 21 9 20.5523 9 20C9 19.4477 8.55228 19 8 19H6C5.44772 19 5 18.5523 5 18V16Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M21 16C21 15.4477 20.5523 15 20 15C19.4477 15 19 15.4477 19 16V18C19 18.5523 18.5523 19 18 19H16C15.4477 19 15 19.4477 15 20C15 20.5523 15.4477 21 16 21H18C19.6569 21 21 19.6569 21 18V16Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M12.4081 9.06623C12.3598 9.16299 12.2813 9.24145 12.1845 9.28983L10.8947 9.93475C10.5262 10.119 10.5262 10.6449 10.8947 10.8292L12.1845 11.4741C12.2813 11.5225 12.3598 11.6009 12.4081 11.6977L13.0531 12.9875C13.2373 13.3561 13.7632 13.3561 13.9475 12.9875L14.5924 11.6977C14.6408 11.6009 14.7192 11.5225 14.816 11.4741L16.1058 10.8292C16.4744 10.6449 16.4744 10.119 16.1058 9.93475L14.816 9.28983C14.7192 9.24145 14.6408 9.16299 14.5924 9.06623L13.9475 7.77639C13.7632 7.40787 13.2373 7.40787 13.0531 7.77639L12.4081 9.06623Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M8.71166 13.4592C8.68263 13.5172 8.63556 13.5643 8.5775 13.5934L7.53693 14.1136C7.31581 14.2242 7.31582 14.5397 7.53693 14.6503L8.5775 15.1706C8.63556 15.1996 8.68263 15.2467 8.71166 15.3047L9.23195 16.3453C9.3425 16.5664 9.65804 16.5664 9.7686 16.3453L10.2889 15.3047C10.3179 15.2467 10.365 15.1996 10.423 15.1706L11.4636 14.6503C11.6847 14.5397 11.6847 14.2242 11.4636 14.1136L10.423 13.5934C10.365 13.5643 10.3179 13.5172 10.2889 13.4592L9.7686 12.4186C9.65804 12.1975 9.3425 12.1975 9.23194 12.4186L8.71166 13.4592Z",fill:"currentColor"})]})}function eW(e){return(0,r.jsxs)("svg",{viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M9.50001 12C10.775 9.65312 10.775 5.8469 9.50001 3.5M9.50001 12C6.83011 12.0698 3.53429 13.972 2.13939 16.25M9.50001 12C10.8949 14.278 14.1911 16.1802 16.861 16.25M5.2535 13.3546C6.86135 15.9798 9.88198 18.3204 13.1039 19.6903M1.04194 11.2001C3.86395 9.13147 7.38385 7.72315 10.4519 7.64352M12.7994 15.0018C14.2685 12.297 14.7884 8.51498 14.3705 5.03892M15.5104 5.9896C18.8299 9.30906 18.8299 14.691 15.5104 18.0104C12.1909 21.3299 6.80903 21.3299 3.4896 18.0104C0.170135 14.6909 0.170135 9.30903 3.4896 5.9896C6.80906 2.67013 12.191 2.67013 15.5104 5.9896Z",stroke:"currentColor","stroke-width":"1.88889","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.jsx)("path",{d:"M18.5 14.5C21.5 15 17.5 17.5796 21 18.0796C25.5 19.0796 19.1046 20.5796 18 20.5796H17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})}function e$(e){return(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.91104 5.03755C5.47262 5.07337 5.24842 5.1383 5.09202 5.21799C4.7157 5.40973 4.40973 5.7157 4.21799 6.09202C4.1383 6.24842 4.07337 6.47262 4.03755 6.91104C4.00078 7.36113 4 7.94342 4 8.8V13.2C4 14.0566 4.00078 14.6389 4.03755 15.089C4.07337 15.5274 4.1383 15.7516 4.21799 15.908C4.40973 16.2843 4.7157 16.5903 5.09202 16.782C5.24842 16.8617 5.47262 16.9266 5.91104 16.9624C6.36113 16.9992 6.94342 17 7.8 17H10.0917C10.3663 17 10.6287 17.1129 10.8176 17.3122C11.0064 17.5114 11.105 17.7796 11.0903 18.0538C11.0659 18.5072 11.0041 18.9834 10.9086 19.4842C12.1788 18.9369 12.951 18.2343 13.4463 17.4607C13.6301 17.1737 13.9475 17 14.2884 17H16.2C17.0566 17 17.6389 16.9992 18.089 16.9624C18.5274 16.9266 18.7516 16.8617 18.908 16.782C19.2843 16.5903 19.5903 16.2843 19.782 15.908C19.8617 15.7516 19.9266 15.5274 19.9624 15.089C19.9992 14.6389 20 14.0566 20 13.2V8.8C20 7.94342 19.9992 7.36113 19.9624 6.91104C19.9266 6.47262 19.8617 6.24842 19.782 6.09202C19.5903 5.7157 19.2843 5.40973 18.908 5.21799C18.7516 5.1383 18.5274 5.07337 18.089 5.03755C17.6389 5.00078 17.0566 5 16.2 5H7.8C6.94342 5 6.36113 5.00078 5.91104 5.03755ZM7.7587 3H16.2413C17.0463 2.99999 17.7106 2.99998 18.2518 3.04419C18.8139 3.09012 19.3306 3.18868 19.816 3.43598C20.5686 3.81947 21.1805 4.43139 21.564 5.18404C21.8113 5.66937 21.9099 6.18608 21.9558 6.74817C22 7.28936 22 7.95372 22 8.75868V13.2413C22 14.0463 22 14.7106 21.9558 15.2518C21.9099 15.8139 21.8113 16.3306 21.564 16.816C21.1805 17.5686 20.5686 18.1805 19.816 18.564C19.3306 18.8113 18.8139 18.9099 18.2518 18.9558C17.7106 19 17.0463 19 16.2413 19H14.8073C13.7593 20.3661 12.1375 21.3714 9.74254 21.9701C9.39371 22.0573 9.02492 21.9506 8.77665 21.6905C8.52838 21.4304 8.43886 21.057 8.54217 20.7127C8.73225 20.0791 8.87199 19.5112 8.96434 19H7.75872C6.95374 19 6.28938 19 5.74817 18.9558C5.18608 18.9099 4.66937 18.8113 4.18404 18.564C3.43139 18.1805 2.81947 17.5686 2.43597 16.816C2.18868 16.3306 2.09012 15.8139 2.04419 15.2518C1.99998 14.7106 1.99999 14.0463 2 13.2413V8.7587C1.99999 7.95373 1.99998 7.28937 2.04419 6.74818C2.09012 6.18608 2.18868 5.66937 2.43597 5.18404C2.81947 4.43139 3.43139 3.81947 4.18404 3.43597C4.66937 3.18868 5.18608 3.09012 5.74817 3.04419C6.28937 2.99998 6.95373 2.99999 7.7587 3Z",fill:"currentColor"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 7C13 6.44772 12.5523 6 12 6C11.4477 6 11 6.44772 11 7V8H8.49999C7.94771 8 7.49999 8.44772 7.49999 9C7.49999 9.55229 7.94771 10 8.49999 10H9.10284C9.3036 10.9808 9.78394 11.8976 10.4167 12.6624C9.94817 12.8813 9.46357 13 8.99999 13C8.44771 13 7.99999 13.4477 7.99999 14C7.99999 14.5523 8.44771 15 8.99999 15C10.0737 15 11.1086 14.6387 12 14.0674C12.8914 14.6387 13.9263 15 15 15C15.5523 15 16 14.5523 16 14C16 13.4477 15.5523 13 15 13C14.5364 13 14.0518 12.8813 13.5833 12.6624C14.2161 11.8976 14.6964 10.9808 14.8971 10H15.5C16.0523 10 16.5 9.55229 16.5 9C16.5 8.44772 16.0523 8 15.5 8H13V7ZM11.1709 10C11.3375 10.4997 11.6211 10.9936 12 11.4384C12.3789 10.9936 12.6625 10.4997 12.8291 10H11.1709Z",fill:"currentColor"})]})}function eZ(e){return(0,r.jsxs)("svg",{...e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M7.04284 17C8.32397 18.2359 10.0895 19 12 19C15.866 19 19 15.866 19 12C19 11.4477 19.4477 11 20 11C20.5523 11 21 11.4477 21 12C21 16.9706 16.9706 21 12 21C9.72351 21 7.60781 20.1537 5.99988 18.7558V20C5.99988 20.5523 5.55216 21 4.99988 21C4.44759 21 3.99988 20.5523 3.99988 20V16.75C3.99988 15.7835 4.78338 15 5.74988 15H8.74988C9.30216 15 9.74988 15.4477 9.74988 16C9.74988 16.5523 9.30216 17 8.74988 17H7.04284Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M5 12C5 12.5523 4.55228 13 4 13C3.44772 13 3 12.5523 3 12C3 7.02944 7.02944 3 12 3C14.282 3 16.4024 3.85036 18.0117 5.25429V4C18.0117 3.44772 18.4594 3 19.0117 3C19.564 3 20.0117 3.44772 20.0117 4V7.25C20.0117 8.2165 19.2282 9 18.2617 9H15.0117C14.4594 9 14.0117 8.55229 14.0117 8C14.0117 7.44771 14.4594 7 15.0117 7H16.9572C15.676 5.76414 13.9105 5 12 5C8.13401 5 5 8.13401 5 12Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M11.0369 10.5662C10.9885 10.663 10.9101 10.7415 10.8133 10.7898L9.52346 11.4348C9.15494 11.619 9.15494 12.1449 9.52346 12.3292L10.8133 12.9741C10.9101 13.0225 10.9885 13.1009 11.0369 13.1977L11.6818 14.4875C11.8661 14.8561 12.392 14.8561 12.5763 14.4875L13.2212 13.1977C13.2695 13.1009 13.348 13.0225 13.4448 12.9741L14.7346 12.3292C15.1031 12.1449 15.1031 11.619 14.7346 11.4348L13.4448 10.7898C13.348 10.7415 13.2695 10.663 13.2212 10.5662L12.5763 9.27639C12.392 8.90787 11.8661 8.90787 11.6818 9.27639L11.0369 10.5662Z",fill:"currentColor"})]})}function eJ(e){return(0,r.jsxs)("svg",{...e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M11.9512 11.2236C12.3439 10.9034 12.924 10.9269 13.29 11.293C13.6558 11.659 13.6785 12.2382 13.3584 12.6309L13.29 12.707C12.7362 13.2609 12.2308 13.6291 11.6484 13.8232C11.2311 13.9623 10.8205 13.9919 10.4453 13.998L10.083 14L9.98047 13.9951C9.47634 13.9439 9.08319 13.5176 9.08301 13C9.08319 12.4824 9.47629 12.057 9.98047 12.0059L10.083 12L10.4277 11.9971C10.7199 11.9914 10.8718 11.974 11.0166 11.9258C11.1842 11.8698 11.4303 11.7386 11.876 11.293L11.9512 11.2236Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M6.79492 6.4502C9.12835 5.80702 11.3201 5.85276 13.6738 6.58789C14.1504 6.73572 14.4998 7.22898 14.5 7.81543V8.77148C14.4997 10.0021 13.5871 10.5 12.5 10.5C11.5945 10.5 10.8534 10.1546 10.6309 9.32812C10.5501 9.02817 10.3106 8.77148 10 8.77148C9.68935 8.77148 9.44993 9.02817 9.36914 9.32812C9.14661 10.1546 8.40547 10.5 7.5 10.5C6.41285 10.5 5.50027 10.0021 5.5 8.77148V7.81543C5.50017 7.2294 5.8501 6.73611 6.32617 6.58789L6.79492 6.4502Z",fill:"currentColor"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 0C10.3306 0 10.6399 0.16345 10.8262 0.436523L11.0117 0.691406C11.4423 1.24422 11.8586 1.51115 12.2471 1.61523C12.691 1.73408 13.2724 1.68678 14.0664 1.30469L14.1807 1.25781C14.4509 1.16675 14.7497 1.19531 15 1.33984C15.2863 1.50513 15.4723 1.80124 15.4971 2.13086C15.5632 3.00972 15.8127 3.53728 16.1377 3.8623C16.4627 4.18733 16.9903 4.43679 17.8691 4.50293C18.1988 4.52773 18.4949 4.71374 18.6602 5C18.8254 5.28628 18.8386 5.63572 18.6953 5.93359C18.3132 6.72761 18.2659 7.30897 18.3848 7.75293C18.5037 8.19691 18.8354 8.67713 19.5635 9.17383C19.8365 9.36012 20 9.66943 20 10C20 10.3306 19.8365 10.6399 19.5635 10.8262C18.8354 11.3229 18.5037 11.8031 18.3848 12.2471C18.2659 12.691 18.3132 13.2724 18.6953 14.0664C18.8386 14.3643 18.8254 14.7137 18.6602 15C18.4949 15.2863 18.1988 15.4723 17.8691 15.4971C16.9903 15.5632 16.4627 15.8127 16.1377 16.1377C15.8127 16.4627 15.5632 16.9903 15.4971 17.8691C15.4723 18.1988 15.2863 18.4949 15 18.6602C14.7137 18.8254 14.3643 18.8386 14.0664 18.6953C13.2724 18.3132 12.691 18.2659 12.2471 18.3848C11.8031 18.5037 11.3229 18.8354 10.8262 19.5635C10.6399 19.8365 10.3306 20 10 20C9.66943 20 9.36012 19.8365 9.17383 19.5635C8.67713 18.8354 8.19691 18.5037 7.75293 18.3848C7.30897 18.2659 6.72761 18.3132 5.93359 18.6953C5.63572 18.8386 5.28628 18.8254 5 18.6602C4.71374 18.4949 4.52773 18.1988 4.50293 17.8691C4.43679 16.9903 4.18733 16.4627 3.8623 16.1377C3.57792 15.8533 3.13844 15.6268 2.44434 15.5303L2.13086 15.4971C1.80124 15.4723 1.50513 15.2863 1.33984 15C1.17456 14.7137 1.16135 14.3643 1.30469 14.0664C1.68678 13.2724 1.73408 12.691 1.61523 12.2471C1.51115 11.8586 1.24422 11.4423 0.691406 11.0117L0.436523 10.8262C0.16345 10.6399 0 10.3306 0 10C0 9.66943 0.16345 9.36012 0.436523 9.17383L0.691406 8.98828C1.24422 8.55766 1.51115 8.14139 1.61523 7.75293C1.73408 7.30897 1.68678 6.72761 1.30469 5.93359C1.16135 5.63572 1.17456 5.28628 1.33984 5C1.50513 4.71374 1.80124 4.52773 2.13086 4.50293C3.00972 4.43679 3.53728 4.18733 3.8623 3.8623C4.18733 3.53728 4.43679 3.00972 4.50293 2.13086L4.51953 2.00879C4.5757 1.72908 4.74956 1.48445 5 1.33984C5.28628 1.17456 5.63572 1.16135 5.93359 1.30469C6.72761 1.68678 7.30897 1.73408 7.75293 1.61523C8.19691 1.49627 8.67713 1.16455 9.17383 0.436523L9.24902 0.338867C9.43753 0.124704 9.71078 0 10 0ZM10 2.54785C9.49887 3.02392 8.92645 3.37127 8.27148 3.54688C7.61611 3.72248 6.94583 3.70779 6.27344 3.5459C6.07743 4.20901 5.75605 4.79668 5.27637 5.27637C4.79668 5.75605 4.20901 6.07743 3.5459 6.27344C3.70779 6.94583 3.72248 7.61611 3.54688 8.27148C3.37127 8.92645 3.02392 9.49887 2.54785 10C3.02392 10.5011 3.37127 11.0736 3.54688 11.7285C3.7224 12.3836 3.70758 13.0535 3.5459 13.7256C4.20912 13.9216 4.79662 14.2439 5.27637 14.7236C5.75583 15.2031 6.07741 15.7904 6.27344 16.4531C6.94576 16.2913 7.61618 16.2775 8.27148 16.4531C8.92601 16.6286 9.49814 16.9756 9.99902 17.4512H10.001C10.5019 16.9756 11.074 16.6286 11.7285 16.4531C12.3835 16.2776 13.0536 16.2915 13.7256 16.4531C13.9216 15.7903 14.2441 15.2032 14.7236 14.7236C15.2032 14.2441 15.7903 13.9216 16.4531 13.7256C16.2915 13.0536 16.2776 12.3835 16.4531 11.7285C16.6286 11.074 16.9756 10.5019 17.4512 10.001V9.99902C16.9756 9.49814 16.6286 8.92601 16.4531 8.27148C16.2775 7.61618 16.2913 6.94576 16.4531 6.27344C15.7904 6.07741 15.2031 5.75583 14.7236 5.27637C14.2439 4.79662 13.9216 4.20912 13.7256 3.5459C13.0535 3.70758 12.3836 3.7224 11.7285 3.54688C11.0736 3.37127 10.5011 3.02392 10 2.54785Z",fill:"currentColor"})]})}function eY(e){return(0,r.jsxs)("svg",{...e,viewBox:"0 0 58 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("rect",{x:"0.5",y:"0.5",width:"57",height:"15",rx:"3.5",stroke:"#7C7C87"}),(0,r.jsx)("g",{"clip-path":"url(#clip0_536_4044)",children:(0,r.jsx)("path",{d:"M10 5.875V8L11.375 9.375M14.625 8C14.625 10.5543 12.5543 12.625 10 12.625C7.44568 12.625 5.375 10.5543 5.375 8C5.375 5.44568 7.44568 3.375 10 3.375C12.5543 3.375 14.625 5.44568 14.625 8Z",stroke:"#7C7C87","stroke-linecap":"round","stroke-linejoin":"round"})}),(0,r.jsx)("path",{d:"M18.711 11V4.637H19.836V9.974H23.148V11H18.711ZM23.9932 11V4.637H25.1182V11H23.9932ZM26.5421 11V4.637H28.0811L29.8451 7.85L31.5911 4.637H33.0851V11H31.9601V6.059L30.0611 9.497H29.5841L27.6671 6.059V11H26.5421ZM34.5049 11V4.637H35.6299V11H34.5049ZM38.4218 11V5.663H36.4328V4.637H41.5268V5.663H39.5378V11H38.4218ZM42.3272 11V4.637H46.8182V5.663H43.4522V7.337H46.3772V8.345H43.4522V9.974H46.8182V11H42.3272ZM47.8907 11V4.637H50.2397C50.9057 4.637 51.4697 4.766 51.9317 5.024C52.3937 5.276 52.7447 5.642 52.9847 6.122C53.2307 6.596 53.3537 7.166 53.3537 7.832C53.3537 8.486 53.2337 9.05 52.9937 9.524C52.7597 9.998 52.4117 10.364 51.9497 10.622C51.4877 10.874 50.9207 11 50.2487 11H47.8907ZM49.0157 9.974H50.2217C50.6957 9.974 51.0767 9.884 51.3647 9.704C51.6587 9.518 51.8717 9.266 52.0037 8.948C52.1417 8.624 52.2107 8.249 52.2107 7.823C52.2107 7.409 52.1447 7.04 52.0127 6.716C51.8807 6.392 51.6677 6.137 51.3737 5.951C51.0857 5.759 50.7047 5.663 50.2307 5.663H49.0157V9.974Z",fill:"#7C7C87"}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_536_4044",children:(0,r.jsx)("rect",{width:"12",height:"12",fill:"white",transform:"translate(4 2)"})})})]})}function eX(e){return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0002 18.707C10.5544 19.6829 9.12113 20.3884 7.83903 20.7276C6.44616 21.096 4.91911 21.1026 3.9084 20.0919C2.89577 19.0793 2.90419 17.5484 3.27502 16.1527C3.61503 14.8729 4.31946 13.4428 5.29334 12.0001C4.31742 10.5543 3.61193 9.12101 3.27275 7.83891C2.90426 6.44603 2.89769 4.91899 3.9084 3.90828C4.92103 2.89565 6.45186 2.90406 7.84762 3.2749C9.12735 3.61491 10.5574 4.31933 12.0002 5.29321C12.9393 4.6593 13.8643 4.14546 14.7394 3.77046C15.7438 3.33997 16.7313 3.07131 17.6269 3.04632C18.5254 3.02125 19.4271 3.24335 20.092 3.90828C21.1027 4.91899 21.0962 6.44603 20.7277 7.8389C20.3885 9.121 19.683 10.5543 18.7071 12.0001C19.341 12.9392 19.8548 13.8642 20.2298 14.7392C20.6603 15.7437 20.929 16.7312 20.954 17.6268C20.9791 18.5253 20.7569 19.427 20.092 20.0919C19.0813 21.1026 17.5543 21.096 16.1614 20.7276C14.8793 20.3884 13.446 19.6829 12.0002 18.707ZM11.3963 16.6894C9.88313 17.7824 8.46351 18.4935 7.32752 18.7941C6.13477 19.1096 5.5531 18.9082 5.32261 18.6777C5.09162 18.4467 4.89 17.863 5.20796 16.6662C5.43465 15.813 5.89245 14.8005 6.56902 13.709C7.10691 14.3659 7.69886 15.0207 8.33922 15.6611C8.72975 16.0516 9.36291 16.0516 9.75344 15.6611C10.144 15.2706 10.144 14.6374 9.75344 14.2469C8.82585 13.3193 8.01412 12.3654 7.33696 11.4322C7.3284 11.4198 7.31953 11.4075 7.31036 11.3954C6.21769 9.88258 5.50671 8.46321 5.20623 7.3274C4.89068 6.13465 5.09213 5.55298 5.32262 5.32249C5.55361 5.0915 6.1373 4.88987 7.33406 5.20784C8.18729 5.43453 9.19982 5.89233 10.2914 6.56891C9.63285 7.10807 8.97806 7.70026 8.33922 8.3391C7.9487 8.72962 7.9487 9.36278 8.33922 9.75331C8.72975 10.1438 9.36291 10.1438 9.75344 9.75331C10.6847 8.82206 11.6386 8.01127 12.5681 7.33688C12.5805 7.32829 12.5928 7.3194 12.6049 7.31021C13.6309 6.5692 14.6262 5.99489 15.5272 5.60875C16.3936 5.23742 17.1241 5.06112 17.6827 5.04554C18.2384 5.03003 18.527 5.17173 18.6778 5.32249C18.9083 5.55298 19.1097 6.13464 18.7942 7.32739C18.5682 8.18184 18.1098 9.19676 17.4314 10.2912C16.8922 9.63273 16.3 8.97794 15.6612 8.3391C15.2707 7.94857 14.6375 7.94857 14.247 8.3391C13.8565 8.72962 13.8565 9.36279 14.247 9.75331C16.2193 11.7256 17.6512 13.7997 18.3916 15.5271C18.7629 16.3935 18.9392 17.124 18.9548 17.6826C18.9703 18.2383 18.8286 18.5269 18.6778 18.6777C18.4473 18.9082 17.8657 19.1096 16.6729 18.7941C15.8185 18.568 14.8036 18.1097 13.7091 17.4313C14.366 16.8934 15.0208 16.3014 15.6612 15.6611C16.0517 15.2706 16.0517 14.6374 15.6612 14.2469C15.2707 13.8563 14.6375 13.8563 14.247 14.2469C13.3075 15.1864 12.3409 16.0071 11.3963 16.6894Z",fill:"currentColor"})})}function eQ(e){return(0,r.jsxs)("svg",{viewBox:"0 0 45 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",...e,children:[(0,r.jsx)("rect",{x:"0.5",y:"1",width:"44",height:"15",rx:"3.5",stroke:"#7C7C87"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 5.875C7.5 5.66789 7.66789 5.5 7.875 5.5H12.125C12.3321 5.5 12.5 5.66789 12.5 5.875C12.5 6.08211 12.3321 6.25 12.125 6.25H12V7.86629C12.1194 8.00963 12.2527 8.1588 12.3958 8.31774C12.4112 8.33484 12.4267 8.35205 12.4423 8.36937C12.6035 8.54833 12.7748 8.73846 12.94 8.93544C13.3002 9.36505 13.657 9.85631 13.8547 10.4095C13.9448 10.662 14 10.9291 14 11.2081C14 12.4739 12.9739 13.5 11.7081 13.5H8.29188C7.02611 13.5 6 12.4739 6 11.2081C6 10.9291 6.05516 10.662 6.14535 10.4095C6.34301 9.85631 6.69982 9.36505 7.06005 8.93544C7.22521 8.73846 7.39649 8.54833 7.5577 8.36937C7.5733 8.35206 7.5888 8.33484 7.6042 8.31774C7.74728 8.1588 7.88058 8.00963 8 7.86629V6.25H7.875C7.66789 6.25 7.5 6.08211 7.5 5.875ZM8.75 6.25V8.13154L8.66783 8.23426C8.51305 8.42774 8.3371 8.62458 8.16162 8.81952C8.14641 8.83642 8.13119 8.85331 8.11598 8.8702C7.95335 9.05075 7.7909 9.23111 7.63475 9.41733C7.46273 9.62248 7.30478 9.82746 7.17085 10.0345C7.1871 10.0319 7.20351 10.0294 7.22008 10.0269C7.6673 9.95864 8.24651 9.88941 8.71536 9.90192C9.28335 9.91707 9.71495 10.0529 10.1021 10.1747L10.1126 10.178C10.502 10.3005 10.8469 10.4076 11.3046 10.4198C11.7032 10.4304 12.2275 10.3702 12.6668 10.3031C12.7726 10.287 12.8721 10.2707 12.962 10.2553C12.8054 9.97266 12.5982 9.69515 12.3652 9.41733C12.2091 9.23111 12.0467 9.05075 11.884 8.87021C11.8688 8.85331 11.8536 8.83642 11.8384 8.81952C11.6629 8.62458 11.487 8.42774 11.3322 8.23426L11.25 8.13154V6.25H8.75Z",fill:"#8E8E8E"}),(0,r.jsx)("path",{d:"M9.5 4.5C9.5 4.77614 9.27614 5 9 5C8.72386 5 8.5 4.77614 8.5 4.5C8.5 4.22386 8.72386 4 9 4C9.27614 4 9.5 4.22386 9.5 4.5Z",fill:"#8E8E8E"}),(0,r.jsx)("path",{d:"M11.5 3.75C11.5 4.16421 11.1642 4.5 10.75 4.5C10.3358 4.5 10 4.16421 10 3.75C10 3.33579 10.3358 3 10.75 3C11.1642 3 11.5 3.33579 11.5 3.75Z",fill:"#8E8E8E"}),(0,r.jsx)("path",{d:"M18.702 11.5V5.137H21.312C21.606 5.137 21.876 5.164 22.122 5.218C22.374 5.266 22.59 5.353 22.77 5.479C22.956 5.605 23.1 5.773 23.202 5.983C23.304 6.193 23.355 6.454 23.355 6.766C23.355 7.054 23.289 7.318 23.157 7.558C23.025 7.792 22.83 7.969 22.572 8.089C22.92 8.179 23.187 8.353 23.373 8.611C23.559 8.863 23.652 9.193 23.652 9.601C23.652 9.967 23.583 10.273 23.445 10.519C23.313 10.759 23.127 10.951 22.887 11.095C22.653 11.239 22.38 11.344 22.068 11.41C21.756 11.47 21.423 11.5 21.069 11.5H18.702ZM19.827 10.474H21.168C21.336 10.474 21.501 10.462 21.663 10.438C21.825 10.414 21.972 10.372 22.104 10.312C22.236 10.252 22.338 10.165 22.41 10.051C22.488 9.931 22.527 9.778 22.527 9.592C22.527 9.424 22.497 9.286 22.437 9.178C22.377 9.07 22.293 8.986 22.185 8.926C22.083 8.86 21.96 8.815 21.816 8.791C21.672 8.761 21.522 8.746 21.366 8.746H19.827V10.474ZM19.827 7.801H21.015C21.201 7.801 21.369 7.783 21.519 7.747C21.669 7.711 21.798 7.657 21.906 7.585C22.014 7.507 22.098 7.414 22.158 7.306C22.218 7.192 22.248 7.054 22.248 6.892C22.248 6.682 22.2 6.526 22.104 6.424C22.008 6.316 21.876 6.247 21.708 6.217C21.546 6.181 21.363 6.163 21.159 6.163H19.827V7.801ZM24.7315 11.5V5.137H29.2225V6.163H25.8565V7.837H28.7815V8.845H25.8565V10.474H29.2225V11.5H24.7315ZM31.663 11.5V6.163H29.674V5.137H34.768V6.163H32.779V11.5H31.663ZM34.3749 11.5L36.8139 5.137H38.1549L40.5849 11.5H39.3699L38.9469 10.321H36.0129L35.5809 11.5H34.3749ZM36.3729 9.304H38.5779L37.4799 6.271L36.3729 9.304Z",fill:"#7C7C87"})]})}function e0(e){return(0,r.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("mask",{id:"centerMask",children:[(0,r.jsx)("rect",{width:"40",height:"40",fill:"white"}),(0,r.jsx)("circle",{cx:"20",cy:"20",r:"10",fill:"black"})]})}),(0,r.jsxs)("g",{mask:"url(#centerMask)",children:[(0,r.jsxs)("circle",{cx:"20",cy:"20",r:"10",className:"fill-current",children:[(0,r.jsx)("animate",{attributeName:"r",values:"10;25",dur:"3s",repeatCount:"indefinite"}),(0,r.jsx)("animate",{attributeName:"opacity",values:"0.4;0",dur:"3s",repeatCount:"indefinite"})]}),(0,r.jsxs)("circle",{cx:"20",cy:"20",r:"10",className:"fill-current",children:[(0,r.jsx)("animate",{attributeName:"r",values:"10;25",dur:"3s",begin:"1.5s",repeatCount:"indefinite"}),(0,r.jsx)("animate",{attributeName:"opacity",values:"0.4;0",dur:"3s",begin:"1.5s",repeatCount:"indefinite"})]})]}),(0,r.jsx)("circle",{cx:"20",cy:"20",r:"10",className:"fill-current",opacity:"0.7"})]})}function e1(e){return(0,r.jsxs)("svg",{width:"20",height:"8",viewBox:"0 0 20 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M15.9014 5.53904V4.55528H20.0004V5.53904H15.9014ZM17.4306 2.99335H18.4802V7.09234H17.4306V2.99335Z",fill:"white"}),(0,r.jsx)("mask",{id:"mask0_330_10203",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"1",width:"15",height:"7",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.91191 6.34992C2.74035 6.42185 2.55575 6.45749 2.36973 6.4546C2.16388 6.45806 1.96088 6.40616 1.78197 6.30437C1.60953 6.2048 1.46769 6.05995 1.3718 5.88552C1.26927 5.69709 1.21746 5.48528 1.22146 5.27083C1.21607 5.05623 1.26796 4.84406 1.3718 4.65615C1.47004 4.48578 1.61152 4.34436 1.78197 4.24617C1.96104 4.14483 2.16397 4.09314 2.36973 4.09649C2.55216 4.0943 2.73322 4.12828 2.90243 4.19647C3.06046 4.26152 3.20201 4.36095 3.31676 4.48754L4.08209 3.71372C3.87236 3.47908 3.61429 3.29259 3.32563 3.16707C3.02356 3.03759 2.69778 2.97251 2.36912 2.97599C1.94688 2.97063 1.53058 3.07588 1.16166 3.28126C0.804024 3.47683 0.506766 3.76649 0.302057 4.11886C0.0973576 4.47124 -0.00699337 4.87289 0.00036382 5.2803C-0.00571092 5.68506 0.0988714 6.08382 0.30278 6.4336C0.506689 6.78336 0.802221 7.07081 1.15753 7.26514C1.52841 7.46882 1.94599 7.57243 2.36912 7.56569C2.69778 7.56916 3.02356 7.50406 3.32563 7.37464C3.61966 7.24511 3.88351 7.05598 4.10041 6.81909L3.32563 6.04466C3.21279 6.17658 3.07128 6.28097 2.91191 6.34992ZM6.22992 6.05412C6.12993 6.05057 6.03032 6.06819 5.93756 6.10581C5.8449 6.14342 5.76111 6.20017 5.69187 6.2724C5.55717 6.41906 5.48244 6.61079 5.48244 6.80994C5.48244 7.00899 5.55717 7.20082 5.69187 7.34738C5.76111 7.41961 5.8449 7.47633 5.93756 7.51398C6.03032 7.55163 6.12993 7.56926 6.22992 7.56569C6.32837 7.56839 6.42624 7.55038 6.51727 7.51283C6.6082 7.47517 6.69025 7.41884 6.75794 7.34738C6.89265 7.20082 6.96737 7.00899 6.96737 6.80994C6.96737 6.61079 6.89265 6.41906 6.75794 6.2724C6.69025 6.20094 6.6082 6.14461 6.51727 6.107C6.42624 6.06938 6.32837 6.05136 6.22992 6.05412ZM10.6597 3.17654C10.8197 3.25749 10.9646 3.36558 11.0876 3.496L11.0859 3.07655H12.2697V7.47633H11.0859V7.0504C10.9619 7.1803 10.8173 7.28883 10.6579 7.37165C10.3957 7.50531 10.1046 7.57253 9.81036 7.56743C9.42755 7.57263 9.0514 7.46834 8.72596 7.26688C8.40458 7.06706 8.14337 6.78394 7.9701 6.44757C7.79026 6.08365 7.69664 5.68323 7.69664 5.27734C7.69664 4.87145 7.79026 4.47103 7.9701 4.10713C8.14327 3.77067 8.40449 3.48748 8.72596 3.28777C9.05169 3.0854 9.42861 2.98049 9.81209 2.98545C10.1059 2.98023 10.3966 3.04578 10.6597 3.17654ZM10.0305 6.46413C10.3643 6.46374 10.6346 6.3529 10.8414 6.13162H10.8396C11.0464 5.90997 11.1504 5.62304 11.1515 5.27083C11.1556 5.05744 11.107 4.84635 11.0101 4.65615C10.9211 4.48276 10.7854 4.33767 10.6182 4.23729C10.4398 4.13433 10.2365 4.08235 10.0305 4.08703C9.82762 4.08303 9.62754 4.13502 9.45224 4.23729C9.28513 4.33767 9.14937 4.48276 9.06037 4.65615C8.96375 4.8464 8.91534 5.05749 8.91949 5.27083C8.91477 5.48726 8.96307 5.70156 9.06037 5.89498C9.14956 6.06826 9.28523 6.21327 9.45224 6.31381C9.62754 6.41608 9.82762 6.46808 10.0305 6.46413ZM14.5301 3.07596H13.3273V7.47459H14.5301V3.07596ZM14.1935 2.32028C14.1094 2.35403 14.0192 2.36962 13.9287 2.36604C13.8391 2.36873 13.7499 2.35269 13.6669 2.31898C13.5837 2.28525 13.5087 2.23459 13.4463 2.17022C13.3233 2.03871 13.2549 1.86541 13.2549 1.68539C13.2549 1.50537 13.3233 1.33207 13.4463 1.20057C13.5751 1.07214 13.7495 1 13.9313 1C14.1133 1 14.2877 1.07214 14.4165 1.20057C14.5368 1.33341 14.6034 1.5062 14.6034 1.68539C14.6034 1.86458 14.5368 2.03738 14.4165 2.17022C14.3536 2.23539 14.2776 2.28653 14.1935 2.32028Z",fill:"#1F1F1F"})}),(0,r.jsx)("g",{mask:"url(#mask0_330_10203)",children:(0,r.jsx)("rect",{x:"-34.6729",y:"-1.71054",width:"50.0595",height:"12.0923",fill:"white"})})]})}function e2(e){return(0,r.jsxs)("svg",{width:"24",height:"10",viewBox:"0 0 24 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_328_10162)",children:[(0,r.jsx)("path",{d:"M19.0811 6.44675V5.26627H23.9997V6.44675H19.0811ZM20.9161 3.392H22.1756V8.31066H20.9161V3.392Z",fill:"white"}),(0,r.jsx)("mask",{id:"mask0_328_10162",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"1",width:"18",height:"8",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.4942 7.41973C3.28834 7.50605 3.06682 7.54881 2.8436 7.54534C2.59659 7.5495 2.35299 7.48722 2.13831 7.36507C1.93139 7.24559 1.76119 7.07178 1.64612 6.86246C1.52309 6.63636 1.46092 6.38219 1.46571 6.12486C1.45925 5.86734 1.52151 5.61275 1.64612 5.38727C1.764 5.18283 1.93377 5.01312 2.13831 4.8953C2.35319 4.77369 2.59669 4.71167 2.8436 4.71569C3.06251 4.71306 3.27977 4.75384 3.48283 4.83566C3.67246 4.91372 3.8423 5.03303 3.98 5.18494L4.89838 4.25638C4.6467 3.97482 4.33703 3.75103 3.99065 3.60042C3.62818 3.44504 3.23725 3.36695 2.84287 3.37112C2.33619 3.3647 1.83665 3.49099 1.39396 3.73743C0.964802 3.97212 0.608103 4.3197 0.362459 4.74254C0.116826 5.16538 -0.00839182 5.64735 0.000436572 6.13622C-0.00685293 6.62192 0.118642 7.10042 0.363327 7.52015C0.608011 7.93985 0.962639 8.28478 1.38899 8.51797C1.83405 8.76237 2.33512 8.88671 2.84287 8.87862C3.23725 8.88278 3.62818 8.80467 3.99065 8.64936C4.34347 8.49394 4.66008 8.26698 4.92036 7.98272L3.99065 7.05343C3.85524 7.21173 3.68544 7.33699 3.4942 7.41973ZM7.47571 7.06478C7.35572 7.06053 7.23619 7.08166 7.12488 7.12681C7.01369 7.17194 6.91314 7.24004 6.83006 7.32671C6.66842 7.5027 6.57875 7.73277 6.57875 7.97174C6.57875 8.21059 6.66842 8.44078 6.83006 8.61666C6.91314 8.70332 7.01369 8.77138 7.12488 8.81657C7.23619 8.86175 7.35572 8.8829 7.47571 8.87862C7.59384 8.88186 7.71128 8.86025 7.82051 8.81518C7.92962 8.77 8.02809 8.7024 8.10931 8.61666C8.27095 8.44078 8.36062 8.21059 8.36062 7.97174C8.36062 7.73277 8.27095 7.5027 8.10931 7.32671C8.02809 7.24097 7.92962 7.17337 7.82051 7.12823C7.71128 7.08309 7.59384 7.06147 7.47571 7.06478ZM12.7912 3.61178C12.9833 3.70891 13.1571 3.83863 13.3048 3.99512L13.3027 3.4918H14.7232V8.77139H13.3027V8.26028C13.1539 8.41617 12.9804 8.5464 12.7892 8.64578C12.4744 8.80617 12.1252 8.88683 11.7721 8.8807C11.3128 8.88694 10.8614 8.76179 10.4709 8.52005C10.0852 8.28027 9.77178 7.94054 9.56386 7.5369C9.34807 7.10022 9.23571 6.61973 9.23571 6.13267C9.23571 5.64562 9.34807 5.16512 9.56386 4.72846C9.77167 4.32471 10.0851 3.9849 10.4709 3.74524C10.8617 3.50242 11.314 3.37653 11.7742 3.38248C12.1268 3.37622 12.4756 3.45487 12.7912 3.61178ZM12.0363 7.55678C12.4368 7.55632 12.7612 7.42331 13.0094 7.15778H13.0072C13.2554 6.8918 13.3801 6.54749 13.3815 6.12486C13.3863 5.8688 13.328 5.6155 13.2117 5.38727C13.1049 5.1792 12.9421 5.0051 12.7415 4.88465C12.5274 4.76109 12.2834 4.69872 12.0363 4.70433C11.7928 4.69954 11.5527 4.76193 11.3424 4.88465C11.1419 5.0051 10.9789 5.1792 10.8721 5.38727C10.7562 5.61556 10.6981 5.86886 10.7031 6.12486C10.6974 6.38457 10.7554 6.64172 10.8721 6.87382C10.9792 7.08175 11.142 7.25576 11.3424 7.3764C11.5527 7.49912 11.7928 7.56152 12.0363 7.55678ZM17.4356 3.49109H15.9924V8.76931H17.4356V3.49109ZM17.0318 2.58429C16.9309 2.62479 16.8226 2.6435 16.714 2.6392C16.6064 2.64243 16.4994 2.62319 16.3998 2.58273C16.3 2.54226 16.21 2.48147 16.1352 2.40422C15.9875 2.24642 15.9055 2.03846 15.9055 1.82244C15.9055 1.60642 15.9875 1.39847 16.1352 1.24068C16.2896 1.08656 16.4989 1 16.7172 1C16.9355 1 17.1448 1.08656 17.2993 1.24068C17.4437 1.40008 17.5236 1.60742 17.5236 1.82244C17.5236 2.03747 17.4437 2.24482 17.2993 2.40422C17.2238 2.48243 17.1327 2.54379 17.0318 2.58429Z",fill:"#1F1F1F"})}),(0,r.jsx)("g",{mask:"url(#mask0_328_10162)",children:(0,r.jsx)("rect",{x:"-41.6064",y:"-2.25241",width:"60.0698",height:"14.5104",fill:"white"})})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_328_10162",children:(0,r.jsx)("rect",{width:"24",height:"10",fill:"white"})})})]})}function e3(e){return(0,r.jsxs)("svg",{width:"28",height:"12",viewBox:"0 0 28 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M22.041 7.22032V5.87221H27.6582V7.22032H22.041ZM24.1366 3.73178H25.575V9.34892H24.1366V3.73178Z",fill:"white"}),(0,r.jsx)("mask",{id:"mask0_328_10176",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"1",width:"21",height:"10",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.24039 8.33136C4.00529 8.42994 3.75232 8.47877 3.4974 8.47481C3.21531 8.47956 2.93712 8.40843 2.69196 8.26894C2.45566 8.13249 2.26128 7.934 2.12987 7.69496C1.98937 7.43674 1.91837 7.14649 1.92384 6.85261C1.91647 6.55853 1.98757 6.26778 2.12987 6.01028C2.26449 5.77681 2.45838 5.583 2.69196 5.44845C2.93735 5.30957 3.21543 5.23875 3.4974 5.24334C3.7474 5.24033 3.99552 5.2869 4.2274 5.38034C4.44396 5.46949 4.63793 5.60574 4.79518 5.77922L5.84397 4.7188C5.55656 4.39726 5.20291 4.14169 4.80734 3.96969C4.39339 3.79225 3.94696 3.70307 3.49657 3.70783C2.91794 3.70049 2.34746 3.84472 1.84191 4.12616C1.35181 4.39417 0.944457 4.79111 0.66393 5.27399C0.383416 5.75688 0.240417 6.30729 0.250499 6.86558C0.242174 7.42026 0.38549 7.9667 0.664921 8.44604C0.944351 8.92534 1.34934 9.31925 1.83624 9.58556C2.34449 9.86466 2.91672 10.0067 3.49657 9.99742C3.94696 10.0022 4.39339 9.91296 4.80734 9.7356C5.21027 9.55811 5.57183 9.29893 5.86908 8.9743L4.80734 7.91304C4.6527 8.09382 4.45879 8.23687 4.24039 8.33136ZM8.78729 7.926C8.65026 7.92115 8.51376 7.94528 8.38665 7.99684C8.25966 8.04839 8.14484 8.12615 8.04996 8.22513C7.86537 8.42611 7.76296 8.68885 7.76296 8.96176C7.76296 9.23453 7.86537 9.4974 8.04996 9.69826C8.14484 9.79723 8.25966 9.87496 8.38665 9.92655C8.51376 9.97815 8.65026 10.0023 8.78729 9.99742C8.9222 10.0011 9.05632 9.97644 9.18106 9.92497C9.30566 9.87337 9.41811 9.79617 9.51087 9.69826C9.69547 9.4974 9.79787 9.23453 9.79787 8.96176C9.79787 8.68885 9.69547 8.42611 9.51087 8.22513C9.41811 8.12721 9.30566 8.05001 9.18106 7.99847C9.05632 7.94692 8.9222 7.92223 8.78729 7.926ZM14.8577 3.98266C15.077 4.09359 15.2755 4.24172 15.4441 4.42044L15.4417 3.84564H17.064V9.87496H15.4417V9.29128C15.2718 9.4693 15.0737 9.61802 14.8553 9.73151C14.4959 9.91468 14.0971 10.0068 13.6938 9.9998C13.1692 10.0069 12.6537 9.864 12.2078 9.58793C11.7674 9.31411 11.4094 8.92613 11.172 8.46517C10.9255 7.96648 10.7972 7.41775 10.7972 6.86153C10.7972 6.30531 10.9255 5.75659 11.172 5.25792C11.4093 4.79683 11.7672 4.40876 12.2078 4.13508C12.6541 3.85777 13.1707 3.71401 13.6962 3.7208C14.0988 3.71365 14.4972 3.80347 14.8577 3.98266ZM13.9955 8.48787C14.4529 8.48734 14.8233 8.33545 15.1067 8.03221H15.1042C15.3877 7.72847 15.5301 7.33526 15.5317 6.85261C15.5372 6.56019 15.4707 6.27092 15.3379 6.01028C15.2159 5.77266 15.03 5.57384 14.8008 5.43628C14.5564 5.29519 14.2777 5.22395 13.9955 5.23037C13.7175 5.22489 13.4433 5.29614 13.203 5.43628C12.9741 5.57384 12.788 5.77266 12.666 6.01028C12.5336 6.27099 12.4673 6.56026 12.473 6.85261C12.4665 7.14921 12.5327 7.44287 12.666 7.70793C12.7883 7.94539 12.9742 8.1441 13.203 8.28187C13.4433 8.42202 13.7175 8.49328 13.9955 8.48787ZM20.1615 3.84484H18.5134V9.87258H20.1615V3.84484ZM19.7004 2.80927C19.5851 2.85552 19.4615 2.87689 19.3375 2.87198C19.2146 2.87566 19.0924 2.85369 18.9786 2.80749C18.8647 2.76127 18.7619 2.69185 18.6764 2.60363C18.5078 2.42342 18.4141 2.18593 18.4141 1.93924C18.4141 1.69254 18.5078 1.45506 18.6764 1.27486C18.8528 1.09886 19.0919 1 19.3411 1C19.5904 1 19.8295 1.09886 20.0059 1.27486C20.1708 1.45689 20.2621 1.69367 20.2621 1.93924C20.2621 2.1848 20.1708 2.42159 20.0059 2.60363C19.9197 2.69294 19.8156 2.76301 19.7004 2.80927Z",fill:"#1F1F1F"})}),(0,r.jsx)("g",{mask:"url(#mask0_328_10176)",children:(0,r.jsx)("rect",{x:"-47.2646",y:"-2.71429",width:"68.6",height:"16.5709",fill:"white"})})]})}function e4(e){return(0,r.jsx)("svg",{viewBox:"0 0 20 20",fill:"none",...e,children:(0,r.jsx)("path",{d:"M16 7.25H10.75V2L4 11.75H9.25V17L16 7.25Z",fill:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})})}function e5(e){return(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M5.22287 3C3.45737 3 2.00006 4.40277 2.00006 6.165V14.4983C2.00006 16.2606 3.45737 17.6633 5.22287 17.6633H9.48588C9.85315 17.6633 10.1509 17.3656 10.1509 16.9983C10.1509 16.6311 9.85315 16.3333 9.48588 16.3333H5.22287C4.16309 16.3333 3.33006 15.4975 3.33006 14.4983V13.9449L4.73165 12.575C5.47212 11.8513 6.67882 11.8513 7.41929 12.575L9.02106 14.1406C9.28371 14.3973 9.70474 14.3925 9.96145 14.1298C10.2182 13.8672 10.2134 13.4461 9.9507 13.1894L8.34894 11.6239C7.09164 10.395 5.05931 10.395 3.80201 11.6239L3.33006 12.0851V6.165C3.33006 5.16581 4.16309 4.33 5.22287 4.33H13.7489C14.8087 4.33 15.6417 5.16581 15.6417 6.165V9.49833C15.6417 9.8656 15.9394 10.1633 16.3067 10.1633C16.674 10.1633 16.9717 9.8656 16.9717 9.49833V6.165C16.9717 4.40277 15.5144 3 13.7489 3H5.22287ZM10.5772 8.24833C10.5772 7.70938 11.0285 7.24667 11.6174 7.24667C12.2063 7.24667 12.6576 7.70938 12.6576 8.24833C12.6576 8.78729 12.2063 9.25 11.6174 9.25C11.0285 9.25 10.5772 8.78729 10.5772 8.24833ZM11.6174 5.91667C10.3228 5.91667 9.24718 6.94634 9.24718 8.24833C9.24718 9.55033 10.3228 10.58 11.6174 10.58C12.912 10.58 13.9876 9.55033 13.9876 8.24833C13.9876 6.94634 12.912 5.91667 11.6174 5.91667ZM15.4391 12.3317C15.4391 11.9644 15.1414 11.6667 14.7741 11.6667C14.4068 11.6667 14.1091 11.9644 14.1091 12.3317V14.1667H12.2167C11.8494 14.1667 11.5517 14.4644 11.5517 14.8317C11.5517 15.1989 11.8494 15.4967 12.2167 15.4967H14.1091V17.3317C14.1091 17.6989 14.4068 17.9967 14.7741 17.9967C15.1414 17.9967 15.4391 17.6989 15.4391 17.3317V15.4967H17.3315C17.6988 15.4967 17.9965 15.1989 17.9965 14.8317C17.9965 14.4644 17.6988 14.1667 17.3315 14.1667H15.4391V12.3317Z"})})}n(2784);let e6=e=>(0,r.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.36817 2.15904C8.80648 1.53288 9.68606 1.30654 10.373 1.77886C11.0867 2.26962 12.321 3.21814 13.3833 4.54968C14.4451 5.88057 15.375 7.64559 15.375 9.74991C15.375 13.4979 12.5608 16.4999 9 16.4999C5.43917 16.4999 2.625 13.4979 2.625 9.74991C2.625 8.22339 3.28056 6.27296 4.55815 4.71578C5.1179 4.03353 6.08375 4.07422 6.64805 4.61635L8.36817 2.15904ZM9 14.9999C10.0873 14.9999 10.9688 13.9938 10.9688 12.7527C10.9688 11.4208 9.93286 10.4412 9.3639 10.0036C9.14667 9.83651 8.85333 9.83651 8.6361 10.0036C8.06714 10.4412 7.03125 11.4208 7.03125 12.7527C7.03125 13.9938 7.91269 14.9999 9 14.9999Z",fill:"url(#paint0_linear_1396_134)"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_1396_134",x1:"9",y1:"-0.5",x2:"9",y2:"16.4999",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#EAC018"}),(0,r.jsx)("stop",{offset:"0.323531",stopColor:"#EA8F18"}),(0,r.jsx)("stop",{offset:"0.632692",stopColor:"#EA1818"})]})})]}),e8=e=>(0,r.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{opacity:"0.65",fillRule:"evenodd",clipRule:"evenodd",d:"M11.25 5.25C11.25 4.83579 11.5858 4.5 12 4.5H15.75C16.1642 4.5 16.5 4.83579 16.5 5.25V9C16.5 9.41421 16.1642 9.75 15.75 9.75C15.3358 9.75 15 9.41421 15 9V7.06066L11.341 10.7197C10.4623 11.5983 9.03769 11.5983 8.15901 10.7197L7.28033 9.84099C6.98744 9.5481 6.51256 9.5481 6.21967 9.84099L2.78033 13.2803C2.48744 13.5732 2.01256 13.5732 1.71967 13.2803C1.42678 12.9874 1.42678 12.5126 1.71967 12.2197L5.15901 8.78033C6.03769 7.90165 7.46231 7.90165 8.34099 8.78033L9.21967 9.65901C9.51256 9.9519 9.98744 9.9519 10.2803 9.65901L13.9393 6H12C11.5858 6 11.25 5.66421 11.25 5.25Z",fill:"currentColor"})}),e7=e=>{let{stroke:t,...n}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"16",viewBox:"0 0 13 16",fill:"none",...n,children:(0,r.jsx)("path",{d:"M4.25 1.625H2.375C1.54657 1.625 0.875 2.29657 0.875 3.125V12.875C0.875 13.7034 1.54657 14.375 2.375 14.375H4.25M4.25 1.625H10.625C11.4534 1.625 12.125 2.29657 12.125 3.125V12.875C12.125 13.7034 11.4534 14.375 10.625 14.375H4.25M4.25 1.625V14.375M7.25 5H9.125M7.25 8H9.125",stroke:null!=t?t:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})};function e9(e){let{stroke:t,...n}=e;return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:(0,r.jsx)("path",{d:"M14 7H4M14 7C14 5.3425 15.3425 4 17 4C18.6575 4 20 5.3425 20 7C20 8.6575 18.6575 10 17 10C15.3425 10 14 8.6575 14 7ZM20 17H12M12 17C12 18.6575 10.6575 20 9 20C7.3425 20 6 18.6575 6 17M12 17C12 15.3425 10.6575 14 9 14C7.3425 14 6 15.3425 6 17M6 17H4",stroke:null!=t?t:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function te(e){let{stroke:t,...n}=e;return(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 4.89543 2.89543 4 4 4H20C21.1046 4 22 4.89543 22 6V9.17071C22 9.59452 21.7328 9.97231 21.3332 10.1135C20.5551 10.3886 20 11.1307 20 12C20 12.8693 20.5551 13.6114 21.3332 13.8865C21.7328 14.0277 22 14.4055 22 14.8293V18C22 19.1046 21.1046 20 20 20H4C2.89543 20 2 19.1046 2 18V14.8293C2 14.4055 2.26716 14.0277 2.66675 13.8865C3.4449 13.6114 4 12.8693 4 12C4 11.1307 3.4449 10.3886 2.66675 10.1135C2.26716 9.97231 2 9.59452 2 9.17071V6ZM20 6H4V8.53543C5.1948 9.22657 6 10.5183 6 12C6 13.4817 5.1948 14.7734 4 15.4646V18H20V15.4646C18.8052 14.7734 18 13.4817 18 12C18 10.5183 18.8052 9.22657 20 8.53543V6Z",fill:null!=t?t:"currentColor"}),(0,r.jsx)("path",{d:"M14 8C14 7.44772 14.4477 7 15 7C15.5523 7 16 7.44772 16 8C16 8.55228 15.5523 9 15 9C14.4477 9 14 8.55228 14 8Z",fill:null!=t?t:"currentColor"}),(0,r.jsx)("path",{d:"M14 12C14 11.4477 14.4477 11 15 11C15.5523 11 16 11.4477 16 12C16 12.5523 15.5523 13 15 13C14.4477 13 14 12.5523 14 12Z",fill:null!=t?t:"currentColor"}),(0,r.jsx)("path",{d:"M14 16C14 15.4477 14.4477 15 15 15C15.5523 15 16 15.4477 16 16C16 16.5523 15.5523 17 15 17C14.4477 17 14 16.5523 14 16Z",fill:null!=t?t:"currentColor"})]})}function tt(e){let{...t}=e;return(0,r.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.460562 2.95147C0.454297 1.66282 1.49388 0.613086 2.78252 0.606821L19.1157 0.52742C20.4043 0.521155 21.454 1.56073 21.4603 2.84938L21.5397 19.1825C21.546 20.4712 20.5064 21.5209 19.2178 21.5272L2.88461 21.6066C1.59596 21.6128 0.546228 20.5733 0.539963 19.2846L0.460562 2.95147ZM5.12717 2.92878L2.79387 2.94013L2.80521 5.27343L5.13852 5.26209L5.12717 2.92878ZM16.7937 2.87207L16.805 5.20537L19.1384 5.19403L19.127 2.86073L16.7937 2.87207ZM19.1497 7.52734L16.8164 7.53868L16.8277 9.87199L19.161 9.86064L19.1497 7.52734ZM19.1724 12.1939L16.8391 12.2053L16.8529 15.0571L19.1862 15.0458L19.1724 12.1939ZM19.1976 17.3791L16.8643 17.3904L16.8731 19.2052L19.2064 19.1939L19.1976 17.3791ZM14.5058 12.2166L14.4944 9.88333L7.49451 9.91736L7.50585 12.2507L14.5058 12.2166ZM5.20657 19.2619L5.19523 16.9286L2.86193 16.94L2.87327 19.2733L5.20657 19.2619ZM2.85058 14.6067L5.18389 14.5953L5.17255 12.262L2.83924 12.2734L2.85058 14.6067ZM2.8279 9.94004L5.1612 9.9287L5.14986 7.5954L2.81655 7.60674L2.8279 9.94004Z",fill:"currentColor"})})}function tn(e){let{stroke:t,...n}=e;return(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[(0,r.jsx)("g",{clipPath:"url(#clip0_1182_3950)",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.4202 2.60309C10.2304 0.714168 4.49201 3.39004 2.60308 8.57982C0.714158 13.7696 3.39003 19.508 8.57981 21.3969C13.7696 23.2859 19.508 20.61 21.3969 15.4202C23.2859 10.2304 20.61 4.49202 15.4202 2.60309ZM13.4821 10.8519L14.2548 12.509C14.4882 13.0095 15.0832 13.2261 15.5837 12.9927C16.0843 12.7593 16.3008 12.1643 16.0674 11.6638L14.5914 8.49836C14.1829 7.62242 13.1417 7.24344 12.2657 7.6519L9.10033 9.12796C8.59979 9.36136 8.38324 9.95634 8.61664 10.4569C8.85005 10.9574 9.44503 11.174 9.94557 10.9406L11.6027 10.1678L9.69224 15.4168C9.50334 15.9357 9.77093 16.5096 10.2899 16.6985C10.8089 16.8874 11.3827 16.6198 11.5716 16.1008L13.4821 10.8519Z",fill:t})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_1182_3950",children:(0,r.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})}function tr(e){return(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("circle",{cx:"10",cy:"10",r:"8.333",stroke:"currentColor","stroke-width":"1.5"}),(0,r.jsx)("path",{d:"M10 5.833v4.167l2.083 2.083",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})]})}function ti(e){return(0,r.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M16.5001 2.6665C15.7637 2.6665 15.1667 3.26346 15.1667 3.99984V6.6665C15.1667 7.40288 15.7637 7.99984 16.5001 7.99984C17.2365 7.99984 17.8334 7.40288 17.8334 6.6665V5.4157C23.0952 6.07183 27.1667 10.5603 27.1667 15.9998C27.1667 21.8909 22.3911 26.6665 16.5001 26.6665C10.609 26.6665 5.83341 21.8909 5.83341 15.9998C5.83341 14.7507 6.04756 13.5546 6.44002 12.4442C6.68542 11.7499 6.32152 10.9881 5.62723 10.7427C4.93294 10.4973 4.17118 10.8612 3.92578 11.5555C3.43384 12.9473 3.16675 14.4438 3.16675 15.9998C3.16675 23.3636 9.13628 29.3332 16.5001 29.3332C23.8639 29.3332 29.8334 23.3636 29.8334 15.9998C29.8334 8.63604 23.8639 2.6665 16.5001 2.6665Z",fill:"#C3C6CF"}),(0,r.jsx)("path",{d:"M7.22394 6.72369C7.74464 6.203 8.58886 6.203 9.10956 6.72369L14.28 11.8941C14.9402 11.5363 15.6964 11.3332 16.5001 11.3332C19.0774 11.3332 21.1667 13.4225 21.1667 15.9998C21.1667 18.5772 19.0774 20.6665 16.5001 20.6665C13.9228 20.6665 11.8334 18.5772 11.8334 15.9998C11.8334 15.1962 12.0366 14.4399 12.3943 13.7797L7.22394 8.60931C6.70324 8.08861 6.70324 7.24439 7.22394 6.72369Z",fill:"#C3C6CF"})]})}function to(e){return(0,r.jsxs)("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M9.67188 0C10.4674 8.0052e-05 11.2304 0.316369 11.793 0.878906L19.543 8.62891C20.7143 9.80044 20.7143 11.6996 19.543 12.8711L13.3711 19.043C12.1996 20.2143 10.3004 20.2143 9.12891 19.043L1.37891 11.293C0.816368 10.7304 0.50008 9.96742 0.5 9.17188V3C0.5 1.34315 1.84315 0 3.5 0H9.67188ZM6 4C5.17157 4 4.5 4.67157 4.5 5.5C4.5 6.32843 5.17157 7 6 7C6.82843 7 7.5 6.32843 7.5 5.5C7.5 4.67157 6.82843 4 6 4Z",fill:"url(#paint0_linear_1913_1344)"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_1913_1344",x1:"4.01908",y1:"29.4917",x2:"21.705",y2:"28.0603",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{"stop-color":"#1BA5FB"}),(0,r.jsx)("stop",{offset:"1","stop-color":"#004CB0"})]})})]})}function ts(e){return(0,r.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M25.4274 6.57282C27.8403 8.98568 29.3327 12.319 29.3327 16.0009C29.3327 19.6828 27.8403 23.0161 25.4274 25.429M21.1848 10.815C22.5119 12.1421 23.3327 13.9754 23.3327 16.0005C23.3327 18.0255 22.5119 19.8588 21.1848 21.1859M5.33268 10.6666H7.03388C7.65771 10.6666 8.2618 10.4479 8.74104 10.0485L13.8124 5.82233C14.6809 5.09863 15.9993 5.71617 15.9993 6.84663V25.1532C15.9993 26.2836 14.6809 26.9012 13.8124 26.1775L8.74104 21.9513C8.2618 21.5519 7.65771 21.3332 7.03388 21.3332H5.33268C3.85992 21.3332 2.66602 20.1393 2.66602 18.6666V13.3332C2.66602 11.8605 3.85992 10.6666 5.33268 10.6666Z",stroke:"currentColor","stroke-width":"2.66667","stroke-linecap":"round","stroke-linejoin":"round"})})}function ta(e){return(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M18.6667 3.44772V1.99973C18.6667 0.351635 16.7851 -0.58913 15.4667 0.399725L9.24444 5.06639C9.01365 5.23949 8.73294 5.33306 8.44444 5.33306H6.66667C4.45753 5.33306 2.66667 7.12392 2.66667 9.33306V14.6664C2.66667 15.9702 3.29045 17.1283 4.25585 17.8585L0.390524 21.7239C-0.130175 22.2446 -0.130175 23.0888 0.390524 23.6095C0.911223 24.1302 1.75544 24.1302 2.27614 23.6095L23.6095 2.27614C24.1302 1.75544 24.1302 0.911223 23.6095 0.390524C23.0888 -0.130175 22.2446 -0.130175 21.7239 0.390524L18.6667 3.44772Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M10.0898 19.5671L18.6667 10.9902V21.9997C18.6667 23.6478 16.7851 24.5886 15.4667 23.5997L10.0898 19.5671Z",fill:"currentColor"})]})}function tl(e){return(0,r.jsx)("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("g",{opacity:"0.7",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.83329 1.33331C4.36053 1.33331 3.16663 2.52722 3.16663 3.99998L3.16663 12.6666C3.16663 13.7712 4.06206 14.6666 5.16663 14.6666H13.1666C13.5348 14.6666 13.8333 14.3682 13.8333 14V1.99998C13.8333 1.63179 13.5348 1.33331 13.1666 1.33331L5.83329 1.33331ZM5.16663 12H12.5V13.3333H5.16663C4.79844 13.3333 4.49996 13.0348 4.49996 12.6666C4.49996 12.2985 4.79844 12 5.16663 12ZM8.77205 4.78949C8.7398 4.854 8.68749 4.9063 8.62298 4.93856L7.76309 5.3685C7.51741 5.49135 7.51741 5.84195 7.76309 5.96479L8.62298 6.39473C8.68749 6.42699 8.7398 6.4793 8.77205 6.54381L9.202 7.4037C9.32484 7.64938 9.67544 7.64938 9.79828 7.4037L10.2282 6.54381C10.2605 6.4793 10.3128 6.42699 10.3773 6.39473L11.2372 5.96479C11.4829 5.84195 11.4829 5.49135 11.2372 5.3685L10.3773 4.93856C10.3128 4.9063 10.2605 4.854 10.2282 4.78949L9.79828 3.9296C9.67544 3.68392 9.32484 3.68392 9.202 3.9296L8.77205 4.78949ZM6.30773 7.71813C6.28838 7.75683 6.257 7.78822 6.21829 7.80757L5.52458 8.15443C5.37717 8.22813 5.37717 8.43849 5.52458 8.5122L6.21829 8.85905C6.257 8.87841 6.28838 8.90979 6.30773 8.9485L6.65459 9.64221C6.72829 9.78962 6.93866 9.78962 7.01236 9.64221L7.35922 8.9485C7.37857 8.90979 7.40995 8.87841 7.44866 8.85905L8.14237 8.5122C8.28978 8.43849 8.28978 8.22813 8.14237 8.15443L7.44866 7.80757C7.40995 7.78822 7.37857 7.75683 7.35922 7.71813L7.01236 7.02442C6.93866 6.87701 6.72829 6.87701 6.65459 7.02442L6.30773 7.71813Z",fill:"currentColor"})})})}function tc(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 20 20",...e,children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.667",d:"m2.5 13.541 2.891 2.892c.244.244.64.244.884 0l2.892-2.892m1.666-7.083 2.892-2.891a.625.625 0 0 1 .884 0L17.5 6.458M5.833 15.833v-12.5m8.334 13.333v-12.5"})})}},37344:function(e,t,n){"use strict";n.d(t,{qE:function(){return b}});var r=n(52322),i=n(7896),o=n(2784),s=n(30017),a=n(53693),l=n(18137),c=n(81722);let u="Avatar",[d,h]=(0,s.b)(u),[p,f]=d(u),m=(0,o.forwardRef)((e,t)=>{let{__scopeAvatar:n,...r}=e,[s,a]=(0,o.useState)("idle");return(0,o.createElement)(p,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a},(0,o.createElement)(c.WV.span,(0,i.Z)({},r,{ref:t})))}),g=(0,o.forwardRef)((e,t)=>{let{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...u}=e,d=f("AvatarImage",n),h=function(e){let[t,n]=(0,o.useState)("idle");return(0,l.b)(()=>{if(!e){n("error");return}let t=!0,r=new window.Image,i=e=>()=>{t&&n(e)};return n("loading"),r.onload=i("loaded"),r.onerror=i("error"),r.src=e,()=>{t=!1}},[e]),t}(r),p=(0,a.W)(e=>{s(e),d.onImageLoadingStatusChange(e)});return(0,l.b)(()=>{"idle"!==h&&p(h)},[h,p]),"loaded"===h?(0,o.createElement)(c.WV.img,(0,i.Z)({},u,{ref:t,src:r})):null}),v=(0,o.forwardRef)((e,t)=>{let{__scopeAvatar:n,delayMs:r,...s}=e,a=f("AvatarFallback",n),[l,u]=(0,o.useState)(void 0===r);return(0,o.useEffect)(()=>{if(void 0!==r){let e=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(e)}},[r]),l&&"loaded"!==a.imageLoadingStatus?(0,o.createElement)(c.WV.span,(0,i.Z)({},s,{ref:t})):null});var y=n(61676);let b=o.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(m,{ref:t,className:(0,y.cn)("relative flex h-auto w-full overflow-hidden rounded-full amp-block",n),...i})});b.displayName=m.displayName,o.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(g,{ref:t,className:(0,y.cn)("aspect-square h-full w-full object-cover object-top amp-block",n),...i})}).displayName=g.displayName,o.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(v,{ref:t,className:(0,y.cn)("flex h-full w-full items-center justify-center bg-muted px-4 amp-block",n),...i})}).displayName=v.displayName},93326:function(e,t,n){"use strict";n.d(t,{zx:function(){return eB},hE:function(){return eq}});var r=n(52322),i=n(73478),o=n(65239),s=n(57352);let a=(e,t,n)=>Math.min(Math.max(e,t),n),l=e=>{let{ripples:t=[],motionProps:n,color:i="currentColor",style:l,onClear:c}=e;return(0,r.jsx)(r.Fragment,{children:t.map(e=>{let t=a(.01*e.size,.2,e.size>100?.75:.5);return(0,r.jsx)(o.M,{mode:"popLayout",children:(0,r.jsx)(s.E.span,{animate:{transform:"scale(2)",opacity:0},className:"nextui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:i,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",zIndex:10,top:e.y,left:e.x,width:"".concat(e.size,"px"),height:"".concat(e.size,"px"),...l},transition:{duration:t},onAnimationComplete:()=>{c(e.key)},...n})},e.key)})})};l.displayName="NextUI.Ripple";var c=n(2784),u=n(74374),d=n(47254);let h=(0,d.tv)({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent",...u.Dh],variants:{variant:{primary:"bg-primary hover:bg-primary/90",outline:"border-medium bg-transparent hover:bg-surface-elevation-1",ghost:"bg-transparent hover:bg-surface-elevation-1"},size:{sm:"px-unit-3 min-w-unit-16 h-unit-8 text-sm gap-unit-2 rounded-sm",md:"px-unit-4 min-w-unit-20 h-unit-10 text-md gap-unit-2 rounded-md",lg:"px-unit-6 min-w-unit-24 h-unit-12 text-lg gap-unit-3 rounded-lg"},color:{primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"},fullWidth:{true:"w-full"},fullHeight:{true:"h-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-unit-0 !gap-unit-0",false:"[&>svg]:max-w-[theme(spacing.unit-8)]"},disableAnimation:{true:"!transition-none",false:"data-[pressed=true]:scale-[0.97] transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"primary",color:"primary",fullWidth:!1,isDisabled:!1,isInGroup:!1,disableAnimation:!1},compoundVariants:[{variant:"primary",color:"primary",class:u.Jj.primary.primary},{variant:"primary",color:"secondary",class:u.Jj.primary.secondary},{variant:"primary",color:"success",class:u.Jj.primary.success},{variant:"primary",color:"warning",class:u.Jj.primary.warning},{variant:"primary",color:"danger",class:u.Jj.primary.danger},{variant:"outline",color:"primary",class:u.Jj.outline.primary},{variant:"outline",color:"secondary",class:u.Jj.outline.secondary},{variant:"outline",color:"success",class:u.Jj.outline.success},{variant:"outline",color:"warning",class:u.Jj.outline.warning},{variant:"outline",color:"danger",class:u.Jj.outline.danger},{variant:"ghost",color:"primary",class:u.Jj.ghost.primary},{variant:"ghost",color:"secondary",class:u.Jj.ghost.secondary},{variant:"ghost",color:"success",class:u.Jj.ghost.success},{variant:"ghost",color:"warning",class:u.Jj.ghost.warning},{variant:"ghost",color:"danger",class:u.Jj.ghost.danger},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","outline"],color:"primary",className:u.Zs.primary},{isInGroup:!0,variant:["ghost","outline"],color:"secondary",className:u.Zs.secondary},{isInGroup:!0,variant:["ghost","outline"],color:"success",className:u.Zs.success},{isInGroup:!0,variant:["ghost","outline"],color:"warning",className:u.Zs.warning},{isInGroup:!0,variant:["ghost","outline"],color:"danger",className:u.Zs.danger},{isIconOnly:!0,size:"sm",class:"min-w-unit-8 w-unit-8 h-unit-8"},{isIconOnly:!0,size:"md",class:"min-w-unit-10 w-unit-10 h-unit-10"},{isIconOnly:!0,size:"lg",class:"min-w-unit-12 w-unit-12 h-unit-12"},{variant:["primary","outline","ghost"],class:"data-[hover=true]:opacity-hover"}]}),p=(0,d.tv)({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});var f=n(99070),m=n(11581),g=n(659);function v(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}"undefined"!=typeof window&&window.document&&window.document.createElement;let y=new Map;var b=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r};function w(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&90>=e.charCodeAt(2)?t[e]=v(n,i):("className"===e||"UNSAFE_className"===e)&&"string"==typeof n&&"string"==typeof i?t[e]=b(n,i):"id"===e&&n&&i?t.id=function(e,t){if(e===t)return e;let n=y.get(e);if(n)return n(t),t;let r=y.get(t);return r?(r(e),e):t}(n,i):t[e]=void 0!==i?i:n}}return t}let _=new Set(["id"]),C=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),x=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),k=/^(data-.*)$/,S=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},E=e=>e&&"window"in e&&e.window===e?e:S(e).defaultView||window,T=new Map,P=new Set;function I(){if("undefined"==typeof window)return;function e(e){return"propertyName"in e}let t=n=>{if(!e(n)||!n.target)return;let r=T.get(n.target);if(r&&(r.delete(n.propertyName),0===r.size&&(n.target.removeEventListener("transitioncancel",t),T.delete(n.target)),0===T.size)){for(let e of P)e();P.clear()}};document.body.addEventListener("transitionrun",n=>{if(!e(n)||!n.target)return;let r=T.get(n.target);r||(r=new Set,T.set(n.target,r),n.target.addEventListener("transitioncancel",t,{once:!0})),r.add(n.propertyName)}),document.body.addEventListener("transitionend",t)}function R(e){requestAnimationFrame(()=>{0===T.size?e():P.add(e)})}function O(e){if(function(){if(null==A){A=!1;try{document.createElement("div").focus({get preventScroll(){return A=!0,!0}})}catch(e){}}return A}())e.focus({preventScroll:!0});else{let t=function(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}"undefined"!=typeof document&&("loading"!==document.readyState?I():document.addEventListener("DOMContentLoaded",I));let A=null;function N(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function L(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function M(e){let t=null;return()=>(null==t&&(t=e()),t)}let D=M(function(){return L(/^Mac/i)}),j=M(function(){return L(/^iPhone/i)}),U=M(function(){return L(/^iPad/i)||D()&&navigator.maxTouchPoints>1}),F=M(function(){return j()||U()});M(function(){return D()||F()});let V=M(function(){return N(/AppleWebKit/i)&&!B()}),B=M(function(){return N(/Chrome/i)}),z=M(function(){return N(/Android/i)}),H=M(function(){return N(/Firefox/i)});function q(e){return 0===e.mozInputSource&&!!e.isTrusted||(z()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}let K=null,G=new Set,W=new Map,$=!1,Z=!1;function J(e,t){for(let n of G)n(e,t)}function Y(e){$=!0,e.metaKey||!D()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(K="keyboard",J("keyboard",e))}function X(e){K="pointer",("mousedown"===e.type||"pointerdown"===e.type)&&($=!0,J("pointer",e))}function Q(e){q(e)&&($=!0,K="virtual")}function ee(e){e.target!==window&&e.target!==document&&($||Z||(K="virtual",J("virtual",e)),$=!1,Z=!1)}function et(){$=!1,Z=!0}function en(e){if("undefined"==typeof window||W.get(E(e)))return;let t=E(e),n=S(e),r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){$=!0,r.apply(this,arguments)},n.addEventListener("keydown",Y,!0),n.addEventListener("keyup",Y,!0),n.addEventListener("click",Q,!0),t.addEventListener("focus",ee,!0),t.addEventListener("blur",et,!1),"undefined"!=typeof PointerEvent?(n.addEventListener("pointerdown",X,!0),n.addEventListener("pointermove",X,!0),n.addEventListener("pointerup",X,!0)):(n.addEventListener("mousedown",X,!0),n.addEventListener("mousemove",X,!0),n.addEventListener("mouseup",X,!0)),t.addEventListener("beforeunload",()=>{er(e)},{once:!0}),W.set(t,{focus:r})}let er=(e,t)=>{let n=E(e),r=S(e);t&&r.removeEventListener("DOMContentLoaded",t),W.has(n)&&(n.HTMLElement.prototype.focus=W.get(n).focus,r.removeEventListener("keydown",Y,!0),r.removeEventListener("keyup",Y,!0),r.removeEventListener("click",Q,!0),n.removeEventListener("focus",ee,!0),n.removeEventListener("blur",et,!1),"undefined"!=typeof PointerEvent?(r.removeEventListener("pointerdown",X,!0),r.removeEventListener("pointermove",X,!0),r.removeEventListener("pointerup",X,!0)):(r.removeEventListener("mousedown",X,!0),r.removeEventListener("mousemove",X,!0),r.removeEventListener("mouseup",X,!0)),W.delete(n))};"undefined"!=typeof document&&function(e){let t;let n=S(void 0);"loading"!==n.readyState?en(void 0):(t=()=>{en(void 0)},n.addEventListener("DOMContentLoaded",t)),()=>er(e,t)}();let ei="undefined"!=typeof document?c.useLayoutEffect:()=>{};function eo(e,t){ei(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function es(e){let t=(0,c.useRef)(null);return ei(()=>{t.current=e},[e]),(0,c.useCallback)((...e)=>{let n=t.current;return null==n?void 0:n(...e)},[])}class ea{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function el(e){if(!e)return;let t=!0;return n=>{e({...n,preventDefault(){n.preventDefault()},isDefaultPrevented:()=>n.isDefaultPrevented(),stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}}),t&&n.stopPropagation()}}let ec=c.createContext(null),eu="default",ed="",eh=new WeakMap;function ep(e){if(F()){if("default"===eu){let t=S(e);ed=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}eu="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(eh.set(e,e.style.userSelect),e.style.userSelect="none")}function ef(e){if(F())"disabled"===eu&&(eu="restoring",setTimeout(()=>{R(()=>{if("restoring"===eu){let t=S(e);"none"===t.documentElement.style.webkitUserSelect&&(t.documentElement.style.webkitUserSelect=ed||""),ed="",eu="default"}})},300));else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&eh.has(e)){let t=eh.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),eh.delete(e)}}let em=c.createContext({register:()=>{}});em.displayName="PressResponderContext";var eg=n(27677),ev=n(57868),ey=n(95391);function eb(e,t,n=!0){var r,i;let{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}=t;H()&&(null===(i=window.event)||void 0===i?void 0:null===(r=i.type)||void 0===r?void 0:r.startsWith("key"))&&"_blank"===e.target&&(D()?o=!0:s=!0);let c=V()&&D()&&!U()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l,bubbles:!0,cancelable:!0});eb.isOpening=n,O(e),e.dispatchEvent(c),eb.isOpening=!1}eb.isOpening=!1;var ew=new WeakMap;class e_{continuePropagation(){(0,ey._)(this,ew,!1)}get shouldStopPropagation(){return(0,eg._)(this,ew)}constructor(e,t,n,r){var i;(0,ev._)(this,ew,{writable:!0,value:void 0}),(0,ey._)(this,ew,!0);let o=null!==(i=null==r?void 0:r.target)&&void 0!==i?i:n.currentTarget,s=null==o?void 0:o.getBoundingClientRect(),a,l=0,c,u=null;null!=n.clientX&&null!=n.clientY&&(c=n.clientX,u=n.clientY),s&&(null!=c&&null!=u?(a=c-s.left,l=u-s.top):(a=s.width/2,l=s.height/2)),this.type=e,this.pointerType=t,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.x=a,this.y=l}}let eC=Symbol("linkClicked");function ex(e){return"A"===e.tagName&&e.hasAttribute("href")}function ek(e,t){let{key:n,code:r}=e,i=t.getAttribute("role");return("Enter"===n||" "===n||"Spacebar"===n||"Space"===r)&&!(t instanceof E(t).HTMLInputElement&&!eA(t,n)||t instanceof E(t).HTMLTextAreaElement||t.isContentEditable)&&!(("link"===i||!i&&ex(t))&&"Enter"!==n)}function eS(e,t){let n=e.changedTouches;for(let e=0;e<n.length;e++){let r=n[e];if(r.identifier===t)return r}return null}function eE(e,t){let n=0,r=0;return t.targetTouches&&1===t.targetTouches.length&&(n=t.targetTouches[0].clientX,r=t.targetTouches[0].clientY),{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:r}}function eT(e,t){let n=t.clientX,r=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:r}}function eP(e,t){let n,r,i=t.getBoundingClientRect(),o=(n=0,r=0,void 0!==e.width?n=e.width/2:void 0!==e.radiusX&&(n=e.radiusX),void 0!==e.height?r=e.height/2:void 0!==e.radiusY&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+n,bottom:e.clientY+r,left:e.clientX-n});return!(i.left>o.right)&&!(o.left>i.right)&&!(i.top>o.bottom)&&!(o.top>i.bottom)}function eI(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function eR(e,t){return e instanceof HTMLInputElement?!eA(e,t):e instanceof HTMLButtonElement?"submit"!==e.type&&"reset"!==e.type:!ex(e)}let eO=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function eA(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:eO.has(e.type)}var eN=n(66672),eL=n(4677),eM=n(83542);let[eD,ej]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,i=c.createContext(void 0);return i.displayName=r,[i.Provider,function e(){let r=c.useContext(i);if(!r&&t){var o,s;let t=Error(n);throw t.name="ContextError",null===(o=(s=Error).captureStackTrace)||void 0===o||o.call(s,t,e),t}return r},i]}({name:"ButtonGroupContext",strict:!1});var eU=n(28830),eF=n(66582);let eV=(0,c.forwardRef)((e,t)=>{var n;let{Component:o,domRef:s,children:a,styles:u,spinnerSize:d,spinner:p=(0,r.jsx)(eU.Z,{color:"current",size:null!==(n=e.spinnerSize)&&void 0!==n?n:d}),spinnerPlacement:y,startContent:b,endContent:T,isLoading:P,disableRipple:I=eF.tq,getButtonProps:A,getRippleProps:N,isIconOnly:L}=function(e){var t,n,r,i,o,s,a,l,u;let d=ej(),p=!!d,{ref:y,as:b,children:T,startContent:P,endContent:I,autoFocus:A,className:N,spinner:L,fullWidth:M=null!==(t=null==d?void 0:d.fullWidth)&&void 0!==t&&t,fullHeight:j=null!==(n=null==d?void 0:d.fullHeight)&&void 0!==n&&n,size:U=null!==(r=null==d?void 0:d.size)&&void 0!==r?r:"md",color:F=null!==(i=null==d?void 0:d.color)&&void 0!==i?i:"primary",variant:V=null!==(o=null==d?void 0:d.variant)&&void 0!==o?o:"primary",disableAnimation:B=null!==(s=null==d?void 0:d.disableAnimation)&&void 0!==s&&s,radius:H=null==d?void 0:d.radius,disableRipple:G=null!==(a=null==d?void 0:d.disableRipple)&&void 0!==a&&a,isDisabled:W=null!==(l=null==d?void 0:d.isDisabled)&&void 0!==l&&l,isIconOnly:$=null!==(u=null==d?void 0:d.isIconOnly)&&void 0!==u&&u,isLoading:Z=!1,spinnerPlacement:J="start",onPress:Y,...X}=e,Q=b||"button",ee="string"==typeof Q,et=(0,m.gy)(y),{isFocusVisible:en,isFocused:er,focusProps:eu}=(0,eN.Fx)({autoFocus:A}),ed=W||Z,eh=(0,c.useMemo)(()=>h({size:U,color:F,variant:V,radius:H,fullWidth:M,fullHeight:j,isDisabled:ed,isInGroup:p,disableAnimation:B,isIconOnly:$,className:N}),[U,F,V,H,M,j,ed,p,$,B,N]),{onClick:eg,onClear:ev,ripples:ey}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,c.useState)([]);return{ripples:t,onClick:(0,c.useCallback)(e=>{let t=e.currentTarget,r=Math.max(t.clientWidth,t.clientHeight),i=t.getBoundingClientRect();n(t=>{var n;return[...t,{key:(n=t.length.toString(),"".concat(n,"-").concat(new Date().getTime())),size:r,x:e.clientX-i.x-r/2,y:e.clientY-i.y-r/2}]})},[]),onClear:(0,c.useCallback)(e=>{n(t=>t.filter(t=>t.key!==e))},[]),...e}}(),{buttonProps:ew,isPressed:eO}=function(e,t){let n,{elementType:r="button",isDisabled:i,onPress:o,onPressStart:s,onPressEnd:a,onPressUp:l,onPressChange:u,preventFocusOnPress:d,allowFocusWhenDisabled:h,onClick:p,href:f,target:m,rel:g,type:y="button"}=e;n="button"===r?{type:y,disabled:i}:{role:"button",tabIndex:i?void 0:0,href:"a"===r&&i?void 0:f,target:"a"===r?m:void 0,type:"input"===r?y:void 0,disabled:"input"===r?i:void 0,"aria-disabled":i&&"input"!==r?i:void 0,rel:"a"===r?g:void 0};let{pressProps:b,isPressed:T}=function(e){let t,n,r,i,{onPress:o,onPressChange:s,onPressStart:a,onPressEnd:l,onPressUp:u,isDisabled:d,isPressed:h,preventFocusOnPress:p,shouldCancelOnPointerExit:f,allowTextSelectionOnPress:m,ref:g,...y}=function(e){let t=(0,c.useContext)(em);if(t){let{register:n,...r}=t;e=w(r,e),n()}return eo(t,e.ref),e}(e),[b,_]=(0,c.useState)(!1),C=(0,c.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:x,removeAllGlobalListeners:k}=(t=(0,c.useRef)(new Map),n=(0,c.useCallback)((e,n,r,i)=>{let o=(null==i?void 0:i.once)?(...e)=>{t.current.delete(r),r(...e)}:r;t.current.set(r,{type:n,eventTarget:e,fn:o,options:i}),e.addEventListener(n,r,i)},[]),r=(0,c.useCallback)((e,n,r,i)=>{var o;let s=(null===(o=t.current.get(r))||void 0===o?void 0:o.fn)||r;e.removeEventListener(n,s,i),t.current.delete(r)},[]),i=(0,c.useCallback)(()=>{t.current.forEach((e,t)=>{r(e.eventTarget,e.type,t,e.options)})},[r]),(0,c.useEffect)(()=>i,[i]),{addGlobalListener:n,removeGlobalListener:r,removeAllGlobalListeners:i}),T=es((e,t)=>{let n=C.current;if(d||n.didFirePressStart)return!1;let r=!0;if(n.isTriggeringEvent=!0,a){let n=new e_("pressstart",t,e);a(n),r=n.shouldStopPropagation}return s&&s(!0),n.isTriggeringEvent=!1,n.didFirePressStart=!0,_(!0),r}),P=es((e,t,n=!0)=>{let r=C.current;if(!r.didFirePressStart)return!1;r.ignoreClickAfterPress=!0,r.didFirePressStart=!1,r.isTriggeringEvent=!0;let i=!0;if(l){let n=new e_("pressend",t,e);l(n),i=n.shouldStopPropagation}if(s&&s(!1),_(!1),o&&n&&!d){let n=new e_("press",t,e);o(n),i&&(i=n.shouldStopPropagation)}return r.isTriggeringEvent=!1,i}),I=es((e,t)=>{let n=C.current;if(d)return!1;if(u){n.isTriggeringEvent=!0;let r=new e_("pressup",t,e);return u(r),n.isTriggeringEvent=!1,r.shouldStopPropagation}return!0}),R=es(e=>{let t=C.current;t.isPressed&&t.target&&(t.isOverTarget&&null!=t.pointerType&&P(eT(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,k(),m||ef(t.target))}),A=es(e=>{f&&R(e)}),N=(0,c.useMemo)(()=>{let e=C.current,t={onKeyDown(t){if(ek(t.nativeEvent,t.currentTarget)&&t.currentTarget.contains(t.target)){var r;eR(t.target,t.key)&&t.preventDefault();let i=!0;if(!e.isPressed&&!t.repeat){e.target=t.currentTarget,e.isPressed=!0,i=T(t,"keyboard");let r=t.currentTarget;x(S(t.currentTarget),"keyup",v(t=>{ek(t,r)&&!t.repeat&&r.contains(t.target)&&e.target&&I(eT(e.target,t),"keyboard")},n),!0)}i&&t.stopPropagation(),t.metaKey&&D()&&(null===(r=e.metaKeyEvents)||void 0===r||r.set(t.key,t.nativeEvent))}else"Meta"===t.key&&(e.metaKeyEvents=new Map)},onClick(t){if((!t||t.currentTarget.contains(t.target))&&t&&0===t.button&&!e.isTriggeringEvent&&!eb.isOpening){let n=!0;if(d&&t.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&("virtual"===e.pointerType||q(t.nativeEvent))){d||p||O(t.currentTarget);let e=T(t,"virtual"),r=I(t,"virtual"),i=P(t,"virtual");n=e&&r&&i}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,n&&t.stopPropagation()}}},n=t=>{var n,r,i;if(e.isPressed&&e.target&&ek(t,e.target)){eR(t.target,t.key)&&t.preventDefault();let n=t.target;P(eT(e.target,t),"keyboard",e.target.contains(n)),k(),"Enter"!==t.key&&ex(e.target)&&e.target.contains(n)&&!t[eC]&&(t[eC]=!0,eb(e.target,t,!1)),e.isPressed=!1,null===(r=e.metaKeyEvents)||void 0===r||r.delete(t.key)}else if("Meta"===t.key&&(null===(n=e.metaKeyEvents)||void 0===n?void 0:n.size)){let t=e.metaKeyEvents;for(let n of(e.metaKeyEvents=void 0,t.values()))null===(i=e.target)||void 0===i||i.dispatchEvent(new KeyboardEvent("keyup",n))}};if("undefined"!=typeof PointerEvent){t.onPointerDown=t=>{var o;if(0!==t.button||!t.currentTarget.contains(t.target))return;if(o=t.nativeEvent,!z()&&0===o.width&&0===o.height||1===o.width&&1===o.height&&0===o.pressure&&0===o.detail&&"mouse"===o.pointerType){e.pointerType="virtual";return}eI(t.currentTarget)&&t.preventDefault(),e.pointerType=t.pointerType;let s=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,d||p||O(t.currentTarget),m||ep(e.target),s=T(t,e.pointerType),x(S(t.currentTarget),"pointermove",n,!1),x(S(t.currentTarget),"pointerup",r,!1),x(S(t.currentTarget),"pointercancel",i,!1)),s&&t.stopPropagation()},t.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(eI(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},t.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&eP(t,t.currentTarget)&&I(t,e.pointerType||t.pointerType)};let n=t=>{t.pointerId===e.activePointerId&&(e.target&&eP(t,e.target)?e.isOverTarget||null==e.pointerType||(e.isOverTarget=!0,T(eT(e.target,t),e.pointerType)):e.target&&e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!1,P(eT(e.target,t),e.pointerType,!1),A(t)))},r=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&e.target&&(eP(t,e.target)&&null!=e.pointerType?P(eT(e.target,t),e.pointerType):e.isOverTarget&&null!=e.pointerType&&P(eT(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,k(),m||ef(e.target))},i=e=>{R(e)};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&R(e)}}else{t.onMouseDown=t=>{if(0===t.button&&t.currentTarget.contains(t.target)){if(eI(t.currentTarget)&&t.preventDefault(),e.ignoreEmulatedMouseEvents){t.stopPropagation();return}e.isPressed=!0,e.isOverTarget=!0,e.target=t.currentTarget,e.pointerType=q(t.nativeEvent)?"virtual":"mouse",d||p||O(t.currentTarget),T(t,e.pointerType)&&t.stopPropagation(),x(S(t.currentTarget),"mouseup",n,!1)}},t.onMouseEnter=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&null!=e.pointerType&&(e.isOverTarget=!0,n=T(t,e.pointerType)),n&&t.stopPropagation()},t.onMouseLeave=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&null!=e.pointerType&&(e.isOverTarget=!1,n=P(t,e.pointerType,!1),A(t)),n&&t.stopPropagation()},t.onMouseUp=t=>{t.currentTarget.contains(t.target)&&!e.ignoreEmulatedMouseEvents&&0===t.button&&I(t,e.pointerType||"mouse")};let n=t=>{if(0===t.button){if(e.isPressed=!1,k(),e.ignoreEmulatedMouseEvents){e.ignoreEmulatedMouseEvents=!1;return}e.target&&eP(t,e.target)&&null!=e.pointerType?P(eT(e.target,t),e.pointerType):e.target&&e.isOverTarget&&null!=e.pointerType&&P(eT(e.target,t),e.pointerType,!1),e.isOverTarget=!1}};t.onTouchStart=t=>{if(!t.currentTarget.contains(t.target))return;let n=function(e){let{targetTouches:t}=e;return t.length>0?t[0]:null}(t.nativeEvent);n&&(e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=t.currentTarget,e.pointerType="touch",d||p||O(t.currentTarget),m||ep(e.target),T(eE(e.target,t),e.pointerType)&&t.stopPropagation(),x(E(t.currentTarget),"scroll",r,!0))},t.onTouchMove=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed){t.stopPropagation();return}let n=eS(t.nativeEvent,e.activePointerId),r=!0;n&&eP(n,t.currentTarget)?e.isOverTarget||null==e.pointerType||(e.isOverTarget=!0,r=T(eE(e.target,t),e.pointerType)):e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!1,r=P(eE(e.target,t),e.pointerType,!1),A(eE(e.target,t))),r&&t.stopPropagation()},t.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed){t.stopPropagation();return}let n=eS(t.nativeEvent,e.activePointerId),r=!0;n&&eP(n,t.currentTarget)&&null!=e.pointerType?(I(eE(e.target,t),e.pointerType),r=P(eE(e.target,t),e.pointerType)):e.isOverTarget&&null!=e.pointerType&&(r=P(eE(e.target,t),e.pointerType,!1)),r&&t.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,e.target&&!m&&ef(e.target),k()},t.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&R(eE(e.target,t)))};let r=t=>{e.isPressed&&t.target.contains(e.target)&&R({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&R(e)}}return t},[x,d,p,k,m,R,A,P,T,I]);return(0,c.useEffect)(()=>()=>{var e;m||ef(null!==(e=C.current.target)&&void 0!==e?e:void 0)},[m]),{isPressed:h||b,pressProps:w(y,N)}}({onPressStart:s,onPressEnd:a,onPressChange:u,onPress:o,onPressUp:l,isDisabled:i,preventFocusOnPress:d,ref:t}),{focusableProps:P}=function(e,t){let{focusProps:n}=function(e){let t,n,{isDisabled:r,onFocus:i,onBlur:o,onFocusChange:s}=e,a=(0,c.useCallback)(e=>{if(e.target===e.currentTarget)return o&&o(e),s&&s(!1),!0},[o,s]),l=(t=(0,c.useRef)({isFocused:!1,observer:null}),ei(()=>{let e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]),n=es(e=>{null==a||a(e)}),(0,c.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target;r.addEventListener("focusout",e=>{t.current.isFocused=!1,r.disabled&&n(new ea("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)},{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])),u=(0,c.useCallback)(e=>{let t=S(e.target);e.target===e.currentTarget&&t.activeElement===e.target&&(i&&i(e),s&&s(!0),l(e))},[s,i,l]);return{focusProps:{onFocus:!r&&(i||s||o)?u:void 0,onBlur:!r&&(o||s)?a:void 0}}}(e),{keyboardProps:r}={keyboardProps:e.isDisabled?{}:{onKeyDown:el(e.onKeyDown),onKeyUp:el(e.onKeyUp)}},i=w(n,r),o=function(e){let t=(0,c.useContext)(ec)||{};eo(t,e);let{ref:n,...r}=t;return r}(t),s=e.isDisabled?{}:o,a=(0,c.useRef)(e.autoFocus);return(0,c.useEffect)(()=>{a.current&&t.current&&function(e){let t=S(e);if("virtual"===K){let n=t.activeElement;R(()=>{t.activeElement===n&&e.isConnected&&O(e)})}else O(e)}(t.current),a.current=!1},[t]),{focusableProps:w({...i,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},s)}}(e,t);h&&(P.tabIndex=i?-1:P.tabIndex);let I=w(P,b,function(e,t={}){let{labelable:n,isLink:r,propNames:i}=t,o={};for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(_.has(t)||n&&C.has(t)||r&&x.has(t)||(null==i?void 0:i.has(t))||k.test(t))&&(o[t]=e[t]);return o}(e,{labelable:!0}));return{isPressed:T,buttonProps:w(n,I,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{p&&(p(e),console.warn("onClick is deprecated, please use onPress"))}})}}({elementType:b,isDisabled:ed,onPress:(0,c.useCallback)(e=>{null==Y||Y(e),G||B||!et.current||eg({currentTarget:et.current,clientX:e.x,clientY:e.y})},[Y,G,B,et,eg]),...X},et),{isHovered:eA,hoverProps:eD}=(0,eL.XI)({isDisabled:ed}),eU=(0,c.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"data-disabled":(0,f.PB)(ed),"data-focus":(0,f.PB)(er),"data-pressed":(0,f.PB)(eO),"data-focus-visible":(0,f.PB)(en),"data-hover":(0,f.PB)(eA),"data-loading":(0,f.PB)(Z),...(0,eM.dG)(ew,eu,eD,(0,g.z)(X,{enabled:ee}),(0,g.z)(e))}},[Z,ed,er,eO,ee,en,eA,ew,eu,eD,X]),eF=e=>(0,c.isValidElement)(e)?(0,c.cloneElement)(e,{"aria-hidden":!0,focusable:!1,tabIndex:-1}):null,eV=eF(P);return{Component:Q,children:T,domRef:et,spinner:L,styles:eh,startContent:eV,endContent:eF(I),isLoading:Z,spinnerPlacement:J,spinnerSize:(0,c.useMemo)(()=>({sm:"sm",md:"sm",lg:"md"})[U],[U]),disableRipple:G,getButtonProps:eU,getRippleProps:(0,c.useCallback)(()=>({ripples:ey,onClear:ev}),[ey,ev]),isIconOnly:$}}({...e,onClick:t=>{e.preventDefault&&t.preventDefault()},onPress:t=>{(0,i.p)(e.analytics),e.onPress&&e.onPress(t)},ref:t}),M=A({onClick:e.onClick});return(0,r.jsxs)(o,{ref:s,className:u,...M,children:[b,!!P&&"start"===y&&p,P&&L?null:a,!!P&&"end"===y&&p,T,!I&&(0,r.jsx)(l,{...N()})]})});eV.displayName="Button";var eB=eV,ez=n(80113);let eH=(0,c.forwardRef)((e,t)=>{let{Component:n,domRef:i,context:o,children:s,classNames:a,getButtonGroupProps:l}=function(e){let[t,n]=(0,ez.oe)(e,p.variantKeys),{ref:r,as:i,children:o,color:s="primary",size:a="md",variant:l="primary",radius:u,isDisabled:d=!1,disableAnimation:h=!1,disableRipple:f=!1,isIconOnly:g=!1,className:v,...y}=t,b=(0,m.gy)(r),w=(0,c.useMemo)(()=>p({...n,className:v}),[...Object.values(n),v]);return{Component:i||"div",children:o,domRef:b,context:(0,c.useMemo)(()=>({size:a,color:s,variant:l,radius:u,isIconOnly:g,isDisabled:d,disableAnimation:h,disableRipple:f,fullWidth:!!(null==e?void 0:e.fullWidth)}),[a,s,l,u,d,g,h,f,null==e?void 0:e.fullWidth]),classNames:w,getButtonGroupProps:(0,c.useCallback)(()=>({role:"group",...y}),[y])}}({...e,ref:t});return(0,r.jsx)(eD,{value:o,children:(0,r.jsx)(n,{ref:i,className:a,...l(),children:s})})});eH.displayName="NextUI.ButtonGroup";var eq=eH},50090:function(e,t,n){"use strict";var r=n(52322),i=n(73478),o=n(66672),s=n(39097),a=n.n(s);n(2784),t.Z=e=>{let{children:t,href:n,disableLinkNavigation:s,shallow:l=!1,analytics:c,...u}=e,{isFocusVisible:d,focusProps:h}=(0,o.Fx)();return(0,r.jsx)(a(),{href:n,passHref:!0,legacyBehavior:!0,shallow:l,children:(0,r.jsx)("a",{...u,...h,onClick:e=>{(0,i.p)(c),u.onClick&&u.onClick(e),s&&e.preventDefault()},"data-focus-visible":d,children:t})})}},3927:function(e,t,n){"use strict";n.d(t,{$N:function(){return b},Be:function(){return w},GG:function(){return p},PK:function(){return h},Vq:function(){return u},cN:function(){return y},cZ:function(){return g},fK:function(){return v},gC:function(){return f},hg:function(){return d},t9:function(){return m}});var r=n(52322),i=n(99248),o=n(31396),s=n(2784),a=n(61676),l=n(21236),c=n(10386);let u=e=>{let{children:t,open:n,onOpenChange:o,analyticsProps:a,...c}=e,u=s.useRef(!1);return(0,s.useEffect)(()=>{n&&a&&!u.current&&(l.iN.modalOpened({referrer:(null==a?void 0:a.referrer)||"Dialog",type:null==a?void 0:a.type}),u.current=!0)},[n,a]),(0,r.jsx)(i.fC,{open:n,onOpenChange:o,...c,children:t})};u.displayName="Dialog";let d=i.xz,h=i.h_,p=i.x8,f=e=>{let{className:t}=e,{t:n}=(0,c.$G)();return(0,r.jsxs)(i.x8,{className:(0,a.cn)("rounded-sm opacity-70 transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none disabled:pointer-events-none",t),children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:n("Common.close")})]})},m=s.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(i.aV,{ref:t,className:(0,a.cn)("fixed inset-0 z-50 bg-black/50 md:bg-scrim data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...o})});m.displayName=i.aV.displayName;let g=s.forwardRef((e,t)=>{let{className:n,children:o,portalContainer:s,hideClose:l=!1,disableRounding:c=!1,...u}=e;return(0,r.jsxs)(h,{container:s,children:[(0,r.jsx)(m,{}),(0,r.jsxs)(i.VY,{ref:t,className:(0,a.cn)("fixed max-w-full left-[50%] top-[50%] z-50 grid translate-y-[-50%] translate-x-[-50%] gap-4 bg-popover p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] border-none",!c&&"sm:rounded-spacing-l",n),...u,children:[o,!l&&(0,r.jsx)(f,{className:"absolute right-4 top-4"})]})]})});function v(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex flex-col space-y-1.5 text-center sm:text-left text-display",t),...n})}function y(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})}g.displayName=i.VY.displayName,v.displayName="DialogHeader",y.displayName="DialogFooter";let b=s.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(i.Dx,{ref:t,className:(0,a.cn)("text-lg leading-none",n),...o})});b.displayName=i.Dx.displayName;let w=s.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(i.dk,{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",n),...o})});w.displayName=i.dk.displayName},73210:function(e,t,n){"use strict";n.d(t,{h_:function(){return to},AW:function(){return ta},Xi:function(){return tl},VD:function(){return tc},$F:function(){return ts}});var r=n(52322),i=n(7896),o=n(2784),s=n(3758),a=n(46389),l=n(30017),c=n(64147),u=n(81722),d=n(77864),h=n(14354),p=n(25390),f=n(85184),m=n(71656),g=n(87819),v=n(87265),y=n(62745),b=n(1),w=n(1775),_=n(57621),C=n(53693),x=n(49732),k=n(22970),S=n(95346),E=n(22442),T=(0,n(64597)._)(),P=function(){},I=o.forwardRef(function(e,t){var n=o.useRef(null),r=o.useState({onScrollCapture:P,onWheelCapture:P,onTouchMoveCapture:P}),i=r[0],s=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=(0,k._T)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=(0,E.q)([n,t]),w=(0,k.pi)((0,k.pi)({},y),i);return o.createElement(o.Fragment,null,d&&o.createElement(p,{sideCar:T,removeScrollBar:u,shards:h,noIsolation:f,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:n}),a?o.cloneElement(o.Children.only(l),(0,k.pi)((0,k.pi)({},w),{ref:b})):o.createElement(void 0===v?"div":v,(0,k.pi)({},w,{className:c,ref:b}),l))});I.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},I.classNames={fullWidth:S.zi,zeroRight:S.pF};var R=n(57758),O=n(181),A=n(33225),N=!1;try{var L=Object.defineProperty({},"passive",{get:function(){return N=!0,!0}});window.addEventListener("test",L,L),window.removeEventListener("test",L,L)}catch(e){N=!1}var M=!!N&&{passive:!1},D=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===n[t])},j=function(e,t){var n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),U(e,n)){var r=F(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},U=function(e,t){return"v"===e?D(t,"overflowY"):D(t,"overflowX")},F=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},V=function(e,t,n,r,i){var o,s=(o=window.getComputedStyle(t).direction,"h"===e&&"rtl"===o?-1:1),a=s*r,l=n.target,c=t.contains(l),u=!1,d=a>0,h=0,p=0;do{var f=F(e,l),m=f[0],g=f[1]-f[2]-s*m;(m||g)&&U(e,l)&&(h+=g,p+=m),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return d&&(i&&0===h||!i&&a>h)?u=!0:!d&&(i&&0===p||!i&&-a>p)&&(u=!0),u},B=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},z=function(e){return[e.deltaX,e.deltaY]},H=function(e){return e&&"current"in e?e.current:e},q=0,K=[],G=(0,R.L)(T,function(e){var t=o.useRef([]),n=o.useRef([0,0]),r=o.useRef(),i=o.useState(q++)[0],s=o.useState(function(){return(0,A.Ws)()})[0],a=o.useRef(e);o.useEffect(function(){a.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(0,k.ev)([e.lockRef.current],(e.shards||[]).map(H),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=o.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!a.current.allowPinchZoom;var i,o=B(e),s=n.current,l="deltaX"in e?e.deltaX:s[0]-o[0],c="deltaY"in e?e.deltaY:s[1]-o[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=j(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=j(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var p=r.current||i;return V(p,t,e,"h"===p?l:c,!0)},[]),c=o.useCallback(function(e){if(K.length&&K[K.length-1]===s){var n="deltaY"in e?z(e):B(e),r=t.current.filter(function(t){var r;return t.name===e.type&&t.target===e.target&&(r=t.delta)[0]===n[0]&&r[1]===n[1]})[0];if(r&&r.should){e.cancelable&&e.preventDefault();return}if(!r){var i=(a.current.shards||[]).map(H).filter(Boolean).filter(function(t){return t.contains(e.target)});(i.length>0?l(e,i[0]):!a.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),u=o.useCallback(function(e,n,r,i){var o={name:e,delta:n,target:r,should:i};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),d=o.useCallback(function(e){n.current=B(e),r.current=void 0},[]),h=o.useCallback(function(t){u(t.type,z(t),t.target,l(t,e.lockRef.current))},[]),p=o.useCallback(function(t){u(t.type,B(t),t.target,l(t,e.lockRef.current))},[]);o.useEffect(function(){return K.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,M),document.addEventListener("touchmove",c,M),document.addEventListener("touchstart",d,M),function(){K=K.filter(function(e){return e!==s}),document.removeEventListener("wheel",c,M),document.removeEventListener("touchmove",c,M),document.removeEventListener("touchstart",d,M)}},[]);var f=e.removeScrollBar,m=e.inert;return o.createElement(o.Fragment,null,m?o.createElement(s,{styles:"\n  .block-interactivity-".concat(i," {pointer-events: none;}\n  .allow-interactivity-").concat(i," {pointer-events: all;}\n")}):null,f?o.createElement(O.jp,{gapMode:"margin"}):null)}),W=o.forwardRef(function(e,t){return o.createElement(I,(0,k.pi)({},e,{ref:t,sideCar:G}))});W.classNames=I.classNames;let $=["Enter"," "],Z=["ArrowUp","PageDown","End"],J=["ArrowDown","PageUp","Home",...Z],Y={ltr:[...$,"ArrowRight"],rtl:[...$,"ArrowLeft"]},X={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Q="Menu",[ee,et,en]=(0,d.B)(Q),[er,ei]=(0,l.b)(Q,[en,v.D7,w.Pc]),eo=(0,v.D7)(),es=(0,w.Pc)(),[ea,el]=er(Q),[ec,eu]=er(Q),ed=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,...r}=e,s=eo(n);return(0,o.createElement)(v.ee,(0,i.Z)({},s,r,{ref:t}))}),eh="MenuPortal",[ep,ef]=er(eh,{forceMount:void 0}),em="MenuContent",[eg,ev]=er(em),ey=(0,o.forwardRef)((e,t)=>{let n=ef(em,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=el(em,e.__scopeMenu),l=eu(em,e.__scopeMenu);return(0,o.createElement)(ee.Provider,{scope:e.__scopeMenu},(0,o.createElement)(b.z,{present:r||a.open},(0,o.createElement)(ee.Slot,{scope:e.__scopeMenu},l.modal?(0,o.createElement)(eb,(0,i.Z)({},s,{ref:t})):(0,o.createElement)(ew,(0,i.Z)({},s,{ref:t})))))}),eb=(0,o.forwardRef)((e,t)=>{let n=el(em,e.__scopeMenu),r=(0,o.useRef)(null),l=(0,a.e)(t,r);return(0,o.useEffect)(()=>{let e=r.current;if(e)return(0,x.Ry)(e)},[]),(0,o.createElement)(e_,(0,i.Z)({},e,{ref:l,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:(0,s.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),ew=(0,o.forwardRef)((e,t)=>{let n=el(em,e.__scopeMenu);return(0,o.createElement)(e_,(0,i.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),e_=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,loop:r=!1,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:g,onPointerDownOutside:y,onFocusOutside:b,onInteractOutside:C,onDismiss:x,disableOutsideScroll:k,...S}=e,E=el(em,n),T=eu(em,n),P=eo(n),I=es(n),R=et(n),[O,A]=(0,o.useState)(null),N=(0,o.useRef)(null),L=(0,a.e)(t,N,E.onContentChange),M=(0,o.useRef)(0),D=(0,o.useRef)(""),j=(0,o.useRef)(0),U=(0,o.useRef)(null),F=(0,o.useRef)("right"),V=(0,o.useRef)(0),B=k?W:o.Fragment,z=k?{as:_.g7,allowPinchZoom:!0}:void 0,H=e=>{var t,n;let r=D.current+e,i=R().filter(e=>!e.disabled),o=document.activeElement,s=null===(t=i.find(e=>e.ref.current===o))||void 0===t?void 0:t.textValue,a=function(e,t,n){var r;let i=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=(r=Math.max(n?e.indexOf(n):-1,0),e.map((t,n)=>e[(r+n)%e.length]));1===i.length&&(o=o.filter(e=>e!==n));let s=o.find(e=>e.toLowerCase().startsWith(i.toLowerCase()));return s!==n?s:void 0}(i.map(e=>e.textValue),r,s),l=null===(n=i.find(e=>e.textValue===a))||void 0===n?void 0:n.ref.current;!function e(t){D.current=t,window.clearTimeout(M.current),""!==t&&(M.current=window.setTimeout(()=>e(""),1e3))}(r),l&&setTimeout(()=>l.focus())};(0,o.useEffect)(()=>()=>window.clearTimeout(M.current),[]),(0,f.EW)();let q=(0,o.useCallback)(e=>{var t,n,r;return F.current===(null===(t=U.current)||void 0===t?void 0:t.side)&&!!(r=null===(n=U.current)||void 0===n?void 0:n.area)&&function(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let s=t[e].x,a=t[e].y,l=t[o].x,c=t[o].y;a>r!=c>r&&n<(l-s)*(r-a)/(c-a)+s&&(i=!i)}return i}({x:e.clientX,y:e.clientY},r)},[]);return(0,o.createElement)(eg,{scope:n,searchRef:D,onItemEnter:(0,o.useCallback)(e=>{q(e)&&e.preventDefault()},[q]),onItemLeave:(0,o.useCallback)(e=>{var t;q(e)||(null===(t=N.current)||void 0===t||t.focus(),A(null))},[q]),onTriggerLeave:(0,o.useCallback)(e=>{q(e)&&e.preventDefault()},[q]),pointerGraceTimerRef:j,onPointerGraceIntentChange:(0,o.useCallback)(e=>{U.current=e},[])},(0,o.createElement)(B,z,(0,o.createElement)(m.M,{asChild:!0,trapped:l,onMountAutoFocus:(0,s.M)(c,e=>{var t;e.preventDefault(),null===(t=N.current)||void 0===t||t.focus()}),onUnmountAutoFocus:u},(0,o.createElement)(p.XB,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:g,onPointerDownOutside:y,onFocusOutside:b,onInteractOutside:C,onDismiss:x},(0,o.createElement)(w.fC,(0,i.Z)({asChild:!0},I,{dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:A,onEntryFocus:(0,s.M)(h,e=>{T.isUsingKeyboardRef.current||e.preventDefault()})}),(0,o.createElement)(v.VY,(0,i.Z)({role:"menu","aria-orientation":"vertical","data-state":ez(E.open),"data-radix-menu-content":"",dir:T.dir},P,S,{ref:L,style:{outline:"none",...S.style},onKeyDown:(0,s.M)(S.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&H(e.key));let i=N.current;if(e.target!==i||!J.includes(e.key))return;e.preventDefault();let o=R().filter(e=>!e.disabled).map(e=>e.ref.current);Z.includes(e.key)&&o.reverse(),function(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}(o)}),onBlur:(0,s.M)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(M.current),D.current="")}),onPointerMove:(0,s.M)(e.onPointerMove,eK(e=>{let t=e.target,n=V.current!==e.clientX;if(e.currentTarget.contains(t)&&n){let t=e.clientX>V.current?"right":"left";F.current=t,V.current=e.clientX}}))})))))))}),eC=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,o.createElement)(u.WV.div,(0,i.Z)({role:"group"},r,{ref:t}))}),ex=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,o.createElement)(u.WV.div,(0,i.Z)({},r,{ref:t}))}),ek="MenuItem",eS="menu.itemSelect",eE=(0,o.forwardRef)((e,t)=>{let{disabled:n=!1,onSelect:r,...l}=e,c=(0,o.useRef)(null),d=eu(ek,e.__scopeMenu),h=ev(ek,e.__scopeMenu),p=(0,a.e)(t,c),f=(0,o.useRef)(!1);return(0,o.createElement)(eT,(0,i.Z)({},l,{ref:p,disabled:n,onClick:(0,s.M)(e.onClick,()=>{let e=c.current;if(!n&&e){let t=new CustomEvent(eS,{bubbles:!0,cancelable:!0});e.addEventListener(eS,e=>null==r?void 0:r(e),{once:!0}),(0,u.jH)(e,t),t.defaultPrevented?f.current=!1:d.onClose()}}),onPointerDown:t=>{var n;null===(n=e.onPointerDown)||void 0===n||n.call(e,t),f.current=!0},onPointerUp:(0,s.M)(e.onPointerUp,e=>{var t;f.current||null===(t=e.currentTarget)||void 0===t||t.click()}),onKeyDown:(0,s.M)(e.onKeyDown,e=>{let t=""!==h.searchRef.current;!n&&(!t||" "!==e.key)&&$.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})}))}),eT=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,disabled:r=!1,textValue:l,...c}=e,d=ev(ek,n),h=es(n),p=(0,o.useRef)(null),f=(0,a.e)(t,p),[m,g]=(0,o.useState)(!1),[v,y]=(0,o.useState)("");return(0,o.useEffect)(()=>{let e=p.current;if(e){var t;y((null!==(t=e.textContent)&&void 0!==t?t:"").trim())}},[c.children]),(0,o.createElement)(ee.ItemSlot,{scope:n,disabled:r,textValue:null!=l?l:v},(0,o.createElement)(w.ck,(0,i.Z)({asChild:!0},h,{focusable:!r}),(0,o.createElement)(u.WV.div,(0,i.Z)({role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},c,{ref:f,onPointerMove:(0,s.M)(e.onPointerMove,eK(e=>{r?d.onItemLeave(e):(d.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus())})),onPointerLeave:(0,s.M)(e.onPointerLeave,eK(e=>d.onItemLeave(e))),onFocus:(0,s.M)(e.onFocus,()=>g(!0)),onBlur:(0,s.M)(e.onBlur,()=>g(!1))}))))}),eP=(0,o.forwardRef)((e,t)=>{let{checked:n=!1,onCheckedChange:r,...a}=e;return(0,o.createElement)(eN,{scope:e.__scopeMenu,checked:n},(0,o.createElement)(eE,(0,i.Z)({role:"menuitemcheckbox","aria-checked":eH(n)?"mixed":n},a,{ref:t,"data-state":eq(n),onSelect:(0,s.M)(a.onSelect,()=>null==r?void 0:r(!!eH(n)||!n),{checkForDefaultPrevented:!1})})))}),[eI,eR]=er("MenuRadioGroup",{value:void 0,onValueChange:()=>{}}),eO=((e,t)=>{let{value:n,onValueChange:r,...s}=e,a=(0,C.W)(r);return(0,o.createElement)(eI,{scope:e.__scopeMenu,value:n,onValueChange:a},(0,o.createElement)(eC,(0,i.Z)({},s,{ref:t})))},(0,o.forwardRef)((e,t)=>{let{value:n,...r}=e,a=eR("MenuRadioItem",e.__scopeMenu),l=n===a.value;return(0,o.createElement)(eN,{scope:e.__scopeMenu,checked:l},(0,o.createElement)(eE,(0,i.Z)({role:"menuitemradio","aria-checked":l},r,{ref:t,"data-state":eq(l),onSelect:(0,s.M)(r.onSelect,()=>{var e;return null===(e=a.onValueChange)||void 0===e?void 0:e.call(a,n)},{checkForDefaultPrevented:!1})})))})),eA="MenuItemIndicator",[eN,eL]=er(eA,{checked:!1}),eM=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,forceMount:r,...s}=e,a=eL(eA,n);return(0,o.createElement)(b.z,{present:r||eH(a.checked)||!0===a.checked},(0,o.createElement)(u.WV.span,(0,i.Z)({},s,{ref:t,"data-state":eq(a.checked)})))}),eD=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,o.createElement)(u.WV.div,(0,i.Z)({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),[ej,eU]=((e,t)=>{let{__scopeMenu:n,...r}=e,s=eo(n);return(0,o.createElement)(v.Eh,(0,i.Z)({},s,r,{ref:t}))},er("MenuSub")),eF="MenuSubTrigger",eV=(0,o.forwardRef)((e,t)=>{let n=el(eF,e.__scopeMenu),r=eu(eF,e.__scopeMenu),l=eU(eF,e.__scopeMenu),c=ev(eF,e.__scopeMenu),u=(0,o.useRef)(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=c,p={__scopeMenu:e.__scopeMenu},f=(0,o.useCallback)(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return(0,o.useEffect)(()=>f,[f]),(0,o.useEffect)(()=>{let e=d.current;return()=>{window.clearTimeout(e),h(null)}},[d,h]),(0,o.createElement)(ed,(0,i.Z)({asChild:!0},p),(0,o.createElement)(eT,(0,i.Z)({id:l.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":l.contentId,"data-state":ez(n.open)},e,{ref:(0,a.F)(t,l.onTriggerChange),onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:(0,s.M)(e.onPointerMove,eK(t=>{c.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||u.current||(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:(0,s.M)(e.onPointerLeave,eK(e=>{var t,r;f();let i=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(i){let t=null===(r=n.content)||void 0===r?void 0:r.dataset.side,o="right"===t,s=i[o?"left":"right"],a=i[o?"right":"left"];c.onPointerGraceIntentChange({area:[{x:e.clientX+(o?-5:5),y:e.clientY},{x:s,y:i.top},{x:a,y:i.top},{x:a,y:i.bottom},{x:s,y:i.bottom}],side:t}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(e),e.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:(0,s.M)(e.onKeyDown,t=>{let i=""!==c.searchRef.current;if(!e.disabled&&(!i||" "!==t.key)&&Y[r.dir].includes(t.key)){var o;n.onOpenChange(!0),null===(o=n.content)||void 0===o||o.focus(),t.preventDefault()}})})))}),eB=(0,o.forwardRef)((e,t)=>{let n=ef(em,e.__scopeMenu),{forceMount:r=n.forceMount,...l}=e,c=el(em,e.__scopeMenu),u=eu(em,e.__scopeMenu),d=eU("MenuSubContent",e.__scopeMenu),h=(0,o.useRef)(null),p=(0,a.e)(t,h);return(0,o.createElement)(ee.Provider,{scope:e.__scopeMenu},(0,o.createElement)(b.z,{present:r||c.open},(0,o.createElement)(ee.Slot,{scope:e.__scopeMenu},(0,o.createElement)(e_,(0,i.Z)({id:d.contentId,"aria-labelledby":d.triggerId},l,{ref:p,align:"start",side:"rtl"===u.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;u.isUsingKeyboardRef.current&&(null===(t=h.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,s.M)(e.onFocusOutside,e=>{e.target!==d.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:(0,s.M)(e.onEscapeKeyDown,e=>{u.onClose(),e.preventDefault()}),onKeyDown:(0,s.M)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),n=X[u.dir].includes(e.key);if(t&&n){var r;c.onOpenChange(!1),null===(r=d.trigger)||void 0===r||r.focus(),e.preventDefault()}})})))))});function ez(e){return e?"open":"closed"}function eH(e){return"indeterminate"===e}function eq(e){return eH(e)?"indeterminate":e?"checked":"unchecked"}function eK(e){return t=>"mouse"===t.pointerType?e(t):void 0}let eG=e=>{let{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=e,l=eo(t),[c,u]=(0,o.useState)(null),d=(0,o.useRef)(!1),p=(0,C.W)(s),f=(0,h.gm)(i);return(0,o.useEffect)(()=>{let e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,o.createElement)(v.fC,l,(0,o.createElement)(ea,{scope:t,open:n,onOpenChange:p,content:c,onContentChange:u},(0,o.createElement)(ec,{scope:t,onClose:(0,o.useCallback)(()=>p(!1),[p]),isUsingKeyboardRef:d,dir:f,modal:a},r)))},eW=e=>{let{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=el(eh,t);return(0,o.createElement)(ep,{scope:t,forceMount:n},(0,o.createElement)(b.z,{present:n||s.open},(0,o.createElement)(y.h,{asChild:!0,container:i},r)))},e$="DropdownMenu",[eZ,eJ]=(0,l.b)(e$,[ei]),eY=ei(),[eX,eQ]=eZ(e$),e0=(0,o.forwardRef)((e,t)=>{let{__scopeDropdownMenu:n,disabled:r=!1,...l}=e,c=eQ("DropdownMenuTrigger",n),d=eY(n);return(0,o.createElement)(ed,(0,i.Z)({asChild:!0},d),(0,o.createElement)(u.WV.button,(0,i.Z)({type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},l,{ref:(0,a.F)(t,c.triggerRef),onPointerDown:(0,s.M)(e.onPointerDown,e=>{r||0!==e.button||!1!==e.ctrlKey||(c.onOpenToggle(),c.open||e.preventDefault())}),onKeyDown:(0,s.M)(e.onKeyDown,e=>{!r&&(["Enter"," "].includes(e.key)&&c.onOpenToggle(),"ArrowDown"===e.key&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})))}),e1=(0,o.forwardRef)((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,a=eQ("DropdownMenuContent",n),l=eY(n),c=(0,o.useRef)(!1);return(0,o.createElement)(ey,(0,i.Z)({id:a.contentId,"aria-labelledby":a.triggerId},l,r,{ref:t,onCloseAutoFocus:(0,s.M)(e.onCloseAutoFocus,e=>{var t;c.current||null===(t=a.triggerRef.current)||void 0===t||t.focus(),c.current=!1,e.preventDefault()}),onInteractOutside:(0,s.M)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;(!a.modal||r)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),e2=(0,o.forwardRef)((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=eY(n);return(0,o.createElement)(ex,(0,i.Z)({},s,r,{ref:t}))}),e3=(0,o.forwardRef)((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=eY(n);return(0,o.createElement)(eE,(0,i.Z)({},s,r,{ref:t}))}),e4=(0,o.forwardRef)((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=eY(n);return(0,o.createElement)(eP,(0,i.Z)({},s,r,{ref:t}))}),e5=(0,o.forwardRef)((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=eY(n);return(0,o.createElement)(eO,(0,i.Z)({},s,r,{ref:t}))}),e6=(0,o.forwardRef)((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=eY(n);return(0,o.createElement)(eM,(0,i.Z)({},s,r,{ref:t}))}),e8=(0,o.forwardRef)((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=eY(n);return(0,o.createElement)(eD,(0,i.Z)({},s,r,{ref:t}))}),e7=(0,o.forwardRef)((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=eY(n);return(0,o.createElement)(eV,(0,i.Z)({},s,r,{ref:t}))}),e9=(0,o.forwardRef)((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=eY(n);return(0,o.createElement)(eB,(0,i.Z)({},s,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),te=e=>{let{__scopeDropdownMenu:t,...n}=e,r=eY(t);return(0,o.createElement)(eW,(0,i.Z)({},r,n))};var tt=n(64253);let tn=(0,n(57033).Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]);var tr=n(83156),ti=n(61676);let to=e=>{let{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:l,modal:u=!0}=e,d=eY(t),h=(0,o.useRef)(null),[p=!1,f]=(0,c.T)({prop:s,defaultProp:a,onChange:l});return(0,o.createElement)(eX,{scope:t,triggerId:(0,g.M)(),triggerRef:h,contentId:(0,g.M)(),open:p,onOpenChange:f,onOpenToggle:(0,o.useCallback)(()=>f(e=>!e),[f]),modal:u},(0,o.createElement)(eG,(0,i.Z)({},d,{open:p,onOpenChange:f,dir:r,modal:u}),n))},ts=e0;o.forwardRef((e,t)=>{let{className:n,inset:i,children:o,...s}=e;return(0,r.jsxs)(e7,{ref:t,className:(0,ti.cn)("flex cursor-default select-none items-center px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",i&&"pl-8",n),...s,children:[o,(0,r.jsx)(tt.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=e7.displayName,o.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(e9,{ref:t,className:(0,ti.cn)("z-50 min-w-[8rem] overflow-hidden rounded-spacing-s bg-surface-elevation-1 p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})}).displayName=e9.displayName;let ta=o.forwardRef((e,t)=>{let{className:n,side:i="bottom",sideOffset:o=4,...s}=e;return(0,r.jsx)(te,{children:(0,r.jsx)(e1,{ref:t,side:i,sideOffset:o,tabIndex:0,onWheel:e=>{e.currentTarget.scrollTop+=e.deltaY,e.preventDefault()},className:(0,ti.cn)("z-50 min-w-[8rem] text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 flex flex-col overflow-hidden bg-surface-elevation-1 rounded-spacing-s shadow-md focus:outline-none",n),...s})})});ta.displayName=e1.displayName;let tl=o.forwardRef((e,t)=>{let{className:n,inset:i,...o}=e;return(0,r.jsx)(e3,{ref:t,className:(0,ti.cn)("relative flex cursor-pointer rounded-spacing-s select-none items-center text-sm outline-none  data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",i&&"pl-8",n),...o})});tl.displayName=e3.displayName,o.forwardRef((e,t)=>{let{className:n,children:i,checked:o,...s}=e;return(0,r.jsxs)(e4,{ref:t,className:(0,ti.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),checked:o,...s,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(e6,{children:(0,r.jsx)(tn,{className:"h-4 w-4"})})}),i]})}).displayName=e4.displayName,o.forwardRef((e,t)=>{let{className:n,children:i,...o}=e;return(0,r.jsxs)(e5,{ref:t,className:(0,ti.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(e6,{children:(0,r.jsx)(tr.Z,{className:"h-2 w-2 fill-current"})})}),i]})}).displayName=e5.displayName,o.forwardRef((e,t)=>{let{className:n,inset:i,...o}=e;return(0,r.jsx)(e2,{ref:t,className:(0,ti.cn)("px-2 py-1.5 text-sm font-semibold",i&&"pl-8",n),...o})}).displayName=e2.displayName;let tc=o.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(e8,{ref:t,className:(0,ti.cn)("-mx-1 my-1 h-px bg-accent",n),...i})});tc.displayName=e8.displayName},39452:function(e,t,n){"use strict";n.d(t,{NI:function(){return y},Of:function(){return b},RM:function(){return p},Wi:function(){return h},XF:function(){return w},YV:function(){return f},l0:function(){return u},lX:function(){return v},xJ:function(){return g}});var r=n(52322),i=n(57621),o=n(2784),s=n(63955),a=n(92304),l=n(61676),c=n(30195);let u=s.RV,d=o.createContext({});function h(e){var t;let{...n}=e,i=o.useMemo(()=>{var e;return{name:n.name,maxLength:null===(e=n.rules)||void 0===e?void 0:e.maxLength}},[n.name,null===(t=n.rules)||void 0===t?void 0:t.maxLength]),{disabled:a}=f();return(0,r.jsx)(d.Provider,{value:i,children:(0,r.jsx)(s.Qr,{...n,disabled:a})})}let p=()=>{let e=o.useContext(d),t=o.useContext(m),n=(0,s.Gc)();if(!n)return;let{getFieldState:r,formState:i}=n,a=r(e.name,i);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,disabled:i.disabled,name:e.name,maxLength:e.maxLength,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...a}},f=()=>{let e=o.useContext(d),t=o.useContext(m),{getFieldState:n,formState:r}=(0,s.Gc)(),i=n(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:a}=t;return{id:a,disabled:r.disabled,name:e.name,maxLength:e.maxLength,formItemId:"".concat(a,"-form-item"),formDescriptionId:"".concat(a,"-form-item-description"),formMessageId:"".concat(a,"-form-item-message"),...i}},m=o.createContext({}),g=o.forwardRef((e,t)=>{let{className:n,...i}=e,s=o.useId(),a=o.useMemo(()=>({id:s}),[s]);return(0,r.jsx)(m.Provider,{value:a,children:(0,r.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",n),...i})})});g.displayName="FormItem";let v=o.forwardRef((e,t)=>{let{className:n,...i}=e,{error:o,formItemId:s}=f();return(0,r.jsx)(a._,{ref:t,className:(0,l.cn)(o&&"text-destructive",n),htmlFor:s,...i})});v.displayName="FormLabel";let y=o.forwardRef((e,t)=>{let{...n}=e,{error:o,formItemId:s,formDescriptionId:a,formMessageId:l}=f();return(0,r.jsx)(i.g7,{ref:t,id:s,"aria-describedby":o?"".concat(a," ").concat(l):"".concat(a),"aria-invalid":!!o,...n})});y.displayName="FormControl",o.forwardRef((e,t)=>{let{className:n,...i}=e,{formDescriptionId:o}=f();return(0,r.jsx)("p",{ref:t,id:o,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",n),...i})}).displayName="FormDescription",o.forwardRef((e,t)=>{let{className:n,children:i,...o}=e,{error:s,formMessageId:a}=f(),c=s?String(null==s?void 0:s.message):i;return c?(0,r.jsx)("p",{ref:t,id:a,className:(0,l.cn)("text-[0.8rem] font-medium text-destructive",n),...o,children:c}):null}).displayName="FormMessage";let b=e=>Object.fromEntries((null!=e?e:[]).map(e=>"max"===e.kind?["maxLength",e.value]:[])),w=(e,t)=>{var n,r,i;let{_def:o}=null!==(n=e.shape[t])&&void 0!==n?n:{};switch(o.typeName){case c.z.ZodFirstPartyTypeKind.ZodString:return o.checks;case c.z.ZodFirstPartyTypeKind.ZodOptional:return null===(r=(null!==(i=o.innerType._def.options)&&void 0!==i?i:[]).find(e=>e._def.typeName===c.z.ZodFirstPartyTypeKind.ZodString))||void 0===r?void 0:r._def.checks}}},75093:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});let r=e=>{let{error:t,focused:n}=e;return t?"text-error":n?"text-primary":"text-muted-foreground"}},81364:function(e,t,n){"use strict";n.d(t,{I:function(){return h}});var r=n(52322),i=n(2784),o=n(61676),s=n(57933),a=n(10386),l=n(55541),c=n(39452),u=n(75093),d=n(92304);let h=i.forwardRef((e,t)=>{var n,h,p;let{className:f,type:m,label:g,error:v,tooltipProps:y,showMaxLengthIndicator:b,labelClassname:w,labelAlwaysRaised:_,labelPosition:C="floating",errorClassname:x,postfixElement:k,prefixElement:S,fieldElement:E,hideError:T,...P}=e,{t:I}=(0,a.$G)(),[R,O]=i.useState(!1),A=(0,c.RM)(),{name:N}=null!=A?A:{name:""},L=null!=v?v:null==A?void 0:A.error,M=null!=g?g:N?I("Form.labels.".concat(N),{defaultValue:(0,s.k)(N)}):"",D=!P.value&&!P.defaultValue&&!P.placeholder&&!_&&!R&&"date"!==m,j="string"==typeof L?L:null==L?void 0:L.message,U=null==A?void 0:null===(n=A.maxLength)||void 0===n?void 0:n.valueOf(),F="number"==typeof U?U:void 0,V=!!b&&!!F;return(0,r.jsxs)("div",{className:"relative flex flex-col w-full",children:[(0,r.jsxs)("div",{className:"relative flex items-center w-full flex-col",children:[(0,r.jsx)("div",{className:"w-full flex justify-start",children:(()=>{let e=A?c.lX:d._,t=()=>(0,r.jsx)(e,{className:(0,o.cn)("floating"===C?"absolute top-2 left-3 text-sm font-medium transition-all ease-in-out pointer-events-none":"decoration-dotted decoration-placeholder hover:decoration-foreground underline-offset-4","floating"===C?(0,u.O)({error:L,focused:R}):"text-primary",{"top-[1.2rem]":D,underline:y},w,"z-10"),children:M});return M?y?(0,r.jsx)(l.l,{...y,children:t()}):t():null})()}),(0,r.jsxs)("div",{className:"relative flex items-center w-full",children:[!!S&&(0,r.jsx)("span",{className:"absolute left-3 text-placeholder text-lg flex items-center h-full",children:S}),(0,r.jsxs)("div",{className:(0,o.cn)("flex flex-row flex-grow border bg-background rounded-spacing-s py-4 text-md file:border-0 file:bg-transparent file:text-md file:font-medium placeholder:text-placeholder outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 appearance-none",S?"pl-8 pr-3":"",!S&&"px-3",L?"border-error":"border-input",{"pb-[15px] pt-[23px]":M,"placeholder:text-md":!!A,"min-h-14 min-w-52":!!M&&"date"===m,"py-3 mt-2":"top"===C},f),children:[E,(0,r.jsx)("input",{type:m,maxLength:F,className:"w-full h-full bg-transparent border-none outline-none",ref:t,autoComplete:"off",...P,onFocus:e=>{var t;O(!0),null===(t=P.onFocus)||void 0===t||t.call(P,e)},onBlur:e=>{var t;O(!1),null===(t=P.onBlur)||void 0===t||t.call(P,e)}})]}),!!k&&(0,r.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 right-[calc(-0.875rem)]",children:k})]})]}),(0,r.jsxs)("span",{className:(0,o.cn)("flex flex-row px-3 gap-2 text-sm",{"justify-start":!!j,"justify-end":V,"justify-between":!!j&&V,"mt-1":!!j||V,hidden:T}),children:[!!j&&(0,r.jsx)("p",{className:(0,o.cn)("text-error",x),children:j}),!!V&&(0,r.jsx)("p",{className:"text-placeholder",children:"".concat(null!==(p=null===(h=P.value)||void 0===h?void 0:h.toString().length)&&void 0!==p?p:0,"/").concat(F)})]})]})});h.displayName="Input"},92304:function(e,t,n){"use strict";n.d(t,{_:function(){return d}});var r=n(52322),i=n(7896),o=n(2784),s=n(81722);let a=(0,o.forwardRef)((e,t)=>(0,o.createElement)(s.WV.label,(0,i.Z)({},e,{ref:t,onMouseDown:t=>{var n;null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}})));var l=n(10929),c=n(61676);let u=(0,l.j)("text-md font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=o.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(a,{ref:t,className:(0,c.cn)(u(),n),...i})});d.displayName=a.displayName},16981:function(e,t,n){"use strict";n.d(t,{rU:function(){return r.Z}});var r=n(18424);n(81866),n(52322)},18424:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(52322),i=n(21236),o=e=>(0,r.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[(0,r.jsx)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),(0,r.jsx)("path",{d:"M15 3h6v6"}),(0,r.jsx)("path",{d:"M10 14L21 3"})]});(0,n(8857).tv)({base:["relative inline-flex items-center outline-none tap-highlight-transparent","outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1,disableAnimation:!1}});var s=n(2784),a=n(81866);let l=(0,s.forwardRef)((e,t)=>{let{Component:n,children:s,showAnchorIcon:l,anchorIcon:c=(0,r.jsx)(o,{className:"flex mx-1 text-current self-center"}),getLinkProps:u}=(0,a.n)({ref:t,...e}),{analyticsProps:d,...h}=u({onClick:()=>{d&&i.iN.linkOpened({...d.properties})}});return(0,r.jsx)(n,{...h,children:(0,r.jsxs)(r.Fragment,{children:[s,!!l&&c]})})});l.displayName="NextUI.Link";var c=l},81866:function(e,t,n){"use strict";n.d(t,{n:function(){return eQ}});var r,i=n(74374);let o=(0,n(47254).tv)({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...i.Dh],variants:{size:{sm:"text-sm",md:"text-md",lg:"text-lg"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1,disableAnimation:!1}});var s=n(99070),a=n(11581),l=n(80113);let c=new Set(["id"]),u=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),d=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),h=/^(data-.*)$/;var p=n(2784);"undefined"!=typeof window&&window.document&&window.document.createElement;let f=new Map;var m=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r};function g(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&90>=e.charCodeAt(2)?t[e]=function(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}(n,i):("className"===e||"UNSAFE_className"===e)&&"string"==typeof n&&"string"==typeof i?t[e]=m(n,i):"id"===e&&n&&i?t.id=function(e,t){if(e===t)return e;let n=f.get(e);if(n)return n(t),t;let r=f.get(t);return r?(r(e),e):t}(n,i):t[e]=void 0!==i?i:n}}return t}function v(e){if(function(){if(null==y){y=!1;try{document.createElement("div").focus({get preventScroll(){return y=!0,!0}})}catch(e){}}return y}())e.focus({preventScroll:!0});else{let t=function(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}let y=null;function b(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function w(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function _(e){let t=null;return()=>(null==t&&(t=e()),t)}let C=_(function(){return w(/^Mac/i)}),x=_(function(){return w(/^iPhone/i)}),k=_(function(){return w(/^iPad/i)||C()&&navigator.maxTouchPoints>1}),S=_(function(){return x()||k()});_(function(){return C()||S()});let E=_(function(){return b(/AppleWebKit/i)&&!T()}),T=_(function(){return b(/Chrome/i)}),P=_(function(){return b(/Android/i)}),I=_(function(){return b(/Firefox/i)}),R=(0,p.createContext)({isNative:!0,open:function(e,t){!function(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}(e,e=>O(e,t))},useHref:e=>e});function O(e,t,n=!0){var r,i;let{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}=t;I()&&(null===(i=window.event)||void 0===i?void 0:null===(r=i.type)||void 0===r?void 0:r.startsWith("key"))&&"_blank"===e.target&&(C()?o=!0:s=!0);let c=E()&&C()&&!k()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l,bubbles:!0,cancelable:!0});O.isOpening=n,v(e),e.dispatchEvent(c),O.isOpening=!1}O.isOpening=!1;let A=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},N=e=>e&&"window"in e&&e.window===e?e:A(e).defaultView||window,L=new Map,M=new Set;function D(){if("undefined"==typeof window)return;function e(e){return"propertyName"in e}let t=n=>{if(!e(n)||!n.target)return;let r=L.get(n.target);if(r&&(r.delete(n.propertyName),0===r.size&&(n.target.removeEventListener("transitioncancel",t),L.delete(n.target)),0===L.size)){for(let e of M)e();M.clear()}};document.body.addEventListener("transitionrun",n=>{if(!e(n)||!n.target)return;let r=L.get(n.target);r||(r=new Set,L.set(n.target,r),n.target.addEventListener("transitioncancel",t,{once:!0})),r.add(n.propertyName)}),document.body.addEventListener("transitionend",t)}"undefined"!=typeof document&&("loading"!==document.readyState?D():document.addEventListener("DOMContentLoaded",D));let j=null,U=new Set,F=new Map,V=!1,B=!1;function z(e,t){for(let n of U)n(e,t)}function H(e){V=!0,e.metaKey||!C()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(j="keyboard",z("keyboard",e))}function q(e){j="pointer",("mousedown"===e.type||"pointerdown"===e.type)&&(V=!0,z("pointer",e))}function K(e){(0===e.mozInputSource&&e.isTrusted||(P()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType))&&(V=!0,j="virtual")}function G(e){e.target!==window&&e.target!==document&&(V||B||(j="virtual",z("virtual",e)),V=!1,B=!1)}function W(){V=!1,B=!0}function $(e){if("undefined"==typeof window||F.get(N(e)))return;let t=N(e),n=A(e),r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){V=!0,r.apply(this,arguments)},n.addEventListener("keydown",H,!0),n.addEventListener("keyup",H,!0),n.addEventListener("click",K,!0),t.addEventListener("focus",G,!0),t.addEventListener("blur",W,!1),"undefined"!=typeof PointerEvent?(n.addEventListener("pointerdown",q,!0),n.addEventListener("pointermove",q,!0),n.addEventListener("pointerup",q,!0)):(n.addEventListener("mousedown",q,!0),n.addEventListener("mousemove",q,!0),n.addEventListener("mouseup",q,!0)),t.addEventListener("beforeunload",()=>{Z(e)},{once:!0}),F.set(t,{focus:r})}let Z=(e,t)=>{let n=N(e),r=A(e);t&&r.removeEventListener("DOMContentLoaded",t),F.has(n)&&(n.HTMLElement.prototype.focus=F.get(n).focus,r.removeEventListener("keydown",H,!0),r.removeEventListener("keyup",H,!0),r.removeEventListener("click",K,!0),n.removeEventListener("focus",G,!0),n.removeEventListener("blur",W,!1),"undefined"!=typeof PointerEvent?(r.removeEventListener("pointerdown",q,!0),r.removeEventListener("pointermove",q,!0),r.removeEventListener("pointerup",q,!0)):(r.removeEventListener("mousedown",q,!0),r.removeEventListener("mousemove",q,!0),r.removeEventListener("mouseup",q,!0)),F.delete(n))};"undefined"!=typeof document&&function(e){let t;let n=A(void 0);"loading"!==n.readyState?$(void 0):(t=()=>{$(void 0)},n.addEventListener("DOMContentLoaded",t)),()=>Z(e,t)}();let J="undefined"!=typeof document?p.useLayoutEffect:()=>{};class Y{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function X(e){if(!e)return;let t=!0;return n=>{e({...n,preventDefault(){n.preventDefault()},isDefaultPrevented:()=>n.isDefaultPrevented(),stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}}),t&&n.stopPropagation()}}let Q=p.createContext(null);var ee=p.createContext(null);ee.displayName="PressResponderContext";var et=Object.defineProperty,en=(e,t,n)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,er=(e,t,n)=>(en(e,"symbol"!=typeof t?t+"":t,n),n),ei=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},eo=(e,t,n)=>(ei(e,t,"read from private field"),n?n.call(e):t.get(e)),es=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ea=(e,t,n,r)=>(ei(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),el=class{constructor(e,t,n){er(this,"type"),er(this,"pointerType"),er(this,"target"),er(this,"shiftKey"),er(this,"ctrlKey"),er(this,"metaKey"),er(this,"altKey"),es(this,r,!0),this.type=e,this.pointerType=t,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}continuePropagation(){ea(this,r,!1)}get shouldStopPropagation(){return eo(this,r)}};r=new WeakMap;var ec=e=>{var t;return null!=(t=null==e?void 0:e.ownerDocument)?t:document},eu=e=>{var t,n;return null!=(n=null==(t=null==e?void 0:e.ownerDocument)?void 0:t.defaultView)?n:window};function ed(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function eh(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function ep(e){let t=null;return()=>(null==t&&(t=e()),t)}let ef=ep(function(){return eh(/^Mac/i)}),em=ep(function(){return eh(/^iPhone/i)}),eg=ep(function(){return eh(/^iPad/i)||ef()&&navigator.maxTouchPoints>1}),ev=ep(function(){return em()||eg()});ep(function(){return ef()||ev()});let ey=ep(function(){return ed(/AppleWebKit/i)&&!eb()}),eb=ep(function(){return ed(/Chrome/i)}),ew=ep(function(){return ed(/Android/i)}),e_=ep(function(){return ed(/Firefox/i)}),eC=new Map,ex=new Set;function ek(){if("undefined"==typeof window)return;function e(e){return"propertyName"in e}let t=n=>{if(!e(n)||!n.target)return;let r=eC.get(n.target);if(r&&(r.delete(n.propertyName),0===r.size&&(n.target.removeEventListener("transitioncancel",t),eC.delete(n.target)),0===eC.size)){for(let e of ex)e();ex.clear()}};document.body.addEventListener("transitionrun",n=>{if(!e(n)||!n.target)return;let r=eC.get(n.target);r||(r=new Set,eC.set(n.target,r),n.target.addEventListener("transitioncancel",t,{once:!0})),r.add(n.propertyName)}),document.body.addEventListener("transitionend",t)}"undefined"!=typeof document&&("loading"!==document.readyState?ek():document.addEventListener("DOMContentLoaded",ek));var eS="default",eE="",eT=new WeakMap;function eP(e){if(ev()){if("default"===eS){let t=ec(e);eE=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}eS="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(eT.set(e,e.style.userSelect),e.style.userSelect="none")}function eI(e){if(ev())"disabled"===eS&&(eS="restoring",setTimeout(()=>{var t;t=()=>{if("restoring"===eS){let t=ec(e);"none"===t.documentElement.style.webkitUserSelect&&(t.documentElement.style.webkitUserSelect=eE||""),eE="",eS="default"}},requestAnimationFrame(()=>{0===eC.size?t():ex.add(t)})},300));else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&eT.has(e)){let t=eT.get(e);"none"===e.style.userSelect&&t&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),eT.delete(e)}}"undefined"!=typeof window&&window.document&&window.document.createElement;let eR=new Map;var eO=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r};function eA(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&90>=e.charCodeAt(2)?t[e]=function(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}(n,i):("className"===e||"UNSAFE_className"===e)&&"string"==typeof n&&"string"==typeof i?t[e]=eO(n,i):"id"===e&&n&&i?t.id=function(e,t){if(e===t)return e;let n=eR.get(e);if(n)return n(t),t;let r=eR.get(t);return r?(r(e),e):t}(n,i):t[e]=void 0!==i?i:n}}return t}let eN="undefined"!=typeof document?p.useLayoutEffect:()=>{};function eL(e){let t=(0,p.useRef)(null);return eN(()=>{t.current=e},[e]),(0,p.useCallback)((...e)=>{let n=t.current;return null==n?void 0:n(...e)},[])}function eM(e){if(function(){if(null==eD){eD=!1;try{document.createElement("div").focus({get preventScroll(){return eD=!0,!0}})}catch(e){}}return eD}())e.focus({preventScroll:!0});else{let t=function(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}let eD=null;function ej(e,t,n=!0){var r,i;let{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}=t;e_()&&(null===(i=window.event)||void 0===i?void 0:null===(r=i.type)||void 0===r?void 0:r.startsWith("key"))&&"_blank"===e.target&&(ef()?o=!0:s=!0);let c=ey()&&ef()&&!eg()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l,bubbles:!0,cancelable:!0});ej.isOpening=n,eM(e),e.dispatchEvent(c),ej.isOpening=!1}function eU(e){return 0===e.mozInputSource&&!!e.isTrusted||(ew()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}ej.isOpening=!1;var eF=Symbol("linkClicked");function eV(e){return"A"===e.tagName&&e.hasAttribute("href")}function eB(e,t){let{key:n,code:r}=e,i=t.getAttribute("role");return("Enter"===n||" "===n||"Spacebar"===n||"Space"===r)&&!(t instanceof eu(t).HTMLInputElement&&!e$(t,n)||t instanceof eu(t).HTMLTextAreaElement||t.isContentEditable)&&!(("link"===i||!i&&eV(t))&&"Enter"!==n)}function ez(e,t){let n=e.changedTouches;for(let e=0;e<n.length;e++){let r=n[e];if(r.identifier===t)return r}return null}function eH(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function eq(e,t){let n,r,i=t.getBoundingClientRect(),o=(n=e.width?e.width/2:e.radiusX||0,r=e.height?e.height/2:e.radiusY||0,{top:e.clientY-r,right:e.clientX+n,bottom:e.clientY+r,left:e.clientX-n});return!(i.left>o.right)&&!(o.left>i.right)&&!(i.top>o.bottom)&&!(o.top>i.bottom)}function eK(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function eG(e,t){return e instanceof HTMLInputElement?!e$(e,t):e instanceof HTMLButtonElement?"submit"!==e.type&&"reset"!==e.type:!eV(e)}var eW=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function e$(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:eW.has(e.type)}var eZ=n(66672),eJ=n(83542),eY=n(39097),eX=n.n(eY);function eQ(e){let[t,n]=(0,l.oe)(e,o.variantKeys),{ref:r,as:i,children:f,anchorIcon:m,isExternal:y=!1,showAnchorIcon:b=!1,autoFocus:w=!1,className:_,onPress:C,onPressStart:x,onPressEnd:k,onClick:S,...E}=t,T=i||eX(),P=(0,a.gy)(r),{linkProps:I}=function(e,t){let{elementType:n="a",onPress:r,onPressStart:i,onPressEnd:o,onClick:s,isDisabled:a,...l}=e,f={};"a"!==n&&(f={role:"link",tabIndex:a?void 0:0});let{focusableProps:m}=function(e,t){let{focusProps:n}=function(e){let t,n,{isDisabled:r,onFocus:i,onBlur:o,onFocusChange:s}=e,a=(0,p.useCallback)(e=>{if(e.target===e.currentTarget)return o&&o(e),s&&s(!1),!0},[o,s]),l=(t=(0,p.useRef)({isFocused:!1,observer:null}),J(()=>{let e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]),n=function(e){let t=(0,p.useRef)(null);return J(()=>{t.current=e},[e]),(0,p.useCallback)((...e)=>{let n=t.current;return null==n?void 0:n(...e)},[])}(e=>{null==a||a(e)}),(0,p.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target;r.addEventListener("focusout",e=>{t.current.isFocused=!1,r.disabled&&n(new Y("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)},{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])),c=(0,p.useCallback)(e=>{let t=A(e.target);e.target===e.currentTarget&&t.activeElement===e.target&&(i&&i(e),s&&s(!0),l(e))},[s,i,l]);return{focusProps:{onFocus:!r&&(i||s||o)?c:void 0,onBlur:!r&&(o||s)?a:void 0}}}(e),{keyboardProps:r}={keyboardProps:e.isDisabled?{}:{onKeyDown:X(e.onKeyDown),onKeyUp:X(e.onKeyUp)}},i=g(n,r),o=function(e){let t=(0,p.useContext)(Q)||{};J(()=>{if(t&&t.ref&&e)return t.ref.current=e.current,()=>{t.ref&&(t.ref.current=null)}});let{ref:n,...r}=t;return r}(t),s=e.isDisabled?{}:o,a=(0,p.useRef)(e.autoFocus);return(0,p.useEffect)(()=>{a.current&&t.current&&function(e){let t=A(e);if("virtual"===j){var n;let r=t.activeElement;n=()=>{t.activeElement===r&&e.isConnected&&v(e)},requestAnimationFrame(()=>{0===L.size?n():M.add(n)})}else v(e)}(t.current),a.current=!1},[t]),{focusableProps:g({...i,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},s)}}(e,t),{pressProps:y,isPressed:b}=function(e){let t,n,r,i,{onPress:o,onPressChange:s,onPressStart:a,onPressEnd:l,onPressUp:c,isDisabled:u,isPressed:d,preventFocusOnPress:h,shouldCancelOnPointerExit:f,allowTextSelectionOnPress:m,ref:g,...v}=function(e){var t;let n=(0,p.useContext)(ee);if(n){let{register:t,...r}=n;e=eA(r,e),t()}return t=e.ref,eN(()=>{if(n&&n.ref&&t)return n.ref.current=t.current,()=>{n.ref&&(n.ref.current=null)}}),e}(e),[y,b]=(0,p.useState)(!1),w=(0,p.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:_,removeAllGlobalListeners:C}=(t=(0,p.useRef)(new Map),n=(0,p.useCallback)((e,n,r,i)=>{let o=(null==i?void 0:i.once)?(...e)=>{t.current.delete(r),r(...e)}:r;t.current.set(r,{type:n,eventTarget:e,fn:o,options:i}),e.addEventListener(n,r,i)},[]),r=(0,p.useCallback)((e,n,r,i)=>{var o;let s=(null===(o=t.current.get(r))||void 0===o?void 0:o.fn)||r;e.removeEventListener(n,s,i),t.current.delete(r)},[]),i=(0,p.useCallback)(()=>{t.current.forEach((e,t)=>{r(e.eventTarget,e.type,t,e.options)})},[r]),(0,p.useEffect)(()=>i,[i]),{addGlobalListener:n,removeGlobalListener:r,removeAllGlobalListeners:i}),x=eL((e,t)=>{let n=w.current;if(u||n.didFirePressStart)return;let r=!0;if(n.isTriggeringEvent=!0,a){let n=new el("pressstart",t,e);a(n),r=n.shouldStopPropagation}return s&&s(!0),n.isTriggeringEvent=!1,n.didFirePressStart=!0,b(!0),r}),k=eL((e,t,n=!0)=>{let r=w.current;if(!r.didFirePressStart)return;r.ignoreClickAfterPress=!0,r.didFirePressStart=!1,r.isTriggeringEvent=!0;let i=!0;if(l){let n=new el("pressend",t,e);l(n),i=n.shouldStopPropagation}if(s&&s(!1),b(!1),o&&n&&!u){let n=new el("press",t,e);o(n),i&&(i=n.shouldStopPropagation)}return r.isTriggeringEvent=!1,i}),S=eL((e,t)=>{let n=w.current;if(!u){if(c){n.isTriggeringEvent=!0;let r=new el("pressup",t,e);return c(r),n.isTriggeringEvent=!1,r.shouldStopPropagation}return!0}}),E=eL(e=>{let t=w.current;t.isPressed&&(t.isOverTarget&&t.target&&k(eH(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,C(),!m&&t.target&&eI(t.target))}),T=eL(e=>{f&&E(e)}),P=(0,p.useMemo)(()=>{let e=w.current,t={onKeyDown(t){var r;if(eB(t.nativeEvent,t.currentTarget)&&t.currentTarget.contains(t.target)){eG(t.target,t.key)&&t.preventDefault();let i=!0;e.isPressed||t.repeat||(e.target=t.currentTarget,e.isPressed=!0,i=x(t,"keyboard"),_(ec(t.currentTarget),"keyup",n,!1)),i&&t.stopPropagation(),t.metaKey&&ef()&&(null==(r=e.metaKeyEvents)||r.set(t.key,t.nativeEvent))}else"Meta"===t.key&&(e.metaKeyEvents=new Map)},onKeyUp(t){e.target&&eB(t.nativeEvent,t.currentTarget)&&!t.repeat&&t.currentTarget.contains(t.target)&&S(eH(e.target,t),"keyboard")},onClick(t){if((!t||t.currentTarget.contains(t.target))&&t&&0===t.button&&!e.isTriggeringEvent&&!ej.isOpening){let n=!0;if(u&&t.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&("virtual"===e.pointerType||eU(t.nativeEvent))){u||h||eM(t.currentTarget);let e=x(t,"virtual"),r=S(t,"virtual"),i=k(t,"virtual");n=e&&r&&i}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,n&&t.stopPropagation()}}},n=t=>{var n,r;if(e.isPressed&&e.target&&eB(t,e.target)){eG(t.target,t.key)&&t.preventDefault();let r=t.target,i=k(eH(e.target,t),"keyboard",e.target.contains(r));C(),i&&t.stopPropagation(),"Enter"!==t.key&&eV(e.target)&&e.target.contains(r)&&!t[eF]&&(t[eF]=!0,ej(e.target,t,!1)),e.isPressed=!1,null==(n=e.metaKeyEvents)||n.delete(t.key)}else if("Meta"===t.key&&(null==(r=e.metaKeyEvents)?void 0:r.size)){let t=e.metaKeyEvents;for(let n of(e.metaKeyEvents=null,t.values()))e.target&&e.target.dispatchEvent(new KeyboardEvent("keyup",n))}};if("undefined"!=typeof PointerEvent){t.onPointerDown=t=>{var o;if(0!==t.button||!t.currentTarget.contains(t.target))return;if(o=t.nativeEvent,!ew()&&0===o.width&&0===o.height||1===o.width&&1===o.height&&0===o.pressure&&0===o.detail&&"mouse"===o.pointerType){e.pointerType="virtual";return}eK(t.currentTarget)&&t.preventDefault(),e.pointerType=t.pointerType;let s=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,u||h||eM(t.currentTarget),m||eP(e.target),s=x(t,e.pointerType),_(ec(t.currentTarget),"pointermove",n,!1),_(ec(t.currentTarget),"pointerup",r,!1),_(ec(t.currentTarget),"pointercancel",i,!1)),s&&t.stopPropagation()},t.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(eK(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},t.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&eq(t,t.currentTarget)&&S(t,e.pointerType||t.pointerType)};let n=t=>{t.pointerId===e.activePointerId&&e.target&&(eq(t,e.target)?e.isOverTarget||(e.isOverTarget=!0,x(eH(e.target,t),e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,k(eH(e.target,t),e.pointerType,!1),T(t)))},r=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&e.target&&(eq(t,e.target)?k(eH(e.target,t),e.pointerType):e.isOverTarget&&k(eH(e.target,t),e.pointerType),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,C(),m||eI(e.target))},i=e=>{E(e)};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&E(e)}}else{t.onMouseDown=t=>{if(0===t.button&&t.currentTarget.contains(t.target)){if(eK(t.currentTarget)&&t.preventDefault(),e.ignoreEmulatedMouseEvents){t.stopPropagation();return}e.isPressed=!0,e.isOverTarget=!0,e.target=t.currentTarget,e.pointerType=eU(t.nativeEvent)?"virtual":"mouse",u||h||eM(t.currentTarget),x(t,e.pointerType)&&t.stopPropagation(),_(ec(t.currentTarget),"mouseup",n,!1)}},t.onMouseEnter=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!0,n=x(t,e.pointerType)),n&&t.stopPropagation()},t.onMouseLeave=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!1,n=k(t,e.pointerType,!1),T(t)),n&&t.stopPropagation()},t.onMouseUp=t=>{t.currentTarget.contains(t.target)&&(e.ignoreEmulatedMouseEvents||0!==t.button||S(t,e.pointerType||"mouse"))};let n=t=>{if(0===t.button){if(e.isPressed=!1,C(),e.ignoreEmulatedMouseEvents){e.ignoreEmulatedMouseEvents=!1;return}e.target&&(eq(t,e.target)?k(eH(e.target,t),e.pointerType):e.isOverTarget&&k(eH(e.target,t),e.pointerType,!1),e.isOverTarget=!1)}};t.onTouchStart=t=>{if(!t.currentTarget.contains(t.target))return;let n=function(e){let{targetTouches:t}=e;return t.length>0?t[0]:null}(t.nativeEvent);n&&(e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=t.currentTarget,e.pointerType="touch",u||h||eM(t.currentTarget),m||eP(e.target),x(t,e.pointerType)&&t.stopPropagation(),_(eu(t.currentTarget),"scroll",r,!0))},t.onTouchMove=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed){t.stopPropagation();return}let n=ez(t.nativeEvent,e.activePointerId),r=!0;n&&eq(n,t.currentTarget)?e.isOverTarget||(e.isOverTarget=!0,r=x(t,e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,r=k(t,e.pointerType,!1),T(t)),r&&t.stopPropagation()},t.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed){t.stopPropagation();return}let n=ez(t.nativeEvent,e.activePointerId),r=!0;n&&eq(n,t.currentTarget)?(S(t,e.pointerType),r=k(t,e.pointerType)):e.isOverTarget&&(r=k(t,e.pointerType,!1)),r&&t.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,!m&&e.target&&eI(e.target),C()},t.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&E(t))};let r=t=>{e.isPressed&&t.target.contains(e.target)&&E({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&E(e)}}return t},[_,u,h,C,m,E,T,k,x,S]);return(0,p.useEffect)(()=>()=>{!m&&w.current.target&&eI(w.current.target)},[m]),{isPressed:d||y,pressProps:eA(v,P)}}({onPress:r,onPressStart:i,onPressEnd:o,isDisabled:a,ref:t}),w=function(e,t={}){let{labelable:n,isLink:r,propNames:i}=t,o={};for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(c.has(t)||n&&u.has(t)||r&&d.has(t)||(null==i?void 0:i.has(t))||h.test(t))&&(o[t]=e[t]);return o}(l,{labelable:!0,isLink:"a"===n}),_=g(m,y),C=(0,p.useContext)(R);return{isPressed:b,linkProps:g(w,{..._,...f,"aria-disabled":a||void 0,"aria-current":e["aria-current"],onClick:e=>{var t,n;let r;null==(t=y.onClick)||t.call(y,e),s&&s(e),!(!C.isNative&&e.currentTarget instanceof HTMLAnchorElement)||!e.currentTarget.href||e.isDefaultPrevented()||(r=(n=e.currentTarget).getAttribute("target"))&&"_self"!==r||n.origin!==location.origin||n.hasAttribute("download")||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||(e.preventDefault(),C.open(e.currentTarget,e))}})}}({...E,onPress:C,onPressStart:x,onPressEnd:k,onClick:S,isDisabled:e.isDisabled,elementType:"".concat(i)},P),{isFocused:O,isFocusVisible:N,focusProps:D}=(0,eZ.Fx)({autoFocus:w});if(y){var U,F;E.rel=null!==(U=E.rel)&&void 0!==U?U:"noopener noreferrer",E.target=null!==(F=E.target)&&void 0!==F?F:"_blank"}let V=(0,p.useMemo)(()=>o({...n,className:_}),[...Object.values(n),_]);return{Component:T,children:f,anchorIcon:m,showAnchorIcon:b,getLinkProps:(0,p.useCallback)(()=>({ref:P,className:V,"data-focus":(0,s.PB)(O),"data-disabled":(0,s.PB)(e.isDisabled),"data-focus-visible":(0,s.PB)(N),...(0,eJ.dG)(D,I,E)}),[V,O,N,D,I,E])}}},46272:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(52322),i=n(7896),o=n(2784),s=n(81722);let a="horizontal",l=["horizontal","vertical"],c=(0,o.forwardRef)((e,t)=>{let{decorative:n,orientation:r=a,...l}=e,c=u(r)?r:a;return(0,o.createElement)(s.WV.div,(0,i.Z)({"data-orientation":c},n?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},l,{ref:t}))});function u(e){return l.includes(e)}c.propTypes={orientation(e,t,n){let r=e[t],i=String(r);return r&&!u(r)?Error("Invalid prop `orientation` of value `".concat(i,"` supplied to `").concat(n,"`, expected one of:\n  - horizontal\n  - vertical\n\nDefaulting to `").concat(a,"`.")):null}};var d=n(61676);let h=o.forwardRef((e,t)=>{let{className:n,orientation:i="horizontal",decorative:o=!0,lineClassName:s,...a}=e;return a.children?(0,r.jsxs)("div",{className:(0,d.cn)("flex relative w-full items-center gap-4",n),...a,children:[(0,r.jsx)(c,{ref:t,decorative:o,orientation:i,className:(0,d.cn)("bg-border-divider","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",s)}),a.children,(0,r.jsx)(c,{ref:t,decorative:o,orientation:i,className:(0,d.cn)("bg-border-divider","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",s)})]}):(0,r.jsx)(c,{ref:t,decorative:o,orientation:i,className:(0,d.cn)("shrink-0 bg-border-divider","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",s),...a})});h.displayName=c.displayName},34581:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(52322),i=n(61676);function o(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-secondary opacity-20",t),...n})}},28830:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(52322);let i=(0,n(47254).tv)({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",circle1:["absolute","w-full","h-full","rounded-full","animate-spinner-ease-spin","border-2","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["absolute","w-full","h-full","rounded-full","opacity-75","animate-spinner-linear-spin","border-2","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"],label:"text-foreground dark:text-foreground-dark font-regular"},variants:{size:{xs:{wrapper:"w-3 h-3",circle1:"border-1",circle2:"border-1",label:"text-sm"},sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",label:"text-sm"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",label:"text-md"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",label:"text-lg"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current"},white:{circle1:"border-b-white",circle2:"border-b-white"},default:{circle1:"border-b-default",circle2:"border-b-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground"}});var o=n(80113),s=n(40489),a=n(2784);let l=(0,a.forwardRef)((e,t)=>{let{slots:n,classNames:l,label:c,getSpinnerProps:u}=function(e){let[t,n]=(0,o.oe)(e,i.variantKeys),{children:r,className:l,classNames:c,label:u,...d}=t,h=(0,a.useMemo)(()=>i({...n}),[...Object.values(n)]),p=(0,s.W)(null==c?void 0:c.base,l),f=u||r,m=(0,a.useMemo)(()=>f&&"string"==typeof f?f:d["aria-label"]?"":"Loading",[r,f,d["aria-label"]]),g=(0,a.useCallback)(()=>({"aria-label":m,className:h.base({class:p}),...d}),[m,h,p,d]);return{label:f,slots:h,classNames:c,getSpinnerProps:g}}({...e});return(0,r.jsxs)("div",{ref:t,...u(),children:[(0,r.jsxs)("div",{className:n.wrapper({class:null==l?void 0:l.wrapper}),children:[(0,r.jsx)("i",{className:n.circle1({class:null==l?void 0:l.circle1})}),(0,r.jsx)("i",{className:n.circle2({class:null==l?void 0:l.circle2})})]}),!!c&&(0,r.jsx)("span",{className:n.label(),children:c})]})});l.displayName="NextUI.Spinner";var c=l},80729:function(e,t,n){"use strict";n.d(t,{mQ:function(){return P},nU:function(){return O},dr:function(){return I},SP:function(){return R}});var r=n(52322),i=n(7896),o=n(2784),s=n(3758),a=n(30017),l=n(1775),c=n(1),u=n(81722),d=n(14354),h=n(64147),p=n(87819);let f="Tabs",[m,g]=(0,a.b)(f,[l.Pc]),v=(0,l.Pc)(),[y,b]=m(f),w=(0,o.forwardRef)((e,t)=>{let{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:f="automatic",...m}=e,g=(0,d.gm)(c),[v,b]=(0,h.T)({prop:r,onChange:s,defaultProp:a});return(0,o.createElement)(y,{scope:n,baseId:(0,p.M)(),value:v,onValueChange:b,orientation:l,dir:g,activationMode:f},(0,o.createElement)(u.WV.div,(0,i.Z)({dir:g,"data-orientation":l},m,{ref:t})))}),_=(0,o.forwardRef)((e,t)=>{let{__scopeTabs:n,loop:r=!0,...s}=e,a=b("TabsList",n),c=v(n);return(0,o.createElement)(l.fC,(0,i.Z)({asChild:!0},c,{orientation:a.orientation,dir:a.dir,loop:r}),(0,o.createElement)(u.WV.div,(0,i.Z)({role:"tablist","aria-orientation":a.orientation},s,{ref:t})))}),C=(0,o.forwardRef)((e,t)=>{let{__scopeTabs:n,value:r,disabled:a=!1,...c}=e,d=b("TabsTrigger",n),h=v(n),p=k(d.baseId,r),f=S(d.baseId,r),m=r===d.value;return(0,o.createElement)(l.ck,(0,i.Z)({asChild:!0},h,{focusable:!a,active:m}),(0,o.createElement)(u.WV.button,(0,i.Z)({type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:p},c,{ref:t,onMouseDown:(0,s.M)(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,s.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,s.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;m||a||!e||d.onValueChange(r)})})))}),x=(0,o.forwardRef)((e,t)=>{let{__scopeTabs:n,value:r,forceMount:s,children:a,...l}=e,d=b("TabsContent",n),h=k(d.baseId,r),p=S(d.baseId,r),f=r===d.value,m=(0,o.useRef)(f);return(0,o.useEffect)(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,o.createElement)(c.z,{present:s||f},n=>{let{present:r}=n;return(0,o.createElement)(u.WV.div,(0,i.Z)({"data-state":f?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!r,id:p,tabIndex:0},l,{ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0}}),r&&a)})});function k(e,t){return"".concat(e,"-trigger-").concat(t)}function S(e,t){return"".concat(e,"-content-").concat(t)}var E=n(21236),T=n(61676);let P=o.forwardRef((e,t)=>{let{referrer:n,...i}=e;return(0,r.jsx)(w,{ref:t,...i,onValueChange:e=>{E.iN.contentViewed({type:e,referrer:n||"Tabs"}),i.onValueChange&&i.onValueChange(e)}})});P.displayName="Tabs";let I=o.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(_,{ref:t,className:(0,T.cn)("inline-flex h-10 items-center justify-center p-1 text-muted-foreground",n),...i})});I.displayName=_.displayName;let R=o.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(C,{ref:t,className:(0,T.cn)("inline-flex items-center justify-center whitespace-nowrap px-3 py-1.5 text-md font-medium focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 border-b data-[state=active]:border-b-foreground data-[state=inactive]:border-b-transparent data-[state=active]:text-foreground hover:text-foreground",n),...i})});R.displayName=C.displayName;let O=o.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(x,{ref:t,className:(0,T.cn)("mt-2 ring-offset-background data-[state=inactive]:hidden",n),...i})});O.displayName=x.displayName},92014:function(e,t,n){"use strict";n.d(t,{g:function(){return h}});var r=n(52322),i=n(2784),o=n(61676),s=n(57933),a=n(10386),l=n(55541),c=n(39452),u=n(75093),d=n(92304);let h=i.forwardRef((e,t)=>{var n,h,f;let{className:m,containerClassName:g,chatMode:v,label:y,error:b,tooltipProps:w,showMaxLengthIndicator:_,labelEndContent:C,labelPosition:x="floating",numberOfLines:k,disableMaxHeight:S,disableEdits:E,...T}=e,{t:P}=(0,a.$G)(),I=i.useRef(""),R=i.useRef(),[O,A]=i.useState(!1),N=(0,c.RM)(),{name:L,error:M}=null!=N?N:{name:"",error:b},D=null!=y?y:L?P("Form.labels.".concat(L),{defaultValue:(0,s.k)(L)}):"";(0,i.useEffect)(()=>{R.current&&!I.current&&(I.current=R.current.style.height)},[]),i.useEffect(()=>{if(R.current){if(""===T.value)R.current.style.height=I.current;else{let{scrollHeight:e,clientHeight:t,offsetHeight:n}=R.current;R.current.style.height="".concat(e+n-t,"px")}}},[T.value]);let j=!T.value&&!T.defaultValue&&!T.placeholder&&!O,U="string"==typeof M?M:null==M?void 0:M.message,F=null==N?void 0:null===(n=N.maxLength)||void 0===n?void 0:n.valueOf(),V=("number"==typeof F?F:void 0)||T.maxLength,B=!!_&&!!V;return(0,r.jsxs)("div",{className:(0,o.cn)("w-full relative flex flex-col",g),children:[(()=>{let e=N?c.lX:d._,t=()=>(0,r.jsxs)("span",{className:(0,o.cn)("h-fit",{"flex flex-row justify-between":!!C,"leading-none":"top"===x}),children:[(0,r.jsx)(e,{className:(0,o.cn)("floating"===x?"absolute top-2 left-3 text-sm font-medium transition-all ease-in-out pointer-events-none":"decoration-dotted decoration-placeholder hover:decoration-foreground underline-offset-4","floating"===x?(0,u.O)({error:M,focused:O}):"text-primary",{"text-md top-5":j,underline:w}),children:D}),!!C&&C]});return D?w?(0,r.jsx)(l.l,{...w,children:t()}):t():null})(),(0,r.jsx)("textarea",{rows:k,maxLength:V,className:(0,o.cn)("flex px-3 py-4 w-full border bg-background text-md file:border-0 file:bg-transparent file:text-md file:font-medium placeholder:text-placeholder disabled:cursor-not-allowed disabled:opacity-50 resize-none focus-visible:outline-none",M?"border-error":"border-input",{"h-10 py-2":v,"rounded-spacing-s":!v,"pb-[15px] pt-[23px]":D,"placeholder:text-md":!!N,"py-3 mt-2":"top"===x,"max-h-96":!S},m),ref:p(R,t),...T,onChange:e=>{var t;E||null===(t=T.onChange)||void 0===t||t.call(T,e)},onFocus:e=>{var t;A(!0),null===(t=T.onFocus)||void 0===t||t.call(T,e)},onBlur:e=>{var t;A(!1),null===(t=T.onBlur)||void 0===t||t.call(T,e)}}),(0,r.jsxs)("span",{className:(0,o.cn)("flex flex-row px-3 gap-2 text-sm",{"justify-start":!!U,"justify-end":B,"justify-between":!!U&&B,"mt-1":!!U||B}),children:[!!U&&(0,r.jsx)("p",{className:"text-error",children:U}),!!B&&(0,r.jsx)("p",{className:"text-placeholder",children:"".concat(null!==(f=null===(h=T.value)||void 0===h?void 0:h.toString().length)&&void 0!==f?f:0,"/").concat(V)})]})]})});h.displayName="Textarea";let p=(e,t)=>n=>{e.current=n,"function"==typeof t?t(n):t&&(t.current=n)}},12975:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});let r=["0","xs","sm","md","lg","xl","2xl","3xl","4xl","5xl","6xl","7xl","8xl","9xl","1","2","3","3.5","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","20","24","28","32","36","40","44","48","52","56","60","64","72","80","96"].map(e=>"unit-".concat(e))},74374:function(e,t,n){"use strict";n.d(t,{Zs:function(){return i},Jj:function(){return o},Dh:function(){return r}});let r=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],i={default:["[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]"]},o={primary:{primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-foreground hover:bg-accent",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},outline:{primary:"bg-outline border-border-outline border-1 text-primary",secondary:"bg-outline border-secondary text-secondary-foreground",success:"bg-outline border-success text-success",warning:"bg-outline border-warning text-warning",danger:"bg-outline border-danger text-danger",foreground:"bg-outline border-foreground text-foreground"},ghost:{primary:"bg-ghost text-primary",secondary:"bg-ghost text-secondary-foreground",success:"bg-ghost text-success",warning:"bg-ghost text-warning",danger:"bg-ghost text-danger",foreground:"bg-ghost text-foreground"}}},47254:function(e,t,n){"use strict";n.d(t,{tv:function(){return s}});var r=n(11895),i=n(12975);let o=["small","medium","large"],s=(e,t)=>{var n,s,a;return(0,r.tv)(e,{...t,twMerge:null===(a=null==t?void 0:t.twMerge)||void 0===a||a,twMergeConfig:{...null==t?void 0:t.twMergeConfig,theme:{...null==t?void 0:null===(n=t.twMergeConfig)||void 0===n?void 0:n.theme,opacity:["disabled"],spacing:["divider","unit",...i.m],borderWidth:o,borderRadius:o},classGroups:{...null==t?void 0:null===(s=t.twMergeConfig)||void 0===s?void 0:s.classGroups,shadow:[{shadow:o}],"font-size":[{text:["tiny",...o]}],"bg-image":["bg-stripe-gradient"],"min-w":[{"min-w":["unit",...i.m]}],"min-h":[{"min-h":["unit",...i.m]}]}}})}},2608:function(e,t,n){"use strict";n.d(t,{A:function(){return a},K:function(){return s}});var r=n(52322),i=n(2784),o=n(71103);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,c=()=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[!!a&&i.createElement(a,{className:"w-4 h-4"}),(0,r.jsxs)("p",{children:[e," ",(0,r.jsx)("br",{}),s]})]}),u={autoClose:"destructive"===n?null!=t&&t:t,theme:"destructive"===n?"colored":void 0,...l};"destructive"===n?o.Am.error((0,r.jsx)(c,{}),u):(0,o.Am)((0,r.jsx)(c,{}),u)}function a(e){s(e,5e3,"destructive")}},99070:function(e,t,n){"use strict";n.d(t,{PB:function(){return r}});let r=e=>e?"true":void 0},11581:function(e,t,n){"use strict";n.d(t,{gy:function(){return i}});var r=n(2784);function i(e){let t=(0,r.useRef)(null);return(0,r.useImperativeHandle)(e,()=>t.current),t}window.document&&window.document.createElement},659:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});let r=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),i=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),o=/^(data-.*)$/,s=/^(aria-.*)$/,a=/^(on[A-Z].*)$/;function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{labelable:n=!0,enabled:l=!0,propNames:c,omitPropNames:u,omitEventNames:d}=t,h={};if(!l)return e;for(let t in e)!((null==u?void 0:u.has(t))||(null==d?void 0:d.has(t))&&a.test(t)||a.test(t)&&!i.has(t))&&(Object.prototype.hasOwnProperty.call(e,t)&&(r.has(t)||n&&s.test(t)||(null==c?void 0:c.has(t))||o.test(t))||a.test(t))&&(h[t]=e[t]);return h}},80113:function(e,t,n){"use strict";n.d(t,{cn:function(){return o},oe:function(){return i}});var r=n(40489);let i=function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!t)return[e,{}];let r=t.reduce((t,n)=>n in e?{...t,[n]:e[n]}:t,{});return n?[Object.keys(e).filter(e=>!t.includes(e)).reduce((t,n)=>({...t,[n]:e[n]}),{}),r]:[e,r]},o=r.Z},35740:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(2784),i=n(41130);let o=()=>(0,r.useContext)(i.V)},41130:function(e,t,n){"use strict";n.d(t,{V:function(){return g},H:function(){return v}});var r=n(52322),i=n(13789),o=n(75919),s=n(85108),a=n(66514),l=n(34121);(0,i.ZI)(o.D),(0,i.y1)(s.a),(0,i.hF)(a.NL),(0,i.z)(l.N);var c=n(83944),u=n(2336),d=n(52905),h=n(22738),p=n(80771),f=n(2784);let m=e=>{let{children:t}=e;return(0,r.jsx)("div",{children:t})},g=(0,f.createContext)({user:null,isLoading:!0,token:"",isPlusUser:!1,isStaff:!1,setUser:()=>{}}),v=e=>{let{children:t,user:n,token:i="",isStaff:o}=e;(0,u.C)(i),n&&(0,d.J)(n);let[s,a]=(0,f.useState)(n),l=(0,f.useMemo)(()=>(0,p.Vt)(null==n?void 0:n.user),[n]),v=(0,f.useCallback)(e=>{a(e);let t="function"==typeof e?e(s):e;c.w.updateAmplitudeIdentify(t)},[s]),y=(0,f.useMemo)(()=>({user:s,token:i,isLoading:!1,setUser:v,isPlusUser:l,isStaff:o}),[s,i,v,l,o]);return(0,f.useEffect)(()=>{var e;h.Y.value=null!==(e=n.hidden_characters)&&void 0!==e?e:[]},[n]),(0,r.jsx)(g.Provider,{value:y,children:(0,r.jsx)(m,{children:t})})}},55274:function(e,t,n){"use strict";n.d(t,{AU:function(){return p},Au:function(){return h}});var r=n(52322),i=n(38978),o=n(5632),s=n(2784),a=n(10386),l=n(30195);let c=(0,s.createContext)({characterId:""});function u(e){let{characterId:t,children:n}=e,i=(0,s.useMemo)(()=>({characterId:t}),[t]);return(0,r.jsx)(c.Provider,{value:i,children:n})}let d=l.z.object({character:l.z.string()});function h(e){let{children:t}=e,n=(0,o.useRouter)(),i=d.safeParse(n.query),s=i.success?i.data.character:"";return(0,r.jsx)(u,{characterId:s,children:t})}function p(){let{i18n:e}=(0,a.$G)(),{characterId:t}=(0,s.useContext)(c),{character:n}=(0,i.XS)(null!=t?t:"",e.language);return{character:n,characterId:t}}},12494:function(e,t,n){"use strict";n.d(t,{FF:function(){return a},ch:function(){return s}});var r=n(52322),i=n(2784);let o=(0,i.createContext)({canEditCharacter:!1,setCanEditCharacter:()=>null,charData:void 0,setCharData:()=>null});function s(e){let{children:t}=e,[n,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(void 0),c=(0,i.useMemo)(()=>({canEditCharacter:n,setCanEditCharacter:s,setCharData:l,charData:a}),[n,s,l,a]);return(0,r.jsx)(o.Provider,{value:c,children:t})}let a=()=>(0,i.useContext)(o)},6493:function(e,t,n){"use strict";n.d(t,{G:function(){return c},h:function(){return u}});var r=n(52322),i=n(96327);(0,i.KN)("firebase","10.7.1","app");var o=n(80855),s=n(2784);let a={apiKey:"AIzaSyAbLy_s6hJqVNr2ZN0UHHiCbJX1X8smTws",authDomain:"auth.character.ai",projectId:"character-ai",storageBucket:"character-ai.appspot.com",messagingSenderId:"458797720674",appId:"1:458797720674:web:b334ca4361e934daeb9d3b",measurementId:"G-3182PBRZJV",reCaptchaSiteKey:"6Lc7dkMpAAAAADhrgEKsNOQDBLcJkyfSO6izUtub"},l=(0,s.createContext)({auth:null,googleProvider:null,appleProvider:null,isInitialized:!1}),c=e=>{let{children:t}=e,[n,c]=(0,s.useState)({auth:null,googleProvider:null,appleProvider:null,isInitialized:!1}),u=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{if(u.current)return;u.current=!0;let e=(0,i.ZF)(function(){if(a&&a.apiKey)return a;throw Error("No Firebase configuration object provided.\nAdd your web app's configuration object to firebase-config.ts")}()),t=(0,o.v0)(e),n=new o.hJ;n.setCustomParameters({prompt:"select_account"});let r=new o.O4("apple.com");r.addScope("name"),r.addScope("email"),c({auth:t,googleProvider:n,appleProvider:r,isInitialized:!0})},[]),(0,r.jsx)(l.Provider,{value:n,children:t})},u=()=>(0,s.useContext)(l)},13174:function(e,t,n){"use strict";n.d(t,{A:function(){return u},q:function(){return d}});var r=n(52322),i=n(55264),o=n(19273),s=n(38694),a=n(2784);let l={id:"",characters:[],title:"",description:"",users:[],permissions:[],last_updated:0,visibility:"",settings:{anyone_can_join:!1,require_approval:!1,join_token:"",character_limit:s.jr.MAX_CHARACTERS_LEN,user_limit:s.jr.MAX_USERS_LEN,auto_smart_reply:!1,smart_reply_timer:!1},picture:"",preview_turns:[]},c=a.createContext({invokeCarouselVisible:[!1,()=>i.ws],messageOptionsPayload:[void 0,()=>i.ws],moderationPayload:[void 0,()=>i.ws],editMessagePayload:[void 0,()=>i.ws],autoplaySetting:[!1,()=>i.ws],chatRoom:l,isLoadingRooms:!0}),u=e=>{var t;let{children:n,roomId:i}=e,[s,u]=(0,a.useState)(!0),[d,h]=(0,a.useState)(!1),[p,f]=(0,a.useState)(),[m,g]=(0,a.useState)(),[v,y]=(0,a.useState)(),{chatRooms:b,isLoading:w}=(0,o.W7)(),_=null!==(t=b[i])&&void 0!==t?t:l;return(0,r.jsx)(c.Provider,{value:{invokeCarouselVisible:[s,u],messageOptionsPayload:[p,f],moderationPayload:[m,g],editMessagePayload:[v,y],autoplaySetting:[d,h],chatRoom:_,isLoadingRooms:w},children:n})},d=()=>(0,a.useContext)(c)},57489:function(e,t,n){"use strict";n.d(t,{H:function(){return a},X:function(){return s}});var r=n(34318),i=n(15030);let o={cacheTime:i.yV,staleTime:i.yV,refetchInterval:i.yV},s=e=>{let{data:t}=r.h.character.info.useQuery({externalId:e},o);return{info:null!=t?t:null}},a=e=>{let{data:t,isLoading:n}=r.h.character.infos.useQuery({externalIds:e});return{characters:null==t?void 0:t.characters,isLoading:n}}},86777:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(50567),i=n(35740),o=n(34318),s=n(15030),a=n(48374),l=n(83614);function c(e){var t,n;let{user:c}=(0,i.a)(),u=(0,l.useStatsigClient)().checkGate(r.F5.GroupChat,{disableExposureLog:!0}),{data:d,refetch:h,isError:p,isLoading:f}=o.h.discovery.recent.useQuery({userCanUseRooms:u},null!=e?e:{staleTime:s.xC,refetchOnMount:!0,enabled:!!c});return{recentChats:null!=d?d:[],recentRooms:null!==(t=null==d?void 0:d.filter(e=>(0,a.yC)(e)))&&void 0!==t?t:[],recentCharacters:null!==(n=null==d?void 0:d.filter(e=>!(0,a.yC)(e)))&&void 0!==n?n:[],isError:p,isLoading:f,refetch:h}}},89363:function(e,t,n){"use strict";n.d(t,{jB:function(){return w},H5:function(){return x},_w:function(){return C}});var r=n(82863),i=n(21236);n(48364);var o=n(2608),s=n(6493),a=n(80855);let l=()=>{let{auth:e,googleProvider:t,appleProvider:n,isInitialized:r}=(0,s.h)();return r&&e&&t&&n?{signInWithGoogle:()=>(0,a.rh)(e,t),signInWithGoogleCredential:async t=>{let n=a.hJ.credential(t);return(0,a.sB)(e,n)},signInWithApple:()=>(0,a.rh)(e,n),signOutUser:()=>(0,a.w7)(e),signInWithEmailLink:(t,n)=>(0,a.P6)(e,t,n)}:null};var c=n(45346),u=n(92488),d=n(34318),h=n(55264),p=n(15030),f=n(96445),m=n(5632),g=n(2784),v=n(10386),y=n(15584);let b=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Login",o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;await i.iN.login({page_name:r,provider:e,subtype:t,referrer:null!=s?s:"auth_hook"}),setTimeout(()=>{let{href:e,search:t}=window.location,n=new URL("".concat(e).concat(t));o&&n.searchParams.set("inviteCode",o),window.location.assign(n.toString())},null!=n?n:0)},w=e=>{let{disabled:t,shouldCancelOnTapOutside:n,shouldUseFedcmForPrompt:i}=e,o=l(),s=d.h.auth.signIn.useMutation(),a=(0,m.useRouter)(),{getRecaptchaToken:h}=(0,c.EK)(),p=(0,y.BF)(u.MX);(0,r._7)({onSuccess:async e=>{let{credential:t}=e;if(t&&o){let e=await o.signInWithGoogleCredential(t),n=await e.user.getIdToken();await s.mutateAsync({googleJwt:n,recaptchaToken:await h("authenticate"),originId:"web-next"})&&await b("google","one_tap",void 0,void 0,p)}},onError:()=>{},disabled:t||(0,f.Z)()||/^\/login\/?/.test(a.pathname),cancel_on_tap_outside:n,use_fedcm_for_prompt:i})},_=async(e,t,n,r,s)=>{switch(t.code){case"auth/popup-blocked":(0,o.K)(n,5e3,"destructive"),await i.iN.authPopupDismissed({provider:e,reason:t.code,referrer:null!=s?s:"auth_hook"});break;case"auth/cancelled-popup-request":case"auth/popup-closed-by-user":case"auth/user-cancelled":await i.iN.authPopupDismissed({provider:e,reason:t.code,referrer:null!=s?s:"auth_hook"});break;default:(0,o.K)(r,5e3,"destructive"),await i.iN.loginDisallowed({provider:e,reason:t.code||(null==t?void 0:t.message)||"Unknown error",referrer:null!=s?s:"auth_hook"})}},C=e=>{let[t,n]=(0,g.useState)(!1),r=d.h.auth.login.useMutation(),s=d.h.auth.signIn.useMutation(),a=(0,m.useRouter)(),{getRecaptchaToken:h}=(0,c.EK)(),{t:f}=(0,v.$G)(),w=l(),C=(0,y.BF)(u.MX),x=(0,g.useCallback)(t=>e?"auth_hook"===t?"".concat(e,"_auth_hook"):e:t,[e]);return{sentEmail:t,onPressApple:(0,g.useCallback)(async()=>{if(w)try{await i.iN.authStarted({provider:"apple",extra:"press",referrer:x("SignInButtons")});let e=await w.signInWithApple(),t=await e.user.getIdToken();await s.mutateAsync({googleJwt:t,inviteCode:null!=C?C:void 0,recaptchaToken:await h("authenticate"),originId:"web-next"})?await b("apple",void 0,void 0,void 0,C,x("auth_hook")):await i.iN.loginDisallowed({provider:"apple",reason:"Failed to exchange JWT for django token",referrer:x("auth_hook")})}catch(e){await _("apple",e,f("Error.please-allow-popups"),f("Error.auth-failed"),x("auth_hook"))}},[w,s,h,f,C,x]),onPressGoogle:(0,g.useCallback)(async()=>{if(!w){(0,o.K)(f("Error.something-went-wrong"),5e3,"destructive"),i.iN.loginDisallowed({provider:"google",reason:"Firebase auth methods not initialized",referrer:x("auth_hook")});return}try{await i.iN.authStarted({provider:"google",extra:"press",referrer:x("SignInButtons")});let e=await w.signInWithGoogle(),t=await e.user.getIdToken();await s.mutateAsync({googleJwt:t,inviteCode:null!=C?C:void 0,recaptchaToken:await h("authenticate"),originId:"web-next"})?await b("google",void 0,void 0,void 0,C,x("auth_hook")):await i.iN.loginDisallowed({provider:"google",reason:"Failed to exchange JWT for django token",referrer:x("auth_hook")})}catch(e){await _("google",e,f("Error.please-allow-popups"),f("Error.auth-failed"),x("auth_hook"))}},[w,s,h,f,C,x]),handleContinue:(0,g.useCallback)(async e=>{try{var t,o;n(!0);let s=await r.mutateAsync({email:e,inviteCode:null!=C?C:void 0});if("/"===a.pathname?null===(t=localStorage)||void 0===t||t.removeItem(p.pT):null===(o=localStorage)||void 0===o||o.setItem(p.pT,a.asPath),s){let e="/login/".concat(s),t=C?"".concat(e,"?inviteCode=").concat(encodeURIComponent(C)):e;await a.push(t)}else i.iN.loginDisallowed({provider:"email",reason:"Failed to send email",referrer:x("auth_hook"),extra:s})}catch(e){i.iN.loginDisallowed({provider:"email",reason:null==e?void 0:e.message,referrer:x("auth_hook")})}},[r,a,C,x])}},x=e=>{let t=d.h.auth.logout.useMutation(),n=(0,m.useRouter)(),{t:r}=(0,v.$G)();(0,g.useEffect)(()=>{e&&(0,f.Z)()&&((0,o.K)(r("Error.sorry-cannot-use"),2500,"destructive"),setTimeout(async()=>{await t.mutateAsync(),n.push(h.nN.home())},2500))},[e,t,n,r])}},92138:function(e,t,n){"use strict";n.d(t,{RJ:function(){return et},vX:function(){return en},Kx:function(){return Q},Bo:function(){return K},Z7:function(){return ea},xg:function(){return ee},ax:function(){return W},io:function(){return $},f_:function(){return el},OF:function(){return er},yZ:function(){return ei},bh:function(){return X},eI:function(){return ec},a3:function(){return G},NS:function(){return Y},Ni:function(){return eo},qw:function(){return Z},qM:function(){return J},Kr:function(){return es}});var r,i,o=n(21236),s=n(48364),a=n(50567);n(12975);let l=(e,t)=>{let n=e.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/);return n?"rgba(".concat(n[1],", ").concat(n[2],", ").concat(n[3],", ").concat(t,")"):e};var c=n(2608),u=n(35740),d=n(13174),h=n(15212),p=n(15030),f=n(83614),m=n(2784),g=n(13959);(r=i||(i={})).AIFilteredMessage="ai_filtered_message",r.UserFilteredMessage="user_filtered_message",r.SelfHarm="self_harm";let v=(0,g.y)(),y=(e,t)=>{var n;let r=t.getExperiment(a.F5.ChatSafetyTimeout).get("safety_config",{});return null==r?void 0:null===(n=r.config)||void 0===n?void 0:n[e]},b=()=>{let[e,t]=(0,m.useState)(!1),[n,r]=(0,m.useState)(0),i=(0,h.q)(!0),[o,s]=(0,m.useState)({ai_filtered_message:[],user_filtered_message:[],self_harm:[]});(0,m.useEffect)(()=>{let e=localStorage.getItem(p.hl.Keys.SafetyWarnings);e&&s(JSON.parse(e));let t=localStorage.getItem(p.hl.Keys.SafetyTimeout);t&&r(JSON.parse(t).chatDisabledUntilMs)},[]);let a=(0,f.useStatsigClient)(),l=(0,m.useCallback)(e=>{if(i)return;let t=y(e,a);(null==t?void 0:t.thresholdCount)&&s(n=>{let i=Date.now(),o=n[e];if(o.unshift(i),(o=o.filter(e=>i-e<t.windowMin*p.Mx)).length>=t.thresholdCount){let e=i+t.disableChatDurationMin*p.Mx;r(e),localStorage.setItem(p.hl.Keys.SafetyTimeout,JSON.stringify({chatDisabledUntilMs:e}))}v.fire({type:e,warningNumber:o.length,warningsRemaining:Math.max(t.thresholdCount-o.length,0)});let s={...n,[e]:o};return localStorage.setItem(p.hl.Keys.SafetyWarnings,JSON.stringify(s)),s})},[i,a]);return(0,m.useEffect)(()=>{if(i)return;let e=Date.now();if(e<n){t(!0);let r=setTimeout(()=>{t(!1)},n-e);return()=>clearTimeout(r)}t(!1)},[i,n]),{isChatDisabled:e,reportSafetyViolation:l}};var w=n(46962),_=n(92488),C=n(55264),x=n(50413),k=n(91308),S=n(47022),E=n(50926),T=n(8950),P=n(38978),I=n(91503),R=n(93033),O=n(36449),A=n(96474),N=n(70677),L=n(46503),M=n(7979),D=n(24991),j=n(82876),U=n(10386),F=n(8661),V=function(e){var t=window.history,n=t[e];t[e]=function(t){var r=n.apply(this,arguments),i=new Event(e.toLowerCase());return i.state=t,window.dispatchEvent(i),r}};F.jU&&(V("pushState"),V("replaceState"));var B=function(e){var t=window.history,n=t.state,r=t.length,i=window.location;return{trigger:e,state:n,length:r,hash:i.hash,host:i.host,hostname:i.hostname,href:i.href,origin:i.origin,pathname:i.pathname,port:i.port,protocol:i.protocol,search:i.search}},z="function"==typeof Event,H=F.jU&&z?function(){var e=(0,m.useState)(B("load")),t=e[0],n=e[1];return(0,m.useEffect)(function(){var e=function(){return n(B("popstate"))},t=function(){return n(B("pushstate"))},r=function(){return n(B("replacestate"))};return(0,F.on)(window,"popstate",e),(0,F.on)(window,"pushstate",t),(0,F.on)(window,"replacestate",r),function(){(0,F.S1)(window,"popstate",e),(0,F.S1)(window,"pushstate",t),(0,F.S1)(window,"replacestate",r)}},[]),t}:function(){return{trigger:"load",length:1}},q=n(15584);let K=()=>{let{subscribeChatEvents:e}=(0,S.m)(),[t,n]=(0,m.useState)();return(0,m.useEffect)(()=>{let t=e(E.qN.unrecoverable_error,(e,t)=>{var r;n(null!==(r=t.type)&&void 0!==r?r:E.DE.UnexpectedError)});return()=>{t()}},[e]),{unrecoverableError:t}},G=e=>{let{setInputText:t}=e,{t:n}=(0,U.$G)(),r=(0,j.useSearchParams)(),[i,o]=(0,m.useState)(!1),s=(0,m.useMemo)(()=>{let e=null==r?void 0:r.get("questionKey"),t=null==r?void 0:r.get("index"),i=null==r?void 0:r.get("icebreaker");if(e&&null!=t){let r=(0,k.fN)(e,Number(t));if(D.ZP.exists(r))return n(r)}else if(i)return i},[r,n]);return{resolveExampleChatPrompt:(0,m.useCallback)(()=>{!i&&s&&s&&(t(s),o(!0))},[s,i,o,t])}},W=()=>{let e=(0,q.BF)(_.AR),t=(0,q.BF)(_.x6);e&&(t=p.l2.dense);let n=t===p.l2.default;return{isDefaultChatStyle:n,isDenseChatStyle:t===p.l2.dense,isChatClassicStyle:t===p.l2.classic,leftAlign:!n}},$=()=>{let{t:e}=(0,U.$G)(),{subscribeChatEvents:t}=(0,S.m)();(0,m.useEffect)(()=>{let n=t(E.qN.websocket_error,(t,n)=>{Number(n.error_code)===T.dw.TooManyPins.errorCode&&Number(n.sub_code)===T.dw.TooManyPins.subCode&&(0,c.K)(e("Chat.max-pin-limit-reached"),void 0,"destructive")});return()=>{n()}},[t,e])},Z=(e,t,n)=>{let{i18n:r}=(0,U.$G)(),{character:i}=(0,P.XS)(null!=e?e:"",r.language),{subscribe:o,chatManagerInitialized:s}=(0,S.m)(),a=!!ee(),[l,c]=(0,m.useState)(null),[u,d]=(0,m.useState)("waiting"),[h,f]=(0,m.useState)(null),[g,v]=(0,m.useState)(),[y,b]=(0,m.useState)(),[w,_]=(0,m.useState)(),C=(0,m.useRef)({});(0,m.useEffect)(()=>{i&&_((0,x.bW)(i))},[i]),(0,m.useEffect)(()=>{a&&b((0,x.O7)())},[a]),(0,m.useEffect)(()=>{if(!s||!e||!i)return;let r=t.sceneId?{scene_id:t.sceneId}:void 0,{unsubscribe:a}=o(e,(e,t)=>{let n=(0,x.nx)(e,t);null!=n?(c(n.candidate_id),e.length>0&&(0,x.Gd)(e[0],n)?d("waiting"):d(n.is_final?"none":"streaming")):(c(null),d("none")),e.length>0?f(e[0].turn_key.chat_id):f(null),v(e),C.current=t},E.Em.Neo,{externalHistoryId:n,character:i,newHistory:!!r},{...t,scene:r});return a},[s,e,o,n,i,t]);let k=(0,m.useMemo)(()=>{let e=(g||[]).slice();return g&&g.length<p.L4&&(y&&e.push(y),w&&e.push(w)),e},[g,w,y]),T=1-((null==i?void 0:i.greeting)?0:1),I=!!k&&k.length>=1&&!!i,R=I&&k.length===T;return{primaryCandidateId:l,streamingStatus:u,chatId:h,chatTurns:g,processedTurns:k,primaryCandidateMap:C.current,introMessage:w,showLoading:R,chatReady:I}},J=e=>{let{subscribe:t,chatManagerInitialized:n}=(0,S.m)(),[r,i]=(0,m.useState)(null),[o,s]=(0,m.useState)("waiting"),[a,l]=(0,m.useState)(null),[c,u]=(0,m.useState)(),[h]=(0,m.useState)(),{chatRoom:f}=(0,d.q)(),g=(0,m.useRef)({});(0,m.useEffect)(()=>{if(!e||!n)return;let{unsubscribe:r}=t(e,(e,t)=>{let n=(0,x.nx)(e,t);null!=n?(i(n.candidate_id),e.length>0&&(0,x.Gd)(e[0],n)?s("waiting"):s(n.is_final?"none":"streaming")):(i(null),s("none")),e.length>0?l(e[0].turn_key.chat_id):l(null),e.map(e=>(e.author.avatar_url||(e.author.avatar_url=(0,L.EY)(e.author,f)),e.context_reset&&(e.clientSystemMessage={message:"",messageType:N.lo.context_reset}),e)),u(e),g.current=t},E.Em.Room);return r},[e,t,n,f]);let v=(0,m.useMemo)(()=>h&&c&&c.length<p.L4?[...c,h]:c,[c,h]),y=!!v&&v.length>=1,b=y&&0===v.length;return{primaryCandidateId:r,streamingStatus:o,chatId:a,chatTurns:c,processedTurns:v,primaryCandidateMap:g.current,introMessage:h,showLoading:b,chatReady:y}},Y=e=>{let{characterId:t,chatId:n,endTurnId:r}=e,{t:i}=(0,U.$G)(),a=H(),{mutate:l}=(0,I.b3)();return(0,m.useCallback)(e=>{(0,c.K)(i("Chat.do-not-leave-page")),l({chatId:n,endTurnId:r,overrides:e},{onSuccess:e=>{o.iN.characterSelected({referrer:"CopyChatOption",characterId:t,newHistory:!1,action:"copy_chat"});let n="".concat(a.origin).concat(C.nN.chat(t,"hist=".concat(e.new_chat_id,"&duplicate=success")));window.open(n,"_blank")},onError:e=>{var t,n;(0,s.H)("Failed to copy chat",{error:e}),(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.error_code)===T.dw.TooManyMessagesToCopy.errorCode?(0,c.K)(i("Chat.too-many-messages-to-duplicate"),2500,"destructive"):(0,c.K)(i("Common.generic-error"),2500,"destructive")}})},[a,n,r,t,i,l])},X=()=>{let e=(0,j.useRouter)(),t=(0,j.useSearchParams)(),[n,r]=(0,m.useState)(!1),{t:i}=(0,U.$G)(),o=(0,j.usePathname)();(0,m.useEffect)(()=>{if(n||(null==t?void 0:t.get("duplicate"))!=="success")return;(0,c.K)(i("Chat.duplicate-chat-started")),r(!0);let s=new URLSearchParams(t.toString());s.delete("duplicate"),e.replace("".concat(o).concat(s?"?".concat(s.toString()):""))},[n,t,i,e,o])},Q=e=>{var t;let n=(0,w.G)(),r=e?A.I[e]:void 0,{userBubbleColor:i,userTextColor:o,characterBubbleColor:s,characterTextColor:a}=null!==(t=n?null==r?void 0:r.darkTheme:null==r?void 0:r.lightTheme)&&void 0!==t?t:{},{isPlusUser:c}=(0,u.a)(),d=c||"edited"===e,h=(0,m.useMemo)(()=>e&&i&&s?{userChatColorOverride:l(i,.9),characterChatColorOverride:l(s,.85),userTextColorOverride:o,characterTextColorOverride:a}:{},[e,i,s,o,a]);return d?h:{}},ee=()=>{var e,t;let n=(0,q.BF)(_.jN),{chat:r}=et(n),{scene:i,error:o}=(0,M.$r)(null==r?void 0:null===(e=r.chat)||void 0===e?void 0:e.scene_id);return o&&(0,s.H)("Error loading scene for chat",{error:o,extra:{chatId:n,sceneId:null==r?void 0:null===(t=r.chat)||void 0===t?void 0:t.scene_id}}),i},et=e=>(0,I.RJ)(e),en=function(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{chat:i}=et((0,q.BF)(_.jN)),{config:o}=(0,a.EY)(a.F5.EditedMessageV2);return null!==(n=Q(!r||"color"!==o.variant||(null==i?void 0:null===(e=i.metadata)||void 0===e?void 0:e.color_scheme_id)?null==i?void 0:null===(t=i.metadata)||void 0===t?void 0:t.color_scheme_id:"edited"))&&void 0!==n?n:{}},er=()=>{var e;let{chat:t}=et(_.jN.value),n=null==t?void 0:null===(e=t.metadata)||void 0===e?void 0:e.background_image_url;return{hasCustomBackground:!!n,backgroundImageURL:n}},ei=e=>{let t=(0,h.q)(!0);return!!(null==e?void 0:e.safety_truncated)&&!t},eo=()=>{var e,t;let{user:n}=(0,u.a)(),r=(0,R.Fl)(),i=(0,f.useGateValue)(a.F5.ModelSelector),{config:o}=(0,a.EY)(a.F5.ModelSelectorShowOnNewChat),s=o["new-chat-sidebar"],{availableModels:l}=(0,I.Us)(!!n&&i),c=null===(t=r.settings)||void 0===t?void 0:null===(e=t.modelPreferenceSettings)||void 0===e?void 0:e.defaultModelType;return{availableModels:l,defaultModel:"MODEL_TYPE_UNKNOWN"===c?void 0:c,newChatSurfacesToShowOn:(0,m.useMemo)(()=>{let e=new Set;return s&&(!c||"MODEL_TYPE_UNKNOWN"===c)&&e.add("new-chat-sidebar"),e},[s,c])}},es=()=>{let e=(0,R.pC)();return{updateDefaultModel:t=>{e.mutate({modelPreferenceSettings:{defaultModelType:t}})}}},ea=()=>{let{t:e}=(0,U.$G)(),{subscribeChatEvents:t}=(0,S.m)(),{isChatDisabled:n,reportSafetyViolation:r}=b();return v.useListen(t=>{let{warningNumber:n,warningsRemaining:r,type:i}=t,s="2_warnings_remaining";0===r?s="0_warnings_remaining":n>1&&(s="1_warnings_remaining");let a="SafetyMonitor.Warnings.".concat(s);(0,c.K)(e(a),5e3),o.iN.contentViewed({referrer:"SafetyMonitor",type:"chat_safety_warning",value:"".concat(i,"_").concat(s)})},[]),(0,m.useEffect)(()=>{let e=t(E.qN.filter,()=>{r(i.AIFilteredMessage)});return()=>{null==e||e()}},[t,r]),(0,m.useEffect)(()=>{let e=t(E.qN.user_input_filtered,()=>{r(i.UserFilteredMessage)});return()=>{null==e||e()}},[t,r]),(0,m.useEffect)(()=>{let e=t(E.qN.self_harm_detected,()=>{r(i.SelfHarm)});return()=>{null==e||e()}},[t,r]),{isChatDisabled:n}},el=()=>{let e="chat-memory-upsell-seen-month",{user:t}=(0,u.a)(),{config:n}=(0,a.EY)(a.F5.CaiPlusChatUpgradeUpsell),{isQuotaExceeded:r,refetchQuota:i,isForcedQuotaExceeded:o}=(0,O.pD)({quotaOptions:n,user:t}),{refetchQuota:s,isActivelyThrottled:l,chunkSize:c,animationSpeed:d,setIsActivelyAnimating:h}=(0,O.pD)({quotaOptions:{enabled:!1},user:t,supportsThrottledAnimation:!0}),p=(0,m.useMemo)(()=>{let t=new Date().getMonth();return localStorage.getItem(e)===t.toString()},[]);return{showChatUpsell:(0,m.useMemo)(()=>{if(o)return!0;if(r&&!p){let t=new Date().getMonth();localStorage.setItem(e,t.toString())}return r&&!p},[r,p,o]),refetchChatUpsellQuota:i,refetchThrottlingQuota:s,isActivelyThrottled:l,chunkSize:c,animationSpeed:d,setIsActivelyAnimating:h}},ec=()=>{let{subscribeChatEvents:e,generationMode:t}=(0,S.m)(),n=(0,f.useLayer)(a.db.Throttling),r=(0,f.useGateValue)(a.F5.NRTGenerationModeLogging),i=(0,m.useRef)(t.mode),{__value:s,groupName:l}=n;(0,m.useEffect)(()=>{if(r)return e(E.qN.generation_mode_update,(e,t)=>{i.current!==t.mode&&(o.iN.generationModeModified({arm:l||"",option:s,old_value:i.current,new_value:t.mode,action:"system-change"}),i.current=t.mode)})},[r,s,e,l])}},60466:function(e,t,n){"use strict";n.d(t,{U:function(){return p},r:function(){return m}});var r,i,o=n(50567),s=n(2608),a=n(35740),l=n(30970);(r=i||(i={})).InitialStickerPack="TYPE_INITIAL_STICKER_PACK",r.DailyStickerDrops="TYPE_DAILY_STICKER_DROP",r.DailyCheckIn="TYPE_DAILY_CHECKIN";var c=n(83614),u=n(85108),d=n(2784);let h="last_daily_checkin_date",p=()=>{var e,t,n,r,i,s;let{user:u}=(0,a.a)(),d=null!==(i=null==u?void 0:null===(t=u.user)||void 0===t?void 0:null===(e=t.id)||void 0===e?void 0:e.toString())&&void 0!==i?i:"",h=(0,c.useGateValue)(o.F5.VirtualCurrency),p=(0,l.JY)({userId:d,enabled:h&&d.length>1});return{...p,currency:null!==(s=null===(r=p.data)||void 0===r?void 0:null===(n=r.balances.find(e=>"coin"===e.productId))||void 0===n?void 0:n.amount)&&void 0!==s?s:0}},f=()=>{let e=new Date().toLocaleString("en-US",{timeZone:"America/Los_Angeles",year:"numeric",month:"2-digit",day:"2-digit"});localStorage.setItem(h,e)},m=()=>{var e,t,n;let r=(0,c.useGateValue)(o.F5.VirtualCurrency),{user:p}=(0,a.a)(),m=null!==(n=null==p?void 0:null===(t=p.user)||void 0===t?void 0:null===(e=t.id)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",[g,v]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let e=localStorage.getItem(h);e?e!==new Date().toLocaleString("en-US",{timeZone:"America/Los_Angeles",year:"numeric",month:"2-digit",day:"2-digit"})&&v(!0):v(!0)},[]),(0,u.a)({...(0,l.AA)({userId:m,rewardType:i.DailyCheckIn}),enabled:r&&g&&m.length>0,staleTime:864e5,onSuccess:()=>{(0,s.K)("Daily check-in reward claimed"),f()},onError:e=>{409===e.status&&f()}})}},74251:function(e,t,n){"use strict";n.d(t,{Dv:function(){return p},Fv:function(){return h},Jg:function(){return m},Or:function(){return g},Ui:function(){return f}});var r=n(20808),i=n(6669),o=n(92488),s=n(55264),a=n(15030),l=n(82876),c=n(2784),u=n(66582),d=n(51032);let h=()=>(0,d.Z)("(max-width: ".concat(a.Qn,"px)"),!1),p=()=>(0,d.Z)("(max-width: ".concat(a.Il,"px)"),!1),f=()=>(0,d.Z)("(min-width: ".concat(a.k4,"px)"),!0),m=e=>{let t=(0,l.usePathname)(),n=(0,i.i)(r.b.SignupPromptOnScroll),a=(0,i.wz)(r.b.SignupPromptOnScroll);(0,c.useEffect)(()=>{!a&&(u.tq||t!==s.nN.home()||setTimeout(()=>{o.f8.value=void 0,o.Ib.value=!0},0))},[t,a]),(0,c.useEffect)(()=>{var r,i;if(!a||t!==s.nN.home())return;let l=e.current;if(!l)return;let c=null!==(i=null==n?void 0:null===(r=n.payload)||void 0===r?void 0:r.scrollThreshold)&&void 0!==i?i:100,d=!1,h=()=>{!d&&l.scrollTop&&l.scrollTop>c&&(u.tq?o.Z8.value=!0:(o.f8.value=void 0,o.Ib.value=!0),d=!0)};return l.addEventListener("scroll",h),()=>l.removeEventListener("scroll",h)},[t,e,a,n])};function g(e){let[t,n]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let t=new IntersectionObserver(e=>{let[t]=e;return n(t.isIntersecting)});return e.current&&t.observe(e.current),()=>t.disconnect()},[e]),t}},9365:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var r=n(48364),i=n(15030),o=n(82876),s=n(66582);let a=function(){let{disabled:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{disabled:!1},t=(0,o.useSearchParams)();if(t&&s.tq&&!e&&"true"===t.get(i.CL.OpenMobile))try{window.location.href="character://"}catch(e){(0,r.H)("Failed to open mobile app",{error:e})}}},29452:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(5632),i=n(2784);let o=()=>{let e=(0,r.useRouter)();return{addOrUpdateQueryParams:(0,i.useCallback)(t=>{let n={...e.query,...t};e.push({pathname:e.pathname,query:n},void 0,{shallow:!0})},[e]),removeQueryParam:(0,i.useCallback)((t,n)=>{let{[t]:r,...i}=e.query,o={pathname:e.pathname,query:i};n?e.replace(o,void 0,{shallow:!0}):e.push(o,void 0,{shallow:!0})},[e])}}},16941:function(e,t,n){"use strict";n.d(t,{z:function(){return p},w:function(){return f}});var r,i,o=n(21236),s=n(35740),a=n(45346),l=n(92488),c=n(5192);(r=i||(i={})).PENDING="pending",r.APPROVED="approved",r.CANCELED="canceled",r.MAX_ATTEMPTS_REACHED="max_attempts_reached",r.DELETED="deleted",r.FAILED="failed",r.EXPIRED="expired",r.ERROR="error";var u=n(80771),d=n(2784),h=n(15584);let p=e=>[i.APPROVED,i.PENDING].includes(e),f=e=>{var t;let{user:n}=e,r=(0,h.BF)(l.MX),{setUser:f}=(0,s.a)(),[m,g]=(0,d.useState)(null),{getRecaptchaHeaders:v}=(0,a.EK)(),y=(0,c.ye)(),b=!!n&&!(null===(t=n.account)||void 0===t?void 0:t.onboarding_complete);return{sentPhoneNumber:m,requiresPhoneVerification:(0,d.useMemo)(()=>!!r&&b&&!(0,u.St)(n),[r,n,b]),verifyPhone:(0,d.useCallback)(async e=>{let{phoneNumber:t}=e;try{let e=await v("send_sms_verification"),{status:n}=await y.sendSMSVerification({phone_number:t},{...e,"origin-id":"web-next"});if(!p(n))return o.iN.phoneVerifyFailed({status:n,referrer:"phone_verification_hook",phone_number:t}),n;return o.iN.phoneVerifySent({status:n,referrer:"phone_verification_hook",phone_number:t}),g(t),n}catch(e){return o.iN.phoneVerifyError({error_message:null==e?void 0:e.message,referrer:"phone_verification_hook",phone_number:t}),i.ERROR}},[v,y]),validateCode:(0,d.useCallback)(async e=>{let{phoneNumber:t,code:n}=e;try{let{status:e,phone_settings:r}=await y.verifySMSVerification({phone_number:t,code:n});if(e!==i.APPROVED)return o.iN.phoneCodeVerificationFailed({status:e,verification_code:n,referrer:"phone_verification_hook",phone_number:t}),{status:e,success:!1};return f(e=>({...e,user:{...e.user,phone_settings:r}})),o.iN.phoneCodeVerificationSuccess({status:e,verification_code:n,referrer:"phone_verification_hook",phone_number:t}),{status:e,success:!0}}catch(e){return o.iN.phoneCodeVerificationError({error_message:null==e?void 0:e.message,verification_code:n,referrer:"phone_verification_hook",phone_number:t}),{status:i.ERROR,success:!1}}},[f,y])}}},9441:function(e,t,n){"use strict";n.d(t,{E:function(){return f},N:function(){return m}});var r=n(2608),i=n(92138),o=n(50567),s=n(83614);let a=()=>(0,s.useDynamicConfig)(o.Lo.ObfuscatedUserType).get("type","");var l=n(92488),c=n(15030);let u=e=>{let t=e();return{isStaff:"X7D3A2B9"===t,isQA:"H2L9F7XQ"===t}},d=e=>{let{isStaff:t}=u(e);return t};var h=n(2784),p=n(15584);let f=()=>d(a),m=()=>{let{unrecoverableError:e}=(0,i.Bo)(),t=f(),n=(0,p.BF)(l.ut);(0,h.useEffect)(()=>{t&&e&&!(0,c.BB)()&&!n&&((0,r.K)("You may experience issues without VPN enabled",5e3,"staff"),l.ut.value=!0)},[t,e,n])}},83460:function(e,t,n){"use strict";n.d(t,{CE:function(){return l},so:function(){return s},zP:function(){return a}});var r=n(50567),i=n(35740),o=n(34318);let s=(e,t)=>{var n,r,i,s,a;let l=o.h.social.inviteByCode.useQuery({inviteCode:null!=e?e:""},{enabled:!!((null==t?void 0:t.enabled)&&e)}),c=null!==(a=null===(r=l.data)||void 0===r?void 0:null===(n=r.invite)||void 0===n?void 0:n.sender_username)&&void 0!==a?a:"",{data:u}=o.h.social.publicUser.useQuery({username:c},{trpc:{ssr:!0}}),d=null===(i=l.data)||void 0===i?void 0:i.invite;return null===(s=l.data)||void 0===s||s.invite,{invite:d,publicUser:u,query:l}},a=e=>{var t,n,s,a,l,c,u;let{user:d}=(0,i.a)(),{config:{enabled:h}}=(0,r.EY)(r.F5.IncentivizedInvites),p=!!d&&h&&(null===(n=null==e?void 0:e.enabled)||void 0===n||n),f=o.h.social.inviteForLoggedInUser.useQuery({},{enabled:p});return f.data&&(f.data.invite.max_rewards=null!==(l=null===(s=f.data)||void 0===s?void 0:s.invite.max_rewards)&&void 0!==l?l:5,f.data.invite.rewards_available=null!==(c=null===(a=f.data)||void 0===a?void 0:a.invite.rewards_available)&&void 0!==c?c:f.data.invite.max_rewards-f.data.invite.rewards_applied,f.data.invite.pending_redemptions=null!==(u=f.data.invite.pending_redemptions)&&void 0!==u?u:Math.max(0,f.data.invite.total_redemptions-f.data.invite.rewards_applied)),{invite:null===(t=f.data)||void 0===t?void 0:t.invite,query:f}},l=e=>{var t,n;let{config:{enabled:i}}=(0,r.EY)(r.F5.IncentivizedInvites),s=i&&(null===(n=null==e?void 0:e.enabled)||void 0===n||n),a=o.h.social.inviteSenderRewardEligibility.useQuery(void 0,{enabled:s});return{eligible:null===(t=a.data)||void 0===t?void 0:t.eligible,query:a}}},46962:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var r=n(38617);let i=()=>{let{resolvedTheme:e}=(0,r.F)();return"dark"===e}},15212:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var r=n(35740),i=n(38694),o=n(80771);let s=e=>{let{user:t}=(0,r.a)(),n=(0,o.L3)(t);return n?n>=i.uS:e}},67938:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(2784);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[n,i]=(0,r.useState)(!1),{threshold:o=.1,rootMargin:s="0px",root:a=null,enabled:l=!0,onlyTriggerOnce:c=!1}=t;return(0,r.useEffect)(()=>{if(!l)return;let t=e.current;if(!t)return;let n=new IntersectionObserver(e=>{let[t]=e;i(e=>c&&e?e:t.isIntersecting)},{threshold:o,rootMargin:s,root:a});return n.observe(t),()=>{n.disconnect()}},[e,o,s,a,l,c]),n}},45346:function(e,t,n){"use strict";n.d(t,{EK:function(){return l},OL:function(){return a},jW:function(){return c}});var r=n(20808),i=n(48364),o=n(6669),s=n(2784);let a="6LcKvP8pAAAAALsgIWumgGUZ-5BTiWIoA7H1FY1G",l=()=>{let[e,t]=(0,s.useState)(!1),n=(0,o.wz)(r.b.RecaptchaEnabled),l=(0,s.useCallback)(()=>new Promise((e,t)=>{let n=document.createElement("script");n.src="https://www.google.com/recaptcha/enterprise.js?render=".concat(a),n.async=!0,n.onload=()=>{var t,n;null===(n=window.grecaptcha)||void 0===n||null===(t=n.enterprise)||void 0===t||t.ready(e)},n.onerror=()=>{(0,i.H)("Failed to load reCAPTCHA script."),t()},document.body.appendChild(n)}),[]),c=(0,s.useCallback)(async e=>{let r;t(!0);try{if(n){var o,s;(null===(s=window.grecaptcha)||void 0===s?void 0:null===(o=s.enterprise)||void 0===o?void 0:o.execute)||await l();let t=await grecaptcha.enterprise.execute(a,{action:e});"string"==typeof t&&t?r=t:(0,i.H)("Invalid reCAPTCHA token received.")}}catch(t){(0,i.H)("Failed to get recaptcha token for action=".concat(e),{error:t})}finally{t(!1)}return{"X-CAI-reCAPTCHA-Token":r||Date.now().toString()}},[n,l]),u=(0,s.useCallback)(async e=>{var t;return null===(t=await c(e))||void 0===t?void 0:t["X-CAI-reCAPTCHA-Token"]},[c]);return{getRecaptchaHeaders:c,isRecaptchaUpdating:e,getRecaptchaToken:u}},c=e=>{let{action:t}=e,{getRecaptchaHeaders:n,isRecaptchaUpdating:r}=l();return{withRecaptchaHeaders:(0,s.useCallback)(async()=>({...await n(t),"origin-id":"web-next"}),[n,t]),isRecaptchaUpdating:r}}},83862:function(e,t,n){"use strict";n.d(t,{Qn:function(){return h},YQ:function(){return c},Zq:function(){return d},jR:function(){return f},rB:function(){return u},tz:function(){return p}}),n(6669);var r=n(2608);n(55264);var i=n(15030),o=n(38617),s=n(5632),a=n(2784),l=n(10386);let c=()=>{let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{("ontouchstart"in window||navigator.maxTouchPoints>0)&&(document.body.classList.add("touch-device"),t(!0))},[]),e},u=()=>{let[e,t]=(0,a.useState)(i.t0),{setTheme:n,systemTheme:r}=(0,o.F)(),s=(0,a.useCallback)((e,o)=>{e&&!o&&localStorage.setItem(i.hl.Keys.ThemeMode,e),e===i.hY.system?n(null!=r?r:i.t0):n(null!=e?e:i.t0),t(null!=e?e:i.t0)},[n,r]),l=(0,a.useCallback)(()=>{s(localStorage.getItem(i.hl.Keys.ThemeMode))},[s]);return{mode:e,handleSetThemeMode:s,resolveThemeMode:l}},d=e=>{(0,a.useEffect)(()=>{let t=e.current;if(!t)return;let n=e=>{e.stopPropagation();let n=t.scrollWidth-t.offsetWidth;(t.scrollLeft+e.deltaX<0||t.scrollLeft+e.deltaX>n)&&(e.preventDefault(),t.scrollLeft=Math.max(0,Math.min(n,t.scrollLeft+e.deltaX)))};return t.addEventListener("wheel",n,!1),()=>{t&&t.removeEventListener("wheel",n,!1)}},[e])},h=(e,t)=>{(0,a.useEffect)(()=>{if(window.onbeforeunload=()=>{if(e)return t},e){let e=()=>{if(!confirm(t))throw s.Router.events.emit("routeChangeError","","",{shallow:!1}),"Abort route change. Please ignore this error."};return s.Router.events.on("routeChangeStart",e),()=>{s.Router.events.off("routeChangeStart",e)}}},[e,t])},p=()=>{let{t:e}=(0,l.$G)();return(t,n)=>{let o=void 0===t?e("Error.something-went-wrong"):t,s=void 0===n?e("Error.please-refresh-or-try-again-later"):n;(0,r.K)(o,i.Yx,"destructive",s)}},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"startAtTop",t=(0,a.useRef)(),[n,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)("startAtBottom"===e),[s,l]=(0,a.useState)("startAtTop"===e);return{isScrolling:n,isAtTop:s,isAtBottom:i,handleScroll:(0,a.useCallback)(e=>{r(!0);let n=1>=Math.floor(e.currentTarget.scrollHeight+e.currentTarget.scrollTop-e.currentTarget.clientHeight),i=1>=Math.abs(e.currentTarget.scrollTop);l(n),o(i),clearTimeout(t.current),t.current=setTimeout(()=>{r(!1)},2e3)},[])}}},39395:function(e,t,n){"use strict";n.d(t,{Hq:function(){return D},Iq:function(){return R},Nt:function(){return I},ZU:function(){return M},sZ:function(){return O},uO:function(){return j},ut:function(){return A},wO:function(){return L},yW:function(){return N}});var r=n(21236),i=n(20808),o=n(48364),s=n(6669),a=n(2608),l=n(35740),c=n(55274),u=n(83862),d=n(92488),h=n(20757),p=n(55264),f=n(28450),m=n(3963),g=n(13789),v=n(93033),y=n(84938),b=n(92357),w=n(61346),_=n(38694),C=n(14488),x=n(16575),k=n(5632),S=n(2784),E=n(10386),T=n(15584),P=n(6364);let I=()=>{let e=(0,g.NL)(),{token:t,user:n}=(0,l.a)();return(0,g.Db)(async e=>{var r;let{data:i,fileURI:s}=e;(null==n?void 0:null===(r=n.user)||void 0===r?void 0:r.id)||(0,o.H)("Create Voice Error: userId is not set",{type:o.NI.Voice});let a=new FormData,l=await fetch(s),c=await l.blob();a.append("file",c,"input.mp3"),a.append("json",JSON.stringify({voice:i}));let u=await fetch("".concat((0,w.$n)(),"/v1/voices/"),{method:"POST",body:a,headers:{"request-id":(0,P.Z)(),"origin-id":(0,w.g1)(),Authorization:"Token ".concat(t)}});if(451===u.status)throw(0,o.H)("create voice failed due to cloudflare region blocking",{type:o.NI.Voice}),Error(C.O_.UNSUPPORTED_REGION);if(403===u.status)throw(0,o.H)("create voice failed due to voice integrity",{type:o.NI.Voice}),Error(C.O_.CREATE_VOICE_AUDIO_INTEGRITY);if(500===u.status)throw Error();if(u.status<200||u.status>299)throw Error("create voice failed");return u.json()},{onSuccess:()=>{e.invalidateQueries((0,m.b4)().userVoices.keys())}})},R=()=>{let e=(0,g.NL)(),{token:t,user:n}=(0,l.a)();return(0,g.Db)(async e=>{var r,i,s,a,l;let{data:c}=e;(null==n?void 0:null===(r=n.user)||void 0===r?void 0:r.id)||(0,o.H)("Update Voice Error: userId is not set",{type:o.NI.Voice});try{let e={...c,name:null==c?void 0:null===(i=c.name)||void 0===i?void 0:i.trim(),description:null==c?void 0:null===(s=c.description)||void 0===s?void 0:s.trim()};return await (0,b.od)().put("".concat((0,w.$n)(),"/v1/voices/").concat(c.id),{voice:e},{headers:{Authorization:"Token ".concat(t)}})}catch(t){let e=null==t?void 0:null===(l=t.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.message;if(e===C.O_.CREATE_VOICE_NAME_INTEGRITY)throw Error(C.O_.CREATE_VOICE_NAME_INTEGRITY);if(e===C.O_.CREATE_VOICE_DESCRIPTION_INTEGRITY)throw Error(C.O_.CREATE_VOICE_DESCRIPTION_INTEGRITY);throw t}},{onSuccess:t=>{e.invalidateQueries((0,m.b4)().userVoices.keys()),e.invalidateQueries((0,m.b4)().singleVoice.keys(t.data.voice.id))}})},O=()=>{let{t:e}=(0,E.$G)(),t=(0,u.tz)();return async n=>{let r=null==n?void 0:n.message;r===C.O_.CREATE_VOICE_NAME_INTEGRITY?t(e("CreateVoice.screen.voice-name-integrity-error-details").toString(),""):r===C.O_.CREATE_VOICE_DESCRIPTION_INTEGRITY?t(e("CreateVoice.screen.voice-description-integrity-error-details").toString(),""):t(),(0,o.H)("update voice failed",{error:n,type:o.NI.Voice})}},A=(e,t,n,i)=>{var o;let{t:s}=(0,E.$G)(),{user:a}=(0,l.a)(),{mutate:c}=(0,y.OQ)();return{deleteVoiceWithConfirmation:(0,S.useCallback)(()=>{let o=n?"".concat(s("EditVoice.screen.delete-voice-confirmation")," ").concat(s("EditVoice.screen.delete-voice-details")):"".concat(s("CreateVoice.screen.discard-voice-confirmation")," ").concat(s("CreateVoice.screen.discard-voice-confirmation-details"));if(window.confirm(o)){var l;e&&(null==a?void 0:null===(l=a.user)||void 0===l?void 0:l.id)&&(r.iN.elementClicked({referrer:i||(n?"EditVoice":"CreateVoice"),type:"delete_voice",voice_id:e.id}),c({voiceId:e.id,userId:a.user.id},{onSuccess:t}))}},[n,s,e,null==a?void 0:null===(o=a.user)||void 0===o?void 0:o.id,i,c,t])}},N=e=>{let{character:t}=(0,c.AU)(),{error:n}=(0,y.Kl)(e,!1),i=(0,u.tz)(),s=(0,S.useRef)(!1),{mutate:a}=(0,y.et)();(0,S.useEffect)(()=>{(0,f.i$)(null==n?void 0:n.response)&&t&&!s.current&&e&&(s.current=!0,a({characterExternalId:t.external_id},{onError:n=>{i(),(0,o.H)("Failed to delete voice override",{error:n,type:o.NI.Voice,extra:{characterId:t.external_id,voiceId:e}})},onSuccess:()=>{r.iN.settingChanged({referrer:"Voice",setting:"auto_clear_voice_override",character_id:t.external_id,value:!0})}}))},[t,i,a,e,n])},L=e=>{let{t}=(0,E.$G)(),n=(0,T.BF)(d.yc),i=(0,T.BF)(d.mu),o=(0,S.useRef)(),s=(0,S.useCallback)(()=>(e||(o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{d.sF.value=!1,(0,a.K)(t("Chat.voice-inactivity")),r.iN.voiceRtcConnectionStatusChange({referrer:"VoiceContext",connection_status:"inactivity_timeout"})},2*_.Rz.VOICE_INACTIVITY_TIMEOUT_MS)),()=>clearTimeout(o.current)),[e,t]);return(0,S.useEffect)(()=>{(null==i?void 0:i.state)===x.em.Connected&&n>0&&s()},[s,i,n]),(0,S.useEffect)(()=>()=>{(null==o?void 0:o.current)&&clearTimeout(o.current)},[]),{onConversationActivity:s}},M=e=>{let t=(0,u.tz)(),n=(0,T.BF)(d.ag),[r,i]=(0,S.useState)({}),s=(0,S.useCallback)(()=>{d.ag.value=null,(0,h.Hj)()},[]);return{playVoicePreview:(0,S.useCallback)(async()=>{if(n===e){s();return}if(!e){t();return}try{let t;if(r[e])t=r[e];else{if(!(t=(await (0,m.b4)().singleVoice.queryFn(e,!1)).data.voice))throw Error("Voice not found");i(n=>({...n,[e]:t}))}d.ag.value=e,(0,h.Ae)(t.previewAudioURI,()=>{s()})}catch(e){t(),s(),(0,o.H)("Voice preview play failed",{error:e,type:o.NI.Voice})}},[e,t,s,n,r]),stopVoicePreview:s}},D=()=>{let{mutate:e,isLoading:t}=(0,y.wo)(),n=(0,k.useRouter)(),i=(0,u.tz)();return{overrideVoiceForChat:(0,S.useCallback)((t,s,a,l)=>{r.iN.settingChanged({setting:"voice_override",referrer:a,character_id:t,value:s,searchQuery:l});try{e({characterExternalId:t,voiceId:s},{onSuccess:async()=>{await n.push(p.nN.chat(t,"voice=true"))},onError:e=>{i(),(0,o.H)("Failed to update voice override",{error:e,extra:{referrer:a,characterId:t,voiceId:s},type:o.NI.Voice})}})}catch(e){(0,o.H)("Failed to override character voice",{error:e,extra:{referrer:a,characterId:t,voiceId:s},type:o.NI.Voice}),i()}},[e,n,i]),voiceOverrideUpdating:t}},j=e=>{var t,n;let{settings:r}=(0,v.Fl)(),o="phase-2"===(0,s.Uo)(i.b.VoiceOverridesMigration),{voiceOverride:a}=(0,y.nq)(o?e:void 0);return e?o?{voiceOverride:a}:{voiceOverride:{character_external_id:e,voice_id:null!==(n=null==r?void 0:null===(t=r.voiceOverrides)||void 0===t?void 0:t[e])&&void 0!==n?n:null}}:{voiceOverride:void 0}}},30603:function(e,t,n){"use strict";n.d(t,{Kd:function(){return g},Np:function(){return u},OH:function(){return w},QA:function(){return c},Vb:function(){return p},YR:function(){return b},kh:function(){return _},lx:function(){return f}});var r=n(92642),i=n(63519),o=n(24991),s=n(35196),a=n(71754),l=n(15030);let c="translations",u=function*(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{includeEn:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={debug:!1,fallbackLng:"en",defaultNS:c,ns:[c],interpolation:{escapeValue:!1},...t,resources:{...null!==(e=null==t?void 0:t.resources)&&void 0!==e?e:{}}};n&&(r.resources.en={translations:a});let i=o.ZP.createInstance(r,(e,t)=>t);return yield i,i.init((e,t)=>t).then(e=>i,e=>i)},d=[{value:"en",label:"English",remoteKey:"en",getLocale:()=>n.e(7605).then(n.bind(n,37605))},{value:"es",label:"Espa\xf1ol",remoteKey:"es",getLocale:()=>n.e(5804).then(n.bind(n,35804))},{value:"fr",label:"Fran\xe7ais",remoteKey:"fr",getLocale:()=>n.e(865).then(n.bind(n,60865))},{value:"it",label:"Italiano",remoteKey:"it",getLocale:()=>n.e(3381).then(n.bind(n,63381))},{value:"pt",label:"Portugu\xeas",remoteKey:"pt",getLocale:()=>n.e(4110).then(n.bind(n,24110))},{value:"de",label:"Deutsch",remoteKey:"de",getLocale:()=>n.e(804).then(n.bind(n,20804))},{value:"tr",label:"T\xfcrk\xe7e",remoteKey:"tr",getLocale:()=>n.e(2629).then(n.bind(n,32629))},{value:"pl",label:"Polski",remoteKey:"pl_PL",getLocale:()=>n.e(2222).then(n.bind(n,73057))},{value:"ru",label:"",remoteKey:"ru",getLocale:()=>n.e(3835).then(n.bind(n,3835))},{value:"id",label:"Bahasa Indonesia",remoteKey:"id_ID",getLocale:()=>n.e(4569).then(n.bind(n,44569))},{value:"cn",label:"",remoteKey:"zh_CN",getLocale:()=>n.e(6709).then(n.bind(n,26709))},{value:"tw",label:"",remoteKey:"zh_Hant_TW",getLocale:()=>n.e(3291).then(n.bind(n,83291))},{value:"ja",label:"",remoteKey:"ja_JP",getLocale:()=>n.e(1869).then(n.bind(n,31869))},{value:"ko",label:"",remoteKey:"ko",getLocale:()=>n.e(6722).then(n.bind(n,66722))},{value:"th",label:"",remoteKey:"th_TH",getLocale:()=>n.e(4280).then(n.bind(n,4280))},{value:"vi",label:"Ting Vit",remoteKey:"vi",getLocale:()=>n.e(559).then(n.bind(n,30559))},{value:"bg",label:"",remoteKey:"bg_BG",getLocale:()=>n.e(5204).then(n.bind(n,65204))},{value:"cz",label:"etina",remoteKey:"cs_CZ",getLocale:()=>n.e(4115).then(n.bind(n,14115))},{value:"gr",label:"",remoteKey:"el_GR",getLocale:()=>n.e(6032).then(n.bind(n,76032))},{value:"fi",label:"Suomi",remoteKey:"fi_FI",getLocale:()=>n.e(2708).then(n.bind(n,32708))},{value:"hi",label:"",remoteKey:"hi_IN",getLocale:()=>n.e(2763).then(n.bind(n,32763))},{value:"hr",label:"Hrvatski",remoteKey:"hr_HR",getLocale:()=>n.e(4823).then(n.bind(n,4823))},{value:"hu",label:"Magyar",remoteKey:"hu_HU",getLocale:()=>n.e(7840).then(n.bind(n,37840))},{value:"lt",label:"Lietuvi",remoteKey:"lt_LT",getLocale:()=>n.e(7106).then(n.bind(n,77106))},{value:"nl",label:"Nederlands",remoteKey:"nl_NL",getLocale:()=>n.e(8109).then(n.bind(n,68109))},{value:"no",label:"Norsk",remoteKey:"no_NO",getLocale:()=>n.e(452).then(n.bind(n,10452))},{value:"ro",label:"Rom\xe2n",remoteKey:"ro_RO",getLocale:()=>n.e(7554).then(n.bind(n,67554))},{value:"se",label:"Svenska",remoteKey:"sv_SE",getLocale:()=>n.e(4717).then(n.bind(n,74717))},{value:"ua",label:"",remoteKey:"uk_UA",getLocale:()=>n.e(6758).then(n.bind(n,16758))}],h=d.map(e=>e.value),p=()=>d,f=e=>{var t;return null===(t=d.find(t=>t.value===e))||void 0===t?void 0:t.label},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return e.includes("zh")?"zh-Hans-TW"===e?"tw":"cn":h.includes(e)?e:"en"},g=e=>{var t;let n=m(e);return(null!==(t=d.find(e=>e.value===n))&&void 0!==t?t:d[0]).getLocale().then(e=>e.default)},v=e=>{var t,n;let r=m(e);return null!==(n=null===(t=d.find(e=>e.value===r))||void 0===t?void 0:t.remoteKey)&&void 0!==n?n:"en"},y=()=>window.location.origin,b=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=v(e),o="".concat(y(),"/i18n/").concat(i,"/").concat(i,".json");try{let e=await fetch(o);return await e.json()}catch(i){if(r.Tb(i,{tags:{category:"i18n",action:"importTranslations"},extra:{retries:n,lang:e}}),n<3)return await b(e,t,n+1);if(e!==t)return await b(t,t,0);throw i}},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.hl.Keys.Language;return m((0,s.getCookie)(t)||e)},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.hl.Keys.Language,n=m(e);if(t){if(n){let e=new Date(Date.now()),r=(0,i.E)(e,400);(0,s.setCookie)(t,n,{expires:r})}else(0,s.deleteCookie)(t)}return n}},2336:function(e,t,n){"use strict";n.d(t,{C:function(){return s},H:function(){return a}});var r=n(95518),i=n(92357),o=n(90162);let s=e=>{o.default.defaults.baseURL=r.k.NEXT_PUBLIC_CHAR_SERVER_URL,o.default.defaults.timeout=5e4,o.default.defaults.headers.common.Authorization=e?"Token ".concat(e):"",o.default.defaults.headers.common["Content-Type"]="application/json",(0,i.C7)(()=>o.default)},a=()=>o.default},92488:function(e,t,n){"use strict";n.d(t,{c:function(){return s},zx:function(){return H},DQ:function(){return z},wd:function(){return W},Gq:function(){return el},uW:function(){return eh},Af:function(){return ep},tI:function(){return X},aB:function(){return K},jN:function(){return Y},i8:function(){return eo},yc:function(){return M},k5:function(){return F},x6:function(){return L},qM:function(){return ei},FG:function(){return d},B$:function(){return u},vV:function(){return D},TU:function(){return h},AR:function(){return m},zE:function(){return O},Ts:function(){return ea},q9:function(){return J},nj:function(){return A},Ek:function(){return N},qh:function(){return ec},mu:function(){return y},Vr:function(){return es},eg:function(){return E},Aq:function(){return S},SZ:function(){return k},U0:function(){return eu},OO:function(){return Z},W_:function(){return eg},Kw:function(){return Q},Nd:function(){return en},hl:function(){return er},HE:function(){return f},WK:function(){return p},SF:function(){return et},Z6:function(){return ee},UU:function(){return $},bB:function(){return b},Z8:function(){return G},MX:function(){return C},Ib:function(){return _},f8:function(){return x},n_:function(){return R},ut:function(){return ed},eX:function(){return q},Um:function(){return w},mL:function(){return ef},wj:function(){return em},NT:function(){return P},sF:function(){return T},$s:function(){return I},Mc:function(){return V},AK:function(){return B},ag:function(){return U},UK:function(){return j},LT:function(){return g},NL:function(){return v}}),(i=o||(o={})).DEFAULT="DEFAULT",i.OPEN="OPEN",i.CLOSED="CLOSED";var r,i,o,s,a=n(57960),l=n(15030),c=n(15584);let u=(0,c.td)(null),d=(0,c.td)(null),h=(0,c.td)(null),p=(0,c.td)(null),f=(0,c.td)(null),m=(0,c.td)(!1);(0,c.td)(!1),(0,c.td)(null),(0,c.td)(o.DEFAULT);let g=(0,c.td)(!1),v=(0,c.td)({visible:!1}),y=(0,c.td)(null),b=(0,c.td)(!1),w=(0,c.td)(),_=(0,c.td)(!1),C=(0,c.td)(void 0),x=(0,c.td)(void 0),k=(0,c.td)(!1),S=(0,c.td)(!1),E=(0,c.td)(!1),T=(0,c.td)(!1),P=(0,c.td)(!1),I=[T,P],R=(0,c.td)(!1),O=(0,c.td)("default"),A=(0,c.td)(!1),N=(0,c.td)(null),L=(0,c.td)(l.l2.default),M=(0,c.td)(0),D=(0,c.td)(!1),j=(0,c.td)(!1),U=(0,c.td)(null);(0,c.td)(null);let F=(0,c.td)(null),V=(0,c.td)(null),B=(0,c.td)(a.PO.NotPlaying),z=(0,c.td)(!1),H=(0,c.td)(!1),q=(0,c.td)(!1),K=(0,c.td)(!1),G=(0,c.td)(!1),W=(0,c.td)(l.Po.DISABLED);(0,c.td)(!1);let $=(0,c.td)(a.Fe.unconnected),Z=(0,c.td)(void 0),J=(0,c.td)(void 0),Y=(0,c.td)(void 0),X=(0,c.td)(!1);(0,c.td)(!1);let Q=(0,c.td)(void 0),ee=(0,c.td)(!1),et=(0,c.td)(void 0),en=(0,c.td)(!1),er=(0,c.td)(void 0),ei=(0,c.td)(!1),eo=(0,c.td)(void 0),es=(0,c.td)({status:"closed"}),ea=(0,c.td)(!1),el=(0,c.td)([0,0]),ec=(0,c.td)("closed"),eu=(0,c.td)(!1),ed=(0,c.td)(!1),eh=(0,c.td)(void 0);(r=s||(s={})).ChatAttachment="chatAttachment",r.VideoGen="videoGen";let ep=(0,c.td)(),ef=(0,c.td)({showModal:!1}),em=(0,c.td)(!1),eg=(0,c.td)(null)},61676:function(e,t,n){"use strict";n.d(t,{cn:function(){return j},oO:function(){return U},Cd:function(){return F}});var r=n(40489);let i=/^\[(.+)\]$/;function o(e,t){let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n}let s=/\s+/;function a(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=function e(t){let n;if("string"==typeof t)return t;let r="";for(let i=0;i<t.length;i++)t[i]&&(n=e(t[i]))&&(r&&(r+=" "),r+=n);return r}(e))&&(r&&(r+=" "),r+=t);return r}function l(e){let t=t=>t[e]||[];return t.isThemeGetter=!0,t}let c=/^\[(?:([a-z-]+):)?(.+)\]$/i,u=/^\d+\/\d+$/,d=new Set(["px","full","screen"]),h=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,p=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,m=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function g(e){return y(e)||d.has(e)||u.test(e)}function v(e){return O(e,"length",A)}function y(e){return!!e&&!Number.isNaN(Number(e))}function b(e){return O(e,"number",y)}function w(e){return!!e&&Number.isInteger(Number(e))}function _(e){return e.endsWith("%")&&y(e.slice(0,-1))}function C(e){return c.test(e)}function x(e){return h.test(e)}let k=new Set(["length","size","percentage"]);function S(e){return O(e,k,N)}function E(e){return O(e,"position",N)}let T=new Set(["image","url"]);function P(e){return O(e,T,M)}function I(e){return O(e,"",L)}function R(){return!0}function O(e,t,n){let r=c.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))}function A(e){return p.test(e)}function N(){return!1}function L(e){return f.test(e)}function M(e){return m.test(e)}let D=function(e,...t){let n,r,l;let c=function(s){var a;return r=(n={cache:function(e){if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=new Map,r=new Map;function i(i,o){n.set(i,o),++t>e&&(t=0,r=n,n=new Map)}return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}}((a=t.reduce((e,t)=>t(e),e())).cacheSize),splitModifiers:function(e){let t=e.separator,n=1===t.length,r=t[0],i=t.length;return function(e){let o;let s=[],a=0,l=0;for(let c=0;c<e.length;c++){let u=e[c];if(0===a){if(u===r&&(n||e.slice(c,c+i)===t)){s.push(e.slice(l,c)),l=c+i;continue}if("/"===u){o=c;continue}}"["===u?a++:"]"===u&&a--}let c=0===s.length?e:e.substring(l),u=c.startsWith("!"),d=u?c.substring(1):c;return{modifiers:s,hasImportantModifier:u,baseClassName:d,maybePostfixModifierPosition:o&&o>l?o-l:void 0}}}(a),...function(e){let t=function(e){var t;let{theme:n,prefix:r}=e,i={nextPart:new Map,validators:[]};return(t=Object.entries(e.classGroups),r?t.map(([e,t])=>[e,t.map(e=>"string"==typeof e?r+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,t])=>[r+e,t])):e)]):t).forEach(([e,t])=>{(function e(t,n,r,i){t.forEach(t=>{if("string"==typeof t){(""===t?n:o(n,t)).classGroupId=r;return}if("function"==typeof t){if(t.isThemeGetter){e(t(i),n,r,i);return}n.validators.push({validator:t,classGroupId:r});return}Object.entries(t).forEach(([t,s])=>{e(s,o(n,t),r,i)})})})(t,i,e,n)}),i}(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:function(e){let n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),function e(t,n){if(0===t.length)return n.classGroupId;let r=t[0],i=n.nextPart.get(r),o=i?e(t.slice(1),i):void 0;if(o)return o;if(0===n.validators.length)return;let s=t.join("-");return n.validators.find(({validator:e})=>e(s))?.classGroupId}(n,t)||function(e){if(i.test(e)){let t=i.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}(e)},getConflictingClassGroupIds:function(e,t){let i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}}(a)}).cache.get,l=n.cache.set,c=u,u(s)};function u(e){let t=r(e);if(t)return t;let i=function(e,t){let{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=new Set;return e.trim().split(s).map(e=>{let{modifiers:t,hasImportantModifier:i,baseClassName:o,maybePostfixModifierPosition:s}=n(e),a=r(s?o.substring(0,s):o),l=!!s;if(!a){if(!s||!(a=r(o)))return{isTailwindClass:!1,originalClassName:e};l=!1}let c=(function(e){if(e.length<=1)return e;let t=[],n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t})(t).join(":");return{isTailwindClass:!0,modifierId:i?c+"!":c,classGroupId:a,originalClassName:e,hasPostfixModifier:l}}).reverse().filter(e=>{if(!e.isTailwindClass)return!0;let{modifierId:t,classGroupId:n,hasPostfixModifier:r}=e,s=t+n;return!o.has(s)&&(o.add(s),i(n,r).forEach(e=>o.add(t+e)),!0)}).reverse().map(e=>e.originalClassName).join(" ")}(e,n);return l(e,i),i}return function(){return c(a.apply(null,arguments))}}(function(){let e=l("colors"),t=l("spacing"),n=l("blur"),r=l("brightness"),i=l("borderColor"),o=l("borderRadius"),s=l("borderSpacing"),a=l("borderWidth"),c=l("contrast"),u=l("grayscale"),d=l("hueRotate"),h=l("invert"),p=l("gap"),f=l("gradientColorStops"),m=l("gradientColorStopPositions"),k=l("inset"),T=l("margin"),O=l("opacity"),A=l("padding"),N=l("saturate"),L=l("scale"),M=l("sepia"),D=l("skew"),j=l("space"),U=l("translate"),F=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",C,t],z=()=>[C,t],H=()=>["",g,v],q=()=>["auto",y,C],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],$=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",C],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[y,b],X=()=>[y,C];return{cacheSize:500,separator:":",theme:{colors:[R],spacing:[g,v],blur:["none","",x,C],brightness:Y(),borderColor:[e],borderRadius:["none","","full",x,C],borderSpacing:z(),borderWidth:H(),contrast:Y(),grayscale:Z(),hueRotate:X(),invert:Z(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[_,v],inset:B(),margin:B(),opacity:Y(),padding:z(),saturate:Y(),scale:Y(),sepia:Z(),skew:X(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",C]}],container:["container"],columns:[{columns:[x]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),C]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",w,C]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",C]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",w,C]}],"grid-cols":[{"grid-cols":[R]}],"col-start-end":[{col:["auto",{span:["full",w,C]},C]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[R]}],"row-start-end":[{row:["auto",{span:[w,C]},C]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",C]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",C]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",C,t]}],"min-w":[{"min-w":["min","max","fit",C,g]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[x]},x,C]}],h:[{h:[C,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",g,C]}],"max-h":[{"max-h":[C,t,"min","max","fit"]}],"font-size":[{text:["base",x,v]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",b]}],"font-family":[{font:[R]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",C]}],"line-clamp":[{"line-clamp":["none",y,b]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",g,C]}],"list-image":[{"list-image":["none",C]}],"list-style-type":[{list:["none","disc","decimal",C]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",g,v]}],"underline-offset":[{"underline-offset":["auto",g,C]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",C]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",C]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),E]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",S]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},P]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[g,C]}],"outline-w":[{outline:[g,v]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[g,v]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",x,I]}],"shadow-color":[{shadow:[R]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",x,C]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",C]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",C]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",C]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[w,C]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",C]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",C]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",C]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[g,v,b]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function j(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return D((0,r.W)(t))}function U(e){if(e<=0)return"00:00";let t=Math.floor(e/60),n=(e%60).toFixed(0),r=String(t).padStart(2,"0"),i=String(n).padStart(2,"0");return"".concat(r,":").concat(i)}function F(e){if(e<=0)return"0:00";let t=Math.floor(e/60),n=(e%60).toFixed(0),r=String(t).padStart(1,"0"),i=String(n).padStart(2,"0");return"".concat(r,":").concat(i)}},47471:function(e,t,n){"use strict";n.d(t,{R:function(){return l}});var r=n(48364),i=n(95518),o=n(61346);let s="https://".concat(i.k.NEXT_PUBLIC_NEO_HOST_BASE,"/multimodal/api/"),a=()=>"https://".concat((0,o.XF)(),"/multimodal/api");class l{setUserId(e){this.userId=e}static getInstance(){return this.instance||(this.instance=new l),this.instance}setAuthToken(e){this.authToken=e}setCurrentSession(e){this.currentSession=e}async sendRequest(e,t,n,r){if(!this.authToken)throw Error("expected auth token");let i={method:n,headers:{Authorization:"Token ".concat(this.authToken),"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,signal:r},o=new URL(e,s).href;return(await fetch(o,i)).json()}async joinOrCreateSession(e,t,n,i,o,s,l){let u="".concat(a(),"/v1/sessions/joinOrCreateSession");try{let r=await this.sendRequest(u,{roomId:e,voices:t,voiceQueries:n,enableASR:o,rtcSessionDescription:i,rtcBackend:"lk",userAuthToken:s,username:l,platform:"web"},"POST");return c(r),r}catch(e){(0,r.H)("Error joining session",{error:e})}}async updateSession(e,t,n){if(!this.currentSession||!this.currentSession.participants[e])throw Error("invalid params");let r="v1/sessions/".concat(this.currentSession.id),i=this.currentSession;i.participants[e].voiceId=t;let o=await this.sendRequest(r,{session:i},"PATCH",n);return c(o),o}async subscribeToRemoteTracks(e,t,n,r){let i=await this.sendRequest("v1/sessions/subscribeToRemoteTracks",{sessionId:e,rtcSessionId:t,tracks:n},"POST",r);return c(i),i}async renegotiateRemoteTracks(e,t,n,r){c(await this.sendRequest("v1/sessions/renegotiateRemoteTracks",{sessionId:e,rtcSessionId:t,sessionDescription:n},"POST",r))}async abortCharacterVoice(e,t,n,r){c(await this.sendRequest("v1/sessions/discardCandidate",{roomId:e,characterId:t,candidateId:n},"POST",r))}async searchVoices(e){let t=await this.sendRequest("v1/voices/search",null,"GET",e);if(!t.voices)throw Error("Missing voices in response");return t.voices}async getVoiceFromId(e){let t=await this.sendRequest("v1/voices/".concat(e),null,"GET");if(!t.voice)throw Error("Missing voice in response");return t.voice}constructor(){this.authToken=null,this.currentSession=null}}l.instance=null;let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==e?void 0:e.errorCode)throw Error(e.errorDescription);for(let o=0;o<t;o++){var n,r,i;if(null==e?void 0:null===(r=e.tracks)||void 0===r?void 0:null===(n=r[o])||void 0===n?void 0:n.errorCode)throw Error("tracks[".concat(o,"]: ").concat(null===(i=e.tracks[o])||void 0===i?void 0:i.errorDescription))}}},20757:function(e,t,n){"use strict";n.d(t,{p3:function(){return eb},IR:function(){return ed},SW:function(){return ep},HH:function(){return eh},Ae:function(){return eg},KQ:function(){return ev},Hj:function(){return ey}});var r={};n.r(r),n.d(r,{fixNegotiationNeeded:function(){return O},shimAddTrackRemoveTrack:function(){return I},shimAddTrackRemoveTrackWithNative:function(){return P},shimGetSendersWithDtmf:function(){return E},shimGetUserMedia:function(){return x},shimMediaStream:function(){return k},shimOnTrack:function(){return S},shimPeerConnection:function(){return R},shimSenderReceiverGetStats:function(){return T}});var i={};n.r(i),n.d(i,{shimAddTransceiver:function(){return V},shimCreateAnswer:function(){return H},shimCreateOffer:function(){return z},shimGetDisplayMedia:function(){return N},shimGetParameters:function(){return B},shimGetUserMedia:function(){return A},shimOnTrack:function(){return L},shimPeerConnection:function(){return M},shimRTCDataChannel:function(){return F},shimReceiverGetStats:function(){return j},shimRemoveStream:function(){return U},shimSenderGetStats:function(){return D}});var o={};n.r(o),n.d(o,{shimAudioContext:function(){return X},shimCallbacksAPI:function(){return G},shimConstraints:function(){return $},shimCreateOfferLegacy:function(){return Y},shimGetUserMedia:function(){return W},shimLocalStreamsAPI:function(){return q},shimRTCIceServerUrls:function(){return Z},shimRemoteStreamsAPI:function(){return K},shimTrackEventTransceiver:function(){return J}});var s={};n.r(s),n.d(s,{removeExtmapAllowMixed:function(){return es},shimAddIceCandidateNullOrEmpty:function(){return ea},shimConnectionState:function(){return eo},shimMaxMessageSize:function(){return er},shimParameterlessSetLocalDescription:function(){return el},shimRTCIceCandidate:function(){return et},shimRTCIceCandidateRelayProtocol:function(){return en},shimSendThrowTypeError:function(){return ei}});var a=n(21236),l=n(48364),c=n(92488),u=n(47016),d=n(57960),h=n(16575);let p=!0,f=!0;function m(e,t,n){let r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function g(e,t,n){if(!e.RTCPeerConnection)return;let r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);let o=e=>{let t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};let o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t]||!this._eventMap[t].has(n))return o.apply(this,arguments);let r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function v(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):(p=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function y(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):(f=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function b(){"object"!=typeof window||p||"undefined"==typeof console||"function"!=typeof console.log||console.log.apply(console,arguments)}function w(e,t){f&&console.warn(e+" is deprecated, please use "+t+" instead.")}function _(e){return"[object Object]"===Object.prototype.toString.call(e)}function C(e,t,n){let r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;let o=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(t=>{e.forEach(n=>{n.type===r&&n.trackId===t.id&&function e(t,n,r){!n||r.has(n.id)||(r.set(n.id,n),Object.keys(n).forEach(i=>{i.endsWith("Id")?e(t,t.get(n[i]),r):i.endsWith("Ids")&&n[i].forEach(n=>{e(t,t.get(n),r)})}))}(e,n,i)})}),i}function x(e,t){let n=e&&e.navigator;if(!n.mediaDevices)return;let r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;let t={};return Object.keys(e).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;let r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);let i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),(e={})[i("max",n)]=r.ideal):e[i("",n)]=r.ideal,t.optional.push(e)}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach(e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){let t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});let s=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!s)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:("user"===o.exact||"user"===o.ideal)&&(t=["front"]),t)return n.mediaDevices.enumerateDevices().then(n=>{let s=(n=n.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!s&&n.length&&t.includes("back")&&(s=n[n.length-1]),s&&(e.video.deviceId=o.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=r(e.video),b("chrome: "+JSON.stringify(e)),i(e)})}e.video=r(e.video)}return b("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=(function(e,t,r){i(e,e=>{n.webkitGetUserMedia(e,t,e=>{r&&r(o(e))})})}).bind(n),n.mediaDevices.getUserMedia){let e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(o(e))))}}}function k(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function S(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)g(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.track.id):{track:n.track};let i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}),t.stream.getTracks().forEach(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.id):{track:n};let i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function E(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){let t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};let r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);let t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}let n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};let r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{let t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function T(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>C(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),g(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>C(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){let e,t,n;let r=arguments[0];return(this.getSenders().forEach(t=>{t.track===r&&(e?n=!0:e=t)}),this.getReceivers().forEach(e=>(e.track===r&&(t?n=!0:t=e),e.track===r)),n||e&&t)?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():t?t.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function P(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};let n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});let t=this.getSenders();n.apply(this,arguments);let r=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(r)};let r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};let i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{let n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),i.apply(this,arguments)}}function I(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return P(e);let n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){let e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};let r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){let n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};let i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{let r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let i=this._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){let n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){let e=arguments,t=arguments.length&&"function"==typeof arguments[0];return t?n.apply(this,[t=>{let n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then(e=>o(this,e))}})[t]});let s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e,t;let n;return arguments.length&&arguments[0].type&&(arguments[0]=(e=this,t=arguments[0],n=t.sdp,Object.keys(e._reverseStreams||[]).forEach(t=>{let r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n}))),s.apply(this,arguments)};let a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){let e=a.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){let t;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{this._streams[n].getTracks().find(t=>e.track===t)&&(t=this._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function R(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}})[t]})}function O(e,t){g(e,"negotiationneeded",e=>{let n=e.target;if(!(t.version<72)&&(!n.getConfiguration||"plan-b"!==n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e})}function A(e,t){let n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){w("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){let e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(e((n=JSON.parse(JSON.stringify(n))).audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){let t=r.prototype.getSettings;r.prototype.getSettings=function(){let n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){let t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(e(n=JSON.parse(JSON.stringify(n)),"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function N(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){let e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function L(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function M(e,t){if("object"!=typeof e||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}})[t]});let n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,i,o]=arguments;return r.apply(this,[e||null]).then(e=>{if(t.version<53&&!i)try{e.forEach(e=>{e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(i,o)}}function D(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function j(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),g(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function U(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){w("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function F(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function V(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);let n=(e=[...e]).length>0;n&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw RangeError("max_framerate must be >= 0.0")});let r=t.apply(this,arguments);if(n){let{sender:t}=r,n=t.getParameters();"encodings"in n&&(1!==n.encodings.length||0!==Object.keys(n.encodings[0]).length)||(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return r})}function B(e){if(!("object"==typeof e&&e.RTCRtpSender))return;let t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){let e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function z(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function H(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function q(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(n=>t.call(this,n,e)),e.getVideoTracks().forEach(n=>t.call(this,n,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...n){return n&&n.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);let n=e.getTracks();this.getSenders().forEach(e=>{n.includes(e.track)&&this.removeTrack(e)})})}}function K(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);let t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){let e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);let n=new Event("addstream");n.stream=t,e.dispatchEvent(n)})}),t.apply(e,arguments)}}}function G(e){if("object"!=typeof e||!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){let r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){let n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let a=function(e,t,n){let r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=a,a=function(e,t,n){let r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=a,a=function(e,t,n){let r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=a}function W(e){let t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){let e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n($(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}).bind(t))}function $(e){return e&&void 0!==e.video?Object.assign({},e,{video:function e(t){return _(t)?Object.keys(t).reduce(function(n,r){let i=_(t[r]),o=i?e(t[r]):t[r],s=i&&!Object.keys(o).length;return void 0===o||s?n:Object.assign(n,{[r]:o})},{}):t}(e.video)}):e}function Z(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){let t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];void 0===r.urls&&r.url?(w("RTCIceServer.url","RTCIceServer.urls"),(r=JSON.parse(JSON.stringify(r))).urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function J(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Y(e){let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);let t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);let n=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function X(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Q=n(2281),ee=n.n(Q);function et(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;let t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){let n=new t(e),r=ee().parseCandidate(e.candidate);for(let e in r)e in n||Object.defineProperty(n,e,{value:r[e]});return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,g(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function en(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||g(e,"icecandidate",e=>{if(e.candidate){let t=ee().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol=({0:"tls",1:"tcp",2:"udp"})[t.priority>>24])}return e})}function er(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});let n=function(e){if(!e||!e.sdp)return!1;let t=ee().splitSections(e.sdp);return t.shift(),t.some(e=>{let t=ee().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},r=function(e){let t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return -1;let n=parseInt(t[1],10);return n!=n?-1:n},i=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},o=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);let i=ee().matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substring(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){let{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){let e;let t=r(arguments[0]),n=i(t),s=o(arguments[0],t);e=0===n&&0===s?Number.POSITIVE_INFINITY:0===n||0===s?Math.max(n,s):Math.min(n,s);let a={};Object.defineProperty(a,"maxMessageSize",{get:()=>e}),this._sctp=a}return s.apply(this,arguments)}}function ei(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){let n=e.send;e.send=function(){let r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}let n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){let e=n.apply(this,arguments);return t(e,this),e},g(e,"datachannel",e=>(t(e.channel,e.target),e))}function eo(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;let t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{let n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{let t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;let n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function es(e,t){if(!e.RTCPeerConnection||"chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)return;let n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){let n=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function ea(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function el(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(!(e={type:e.type,sdp:e.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?n.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>n.apply(this,[e]))})}!function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let n=function(e){let t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;let{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){let e=n.userAgentData.brands.find(e=>"Chromium"===e.brand);if(e)return{browser:"chrome",version:parseInt(e.version,10)}}return n.mozGetUserMedia?(t.browser="firefox",t.version=m(n.userAgent,/Firefox\/(\d+)\./,1)):n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection?(t.browser="chrome",t.version=m(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./)?(t.browser="safari",t.version=m(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype):t.browser="Not a supported browser.",t}(e),a={browserDetails:n,commonShim:s,extractVersion:m,disableLog:v,disableWarnings:y,sdp:Q};switch(n.browser){case"chrome":if(!r||!R||!t.shimChrome){b("Chrome shim is not included in this adapter release.");break}if(null===n.version){b("Chrome shim can not determine version, not shimming.");break}b("adapter.js shimming chrome."),a.browserShim=r,ea(e,n),el(e,n),x(e,n),k(e,n),R(e,n),S(e,n),I(e,n),E(e,n),T(e,n),O(e,n),et(e,n),en(e,n),eo(e,n),er(e,n),ei(e,n),es(e,n);break;case"firefox":if(!i||!M||!t.shimFirefox){b("Firefox shim is not included in this adapter release.");break}b("adapter.js shimming firefox."),a.browserShim=i,ea(e,n),el(e,n),A(e,n),M(e,n),L(e,n),U(e,n),D(e,n),j(e,n),F(e,n),V(e,n),B(e,n),z(e,n),H(e,n),et(e,n),eo(e,n),er(e,n),ei(e,n);break;case"safari":if(!o||!t.shimSafari){b("Safari shim is not included in this adapter release.");break}b("adapter.js shimming safari."),a.browserShim=o,ea(e,n),el(e,n),Z(e,n),Y(e,n),G(e,n),q(e,n),K(e,n),J(e,n),W(e,n),X(e,n),et(e,n),en(e,n),er(e,n),ei(e,n),es(e,n);break;default:b("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});var ec=n(47471);let eu=new h.du;c.mu.value=eu;let ed=async(e,t,n,r,i,o,s)=>{let u;let p=n?{[e]:n}:{},f=!n&&r?{[e]:r}:{};c.LT.value=!1,a.iN.voiceRtcConnectionStatusChange({referrer:"MultimediaConnectionHook",connection_status:d.Fe.connecting,room_name:eu.name,character_id:e});let m=ec.R.getInstance(),g=await m.joinOrCreateSession(t,p,f,void 0,!1,i,"none");m.setCurrentSession(null==g?void 0:g.session);let v=g.lkUrl,y=g.lkToken,b=new Promise(e=>{u=e});return null==eu||eu.on(h.TQ.DataReceived,e=>{let t=new TextDecoder().decode(e);try{let e=JSON.parse(t);"speechStarted"===e.event?c.LT.value=!0:"speechEnded"===e.event&&(c.LT.value=!1)}catch(e){(0,l.H)("Error parsing speech event",{error:e,extra:{room_name:eu.name},type:l.NI.Voice})}}).on(h.TQ.Disconnected,e=>{e===h.W4.CLIENT_INITIATED?a.iN.voiceRtcConnectionStatusChange({referrer:"MultimediaConnectionHook",connection_status:d.Fe.unconnected}):(a.iN.voiceRtcConnectionStatusChange({referrer:"MultimediaConnectionHook",connection_status:d.Fe.failed,room_name:eu.name,reason:e?h.W4[e]:void 0}),(0,l.H)("livekit disconnect error",{error:e,extra:{room_name:eu.name,livekit_connection_state:eu.state},type:l.NI.Voice})),u()}).on(h.TQ.TrackSubscribed,(e,t)=>{if(e.kind===h.fQ.Kind.Video||e.kind===h.fQ.Kind.Audio){var n;let e=null===(n=t.track)||void 0===n?void 0:n.mediaStream;e&&e.getTracks().forEach(e=>{o.addTrack(e),o.dispatchEvent(new Event("addtrack")),s.addEventListener("abort",()=>o.removeTrack(e))})}}).on(h.TQ.ParticipantDisconnected,e=>{(0,l.H)("livekit disconnect error",{error:"participant disconnected",extra:{room_name:eu.name,participant_id:e.identity},type:l.NI.Voice})}),await eu.connect(v,y,{autoSubscribe:!0}),a.iN.voiceRtcConnectionStatusChange({referrer:"MultimediaConnectionHook",connection_status:d.Fe.connected,room_name:eu.name,character_id:e,rtc_type:"livekit"}),{isConnectionClosed:b}},eh=()=>eu.state===h.em.Connecting||eu.state===h.em.Connected,ep=async()=>{try{c.LT.value=!1,await (null==eu?void 0:eu.disconnect());let e=ef();e&&(e.muted=!0,e.srcObject=null)}catch(e){(0,l.H)("Error disconnecting from media",{error:e,type:l.NI.Voice})}},ef=()=>(0,u.tL)("streaming"),em=()=>(0,u.tL)("preview"),eg=(e,t,n)=>{let r=null,i=em();if(!i)return()=>{};i.src=e;let o=()=>{null==n||n(i.duration),i.currentTime=0,i.muted=!1,r=i.play().catch(t=>{(0,l.H)("Error playing audio",{error:t,type:l.NI.Voice,extra:{src:e}})})};return i.addEventListener("loadeddata",o),i.addEventListener("ended",t),async()=>{await r,i&&(i.muted=!0,i.src="",i.removeEventListener("ended",t),i.removeEventListener("loadeddata",o))}},ev=async e=>{let t=null,n=ef();return n?(n.srcObject=e,n.muted=!1,await n.load(),t=n.play().catch(t=>{(0,l.H)("Error playing media stream",{error:t,type:l.NI.Voice,extra:{src:e}})}),async()=>{await t,n&&(n.muted=!0,n.srcObject=null)}):async()=>{}},ey=()=>{let e=em();e&&(e.pause(),e.currentTime=0,e.muted=!0,e.src="",e.srcObject=null)},eb=async e=>new Promise((t,n)=>{let r=URL.createObjectURL(e),i=new Audio(r);i.addEventListener("canplaythrough",()=>{URL.revokeObjectURL(r),t(i.duration)},!1),i.addEventListener("error",e=>{n(e)}),i.load()})},47016:function(e,t,n){"use strict";n.d(t,{ON:function(){return l},Sk:function(){return a},l3:function(){return s},tL:function(){return o}});var r=n(48364);let i=new Map,o=e=>{let t=i.get(e);if(t)return t;let n=document.createElement("audio");return n.autoplay=!0,n.muted=!0,n.style.display="none",document.body.appendChild(n),i.set(e,n),n},s=()=>{i.forEach(e=>{e.pause(),e.remove()})};function a(e,t,n){let i=o(t);return i?(i.muted=!1,i.src=e,i.play().catch(t=>{(0,r.H)("Error during audio playback",{error:t,extra:{src:e},type:r.NI.Voice})}),n.onPlay&&i.addEventListener("play",n.onPlay),n.onEnded&&i.addEventListener("ended",n.onEnded),i):((0,r.H)("Failed to create audio element",{extra:{audioElementKey:t},type:r.NI.Voice}),null)}let l=e=>{let t=o(e);if(!t){(0,r.H)("Failed to get audio element for stopping",{extra:{audioElementKey:e},type:r.NI.Voice});return}t.pause(),t.currentTime=0,t.muted=!0,t.src="",t.srcObject=null}},88981:function(e,t,n){"use strict";let r,i,o,s,a,l;n.r(t),n.d(t,{default:function(){return mW},runtime:function(){return mK}});var c,u,d,h,p,f,m,g,v,y,b,w,_,C,x,k,S,E,T,P,I,R,O,A,N,L,M,D,j,U,F,V,B,z,H,q,K,G,W,$,Z,J,Y,X,Q,ee=n(52322),et=n(43322),en=n.n(et),er=n(27751),ei=n.n(er),eo=n(71766),es=n.n(eo);n(86191),n(96181),n(15172),n(2706),n(2335),n(11303);var ea=n(59742),el=n(2608),ec=n(34318),eu=n(5632),ed=n(2784),eh=n(10386);let ep=e=>{let{t}=(0,eh.$G)(),n=(0,eu.useRouter)(),r=ec.h.auth.logout.useMutation(),i=(0,ed.useRef)(!1);(0,ed.useEffect)(()=>{e&&!i.current&&(i.current=!0,(0,el.K)(t("Signup.ineligible")),r.mutate(),setTimeout(()=>{n.reload()},3e3))},[e,r,n,t])},ef=e=>{let{accountIneligible:t}=e;return ep(t),null};var em=n(16994);function eg(){let e=(0,eu.useRouter)();return(0,ed.useEffect)(()=>{e.push("/")},[e]),null}n(35505);var ev=n(89363);let ey=e=>{let{isAuthed:t}=e;return(0,ev.H5)(t),null};n(51641),n(90957);var eb=n(92357),ew=n(61346),e_=n(47432);let eC=e=>e?{Authorization:"Token ".concat(e)}:{};var ex=n(35740);let ek=(e,t)=>e,eS=e=>{let{children:t}=e,{token:n}=(0,ex.a)(),r=(0,ed.useMemo)(()=>({feed:{client:ek((0,eb.J7)("production",{headers:{common:{...eC(n)}}}))},engagement:{client:ek((0,eb.Uh)("production",{headers:{common:{...eC(n)}}}))},neo:{client:ek((0,eb.nu)("production",{headers:{common:{...eC(n)}}}))},subscription:{client:ek((0,eb.MT)("production",{baseURL:"https://".concat((0,ew.JS)("production")),headers:{common:{...eC(n)}}}))},user:{client:ek((0,eb.OJ)("production",{headers:{common:{...eC(n)}}}))}}),[n]);return(0,ee.jsx)(e_.u_,{clientConfigs:r,children:t})};var eE=n(55541),eT=n(74251),eP=n(46962),eI=n(92488),eR=n(61676),eO=n(71103),eA=n(15584);function eN(){let e=(0,eP.G)(),t=(0,eA.BF)(eI.zE),n=(0,eT.Ui)();return(0,ee.jsx)(eO.Ix,{position:"top-center",autoClose:5e3,newestOnTop:!1,closeOnClick:!0,rtl:!1,closeButton:!1,pauseOnHover:!0,theme:e?"dark":"light",transition:eO.sm,icon:!1,hideProgressBar:!0,toastClassName:e=>(0,eR.cn)(null==e?void 0:e.defaultClassName,{"ml-14":n,"ml-72":n&&"default"===t||"open"===t}),className:"ToastOverrides"})}var eL=n(6493),eM=n(95518),eD=n(15030);let ej=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),eU=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function eF(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize(),n="function"==typeof t.getTextInfo?t.getTextInfo():t.textInfo;if(n)return"rtl"===n.direction;if(t.script)return ej.has(t.script)}let t=e.split("-")[0];return eU.has(t)}var eV=n(23047);let eB=Symbol.for("react-aria.i18n.locale");function ez(){let e="undefined"!=typeof window&&window[eB]||"undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:eF(e)?"rtl":"ltr"}}let eH=ez(),eq=new Set;function eK(){for(let e of(eH=ez(),eq))e(eH)}let eG=ed.createContext(null);function eW(e){let{locale:t,children:n}=e,r=function(){let e=(0,eV.Av)(),[t,n]=(0,ed.useState)(eH);return((0,ed.useEffect)(()=>(0===eq.size&&window.addEventListener("languagechange",eK),eq.add(n),()=>{eq.delete(n),0===eq.size&&window.removeEventListener("languagechange",eK)}),[]),e)?{locale:"en-US",direction:"ltr"}:t}(),i=ed.useMemo(()=>t?{locale:t,direction:eF(t)?"rtl":"ltr"}:r,[r,t]);return ed.createElement(eG.Provider,{value:i},n)}let e$=null;function eZ(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function eJ(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function eY(e){let t=null;return()=>(null==t&&(t=e()),t)}let eX=eY(function(){return eJ(/^Mac/i)}),eQ=eY(function(){return eJ(/^iPhone/i)}),e0=eY(function(){return eJ(/^iPad/i)||eX()&&navigator.maxTouchPoints>1}),e1=eY(function(){return eQ()||e0()});eY(function(){return eX()||e1()});let e2=eY(function(){return eZ(/AppleWebKit/i)&&!e3()}),e3=eY(function(){return eZ(/Chrome/i)});eY(function(){return eZ(/Android/i)});let e4=eY(function(){return eZ(/Firefox/i)}),e5=(0,ed.createContext)({isNative:!0,open:function(e,t){e7(e,e=>e8(e,t))},useHref:e=>e});function e6(e){let{children:t,navigate:n,useHref:r}=e,i=(0,ed.useMemo)(()=>({isNative:!1,open:(e,t,r,i)=>{e7(e,e=>{let o;(o=e.getAttribute("target"))&&"_self"!==o||e.origin!==location.origin||e.hasAttribute("download")||t.metaKey||t.ctrlKey||t.altKey||t.shiftKey?e8(e,t):n(r,i)})},useHref:r||(e=>e)}),[n,r]);return ed.createElement(e5.Provider,{value:i},t)}function e8(e,t,n=!0){var r,i;let{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}=t;e4()&&(null===(i=window.event)||void 0===i?void 0:null===(r=i.type)||void 0===r?void 0:r.startsWith("key"))&&"_blank"===e.target&&(eX()?o=!0:s=!0);let c=e2()&&eX()&&!e0()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l,bubbles:!0,cancelable:!0});e8.isOpening=n,function(e){if(function(){if(null==e$){e$=!1;try{document.createElement("div").focus({get preventScroll(){return e$=!0,!0}})}catch(e){}}return e$}())e.focus({preventScroll:!0});else{let t=function(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}(e),e.dispatchEvent(c),e8.isOpening=!1}function e7(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}e8.isOpening=!1;var e9=n(28316);let te=ed.createContext(null);function tt(e){let{children:t}=e,n=(0,ed.useContext)(te),[r,i]=(0,ed.useState)(0),o=(0,ed.useMemo)(()=>({parent:n,modalCount:r,addModal(){i(e=>e+1),n&&n.addModal()},removeModal(){i(e=>e-1),n&&n.removeModal()}}),[n,r]);return ed.createElement(te.Provider,{value:o},t)}function tn(e){let t;let{modalProviderProps:n}={modalProviderProps:{"aria-hidden":!!(t=(0,ed.useContext)(te))&&t.modalCount>0||null}};return ed.createElement("div",{"data-overlay-container":!0,...e,...n})}function tr(e){return ed.createElement(tt,null,ed.createElement(tn,e))}var ti=({children:e,locale:t="en-US",navigate:n,...r})=>{let i=e;return n&&(i=(0,ee.jsx)(e6,{navigate:n,children:i})),(0,ee.jsx)(eW,{locale:t,children:(0,ee.jsx)(tr,{...r,children:i})})},to=n(21805),ts=n(38617),ta=n(82876);function tl(e){let{children:t}=e,n=(0,ta.useRouter)();return(0,ew.e3)(eM.k.NEXT_PUBLIC_NEO_HOST_BASE),(0,ed.useEffect)(()=>{to.Z.get(eD.nA)&&(eI.x6.value=to.Z.get(eD.nA))},[]),(0,ee.jsx)(eL.G,{children:(0,ee.jsx)(ts.f,{attribute:"class",defaultTheme:"system",disableTransitionOnChange:!0,enableSystem:!0,enableColorScheme:!0,children:(0,ee.jsxs)(ti,{navigate:n.push,children:[(0,ee.jsx)(eN,{}),(0,ee.jsx)(eE.Z,{children:t})]})})})}var tc=n(83944),tu=n(9343),td=n(9441),th=n(59887),tp={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},tf=console,tm={};Object.keys(tp).forEach(function(e){tm[e]=tf[e]});var tg="Datadog Browser SDK:",tv={debug:tm.debug.bind(tf,tg),log:tm.log.bind(tf,tg),info:tm.info.bind(tf,tg),warn:tm.warn.bind(tf,tg),error:tm.error.bind(tf,tg)};function ty(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){tv.error(t,e)}}}var tb=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},tw=!1;function t_(e){tw=e}function tC(e){return function(){return tx(e,this,arguments)}}function tx(e,t,n){try{return e.apply(t,n)}catch(e){if(tk(e),C)try{C(e)}catch(e){tk(e)}}}function tk(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];tw&&tv.error.apply(tv,tb(["[MONITOR]"],e,!1))}function tS(e,t){return -1!==e.indexOf(t)}function tE(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach(function(e){return t.push(e)});else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function tT(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n))return r}}function tP(e){return Object.keys(e).map(function(t){return e[t]})}function tI(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function tR(e,t){return e.slice(0,t.length)===t}function tO(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function tA(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&("object"==typeof self?e=self:e="object"==typeof window?window:{}),e}var tN=/[^\u0000-\u007F]/;function tL(e){return tN.test(e)?void 0!==window.TextEncoder?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function tM(e,t){var n,r=tA();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function tD(e,t){return tM(tA(),"setTimeout")(tC(e),t)}function tj(e){tM(tA(),"clearTimeout")(e)}function tU(e,t){return tM(tA(),"setInterval")(tC(e),t)}function tF(e){tM(tA(),"clearInterval")(e)}function tV(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,s=!n||void 0===n.trailing||n.trailing,a=!1;return{throttled:function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];if(a){r=n;return}o?e.apply(void 0,n):r=n,a=!0,i=tD(function(){s&&r&&e.apply(void 0,r),a=!1,r=void 0},t)},cancel:function(){tj(i),a=!1,r=void 0}}}function tB(){}function tz(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=tH(Object.prototype),i=tH(Array.prototype),o=tH(Object.getPrototypeOf(e)),s=tH(e);try{return JSON.stringify(e,t,n)}catch(e){return"<error: unable to serialize object>"}finally{r(),i(),o(),s()}}function tH(e){var t=e.toJSON;return t?(delete e.toJSON,function(){e.toJSON=t}):tB}function tq(e){return tO({},e)}function tK(e,t){return Object.keys(e).some(function(n){return e[n]===t})}function tG(e){return 0===Object.keys(e).length}function tW(e){var t=0,n=tV(function(n){t=tL(tz(n)),e()},200),r=n.throttled,i=n.cancel,o=function(){i(),t=0};return{updateCustomerData:function(e){tG(e)?o():r(e)},resetCustomerData:o,getBytesCount:function(){return t},stop:function(){i()}}}function t$(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function tZ(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=tZ(i[o],t[o],n);return i}var s="object"===t$(e)?e:{};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=tZ(s[a],t[a],n));return s}}function tJ(e){return tZ(void 0,e)}function tY(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];null!=i&&(e=tZ(e,i))}return e}function tX(e,t){void 0===t&&(t=225280);var n,r=tH(Object.prototype),i=tH(Array.prototype),o=[],s=new WeakMap,a=tQ(e,"$",void 0,o,s),l=(null===(n=JSON.stringify(a))||void 0===n?void 0:n.length)||0;if(l>t){t0(t,"discarded",e);return}for(;o.length>0&&l<t;){var c=o.shift(),u=0;if(Array.isArray(c.source))for(var d=0;d<c.source.length;d++){var h=tQ(c.source[d],c.path,d,o,s);if(void 0!==h?l+=JSON.stringify(h).length:l+=4,l+=u,u=1,l>t){t0(t,"truncated",e);break}c.target[d]=h}else for(var d in c.source)if(Object.prototype.hasOwnProperty.call(c.source,d)){var h=tQ(c.source[d],c.path,d,o,s);if(void 0!==h&&(l+=JSON.stringify(h).length+u+d.length+3,u=1),l>t){t0(t,"truncated",e);break}c.target[d]=h}}return r(),i(),a}function tQ(e,t,n,r,i){var o=function(e){if(e&&"function"==typeof e.toJSON)try{return e.toJSON()}catch(e){}return e}(e);if(!o||"object"!=typeof o)return"bigint"==typeof o?"[BigInt] ".concat(o.toString()):"function"==typeof o?"[Function] ".concat(o.name||"unknown"):"symbol"==typeof o?"[Symbol] ".concat(o.description||o.toString()):o;var s=function(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"[".concat(t[1],"]")}catch(e){}return"[Unserializable]"}(o);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;if(i.has(e))return"[Reference seen at ".concat(i.get(e),"]");var a=void 0!==n?"".concat(t,".").concat(n):t,l=Array.isArray(o)?[]:{};return i.set(e,a),r.push({source:o,target:l,path:a}),l}function t0(e,t,n){tv.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),n)}var t1=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter(function(t){return e!==t}),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach(function(t){return t(e)})},e}();function t2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new t1(function(t){var n=e.map(function(e){return e.subscribe(function(e){return t.notify(e)})});return function(){return n.forEach(function(e){return e.unsubscribe()})}})}function t3(e){var t={},n=new t1,r={getContext:function(){return tJ(t)},setContext:function(i){"object"===t$(i)?(t=tX(i),e.updateCustomerData(t)):r.clearContext(),n.notify()},setContextProperty:function(r,i){t[r]=tX(i),e.updateCustomerData(t),n.notify()},removeContextProperty:function(r){delete t[r],e.updateCustomerData(t),n.notify()},clearContext:function(){t={},e.resetCustomerData(),n.notify()},changeObservable:n};return r}var t4={GRANTED:"granted",NOT_GRANTED:"not-granted"};(c=x||(x={})).PAGEHIDE="pagehide",c.FEATURE_FLAGS="feature_flags",c.RESOURCE_PAGE_STATES="resource_page_states",c.COLLECT_FLUSH_REASON="collect_flush_reason",c.ZERO_LCP_TELEMETRY="zero_lcp_telemetry",c.DISABLE_REPLAY_INLINE_CSS="disable_replay_inline_css",c.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",c.CUSTOM_VITALS="custom_vitals",c.TOLERANT_RESOURCE_TIMINGS="tolerant_resource_timings";var t5=new Set;function t6(e){return t5.has(e)}function t8(e){return 0!==e&&100*Math.random()<=e}function t7(e,t){return+e.toFixed(t)}function t9(e){return ne(e)&&e>=0&&e<=100}function ne(e){return"number"==typeof e}function nt(e){var t;return{relative:e,timeStamp:(t=ni()-performance.now())>nc()?Math.round(t+e):Math.round(nc()+e)}}function nn(e){return{relative:e-nc(),timeStamp:e}}function nr(e){return ne(e)?t7(1e6*e,0):e}function ni(){return new Date().getTime()}function no(){return ni()}function ns(){return performance.now()}function na(){return{relative:ns(),timeStamp:no()}}function nl(){return{relative:0,timeStamp:nc()}}function nc(){return void 0===k&&(k=performance.timing.navigationStart),k}function nu(e,t,n,r,i){return nd(e,t,[n],r,i)}function nd(e,t,n,r,i){var o=void 0===i?{}:i,s=o.once,a=o.capture,l=o.passive,c=tC(function(t){(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(s&&h(),r(t))}),u=l?{capture:a,passive:l}:a,d=tM(t,"addEventListener");function h(){var e=tM(t,"removeEventListener");n.forEach(function(n){return e.call(t,n,c,u)})}return n.forEach(function(e){return d.call(t,e,c,u)}),{stop:h}}(u=S||(S={})).BEFORE_UNLOAD="beforeunload",u.CLICK="click",u.DBL_CLICK="dblclick",u.KEY_DOWN="keydown",u.LOAD="load",u.POP_STATE="popstate",u.SCROLL="scroll",u.TOUCH_START="touchstart",u.TOUCH_END="touchend",u.TOUCH_MOVE="touchmove",u.VISIBILITY_CHANGE="visibilitychange",u.PAGE_SHOW="pageshow",u.FREEZE="freeze",u.RESUME="resume",u.DOM_CONTENT_LOADED="DOMContentLoaded",u.POINTER_DOWN="pointerdown",u.POINTER_UP="pointerup",u.POINTER_CANCEL="pointercancel",u.HASH_CHANGE="hashchange",u.PAGE_HIDE="pagehide",u.MOUSE_DOWN="mousedown",u.MOUSE_UP="mouseup",u.MOUSE_MOVE="mousemove",u.FOCUS="focus",u.BLUR="blur",u.CONTEXT_MENU="contextmenu",u.RESIZE="resize",u.CHANGE="change",u.INPUT="input",u.PLAY="play",u.PAUSE="pause",u.SECURITY_POLICY_VIOLATION="securitypolicyviolation",u.SELECTION_CHANGE="selectionchange",u.STORAGE="storage";var nh=[];function np(e,t,n,r){var i="".concat("_dd_c","_").concat(n,"_").concat(r);function o(){var e=localStorage.getItem(i);return null!==e?JSON.parse(e):{}}nh.push(nu(e,window,S.STORAGE,function(e){i===e.key&&t.setContext(o())})),t.changeObservable.subscribe(function(){localStorage.setItem(i,JSON.stringify(t.getContext()))}),t.setContext(tY(o(),t.getContext()))}function nf(){var e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write:function(n,r){var i=tL(n);t+=i,e+=n,r&&r(i)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}function nm(e){var t=[],n=nk(e,"stack"),r=String(e);return n&&tR(n,r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach(function(e){var n=function(e){var t=ny.exec(e);if(t){var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=nb.exec(t[2]);return r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}}(e)||function(e){var t=nw.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:"?",line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=n_.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:+t[3],url:t[2]}}(e)||function(e){var t=nC.exec(e);if(t){var n=t[3]&&t[3].indexOf(" > eval")>-1,r=nx.exec(t[3]);return n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||"?",line:t[4]?+t[4]:void 0,url:t[3]}}}(e);n&&(!n.func&&n.line&&(n.func="?"),t.push(n))}),{message:nk(e,"message"),name:nk(e,"name"),stack:t}}var ng="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",nv="(?::(\\d+))",ny=RegExp("^\\s*at (.*?) ?\\(".concat(ng).concat(nv,"?").concat(nv,"?\\)?\\s*$"),"i"),nb=new RegExp("\\((\\S*)".concat(nv).concat(nv,"\\)")),nw=RegExp("^\\s*at ?".concat(ng).concat(nv,"?").concat(nv,"??\\s*$"),"i"),n_=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,nC=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,nx=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function nk(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var nS=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/,nE="No stack, consider using an instance of Error";function nT(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,i=e.startClocks,o=e.nonErrorPrefix,s=e.source,a=e.handling,l=n instanceof Error,c=(null==t?void 0:t.message)&&(null==t?void 0:t.name)?t.message:l?"Empty message":"".concat(o," ").concat(tz(tX(n))),u=void 0!==t&&(l||t.stack.length>0&&(t.stack.length>1||void 0!==t.stack[0].url))?nI(t):nE,d=l?nA(n,s):void 0,h=null==t?void 0:t.name,p=nP(n);return{startClocks:i,source:s,handling:a,handlingStack:r,originalError:n,type:h,message:c,stack:u,causes:d,fingerprint:p}}function nP(e){return e instanceof Error&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function nI(e){var t=nR(e);return e.stack.forEach(function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",i=e.line?":".concat(e.line):"",o=e.line&&e.column?":".concat(e.column):"";t+="\n  at ".concat(n).concat(r," @ ").concat(e.url).concat(i).concat(o)}),t}function nR(e){return"".concat(e.name||"Error",": ").concat(e.message)}function nO(){var e,t=Error();if(!t.stack)try{throw t}catch(e){}return tx(function(){var n=nm(t);n.stack=n.stack.slice(2),e=nI(n)}),e}function nA(e,t){for(var n=e,r=[];(null==n?void 0:n.cause)instanceof Error&&r.length<10;){var i=nm(n.cause);r.push({message:n.cause.message,source:t,type:null==i?void 0:i.name,stack:i&&nI(i)}),n=n.cause}return r.length?r:void 0}var nN="datad0g.com",nL="datadoghq.com",nM="pci.browser-intake-datadoghq.com";function nD(e,t){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}function nj(){var e,t=window.navigator;return{status:t.onLine?"connected":"not_connected",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:null===(e=t.connection)||void 0===e?void 0:e.effectiveType}}var nU="configuration",nF="usage",nV=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],nB=["ddog-gov.com"],nz={maxEventsPerPage:0,sentEventCount:0};function nH(e,t){tk(tp.debug,e,t),nG(tO({type:"log",message:e,status:"debug"},t))}function nq(e,t){nG(tO({type:"log",status:"error"},function(e){if(e instanceof Error){var t=nm(e);return{error:{kind:t.name,stack:nI((t.stack=t.stack.filter(function(e){return!e.url||nV.some(function(t){return tR(e.url,t)})}),t))},message:t.message}}return{error:{stack:nE},message:"".concat("Uncaught"," ").concat(tz(e))}}(e),t))}function nK(e){nG({type:nF,usage:e})}function nG(e){E&&nz.sentEventCount<nz.maxEventsPerPage&&(nz.sentEventCount+=1,E(e))}function nW(e){var t=tO({},e);return["id","name","email"].forEach(function(e){e in t&&(t[e]=String(t[e]))}),t}function n$(e,t){t.silentMultipleInit||tv.error("".concat(e," is already initialized."))}function nZ(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var nJ=function(){function e(){this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},e.prototype.remove=function(e){nZ(this.buffer,e)},e.prototype.drain=function(e){this.buffer.forEach(function(t){return t(e)}),this.buffer.length=0},e}();function nY(){var e=tA().DatadogEventBridge;if(e)return{getCapabilities:function(){var t;return JSON.parse((null===(t=e.getCapabilities)||void 0===t?void 0:t.call(e))||"[]")},getPrivacyLevel:function(){var t;return null===(t=e.getPrivacyLevel)||void 0===t?void 0:t.call(e)},getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n,r){e.send(JSON.stringify({eventType:t,event:n,view:r?{id:r}:void 0}))}}}function nX(e){var t=nY();return!!t&&tS(t.getCapabilities(),e)}function nQ(e){void 0===e&&(e=null===(t=tA().location)||void 0===t?void 0:t.hostname);var t,n=nY();return!!n&&n.getAllowedWebViewHosts().some(function(t){var n,r;return e===t||(n=e,r=".".concat(t),n.slice(-r.length)===r)})}function n0(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,n0)}var n1=/([\w-]+)\s*=\s*([^;]+)/g;function n2(e,t){for(n1.lastIndex=0;;){var n=n1.exec(e);if(n){if(n[1]===t)return n[2]}else break}}function n3(e,t,n){void 0===n&&(n="");var r=e.charCodeAt(t-1),i=r>=55296&&r<=56319?t+1:t;return e.length<=i?e:"".concat(e.slice(0,i)).concat(n)}function n4(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires=".concat(i.toUTCString()),s=r&&r.crossSite?"none":"strict",a=r&&r.domain?";domain=".concat(r.domain):"",l=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;samesite=").concat(s).concat(a).concat(l).concat(c)}function n5(e){return n2(document.cookie,e)}function n6(e){return T||(T=function(e){var t=new Map;for(n1.lastIndex=0;;){var n=n1.exec(e);if(n)t.set(n[1],n[2]);else break}return t}(document.cookie)),T.get(e)}function n8(e,t){n4(e,"",0,t)}function n7(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||n6("datadog-synthetics-injects-rum"))}function n9(){var e,t,n;return null!=I?I:(void 0===e&&(e=window),n=e.navigator.userAgent,I=e.chrome||/HeadlessChrome/.test(n)?1:(null===(t=e.navigator.vendor)||void 0===t?void 0:t.indexOf("Apple"))===0||/safari/i.test(n)&&!/chrome|android/i.test(n)?2:e.document.documentMode?0:3)}var re="_dd_s",rt=/^([a-z]+)=([a-z0-9-]+)$/;function rn(e){e.expire=String(ni()+9e5)}function rr(e){return tI(e).map(function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n)}).join("&")}function ri(e){var t={};return e&&(-1!==e.indexOf("&")||rt.test(e))&&e.split("&").forEach(function(e){var n=rt.exec(e);if(null!==n){var r=n[1],i=n[2];t[r]=i}}),t}function ro(){return ri(n5(re))}function rs(e){localStorage.setItem(re,rr(e))}function ra(){return ri(localStorage.getItem(re))}function rl(){localStorage.removeItem(re)}var rc=[];function ru(e,t,n){void 0===n&&(n=0);var r,i,o=t.isLockEnabled,s=t.retrieveSession,a=t.persistSession,l=t.clearSession;if(R||(R=e),e!==R){rc.push(e);return}if(o&&n>=100){rh(t);return}var c=s();if(o&&(c.lock||(i=n0(),c.lock=i,a(c),(c=s()).lock!==i))){rd(e,t,n);return}var u=e.process(c);if(o&&(c=s()).lock!==i){rd(e,t,n);return}if(u&&(tG(u)?l():(rn(u),a(u))),o&&!(u&&tG(u))){if((c=s()).lock!==i){rd(e,t,n);return}delete c.lock,a(c),u=c}null===(r=e.after)||void 0===r||r.call(e,u||c),rh(t)}function rd(e,t,n){tD(function(){ru(e,t,n+1)},10)}function rh(e){R=void 0;var t=rc.shift();t&&ru(t,e)}function rp(e){return rf(e,location.href).href}function rf(e,t){var n=function(){if(void 0===O)try{var e=new rm("http://test/path");O="http://test/path"===e.href}catch(e){O=!1}return O?rm:void 0}();if(n)try{return void 0!==t?new n(e,t):new n(e)}catch(n){throw Error("Failed to construct URL: ".concat(String(n)," ").concat(tz({url:e,base:t})))}if(void 0===t&&!/:/.test(e))throw Error("Invalid URL: '".concat(e,"'"));var r=document,i=r.createElement("a");if(void 0!==t){var o=(r=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,r.head.appendChild(o),r.body.appendChild(i)}return i.href=e,i}var rm=URL;function rg(e,t,n){var r=function(e,t){var n="/api/v2/".concat(t),r=e.proxy;if("string"==typeof r){var i=rp(r);return function(e){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(e)))}}if("function"==typeof r)return function(e){return r({path:n,parameters:e})};var o=function(e,t){var n=t.site,r=void 0===n?nL:n,i=t.internalAnalyticsSubdomain;if("logs"===e&&t.usePciIntake&&r===nL)return nM;if(i&&r===nL)return"".concat(i,".").concat(nL);if("dd0g-gov.com"===r)return"http-intake.logs.".concat(r);var o=r.split("."),s=o.pop();return"browser-intake-".concat(o.join("-"),".").concat(s)}(t,e);return function(e){return"https://".concat(o).concat(n,"?").concat(e)}}(e,t);return{build:function(i,o){var s,a,l,c,u,d,h;return r((s=e.clientToken,a=e.internalAnalyticsSubdomain,l=o.retry,c=o.flushReason,u=o.encoding,d=["sdk_version:".concat("5.16.0"),"api:".concat(i)].concat(n),c&&t6(x.COLLECT_FLUSH_REASON)&&d.push("flush_reason:".concat(c)),l&&d.push("retry_count:".concat(l.count),"retry_after:".concat(l.lastFailureStatus)),h=["ddsource=browser","ddtags=".concat(encodeURIComponent(d.join(","))),"dd-api-key=".concat(s),"dd-evp-origin-version=".concat(encodeURIComponent("5.16.0")),"dd-evp-origin=browser","dd-request-id=".concat(n0())],u&&h.push("dd-evp-encoding=".concat(u)),"rum"===t&&h.push("batch_time=".concat(no())),a&&h.reverse(),h.join("&")))},urlPrefix:r(""),trackType:t}}var rv=/[^a-z0-9_:./-]/;function ry(e,t){var n=200-e.length-1;(t.length>n||rv.test(t))&&tv.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var r=t.replace(/,/g,"_");return"".concat(e,":").concat(r)}var rb={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},rw={ALL:"all",SAMPLED:"sampled"};function r_(e){var t=t$(e);return"string"===t||"function"===t||e instanceof RegExp}function rC(e,t,n){return void 0===n&&(n=!1),e.some(function(e){try{if("function"==typeof e)return e(t);if(e instanceof RegExp)return e.test(t);if("string"==typeof e)return n?tR(t,e):e===t}catch(e){tv.error(e)}return!1})}function rx(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function rk(e,t,n,r){if(void 0!==rS()&&n.findTrackedSession()){var i,o,s,a,l,c=tT(e.allowedTracingUrls,function(e){return rC([e.match],t.url,!0)});c&&(t.traceSampled=!ne(e.traceSampleRate)||t8(e.traceSampleRate),(t.traceSampled||e.traceContextInjection===rw.ALL)&&(t.traceId=new rE,t.spanId=new rE,r((i=t.traceId,o=t.spanId,s=t.traceSampled,a=c.propagatorTypes,l={},a.forEach(function(e){switch(e){case"datadog":tO(l,{"x-datadog-origin":"rum","x-datadog-parent-id":o.toDecimalString(),"x-datadog-sampling-priority":s?"1":"0","x-datadog-trace-id":i.toDecimalString()});break;case"tracecontext":tO(l,{traceparent:"00-0000000000000000".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-0").concat(s?"1":"0")});break;case"b3":tO(l,{b3:"".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-").concat(s?"1":"0")});break;case"b3multi":tO(l,{"X-B3-TraceId":i.toPaddedHexadecimalString(),"X-B3-SpanId":o.toPaddedHexadecimalString(),"X-B3-Sampled":s?"1":"0"})}}),l))))}}function rS(){return window.crypto||window.msCrypto}var rE=function(){function e(){this.buffer=new Uint8Array(8),rS().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return e.prototype.toString=function(e){var t=this.readInt32(0),n=this.readInt32(4),r="";do{var i=t%e*4294967296+n;t=Math.floor(t/e),n=Math.floor(i/e),r=(i%e).toString(e)+r}while(t||n);return r},e.prototype.toDecimalString=function(){return this.toString(10)},e.prototype.toPaddedHexadecimalString=function(){var e=this.toString(16);return Array(17-e.length).join("0")+e},e.prototype.readInt32=function(e){return 16777216*this.buffer[e]+(this.buffer[e+1]<<16)+(this.buffer[e+2]<<8)+this.buffer[e+3]},e}(),rT=["tracecontext","datadog"],rP={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function rI(){var e,t=window;if(t.Zone&&(e=tM(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var n=tM(new t.MutationObserver(tB),"originalInstance");e=n&&n.constructor}return e||(e=t.MutationObserver),e}function rR(e,t,n){document.readyState===t||"complete"===document.readyState?n():nu(e,window,"complete"===t?S.LOAD:S.DOM_CONTENT_LOADED,n,{once:!0})}var rO="initial_document",rA=[["document",function(e){return rO===e}],["xhr",function(e){return"xmlhttprequest"===e}],["fetch",function(e){return"fetch"===e}],["beacon",function(e){return"beacon"===e}],["css",function(e,t){return/\.css$/i.test(t)}],["js",function(e,t){return/\.js$/i.test(t)}],["image",function(e,t){return tS(["image","img","icon"],e)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)}],["font",function(e,t){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(t)}],["media",function(e,t){return tS(["audio","video"],e)||null!==/\.(mp3|mp4)$/i.exec(t)}]];function rN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=1;n<e.length;n+=1)if(e[n-1]>e[n])return!1;return!0}function rL(e){if(t6(x.TOLERANT_RESOURCE_TIMINGS))return e;var t=rN(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),n=!(e.redirectEnd>e.startTime)||rN(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart);if(t&&n)return e}function rM(e,t,n){if(e<=t&&t<=n)return{duration:nr(n-t),start:nr(t-e)}}function rD(e,t){return t&&!e.isIntakeUrl(t)}var rj=/data:(.+)?(;base64)?,/g;function rU(e){if(e.length<=24e3);else if("data:"===e.substring(0,5))return e=e.substring(0,24e3),!0;return!1}function rF(e){return"".concat(e.match(rj)[0],"[...]")}function rV(e){return e.nodeType===Node.TEXT_NODE}function rB(e){return e.nodeType===Node.ELEMENT_NODE}function rz(e){return rB(e)&&!!e.shadowRoot}function rH(e){return!!e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&rB(e.host)}function rq(e,t){for(var n=e.firstChild;n;)t(n),n=n.nextSibling;rz(e)&&t(e.shadowRoot)}function rK(e){return rH(e)?e.host:e.parentNode}function rG(e,t){var n=t&&Number(t);if(e&&n)return{traceId:e,traceTime:n}}function rW(e){if(e&&e.nodeType===Node.COMMENT_NODE){var t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function r$(){return void 0!==window.performance&&"getEntries"in performance}function rZ(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}function rJ(){var e={},t=performance.timing;for(var n in t)if(ne(t[n])){var r=t[n];e[n]=0===r?0:r-nc()}return e}function rY(e,t,n){var r=n.filter(function(e){return tK(A,e.entryType)}).filter(function(e){return!(e.entryType===A.NAVIGATION&&e.loadEventEnd<=0)&&(e.entryType!==A.RESOURCE||!!rD(t,e.name))});r.length&&e.notify(0,r)}(d=A||(A={})).EVENT="event",d.FIRST_INPUT="first-input",d.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",d.LAYOUT_SHIFT="layout-shift",d.LONG_TASK="longtask",d.NAVIGATION="navigation",d.PAINT="paint",d.RESOURCE="resource";var rX={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",SOURCE:"source",REPORT:"report"};function rQ(e,t,n){var r=0,i=!1;return{isLimitReached:function(){if(0===r&&tD(function(){r=0},6e4),(r+=1)<=t||i)return i=!1,!1;if(r===t+1){i=!0;try{n({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:rX.AGENT,startClocks:na()})}finally{i=!1}}return!0}}}function r0(e,t,n){for(var r=e,i=t.split("."),o=0;o<i.length;o+=1){var s=i[o];if(!r1(r))return;o!==i.length-1?r=r[s]:r[s]=n}}function r1(e){return"object"===t$(e)}var r2={"view.name":"string","view.url":"string","view.referrer":"string"},r3={context:"object"},r4=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach(function(e){return e(t)})},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter(function(e){return t!==e})}}},e}(),r5=1/0,r6=function(){function e(e,t){var n=this;this.expireDelay=e,this.maxEntries=t,this.entries=[],this.clearOldValuesInterval=tU(function(){return n.clearOldValues()},6e4)}return e.prototype.add=function(e,t){var n=this,r={value:e,startTime:t,endTime:r5,remove:function(){nZ(n.entries,r)},close:function(e){r.endTime=e}};return this.maxEntries&&this.entries.length>=this.maxEntries&&this.entries.pop(),this.entries.unshift(r),r},e.prototype.find=function(e){void 0===e&&(e=r5);for(var t=0,n=this.entries;t<n.length;t++){var r=n[t];if(r.startTime<=e){if(e<=r.endTime)return r.value;break}}},e.prototype.closeActive=function(e){var t=this.entries[0];t&&t.endTime===r5&&t.close(e)},e.prototype.findAll=function(e,t){void 0===e&&(e=r5),void 0===t&&(t=0);var n=e+t;return this.entries.filter(function(t){return t.startTime<=n&&e<=t.endTime}).map(function(e){return e.value})},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){tF(this.clearOldValuesInterval)},e.prototype.clearOldValues=function(){for(var e=ns()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},e}();function r8(e,t,n){var r,i=e[t];if("function"!=typeof i){if(!tR(t,"on"))return{stop:tB};i=tB}var o=(r=i,function(){var e,t=tE(arguments);tx(n,null,[{target:this,parameters:t,onPostCall:function(t){e=t}}]);var i=r.apply(this,t);return e&&tx(e,null,[i]),i}),s=function(){if("function"==typeof o)return o.apply(this,arguments)};return e[t]=s,{stop:function(){e[t]===s?e[t]=i:o=i}}}function r7(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(!r||!r.set||!r.configurable)return{stop:tB};var i=function(e,t){tD(function(){i!==tB&&n(e,t)},0)},o=function(e){r.set.call(this,e),i(this,e)};return Object.defineProperty(e,t,{set:o}),{stop:function(){var n;(null===(n=Object.getOwnPropertyDescriptor(e,t))||void 0===n?void 0:n.set)===o&&Object.defineProperty(e,t,r),i=tB}}}var r9=new WeakMap;function ie(e){var t=e.target,n=e.parameters,r=n[0],i=n[1];r9.set(t,{state:"open",method:String(r).toUpperCase(),url:rp(String(i))})}function it(e){var t=e.target,n=r9.get(t);n&&(n.isAborted=!0)}var ir=1;function ii(){var e=ir;return ir+=1,e}function io(e){var t=e.lifeCycle,n=e.isChildEvent,r=e.onChange,i=void 0===r?tB:r,o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},s=t.subscribe(13,function(e){var t;if("view"!==e.type&&"vital"!==e.type&&n(e))switch(e.type){case"error":o.errorCount+=1,i();break;case"action":o.actionCount+=1,e.action.frustration&&(o.frustrationCount+=e.action.frustration.type.length),i();break;case"long_task":o.longTaskCount+=1,i();break;case"resource":(null===(t=e._dd)||void 0===t?void 0:t.discarded)||(o.resourceCount+=1,i())}});return{stop:function(){s.unsubscribe()},eventCounts:o}}function is(e,t,n){var r,i=!1,o=tD(tC(function(){return c({hadActivity:!1})}),100),s=void 0!==n?tD(tC(function(){return c({hadActivity:!0,end:no()})}),n):void 0,a=e.subscribe(function(e){var t=e.isBusy;tj(o),tj(r);var n=no();t||(r=tD(tC(function(){return c({hadActivity:!0,end:n})}),100))}),l=function(){i=!0,tj(o),tj(r),tj(s),a.unsubscribe()};function c(e){i||(l(),t(e))}return{stop:l}}function ia(e,t,n){return new t1(function(r){var i,o=[],s=0;o.push(t.subscribe(l),e.subscribe(0,function(e){e.some(function(e){return e.entryType===A.RESOURCE&&!il(n,e.name)})&&l()}),e.subscribe(7,function(e){il(n,e.url)||(void 0===i&&(i=e.requestIndex),s+=1,l())}),e.subscribe(8,function(e){il(n,e.url)||void 0===i||e.requestIndex<i||(s-=1,l())}));var a=r8(window,"open",l).stop;return function(){a(),o.forEach(function(e){return e.unsubscribe()})};function l(){r.notify({isBusy:s>0})}})}function il(e,t){return rC(e.excludedActivityUrls,t)}function ic(e){return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(e,t){return t?"\0"===e?"":"".concat(e.slice(0,-1),"\\").concat(e.charCodeAt(e.length-1).toString(16)," "):"\\".concat(e)})}function iu(e){if(e.parentElement)return e.parentElement;for(;e.parentNode;){if(e.parentNode.nodeType===Node.ELEMENT_NODE)return e.parentNode;e=e.parentNode}return null}var id="data-dd-action-name";function ih(e,t){if(void 0===j&&(j="closest"in HTMLElement.prototype),j)n=e.closest("[".concat(t,"]"));else for(var n,r=e;r;){if(r.hasAttribute(t)){n=r;break}r=iu(r)}if(n)return iy(iv(n.getAttribute(t).trim()))}var ip=[function(e,t){if(void 0===D&&(D="labels"in HTMLInputElement.prototype),D){if("labels"in e&&e.labels&&e.labels.length>0)return ib(e.labels[0],t)}else if(e.id){var n=e.ownerDocument&&tT(e.ownerDocument.querySelectorAll("label"),function(t){return t.htmlFor===e.id});return n&&ib(n,t)}},function(e){if("INPUT"===e.nodeName){var t=e.getAttribute("type");if("button"===t||"submit"===t||"reset"===t)return e.value}},function(e,t){if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return ib(e,t)},function(e){return e.getAttribute("aria-label")},function(e,t){var n=e.getAttribute("aria-labelledby");if(n)return n.split(/\s+/).map(function(t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}).filter(function(e){return!!e}).map(function(e){return ib(e,t)}).join(" ")},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("name")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")},function(e,t){if("options"in e&&e.options.length>0)return ib(e.options[0],t)}],im=[function(e,t){return ib(e,t)}];function ig(e,t,n){for(var r=e,i=0;i<=10&&r&&"BODY"!==r.nodeName&&"HTML"!==r.nodeName&&"HEAD"!==r.nodeName;){for(var o=0;o<n.length;o++){var s=(0,n[o])(r,t);if("string"==typeof s){var a=s.trim();if(a)return iy(iv(a))}}if("FORM"===r.nodeName)break;r=iu(r),i+=1}}function iv(e){return e.replace(/\s+/g," ")}function iy(e){return e.length>100?"".concat(n3(e,100)," [...]"):e}function ib(e,t){if(!e.isContentEditable){if("innerText"in e){var n=e.innerText,r=function(t){for(var r=e.querySelectorAll(t),i=0;i<r.length;i+=1){var o=r[i];if("innerText"in o){var s=o.innerText;s&&s.trim().length>0&&(n=n.replace(s,""))}}};return 0!==n9()||r("script, style"),r("[".concat(id,"]")),t&&r("[".concat(t,"]")),n}return e.textContent}}var iw=[id,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],i_=[iS,function(e){if(e.id&&!ik(e.id))return"#".concat(ic(e.id))}],iC=[iS,function(e){if("BODY"!==e.tagName)for(var t=function(e){if(e.classList)return e.classList;var t,n=null===(t=e.getAttribute("class"))||void 0===t?void 0:t.trim();return n?n.split(/\s+/):[]}(e),n=0;n<t.length;n+=1){var r=t[n];if(!ik(r))return"".concat(ic(e.tagName),".").concat(ic(r))}},function(e){return ic(e.tagName)}];function ix(e,t){for(var n="",r=e;r&&"HTML"!==r.nodeName;){var i=iE(r,i_,iT,t,n);if(i)return i;n=iE(r,iC,iP,t,n)||iI(function(e){for(var t=iu(e).firstElementChild,n=1;t&&t!==e;)t.tagName===e.tagName&&(n+=1),t=t.nextElementSibling;return"".concat(ic(e.tagName),":nth-of-type(").concat(n,")")}(r),n),r=iu(r)}return n}function ik(e){return/[0-9]/.test(e)}function iS(e,t){if(t){var n=i(t);if(n)return n}for(var r=0;r<iw.length;r++){var n=i(iw[r]);if(n)return n}function i(t){if(e.hasAttribute(t))return"".concat(ic(e.tagName),"[").concat(t,'="').concat(ic(e.getAttribute(t)),'"]')}}function iE(e,t,n,r,i){for(var o=0;o<t.length;o++){var s=(0,t[o])(e,r);if(s){var a=iI(s,i);if(n(e,a))return a}}}function iT(e,t){return 1===e.ownerDocument.querySelectorAll(t).length}function iP(e,t){return 1===iu(e).querySelectorAll(!function(){if(void 0===U)try{document.querySelector(":scope"),U=!0}catch(e){U=!1}return U}()?t:iI(":scope",t)).length}function iI(e,t){return t?"".concat(e,">").concat(t):e}function iR(){var e=window.getSelection();return!e||e.isCollapsed}function iO(e){return e.target instanceof Element&&!1!==e.isPrimary}function iA(e){var t,n;return!e.hasPageActivity&&!e.getUserActivity().input&&!e.getUserActivity().scroll&&(t=e.event.target,n='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *',t.matches?!t.matches(n):!(t.msMatchesSelector&&t.msMatchesSelector(n)))}function iN(e,t){var n=iL(e)?{action:{id:e.id,loading_time:nr(e.duration),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position}}}:void 0;return{customerContext:iL(e)?void 0:e.context,rawRumEvent:tY({action:{id:n0(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action",view:{in_foreground:t.wasInPageStateAt("active",e.startClocks.relative)}},n),startTime:e.startClocks.relative,domainContext:iL(e)?{events:e.events}:{}}}function iL(e){return"custom"!==e.type}var iM={},iD="csp_violation";function ij(e,t,n,r,i){return n?nI({name:e,message:t,stack:[{func:"?",url:n,line:null!=r?r:void 0,column:null!=i?i:void 0}]}):void 0}function iU(e){return e.startTime+e.duration}function iF(e,t,n){return e.trackResources&&t.findTrackedSession(n.relative)}function iV(e){var t,n,r,i=e.renderBlockingStatus;return{resource:tO({duration:(t=e.duration,n=e.startTime,r=e.responseEnd,0===t&&n<r?nr(r-n):nr(t)),render_blocking_status:i},function(e){if(e.startTime<e.responseStart){var t=e.encodedBodySize,n=e.decodedBodySize;return{size:n,encoded_body_size:t,decoded_body_size:n,transfer_size:e.transferSize}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}(e),function(e){var t=rL(e);if(t){var n=t.startTime,r=t.fetchStart,i=t.redirectStart,o=t.redirectEnd,s=t.domainLookupStart,a=t.domainLookupEnd,l=t.connectStart,c=t.secureConnectionStart,u=t.connectEnd,d=t.requestStart,h=t.responseStart,p={download:rM(n,h,t.responseEnd),first_byte:rM(n,d,h)};return r<u&&(p.connect=rM(n,l,u),l<=c&&c<=u&&(p.ssl=rM(n,c,u))),r<a&&(p.dns=rM(n,s,a)),n<o&&(p.redirect=rM(n,i,o)),p}}(e))}}function iB(e){return ne(e.traceSampleRate)?e.traceSampleRate/100:void 0}function iz(e,t,n){if(t6(x.RESOURCE_PAGE_STATES))return{_dd:{page_states:e.findAll(t.relative,n),page_was_discarded:String(document.wasDiscarded)}}}var iH=!1;function iq(e){var t=e.toJSON();return delete t.element,t}var iK=0,iG=1/0,iW=0,i$=function(){return V?iK:window.performance.interactionCount||0};function iZ(){var e=window.visualViewport;return Math.round(e?e.pageLeft-e.offsetLeft:void 0!==window.scrollX?window.scrollX:window.pageXOffset||0)}function iJ(){var e=window.visualViewport;return Math.round(e?e.pageTop-e.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0)}function iY(e){return B||(B=new t1(function(t){var n=tV(function(){t.notify(iX())},200).throttled;return nu(e,window,S.RESIZE,n,{capture:!0,passive:!0}).stop})),B}function iX(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}function iQ(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var i0=[];function i1(e){return"2"===e||"1"===e}var i2=function(){function e(e,t,n,r){var i=this;this.encoder=e,this.request=t,this.flushController=n,this.messageBytesLimit=r,this.upsertBuffer={},this.flushSubscription=this.flushController.flushObservable.subscribe(function(e){return i.flush(e)})}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.stop=function(){this.flushSubscription.unsubscribe()},e.prototype.flush=function(e){var t,n=tP(this.upsertBuffer).join("\n");this.upsertBuffer={};var r=(t=e.reason,tS(tP(rP),t)),i=r?this.request.sendOnExit:this.request.send;if(r&&this.encoder.isAsync){var o=this.encoder.finishSync();o.outputBytesCount&&i(i3(o,e));var s=[o.pendingData,n].filter(Boolean).join("\n");s&&i({data:s,bytesCount:tL(s),flushReason:e.reason})}else n&&this.encoder.write(this.encoder.isEmpty?n:"\n".concat(n)),this.encoder.finish(function(t){i(i3(t,e))})},e.prototype.addOrUpdate=function(e,t){var n=tz(e),r=this.encoder.estimateEncodedBytesCount(n);if(r>=this.messageBytesLimit){tv.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(t)&&this.remove(t),this.push(n,r,t)},e.prototype.push=function(e,t,n){var r=this;this.flushController.notifyBeforeAddMessage(t),void 0!==n?(this.upsertBuffer[n]=e,this.flushController.notifyAfterAddMessage()):this.encoder.write(this.encoder.isEmpty?e:"\n".concat(e),function(e){r.flushController.notifyAfterAddMessage(e-t)})},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.encoder.estimateEncodedBytesCount(t);this.flushController.notifyAfterRemoveMessage(n)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e}();function i3(e,t){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding,flushReason:t.reason}}function i4(e,t,n,r,i){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?i5(e,t,n,{onSuccess:function(){return i6(0,t,n,r,i)},onFailure:function(){t.queuedPayloads.enqueue(e),function e(t,n,r,i){2===t.transportStatus&&tD(function(){i5(t.queuedPayloads.first(),t,n,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=1e3,i6(1,t,n,r,i)},onFailure:function(){t.currentBackoffTime=Math.min(6e4,2*t.currentBackoffTime),e(t,n,r,i)}})},t.currentBackoffTime)}(t,n,r,i)}}):t.queuedPayloads.enqueue(e)}function i5(e,t,n,r){var i=r.onSuccess,o=r.onFailure;t.bandwidthMonitor.add(e),n(e,function(n){t.bandwidthMonitor.remove(e),"opaque"!==n.type&&(0===n.status&&!navigator.onLine||408===n.status||429===n.status||n.status>=500)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},o()):(t.transportStatus=0,i())})}function i6(e,t,n,r,i){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max ".concat(r," events size queued for upload: ").concat(3,"MiB"),source:rX.AGENT,startClocks:na()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=i8();o.size()>0;)i4(o.dequeue(),t,n,r,i)}function i8(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=3145728}}}function i7(e,t,n,r){var i={transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:i8(),queueFullReported:!1},o=function(r,i){(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}})()&&r.bytesCount<n?fetch(t.build("fetch",r),{method:"POST",body:r.data,keepalive:!0,mode:"cors"}).then(tC(function(e){return null==i?void 0:i({status:e.status,type:e.type})}),tC(function(){oe(e,t.build("xhr",r),r.data,i)})):oe(e,t.build("xhr",r),r.data,i)};return{send:function(e){i4(e,i,o,t.trackType,r)},sendOnExit:function(r){!function(e,t,n,r){if(navigator.sendBeacon&&r.bytesCount<n)try{var i=t.build("beacon",r);if(navigator.sendBeacon(i,r.data))return}catch(e){i9||(i9=!0,nq(e))}oe(e,t.build("xhr",r),r.data)}(e,t,n,r)}}}var i9=!1;function oe(e,t,n,r){var i=new XMLHttpRequest;i.open("POST",t,!0),n instanceof Blob&&i.setRequestHeader("Content-Type",n.type),nu(e,i,"loadend",function(){null==r||r({status:i.status})},{once:!0}),i.send(n)}function ot(){0!==z.batchCount&&(nH("Customer data measures",z),oo())}function on(){return{min:1/0,max:0,sum:0}}function or(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function oi(e,t){e.sum+=t.sum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)}function oo(){z={batchCount:0,batchBytesCount:on(),batchMessagesCount:on(),globalContextBytes:on(),userContextBytes:on(),featureFlagBytes:on()}}function os(){q=!1,H={globalContextBytes:on(),userContextBytes:on(),featureFlagBytes:on()}}function oa(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}function ol(e,t){var n=n2(document.cookie,e),r=tU(function(){var r=n2(document.cookie,e);r!==n&&t(r)},1e3);return function(){tF(r)}}var oc="datadog-ci-visibility-test-execution-id";function ou(e){var t;return K||(K=new Map),K.has(e)?t=K.get(e):(t={records_count:0,segments_count:0,segments_total_raw_size:0},K.set(e,t),K.size>10&&function(){if(K){if(K.keys)K.delete(K.keys().next().value);else{var e=!0;K.forEach(function(t,n){e&&(K.delete(n),e=!1)})}}}()),t}var od={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:rb.ALLOW,MASK:rb.MASK,MASK_USER_INPUT:rb.MASK_USER_INPUT},oh="data-dd-privacy",op="hidden",of="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",om={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0};function og(e,t,n){if(n&&n.has(e))return n.get(e);var r=rK(e),i=r?og(r,t,n):t,o=ov(oy(e),i);return n&&n.set(e,o),o}function ov(e,t){switch(t){case od.HIDDEN:case od.IGNORE:return t}switch(e){case od.ALLOW:case od.MASK:case od.MASK_USER_INPUT:case od.HIDDEN:case od.IGNORE:return e;default:return t}}function oy(e){if(rB(e)){var t=e.getAttribute(oh);if("BASE"===e.tagName)return od.ALLOW;if("INPUT"===e.tagName){if("password"===e.type||"email"===e.type||"tel"===e.type||"hidden"===e.type)return od.MASK;var n=e.getAttribute("autocomplete");if(n&&0===n.indexOf("cc-"))return od.MASK}return t===op||e.classList.contains("dd-privacy-hidden")?od.HIDDEN:"mask"===t||e.classList.contains("dd-privacy-mask")?od.MASK:"mask-user-input"===t||e.classList.contains("dd-privacy-mask-user-input")?od.MASK_USER_INPUT:"allow"===t||e.classList.contains("dd-privacy-allow")?od.ALLOW:!function(e){if("SCRIPT"===e.nodeName)return!0;if("LINK"===e.nodeName){var t=i("rel");return/preload|prefetch/i.test(t)&&"script"===i("as")||"shortcut icon"===t||"icon"===t}if("META"===e.nodeName){var n=i("name"),t=i("rel"),r=i("property");return/^msapplication-tile(image|color)$/.test(n)||"application-name"===n||"icon"===t||"apple-touch-icon"===t||"shortcut icon"===t||"keywords"===n||"description"===n||/^(og|twitter|fb):/.test(r)||/^(og|twitter):/.test(n)||"pinterest"===n||"robots"===n||"googlebot"===n||"bingbot"===n||e.hasAttribute("http-equiv")||"author"===n||"generator"===n||"framework"===n||"publisher"===n||"progid"===n||/^article:/.test(r)||/^product:/.test(r)||"google-site-verification"===n||"yandex-verification"===n||"csrf-token"===n||"p:domain_verify"===n||"verify-v1"===n||"verification"===n||"shopify-checkout-api-token"===n}function i(t){return(e.getAttribute(t)||"").toLowerCase()}return!1}(e)?void 0:od.IGNORE}}function ob(e,t){switch(t){case od.MASK:case od.HIDDEN:case od.IGNORE:return!0;case od.MASK_USER_INPUT:return rV(e)?ow(e.parentNode):ow(e);default:return!1}}function ow(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;if("INPUT"===e.tagName)switch(e.type){case"button":case"color":case"reset":case"submit":return!1}return!!om[e.tagName]}function o_(e,t,n){var r,i=null===(r=e.parentElement)||void 0===r?void 0:r.tagName,o=e.textContent||"";if(!t||o.trim()){if("SCRIPT"===i)o="***";else if(n===od.HIDDEN)o="***";else if(ob(e,n)){if("DATALIST"===i||"SELECT"===i||"OPTGROUP"===i){if(!o.trim())return}else o="OPTION"===i?"***":o.replace(/\S/g,"x")}return o}}var oC=new WeakMap;function ox(e){return oC.has(e)}function ok(e){return oC.get(e)}function oS(e,t){var n=e.tagName,r=e.value;if(ob(e,t)){var i=e.type;if("INPUT"===n&&("button"===i||"submit"===i||"reset"===i))return r;if(!r||"OPTION"===n)return;return"***"}return"OPTION"===n||"SELECT"===n?e.value:"INPUT"===n||"TEXTAREA"===n?r:void 0}var oE=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,oT=/^[A-Za-z]+:|^\/\//,oP=/^data:.*,/i,oI=/[^a-z1-6-_]/;function oR(e){var t=e.toLowerCase().trim();return oI.test(t)?"div":t}function oO(e,t){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='".concat(e,"' height='").concat(t,"' style='background-color:silver'%3E%3C/svg%3E")}var oA={FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Focus:6,ViewEnd:7,VisualViewport:8,FrustrationRecord:9},oN={Document:0,DocumentType:1,Element:2,Text:3,CDATA:4,DocumentFragment:11},oL={Mutation:0,MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,MediaInteraction:7,StyleSheetRule:8},oM={MouseUp:0,MouseDown:1,Click:2,ContextMenu:3,DblClick:4,Focus:5,Blur:6,TouchStart:7,TouchEnd:9},oD={Play:0,Pause:1};function oj(e){if(void 0!==e&&0!==e.length)return e.map(function(e){return{cssRules:Array.from(e.cssRules||e.rules,function(e){return e.cssText}),disabled:e.disabled||void 0,media:e.media.length>0?Array.from(e.media):void 0}})}function oU(e,t,n,r){if(t===od.HIDDEN)return null;var i=e.getAttribute(n);if(t===od.MASK&&n!==oh&&!iw.includes(n)&&n!==r.actionNameAttribute){var o=e.tagName;switch(n){case"title":case"alt":case"placeholder":return"***"}if("IMG"===o&&("src"===n||"srcset"===n)){if(e.naturalWidth>0)return oO(e.naturalWidth,e.naturalHeight);var s=e.getBoundingClientRect(),a=s.width,l=s.height;return a>0||l>0?oO(a,l):of}if("SOURCE"===o&&("src"===n||"srcset"===n))return of;if("A"===o&&"href"===n||i&&tR(n,"data-")||"IFRAME"===o&&"srcdoc"===n)return"***"}return i&&"string"==typeof i&&rU(i)?rF(i):i}function oF(e){var t,n,r;if(!e)return null;try{t=e.rules||e.cssRules}catch(e){}return t?(n=Array.from(t,2===n9()?oV:oB).join(""),r=e.href,n.replace(oE,function(e,t,n,i,o,s){var a=n||o||s;if(!r||!a||oT.test(a)||oP.test(a))return e;var l=t||i||"";return"url(".concat(l).concat(function(e,t){try{return rf(e,t).href}catch(t){return e}}(a,r)).concat(l,")")})):null}function oV(e){return"selectorText"in e&&e.selectorText.includes(":")?e.cssText.replace(/(\[[\w-]+[^\\])(:[^\]]+\])/g,"$1\\$2"):oB(e)}function oB(e){return"styleSheet"in e&&oF(e.styleSheet)||e.cssText}function oz(e,t){var n=function(e,t){var n;switch(e.nodeType){case e.DOCUMENT_NODE:return{type:oN.Document,childNodes:oq(e,t),adoptedStyleSheets:oj(e.adoptedStyleSheets)};case e.DOCUMENT_FRAGMENT_NODE:return(n=rH(e))&&t.serializationContext.shadowRootsController.addShadowRoot(e),{type:oN.DocumentFragment,childNodes:oq(e,t),isShadowRoot:n,adoptedStyleSheets:n?oj(e.adoptedStyleSheets):void 0};case e.DOCUMENT_TYPE_NODE:return{type:oN.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId};case e.ELEMENT_NODE:return function(e,t){var n,r=oR(e.tagName),i="svg"===e.tagName||e instanceof SVGElement||void 0,o=ov(oy(e),t.parentNodePrivacyLevel);if(o===od.HIDDEN){var s=e.getBoundingClientRect(),a=s.width,l=s.height;return{type:oN.Element,tagName:r,attributes:((n={rr_width:"".concat(a,"px"),rr_height:"".concat(l,"px")})[oh]=op,n),childNodes:[],isSVG:i}}if(o!==od.IGNORE){var c=function(e,t,n){if(t===od.HIDDEN)return{};for(var r,i,o,s={},a=oR(e.tagName),l=e.ownerDocument,c=0;c<e.attributes.length;c+=1){var u=e.attributes.item(c).name,d=oU(e,t,u,n.configuration);null!==d&&(s[u]=d)}if(e.value&&("textarea"===a||"select"===a||"option"===a||"input"===a)){var h=oS(e,t);void 0!==h&&(s.value=h)}if("option"===a&&t===od.ALLOW&&e.selected&&(s.selected=e.selected),"link"===a){var p=Array.from(l.styleSheets).find(function(t){return t.href===e.href}),f=oF(p);f&&p&&!t6(x.DISABLE_REPLAY_INLINE_CSS)&&(s._cssText=f)}if("style"===a&&e.sheet){var f=oF(e.sheet);f&&(s._cssText=f)}"input"===a&&("radio"===e.type||"checkbox"===e.type)&&(t===od.ALLOW?s.checked=!!e.checked:ob(e,t)&&delete s.checked),("audio"===a||"video"===a)&&(s.rr_mediaState=e.paused?"paused":"played");var m=n.serializationContext;switch(m.status){case 0:i=Math.round(e.scrollTop),o=Math.round(e.scrollLeft),(i||o)&&m.elementsScrollPositions.set(e,{scrollTop:i,scrollLeft:o});break;case 1:m.elementsScrollPositions.has(e)&&(i=(r=m.elementsScrollPositions.get(e)).scrollTop,o=r.scrollLeft)}return o&&(s.rr_scrollLeft=o),i&&(s.rr_scrollTop=i),s}(e,o,t),u=[];return(e.childNodes.length>0||rz(e))&&"style"!==r&&(u=oq(e,t.parentNodePrivacyLevel===o&&t.ignoreWhiteSpace===("head"===r)?t:tO({},t,{parentNodePrivacyLevel:o,ignoreWhiteSpace:"head"===r}))),{type:oN.Element,tagName:r,attributes:c,childNodes:u,isSVG:i}}}(e,t);case e.TEXT_NODE:return function(e,t){var n=o_(e,t.ignoreWhiteSpace||!1,t.parentNodePrivacyLevel);if(void 0!==n)return{type:oN.Text,textContent:n}}(e,t);case e.CDATA_SECTION_NODE:return{type:oN.CDATA,textContent:""}}}(e,t);if(!n)return null;var r=ok(e)||oH++;return n.id=r,oC.set(e,r),t.serializedNodeIds&&t.serializedNodeIds.add(r),n}var oH=1;function oq(e,t){var n=[];return rq(e,function(e){var r=oz(e,t);r&&n.push(r)}),n}function oK(e){return!!e.changedTouches}function oG(e){return!0===e.composed&&rz(e.target)?e.composedPath()[0]:e.target}var oW=function(e,t){var n=window.visualViewport,r={layoutViewportX:e,layoutViewportY:t,visualViewportX:e,visualViewportY:t};return n&&(Math.abs(n.pageTop-n.offsetTop-window.scrollY)>25||Math.abs(n.pageLeft-n.offsetLeft-window.scrollX)>25?(r.layoutViewportX=Math.round(e+n.offsetLeft),r.layoutViewportY=Math.round(t+n.offsetTop)):(r.visualViewportX=Math.round(e-n.offsetLeft),r.visualViewportY=Math.round(t-n.offsetTop))),r};function o$(e,t){return{data:tO({source:e},t),type:oA.IncrementalSnapshot,timestamp:no()}}function oZ(e){var t=oK(e)?e.changedTouches[0]:e,n=t.clientX,r=t.clientY;if(window.visualViewport){var i=oW(n,r),o=i.visualViewportX,s=i.visualViewportY;n=o,r=s}if(!Number.isFinite(n)||!Number.isFinite(r)){e.isTrusted&&nH("mouse/touch event without x/y");return}return{x:n,y:r}}var oJ=((G={})[S.POINTER_UP]=oM.MouseUp,G[S.MOUSE_DOWN]=oM.MouseDown,G[S.CLICK]=oM.Click,G[S.CONTEXT_MENU]=oM.ContextMenu,G[S.DBL_CLICK]=oM.DblClick,G[S.FOCUS]=oM.Focus,G[S.BLUR]=oM.Blur,G[S.TOUCH_START]=oM.TouchStart,G[S.TOUCH_END]=oM.TouchEnd,G);function oY(e,t,n,r){void 0===r&&(r=document);var i=tV(function(r){var i=oG(r);if(i&&og(i,e.defaultPrivacyLevel)!==od.HIDDEN&&ox(i)){var o=ok(i),s=i===document?{scrollTop:iJ(),scrollLeft:iZ()}:{scrollTop:Math.round(i.scrollTop),scrollLeft:Math.round(i.scrollLeft)};n.set(i,s),t(o$(oL.Scroll,{id:o,x:s.scrollLeft,y:s.scrollTop}))}},100),o=i.throttled,s=i.cancel,a=nu(e,r,S.SCROLL,o,{capture:!0,passive:!0}).stop;return{stop:function(){a(),s()}}}function oX(e,t){var n=iY(e).subscribe(function(e){t(o$(oL.ViewportResize,e))});return{stop:function(){n.unsubscribe()}}}function oQ(e){for(var t=[],n=e;n.parentRule;){var r=Array.from(n.parentRule.cssRules).indexOf(n);t.unshift(r),n=n.parentRule}if(n.parentStyleSheet){var i=Array.from(n.parentStyleSheet.cssRules).indexOf(n);return t.unshift(i),t}}function o0(e,t,n){void 0===n&&(n=document);var r,i=e.defaultPrivacyLevel,o=new WeakMap,s=n!==document,a=nd(e,n,s?[S.CHANGE]:[S.INPUT,S.CHANGE],function(e){var t=oG(e);(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement)&&c(t)},{capture:!0,passive:!0}).stop;if(s)r=tB;else{var l=[r7(HTMLInputElement.prototype,"value",c),r7(HTMLInputElement.prototype,"checked",c),r7(HTMLSelectElement.prototype,"value",c),r7(HTMLTextAreaElement.prototype,"value",c),r7(HTMLSelectElement.prototype,"selectedIndex",c)];r=function(){l.forEach(function(e){return e.stop()})}}return{stop:function(){r(),a()}};function c(e){var t,n,r,o=og(e,i);if(o!==od.HIDDEN){var s=e.type;if("radio"===s||"checkbox"===s){if(ob(e,o))return;r={isChecked:e.checked}}else{var a=oS(e,o);if(void 0===a)return;r={text:a}}u(e,r);var l=e.name;"radio"===s&&l&&e.checked&&(t=document.querySelectorAll('input[type="radio"][name="'.concat(ic(l),'"]')),n=function(t){t!==e&&u(t,{isChecked:!1})},Array.prototype.forEach.call(t,n))}}function u(e,n){if(ox(e)){var r=o.get(e);r&&r.text===n.text&&r.isChecked===n.isChecked||(o.set(e,n),t(o$(oL.Input,tO({id:ok(e)},n))))}}}function o1(e,t,n,r){var i=rI();if(!i)return{stop:tB,flush:tB};var o=function(e){var t=tB,n=[];function r(){t(),e(n),n=[]}return{addMutations:function(e){0===n.length&&(t=function(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){var n=window.requestIdleCallback(tC(e),t);return function(){return window.cancelIdleCallback(n)}}var r=window.requestAnimationFrame(tC(e));return function(){return window.cancelAnimationFrame(r)}}(r,{timeout:100})),n.push.apply(n,e)},flush:r,stop:function(){t()}}}(function(r){!function(e,t,n,r){var i=new Map;e.filter(function(e){return"childList"===e.type}).forEach(function(e){e.removedNodes.forEach(function(e){!function e(t,n){rz(t)&&n(t.shadowRoot),rq(t,function(t){return e(t,n)})}(e,r.removeShadowRoot)})});var o=e.filter(function(e){return e.target.isConnected&&function(e){for(var t=e;t;){if(!ox(t)&&!rH(t))return!1;t=rK(t)}return!0}(e.target)&&og(e.target,n.defaultPrivacyLevel,i)!==od.HIDDEN}),s=function(e,t,n,r){for(var i=new Set,o=new Map,s=function(e){e.addedNodes.forEach(function(e){i.add(e)}),e.removedNodes.forEach(function(t){i.has(t)||o.set(t,e.target),i.delete(t)})},a=0;a<e.length;a++)s(e[a]);var l=Array.from(i);!function(e){e.sort(function(e,t){var n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_CONTAINS?1:n&Node.DOCUMENT_POSITION_FOLLOWING?1:n&Node.DOCUMENT_POSITION_PRECEDING?-1:0})}(l);for(var c=new Set,u=[],d=0;d<l.length;d++){var h=l[d];if(!v(h)){var p=og(h.parentNode,t.defaultPrivacyLevel,r);if(p!==od.HIDDEN&&p!==od.IGNORE){var f=oz(h,{serializedNodeIds:c,parentNodePrivacyLevel:p,serializationContext:{status:2,shadowRootsController:n},configuration:t});if(f){var m=rK(h);u.push({nextId:function(e){for(var t=e.nextSibling;t;){if(ox(t))return ok(t);t=t.nextSibling}return null}(h),parentId:ok(m),node:f})}}}}var g=[];return o.forEach(function(e,t){ox(t)&&g.push({parentId:ok(e),id:ok(t)})}),{adds:u,removes:g,hasBeenSerialized:v};function v(e){return ox(e)&&c.has(ok(e))}}(o.filter(function(e){return"childList"===e.type}),n,r,i),a=s.adds,l=s.removes,c=s.hasBeenSerialized,u=function(e,t,n){for(var r,i=[],o=new Set,s=e.filter(function(e){return!o.has(e.target)&&(o.add(e.target),!0)}),a=0;a<s.length;a++){var l=s[a];if(l.target.textContent!==l.oldValue){var c=og(rK(l.target),t.defaultPrivacyLevel,n);c!==od.HIDDEN&&c!==od.IGNORE&&i.push({id:ok(l.target),value:null!==(r=o_(l.target,!1,c))&&void 0!==r?r:null})}}return i}(o.filter(function(e){return"characterData"===e.type&&!c(e.target)}),n,i),d=function(e,t,n){for(var r=[],i=new Map,o=e.filter(function(e){var t=i.get(e.target);return(null==t||!t.has(e.attributeName))&&(t?t.add(e.attributeName):i.set(e.target,new Set([e.attributeName])),!0)}),s=new Map,a=0;a<o.length;a++){var l=o[a];if(l.target.getAttribute(l.attributeName)!==l.oldValue){var c=og(l.target,t.defaultPrivacyLevel,n),u=oU(l.target,c,l.attributeName,t),d=void 0;if("value"===l.attributeName){var h=oS(l.target,c);if(void 0===h)continue;d=h}else d="string"==typeof u?u:null;var p=s.get(l.target);p||(p={id:ok(l.target),attributes:{}},r.push(p),s.set(l.target,p)),p.attributes[l.attributeName]=d}}return r}(o.filter(function(e){return"attributes"===e.type&&!c(e.target)}),n,i);(u.length||d.length||l.length||a.length)&&t(o$(oL.Mutation,{adds:a,removes:l,texts:u,attributes:d}))}(r.concat(s.takeRecords()),e,t,n)}),s=new i(tC(o.addMutations));return s.observe(r,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop:function(){s.disconnect(),o.stop()},flush:function(){o.flush()}}}var o2=function(e,t,n){var r=new Map,i={addShadowRoot:function(o){if(!r.has(o)){var s=o1(t,e,i,o),a=o0(e,t,o),l=oY(e,t,n,o);r.set(o,{flush:function(){return s.flush()},stop:function(){s.stop(),a.stop(),l.stop()}})}},removeShadowRoot:function(e){var t=r.get(e);t&&(t.stop(),r.delete(e))},stop:function(){r.forEach(function(e){return(0,e.stop)()})},flush:function(){r.forEach(function(e){return(0,e.flush)()})}};return i},o3=function(){function e(e,t,n){this.encoder=e,this.encodedBytesCount=0;var r=t.view.id;this.metadata=tO({start:1/0,end:-1/0,creation_reason:n,records_count:0,has_full_snapshot:!1,index_in_view:ou(r).segments_count,source:"browser"},t),ou(r).segments_count+=1}return e.prototype.addRecord=function(e,t){var n,r=this;this.metadata.start=Math.min(this.metadata.start,e.timestamp),this.metadata.end=Math.max(this.metadata.end,e.timestamp),this.metadata.records_count+=1,(n=this.metadata).has_full_snapshot||(n.has_full_snapshot=e.type===oA.FullSnapshot);var i=this.encoder.isEmpty?'{"records":[':",";this.encoder.write(i+JSON.stringify(e),function(e){r.encodedBytesCount+=e,t(r.encodedBytesCount)})},e.prototype.flush=function(e){var t=this;if(this.encoder.isEmpty)throw Error("Empty segment flushed");this.encoder.write("],".concat(JSON.stringify(this.metadata).slice(1),"\n")),this.encoder.finish(function(n){var r,i;r=t.metadata.view.id,i=n.rawBytesCount,ou(r).segments_total_raw_size+=i,e(t.metadata,n)})},e}();function o4(){return"function"==typeof Array.from&&"function"==typeof CSSSupportsRule&&"function"==typeof URL.createObjectURL&&"forEach"in NodeList.prototype}function o5(e,t,n){var r,i=0,o=[],s=0,a=[],l=nu(e,t,"message",function(e){var t=e.data;if("wrote"===t.type&&t.streamId===n){i+=t.additionalBytesCount,o.push(t.result),r=t.trailer;var s=a.shift();s&&s.id===t.id?s.writeCallback?s.writeCallback(t.result.byteLength):s.finishCallback&&s.finishCallback():(l(),nH("Worker responses received out of order."))}}).stop;function c(){var e=0===o.length?new Uint8Array(0):function(e){for(var t=new Uint8Array(e.reduce(function(e,t){return e+t.length},0)),n=0,r=0;r<e.length;r++){var i=e[r];t.set(i,n),n+=i.length}return t}(o.concat(r)),t={rawBytesCount:i,output:e,outputBytesCount:e.byteLength,encoding:"deflate"};return i=0,o=[],t}function u(){s>0&&(t.postMessage({action:"reset",streamId:n}),s=0)}return{isAsync:!0,get isEmpty(){return 0===s},write:function(e,r){t.postMessage({action:"write",id:s,data:e,streamId:n}),a.push({id:s,writeCallback:r,data:e}),s+=1},finish:function(e){u(),a.length?(a.forEach(function(e){delete e.writeCallback}),a[a.length-1].finishCallback=function(){return e(c())}):e(c())},finishSync:function(){u();var e=a.map(function(e){return delete e.writeCallback,delete e.finishCallback,e.data}).join("");return tO(c(),{pendingData:e})},estimateEncodedBytesCount:function(e){return e.length/8},stop:function(){l()}}}function o6(e){return new Worker(e.workerUrl||URL.createObjectURL(new Blob(['!function(){"use strict";function t(t){for(var e=t.reduce((function(t,e){return t+e.length}),0),a=new Uint8Array(e),n=0,r=0,i=t;r<i.length;r++){var s=i[r];a.set(s,n),n+=s.length}return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=256,n=286,r=30,i=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),l=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Array(576);e(o);var d=new Array(60);e(d);var u=new Array(512);e(u);var f=new Array(256);e(f);var c=new Array(29);e(c);var p,g,w,v=new Array(r);function b(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(v);var y=function(t){return t<256?u[t]:u[256+(t>>>7)]},k=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},z=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,k(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},x=function(t,e,a){z(t,a[2*e],a[2*e+1])},A=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},E=function(t,e,a){var n,r,s=new Array(16),_=0;for(n=1;n<=i;n++)s[n]=_=_+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=A(s[h]++,h))}},Z=function(t){var e;for(e=0;e<n;e++)t.dyn_ltree[2*e]=0;for(e=0;e<r;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},U=function(t){t.bi_valid>8?k(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},S=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},R=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&S(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!S(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},L=function(t,e,n){var r,i,h,l,o=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===r?x(t,i,e):(h=f[i],x(t,h+a+1,e),0!==(l=s[h])&&(i-=c[h],z(t,i,l)),r--,h=y(r),x(t,h,n),0!==(l=_[h])&&(r-=v[h],z(t,r,l)))}while(o<t.last_lit);x(t,256,e)},F=function(t,e){var a,n,r,s=e.dyn_tree,_=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==s[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):s[2*a+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=_[2*r+1]);for(e.max_code=o,a=t.heap_len>>1;a>=1;a--)R(t,s,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],R(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,s[2*r]=s[2*a]+s[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,s[2*a+1]=s[2*n+1]=r,t.heap[1]=r++,R(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,s,_,h,l=e.dyn_tree,o=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(s=0;s<=i;s++)t.bl_count[s]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(s=l[2*l[2*(n=t.heap[a])+1]+1]+1)>p&&(s=p,g++),l[2*n+1]=s,n>o||(t.bl_count[s]++,_=0,n>=c&&(_=f[n-c]),h=l[2*n],t.opt_len+=h*(s+_),u&&(t.static_len+=h*(d[2*n+1]+_)));if(0!==g){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(n=t.bl_count[s];0!==n;)(r=t.heap[--a])>o||(l[2*r+1]!==s&&(t.opt_len+=(s-l[2*r+1])*l[2*r],l[2*r+1]=s),n--)}}(t,e),E(s,o,t.bl_count)},T=function(t,e,a){var n,r,i=-1,s=e[1],_=0,h=7,l=4;for(0===s&&(h=138,l=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++_<h&&r===s||(_<l?t.bl_tree[2*r]+=_:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):_<=10?t.bl_tree[34]++:t.bl_tree[36]++,_=0,i=r,0===s?(h=138,l=3):r===s?(h=6,l=3):(h=7,l=4))},I=function(t,e,a){var n,r,i=-1,s=e[1],_=0,h=7,l=4;for(0===s&&(h=138,l=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++_<h&&r===s)){if(_<l)do{x(t,r,t.bl_tree)}while(0!=--_);else 0!==r?(r!==i&&(x(t,r,t.bl_tree),_--),x(t,16,t.bl_tree),z(t,_-3,2)):_<=10?(x(t,17,t.bl_tree),z(t,_-3,3)):(x(t,18,t.bl_tree),z(t,_-11,7));_=0,i=r,0===s?(h=138,l=3):r===s?(h=6,l=3):(h=7,l=4)}},N=!1,O=function(t,e,a,n){z(t,0+(n?1:0),3),function(t,e,a,n){U(t),n&&(k(t,a),k(t,~a)),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a,!0)},D=function(t,e,n,r){var i,s,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),F(t,t.l_desc),F(t,t.d_desc),_=function(t){var e;for(T(t,t.dyn_ltree,t.l_desc.max_code),T(t,t.dyn_dtree,t.d_desc.max_code),F(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?O(t,e,n,r):4===t.strategy||s===i?(z(t,2+(r?1:0),3),L(t,o,d)):(z(t,4+(r?1:0),3),function(t,e,a,n){var r;for(z(t,e-257,5),z(t,a-1,5),z(t,n-4,4),r=0;r<n;r++)z(t,t.bl_tree[2*l[r]+1],3);I(t,t.dyn_ltree,e-1),I(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),L(t,t.dyn_ltree,t.dyn_dtree)),Z(t),r&&U(t)},B={_tr_init:function(t){N||(!function(){var t,e,a,l,m,y=new Array(16);for(a=0,l=0;l<28;l++)for(c[l]=a,t=0;t<1<<s[l];t++)f[a++]=l;for(f[a-1]=l,m=0,l=0;l<16;l++)for(v[l]=m,t=0;t<1<<_[l];t++)u[m++]=l;for(m>>=7;l<r;l++)for(v[l]=m<<7,t=0;t<1<<_[l]-7;t++)u[256+m++]=l;for(e=0;e<=i;e++)y[e]=0;for(t=0;t<=143;)o[2*t+1]=8,t++,y[8]++;for(;t<=255;)o[2*t+1]=9,t++,y[9]++;for(;t<=279;)o[2*t+1]=7,t++,y[7]++;for(;t<=287;)o[2*t+1]=8,t++,y[8]++;for(E(o,287,y),t=0;t<r;t++)d[2*t+1]=5,d[2*t]=A(t,5);p=new b(o,s,257,n,i),g=new b(d,_,0,r,i),w=new b(new Array(0),h,0,19,7)}(),N=!0),t.l_desc=new m(t.dyn_ltree,p),t.d_desc=new m(t.dyn_dtree,g),t.bl_desc=new m(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,Z(t)},_tr_stored_block:O,_tr_flush_block:D,_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+a+1)]++,t.dyn_dtree[2*y(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){z(t,2,3),x(t,256,o),function(t){16===t.bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},C=function(t,e,a,n){for(var r=65535&t|0,i=t>>>16&65535|0,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16|0},H=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),M=function(t,e,a,n){var r=H,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return-1^t},Y={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},K={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},P=B._tr_init,j=B._tr_stored_block,G=B._tr_flush_block,X=B._tr_tally,W=B._tr_align,q=K.Z_NO_FLUSH,J=K.Z_PARTIAL_FLUSH,Q=K.Z_FULL_FLUSH,V=K.Z_FINISH,$=K.Z_BLOCK,tt=K.Z_OK,et=K.Z_STREAM_END,at=K.Z_STREAM_ERROR,nt=K.Z_DATA_ERROR,rt=K.Z_BUF_ERROR,it=K.Z_DEFAULT_COMPRESSION,st=K.Z_FILTERED,_t=K.Z_HUFFMAN_ONLY,ht=K.Z_RLE,lt=K.Z_FIXED,ot=K.Z_DEFAULT_STRATEGY,dt=K.Z_UNKNOWN,ut=K.Z_DEFLATED,ft=258,ct=262,pt=103,gt=113,wt=666,vt=function(t,e){return t.msg=Y[e],e},bt=function(t){return(t<<1)-(t>4?9:0)},mt=function(t){for(var e=t.length;--e>=0;)t[e]=0},yt=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},kt=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},zt=function(t,e){G(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,kt(t.strm)},xt=function(t,e){t.pending_buf[t.pending++]=e},At=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Et=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,_=t.nice_match,h=t.strstart>t.w_size-ct?t.strstart-(t.w_size-ct):0,l=t.window,o=t.w_mask,d=t.prev,u=t.strstart+ft,f=l[i+s-1],c=l[i+s];t.prev_length>=t.good_match&&(r>>=2),_>t.lookahead&&(_=t.lookahead);do{if(l[(a=e)+s]===c&&l[a+s-1]===f&&l[a]===l[i]&&l[++a]===l[i+1]){i+=2,a++;do{}while(l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&i<u);if(n=ft-(u-i),i=u-ft,n>s){if(t.match_start=e,s=n,n>=_)break;f=l[i+s-1],c=l[i+s]}}}while((e=d[e&o])>h&&0!=--r);return s<=t.lookahead?s:t.lookahead},Zt=function(t){var e,a,n,r,i,s,_,h,l,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-ct)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,_=t.window,h=t.strstart+t.lookahead,l=r,o=void 0,(o=s.avail_in)>l&&(o=l),a=0===o?0:(s.avail_in-=o,_.set(s.input.subarray(s.next_in,s.next_in+o),h),1===s.state.wrap?s.adler=C(s.adler,_,o,h):2===s.state.wrap&&(s.adler=M(s.adler,_,o,h)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=yt(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=yt(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<ct&&0!==t.strm.avail_in)},Ut=function(t,e){for(var a,n;;){if(t.lookahead<ct){if(Zt(t),t.lookahead<ct&&e===q)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-ct&&(t.match_length=Et(t,a)),t.match_length>=3)if(n=X(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=yt(t,t.ins_h,t.window[t.strstart+1]);else n=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2},St=function(t,e){for(var a,n,r;;){if(t.lookahead<ct){if(Zt(t),t.lookahead<ct&&e===q)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-ct&&(t.match_length=Et(t,a),t.match_length<=5&&(t.strategy===st||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=X(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(zt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=X(t,0,t.window[t.strstart-1]))&&zt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=X(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2};function Rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var Lt=[new Rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Zt(t),0===t.lookahead&&e===q)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,zt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-ct&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(zt(t,!1),t.strm.avail_out),1)})),new Rt(4,4,8,4,Ut),new Rt(4,5,16,8,Ut),new Rt(4,6,32,32,Ut),new Rt(4,4,16,16,St),new Rt(8,16,32,32,St),new Rt(8,16,128,128,St),new Rt(8,32,128,256,St),new Rt(32,128,258,1024,St),new Rt(32,258,258,4096,St)];function Ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ut,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),mt(this.dyn_ltree),mt(this.dyn_dtree),mt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),mt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),mt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Tt=function(t){if(!t||!t.state)return vt(t,at);t.total_in=t.total_out=0,t.data_type=dt;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:gt,t.adler=2===e.wrap?0:1,e.last_flush=q,P(e),tt},It=function(t){var e,a=Tt(t);return a===tt&&((e=t.state).window_size=2*e.w_size,mt(e.head),e.max_lazy_match=Lt[e.level].max_lazy,e.good_match=Lt[e.level].good_length,e.nice_match=Lt[e.level].nice_length,e.max_chain_length=Lt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),a},Nt=function(t,e,a,n,r,i){if(!t)return at;var s=1;if(e===it&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||a!==ut||n<8||n>15||e<0||e>9||i<0||i>lt)return vt(t,at);8===n&&(n=9);var _=new Ft;return t.state=_,_.strm=t,_.wrap=s,_.gzhead=null,_.w_bits=n,_.w_size=1<<_.w_bits,_.w_mask=_.w_size-1,_.hash_bits=r+7,_.hash_size=1<<_.hash_bits,_.hash_mask=_.hash_size-1,_.hash_shift=~~((_.hash_bits+3-1)/3),_.window=new Uint8Array(2*_.w_size),_.head=new Uint16Array(_.hash_size),_.prev=new Uint16Array(_.w_size),_.lit_bufsize=1<<r+6,_.pending_buf_size=4*_.lit_bufsize,_.pending_buf=new Uint8Array(_.pending_buf_size),_.d_buf=1*_.lit_bufsize,_.l_buf=3*_.lit_bufsize,_.level=e,_.strategy=i,_.method=a,It(t)},Ot={deflateInit:function(t,e){return Nt(t,e,ut,15,8,ot)},deflateInit2:Nt,deflateReset:It,deflateResetKeep:Tt,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?at:(t.state.gzhead=e,tt):at},deflate:function(t,e){var a,n;if(!t||!t.state||e>$||e<0)return t?vt(t,at):at;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===wt&&e!==V)return vt(t,0===t.avail_out?rt:at);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,xt(r,31),xt(r,139),xt(r,8),r.gzhead?(xt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),xt(r,255&r.gzhead.time),xt(r,r.gzhead.time>>8&255),xt(r,r.gzhead.time>>16&255),xt(r,r.gzhead.time>>24&255),xt(r,9===r.level?2:r.strategy>=_t||r.level<2?4:0),xt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(xt(r,255&r.gzhead.extra.length),xt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=M(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,9===r.level?2:r.strategy>=_t||r.level<2?4:0),xt(r,3),r.status=gt);else{var s=ut+(r.w_bits-8<<4)<<8;s|=(r.strategy>=_t||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=32),s+=31-s%31,r.status=gt,At(r,s),0!==r.strstart&&(At(r,t.adler>>>16),At(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending!==r.pending_buf_size));)xt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,xt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,xt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=pt)}else r.status=pt;if(r.status===pt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&kt(t),r.pending+2<=r.pending_buf_size&&(xt(r,255&t.adler),xt(r,t.adler>>8&255),t.adler=0,r.status=gt)):r.status=gt),0!==r.pending){if(kt(t),0===t.avail_out)return r.last_flush=-1,tt}else if(0===t.avail_in&&bt(e)<=bt(i)&&e!==V)return vt(t,rt);if(r.status===wt&&0!==t.avail_in)return vt(t,rt);if(0!==t.avail_in||0!==r.lookahead||e!==q&&r.status!==wt){var _=r.strategy===_t?function(t,e){for(var a;;){if(0===t.lookahead&&(Zt(t),0===t.lookahead)){if(e===q)return 1;break}if(t.match_length=0,a=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===ht?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=ft){if(Zt(t),t.lookahead<=ft&&e===q)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+ft;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=ft-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=X(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2}(r,e):Lt[r.level].func(r,e);if(3!==_&&4!==_||(r.status=wt),1===_||3===_)return 0===t.avail_out&&(r.last_flush=-1),tt;if(2===_&&(e===J?W(r):e!==$&&(j(r,0,0,!1),e===Q&&(mt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),kt(t),0===t.avail_out))return r.last_flush=-1,tt}return e!==V?tt:r.wrap<=0?et:(2===r.wrap?(xt(r,255&t.adler),xt(r,t.adler>>8&255),xt(r,t.adler>>16&255),xt(r,t.adler>>24&255),xt(r,255&t.total_in),xt(r,t.total_in>>8&255),xt(r,t.total_in>>16&255),xt(r,t.total_in>>24&255)):(At(r,t.adler>>>16),At(r,65535&t.adler)),kt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?tt:et)},deflateEnd:function(t){if(!t||!t.state)return at;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==pt&&e!==gt&&e!==wt?vt(t,at):(t.state=null,e===gt?vt(t,nt):tt)},deflateSetDictionary:function(t,e){var a=e.length;if(!t||!t.state)return at;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return at;if(1===r&&(t.adler=C(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(mt(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,_=t.next_in,h=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,Zt(n);n.lookahead>=3;){var l=n.strstart,o=n.lookahead-2;do{n.ins_h=yt(n,n.ins_h,n.window[l+3-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++}while(--o);n.strstart=l,n.lookahead=2,Zt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=_,t.input=h,t.avail_in=s,n.wrap=r,tt},deflateInfo:"pako deflate (from Nodeca project)"};for(var Dt=new Uint8Array(256),Bt=0;Bt<256;Bt++)Dt[Bt]=Bt>=252?6:Bt>=248?5:Bt>=240?4:Bt>=224?3:Bt>=192?2:1;Dt[254]=Dt[254]=1;var Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Ht=Object.prototype.toString,Mt=K.Z_NO_FLUSH,Yt=K.Z_SYNC_FLUSH,Kt=K.Z_FULL_FLUSH,Pt=K.Z_FINISH,jt=K.Z_OK,Gt=K.Z_STREAM_END,Xt=K.Z_DEFAULT_COMPRESSION,Wt=K.Z_DEFAULT_STRATEGY,qt=K.Z_DEFLATED;function Jt(){this.options={level:Xt,method:qt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;var e=Ot.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==jt)throw new Error(Y[e]);if(t.header&&Ot.deflateSetHeader(this.strm,t.header),t.dictionary){var a;if(a="[object ArrayBuffer]"===Ht.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(e=Ot.deflateSetDictionary(this.strm,a))!==jt)throw new Error(Y[e]);this._dict_set=!0}}function Qt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:String(e),streamId:a})}}function Vt(t){var e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}Jt.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?Pt:Mt,"[object ArrayBuffer]"===Ht.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(n===Yt||n===Kt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((a=Ot.deflate(r,n))===Gt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Ot.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===jt;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Jt.prototype.onData=function(t){this.chunks.push(t)},Jt.prototype.onEnd=function(t){t===jt&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,_=t.length;i<_;i++){var h=t[i];r.set(h,s),s+=h.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e){void 0===e&&(e=self);try{var a=new Map;e.addEventListener("message",(function(n){try{var r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"5.16.0"};case"write":var n=e.get(a.streamId);n||(n=new Jt,e.set(a.streamId,n));var r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,a,n,r,i,s=t.length,_=0;for(r=0;r<s;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),_+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(_),i=0,r=0;i<_;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,K.Z_SYNC_FLUSH),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:Vt(n),additionalBytesCount:i.length};case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){Qt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){Qt(e,t)}}()}();'])))}var o8={status:0};function o7(e,t,n,r){switch(void 0===r&&(r=o6),0===o8.status&&function(e,t,n){void 0===n&&(n=o6);try{var r=n(e),i=nu(e,r,"error",function(n){o9(e,t,n)}).stop,o=nu(e,r,"message",function(n){var r,i=n.data;"errored"===i.type?o9(e,t,i.error,i.streamId):"initialized"===i.type&&(r=i.version,1===o8.status&&(o8={status:3,worker:o8.worker,stop:o8.stop,version:r}))}).stop;r.postMessage({action:"init"}),tD(function(){1===o8.status&&(tv.error("".concat(t," failed to start: a timeout occurred while initializing the Worker")),o8.initializationFailureCallbacks.forEach(function(e){return e()}),o8={status:2})},1e4),o8={status:1,worker:r,stop:function(){i(),o()},initializationFailureCallbacks:[]}}catch(n){o9(e,t,n)}}(e,t,r),o8.status){case 1:return o8.initializationFailureCallbacks.push(n),o8.worker;case 3:return o8.worker}}function o9(e,t,n,r){if(1===o8.status||0===o8.status){var i;if(tv.error("".concat(t," failed to start: an error occurred while creating the Worker:"),n),n instanceof Event||n instanceof Error&&(tS(i=n.message,"Content Security Policy")||tS(i,"requires 'TrustedScriptURL'"))){var o=void 0;o=e.workerUrl?"Please make sure the Worker URL ".concat(e.workerUrl," is correct and CSP is correctly configured."):"Please make sure CSP is correctly configured.",tv.error("".concat(o," See documentation at https://docs.datadoghq.com/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay"))}else nq(n);1===o8.status&&o8.initializationFailureCallbacks.forEach(function(e){return e()}),o8={status:2}}else nq(n,{worker_version:3===o8.status&&o8.version,stream_id:r})}var se=function(e,t,n){void 0===n&&(n={});var r,i,o,s=function(e){void 0===e&&(e=2);var t=new Map,n=!1;function r(r){if(void 0===r&&(r=0),!n&&0!==e){var i=2===e?3072:16384,o=r;t.forEach(function(e){o+=e.getBytesCount()}),o>i&&(tv.warn("Customer data exceeds the recommended ".concat(i/1024,"KiB threshold. More details: https://docs.datadoghq.com/real_user_monitoring/browser/troubleshooting/#customer-data-exceeds-the-recommended-threshold-warning")),n=!0)}}return{createDetachedTracker:function(){var e=tW(function(){return r(e.getBytesCount())});return e},getOrCreateTracker:function(e){return t.has(e)||t.set(e,tW(r)),t.get(e)},setCompressionStatus:function(t){0===e&&(e=t,r())},getCompressionStatus:function(){return e},stop:function(){t.forEach(function(e){return e.stop()}),t.clear()}}}(0),a=t3(s.getOrCreateTracker(2)),l=t3(s.getOrCreateTracker(1)),c={tryToInit:function(e){r||(r=e)},update:function(e){r=e,i.notify()},isGranted:function(){return r===t4.GRANTED},observable:i=new t1};function u(){return{context:a.getContext(),user:l.getContext(),hasReplay:!!t.isRecording()||void 0}}var d=function(e,t,n,r){var i,o,s,a,l=e.ignoreInitIfSyntheticsWillInjectRum,c=e.startDeflateWorker,u=new nJ,d=n.observable.subscribe(h);function h(){if(s&&a&&n.isGranted()){if(d.unsubscribe(),a.trackViewsManually){if(!i)return;u.remove(i.callback),e=i.options}var e,t=r(s,a,o,e);u.drain(t)}}return{init:function(e){if(!e){tv.error("Missing configuration");return}var t,r,i,u=nQ();if(u&&(e=tO({},t=e,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:null!==(r=t.defaultPrivacyLevel)&&void 0!==r?r:null===(i=nY())||void 0===i?void 0:i.getPrivacyLevel()})),s=e,a){n$("DD_RUM",e);return}if(!(l&&n7())){var d=function(e){if(!e.applicationId){tv.error("Application ID is not configured, no RUM data will be collected.");return}if(void 0!==e.sessionReplaySampleRate&&!t9(e.sessionReplaySampleRate)){tv.error("Session Replay Sample Rate should be a number between 0 and 100");return}if(void 0!==e.traceSampleRate&&!t9(e.traceSampleRate)){tv.error("Trace Sample Rate should be a number between 0 and 100");return}if(void 0!==e.excludedActivityUrls&&!Array.isArray(e.excludedActivityUrls)){tv.error("Excluded Activity Urls should be an array");return}var t,n,r=function(e){if(void 0!==e.allowedTracingUrls){if(!Array.isArray(e.allowedTracingUrls)){tv.error("Allowed Tracing URLs should be an array");return}if(0!==e.allowedTracingUrls.length&&void 0===e.service){tv.error("Service needs to be configured when tracing is enabled");return}var t=[];return e.allowedTracingUrls.forEach(function(e){r_(e)?t.push({match:e,propagatorTypes:rT}):"object"===t$(e)&&r_(e.match)&&Array.isArray(e.propagatorTypes)?t.push(e):tv.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",e)}),t}return[]}(e);if(r){var i=function(e){var t,n,r,i,o,s,a,l,c,u,d,h,p,f,m,g;if(!e||!e.clientToken){tv.error("Client Token is not configured, we will not send any data.");return}if(void 0!==e.sessionSampleRate&&!t9(e.sessionSampleRate)){tv.error("Session Sample Rate should be a number between 0 and 100");return}if(void 0!==e.telemetrySampleRate&&!t9(e.telemetrySampleRate)){tv.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(void 0!==e.telemetryConfigurationSampleRate&&!t9(e.telemetryConfigurationSampleRate)){tv.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}if(void 0!==e.telemetryUsageSampleRate&&!t9(e.telemetryUsageSampleRate)){tv.error("Telemetry Usage Sample Rate should be a number between 0 and 100");return}if(void 0!==e.trackingConsent&&!tK(t4,e.trackingConsent)){tv.error('Tracking Consent should be either "granted" or "not-granted"');return}return Array.isArray(e.enableExperimentalFeatures)&&function(e){e.forEach(function(e){t5.add(e)})}(e.enableExperimentalFeatures.filter(function(e){return tK(x,e)})),tO({beforeSend:e.beforeSend&&ty(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:((m=!function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(n0()),n="test";n4(t,n,6e4,e);var r=n5(t)===n;return n8(t,e),r}catch(e){return tv.error(e),!1}}(((f={}).secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,f.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,f.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(f.domain=function(){if(void 0===P){for(var e="dd_site_test_".concat(n0()),t=window.location.hostname.split("."),n=t.pop();t.length&&!n5(e);)n4(e,"test",1e3,{domain:n="".concat(t.pop(),".").concat(n)});n8(e,{domain:n}),P=n}return P}()),f))?void 0:{type:"Cookie",cookieOptions:f})||!e.allowFallbackToLocalStorage||(m=function(){try{var e=n0(),t="".concat("_dd_test_").concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:"LocalStorage"}:void 0}catch(e){return}}()),m),sessionSampleRate:null!==(t=e.sessionSampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,telemetryUsageSampleRate:null!==(i=e.telemetryUsageSampleRate)&&void 0!==i?i:5,service:e.service,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!==(o=e.trackingConsent)&&void 0!==o?o:t4.GRANTED,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},(s=e.site||nL,a=e.env,l=e.service,c=e.version,u=e.datacenter,d=[],a&&d.push(ry("env",a)),l&&d.push(ry("service",l)),c&&d.push(ry("version",c)),u&&d.push(ry("datacenter",u)),g=tP(h={logsEndpointBuilder:rg(e,"logs",d),rumEndpointBuilder:rg(e,"rum",d),sessionReplayEndpointBuilder:rg(e,"replay",d)}).map(function(e){return e.urlPrefix}),s===nL&&g.push("https://".concat(nM,"/")),tO({isIntakeUrl:function(e){return p.some(function(t){return 0===e.indexOf(t)})},replica:function(e,t,n){if(e.replica){var r=tO({},e,{site:nL,clientToken:e.replica.clientToken}),i={logsEndpointBuilder:rg(r,"logs",n),rumEndpointBuilder:rg(r,"rum",n)};return t.push.apply(t,tP(i).map(function(e){return e.urlPrefix})),tO({applicationId:e.replica.applicationId},i)}}(e,p=g,d),site:s},h)))}(e);if(i)return tO({applicationId:e.applicationId,version:e.version,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:null!==(t=e.sessionReplaySampleRate)&&void 0!==t?t:0,startSessionReplayRecordingManually:!!e.startSessionReplayRecordingManually,traceSampleRate:e.traceSampleRate,allowedTracingUrls:r,excludedActivityUrls:null!==(n=e.excludedActivityUrls)&&void 0!==n?n:[],workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:!!e.trackUserInteractions,trackViewsManually:!!e.trackViewsManually,trackResources:!!e.trackResources,trackLongTasks:!!e.trackLongTasks,subdomain:e.subdomain,defaultPrivacyLevel:tK(rb,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:rb.MASK,customerDataTelemetrySampleRate:1,traceContextInjection:tK(rw,e.traceContextInjection)?e.traceContextInjection:rw.ALL},i)}}(e);if(d){if(!u&&!d.sessionStoreStrategyType){tv.warn("No storage available for session. We will not send any data.");return}(!d.compressIntakeRequests||u||!c||(o=c(d,"Datadog RUM",tB)))&&(a=d,n.tryToInit(d.trackingConsent),h())}}},get initConfiguration(){return s},getInternalContext:tB,stopSession:tB,addTiming:function(e,t){void 0===t&&(t=no()),u.add(function(n){return n.addTiming(e,t)})},startView:function(e,t){void 0===t&&(t=na());var n=function(n){n.startView(e,t)};u.add(n),i||(i={options:e,callback:n},h())},addAction:function(e,n){void 0===n&&(n=t()),u.add(function(t){return t.addAction(e,n)})},addError:function(e,n){void 0===n&&(n=t()),u.add(function(t){return t.addError(e,n)})},addFeatureFlagEvaluation:function(e,t){u.add(function(n){return n.addFeatureFlagEvaluation(e,t)})},startDurationVital:function(e){u.add(function(t){return t.startDurationVital(e)})},stopDurationVital:function(e){u.add(function(t){return t.stopDurationVital(e)})}}}(n,u,c,function(r,i,o,h){t6(x.CUSTOM_VITALS)&&(p.startDurationVital=tC(function(e,t){d.startDurationVital({name:tX(e),startClocks:(null==t?void 0:t.startTime)?nn(t.startTime):na(),context:tX(null==t?void 0:t.context)})}),p.stopDurationVital=tC(function(e,t){d.stopDurationVital({name:tX(e),stopClocks:(null==t?void 0:t.stopTime)?nn(t.stopTime):na(),context:tX(null==t?void 0:t.context)})})),r.storeContextsAcrossPages&&(np(i,a,"rum",2),np(i,l,"rum",1)),s.setCompressionStatus(o?1:2);var f=e(r,i,t,s,u,h,o&&n.createDeflateEncoder?function(e){return n.createDeflateEncoder(i,o,e)}:nf,c);return t.onRumStart(f.lifeCycle,i,f.session,f.viewContexts,o),d=tO({init:function(e){n$("DD_RUM",e)},initConfiguration:r},f),f}),h=tC(function(e){d.startView("object"==typeof e?e:{name:e})}),p=(Object.defineProperty(o=tO({version:"5.16.0",onReady:function(e){e()}},{init:tC(function(e){return d.init(e)}),setTrackingConsent:tC(function(e){c.update(e),nK({feature:"set-tracking-consent",tracking_consent:e})}),setGlobalContextProperty:tC(function(e,t){return a.setContextProperty(e,t)}),removeGlobalContextProperty:tC(function(e){return a.removeContextProperty(e)}),getGlobalContext:tC(function(){return a.getContext()}),setGlobalContext:tC(function(e){return a.setContext(e)}),clearGlobalContext:tC(function(){return a.clearContext()}),getInternalContext:tC(function(e){return d.getInternalContext(e)}),getInitConfiguration:tC(function(){return tJ(d.initConfiguration)}),addAction:tC(function(e,t){d.addAction({name:tX(e),context:tX(t),startClocks:na(),type:"custom"})}),addError:function(e,t){var n=nO();tx(function(){d.addError({error:e,handlingStack:n,context:tX(t),startClocks:na()})})},addTiming:tC(function(e,t){d.addTiming(tX(e),t)}),setUser:tC(function(e){var t;(t="object"===t$(e))||tv.error("Unsupported user:",e),t&&l.setContext(nW(e))}),getUser:tC(function(){return l.getContext()}),setUserProperty:tC(function(e,t){var n,r=nW(((n={})[e]=t,n))[e];l.setContextProperty(e,r)}),removeUserProperty:tC(function(e){return l.removeContextProperty(e)}),clearUser:tC(function(){return l.clearContext()}),startView:h,stopSession:tC(function(){d.stopSession(),nK({feature:"stop-session"})}),addFeatureFlagEvaluation:tC(function(e,t){d.addFeatureFlagEvaluation(tX(e),tX(t))}),getSessionReplayLink:tC(function(){return t.getSessionReplayLink()}),startSessionReplayRecording:tC(function(){t.start(),nK({feature:"start-session-replay-recording"})}),stopSessionReplayRecording:tC(function(){return t.stop()})}),"_setDebug",{get:function(){return t_},enumerable:!1}),o);return p}(function(e,t,n,r,i,o,s,a){var l,c,u,d,h,p,f,m,g,v,y,b,w,_,k,T,P,I,R,O,D,j,U,B,K,G,W,$,Z,J,Y,X,Q,ee,et,en=[],er=new r4;er.subscribe(13,function(e){return nD("rum",e)});var ei=function(e){var t,n,r,i,o,s,a,l=(t="browser-rum-sdk",i=new t1,o=!tS(nB,e.site)&&t8(e.telemetrySampleRate),(n={}).log=o,n[nU]=o&&t8(e.telemetryConfigurationSampleRate),n[nF]=o&&t8(e.telemetryUsageSampleRate),s=n,a={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self},E=function(e){if(s[e.type]){var n=tY({type:"telemetry",date:no(),service:t,version:"5.16.0",source:"browser",_dd:{format_version:2},telemetry:tY(e,{runtime_env:a,connectivity:nj()}),experimental_features:tE(t5)},void 0!==r?r():{});i.notify(n),nD("telemetry",n)}},C=nq,tO(nz,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(e){r=e},observable:i,enabled:o});if(nQ()){var c=nY();l.observable.subscribe(function(e){return c.send("internal_telemetry",e)})}return l}(t);ei.setContextProvider(function(){var e,n;return{application:{id:t.applicationId},session:{id:null===(e=ec.findTrackedSession())||void 0===e?void 0:e.id},view:{id:null===(n=e_.findView())||void 0===n?void 0:n.id},action:{id:ek.findActionId()}}});var eo=function(e){er.notify(14,{error:e}),nH("Error reported to customer",{"error.message":e.message})},es=function(e,t){if(!t6(x.FEATURE_FLAGS))return{findFeatureFlagEvaluations:function(){},addFeatureFlagEvaluation:tB,stop:tB};var n=new r6(144e5);return e.subscribe(2,function(e){var r=e.startClocks;n.add({},r.relative),t.resetCustomerData()}),e.subscribe(6,function(e){var t=e.endClocks;n.closeActive(t.relative)}),{findFeatureFlagEvaluations:function(e){return n.find(e)},addFeatureFlagEvaluation:function(e,r){var i=n.find();i&&(i[e]=r,t.updateCustomerData(i))},stop:function(){return t.stop()}}}(er,r.getOrCreateTracker(0)),ea=new t1(function(e){var n=t6(x.PAGEHIDE),r=nd(t,window,[S.VISIBILITY_CHANGE,S.FREEZE,S.PAGE_HIDE],function(t){t.type===S.PAGE_HIDE&&n?e.notify({reason:rP.PAGEHIDE}):t.type===S.VISIBILITY_CHANGE&&"hidden"===document.visibilityState?e.notify({reason:rP.HIDDEN}):t.type===S.FREEZE&&e.notify({reason:rP.FROZEN})},{capture:!0}).stop,i=tB;return n||(i=nu(t,window,S.BEFORE_UNLOAD,function(){e.notify({reason:rP.UNLOADING})}).stop),function(){r(),i()}}),el=ea.subscribe(function(e){er.notify(11,e)});en.push(function(){return el.unsubscribe()});var ec=nQ()?(ed={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplayAllowed:nX("records")},{findTrackedSession:function(){return ed},expire:tB,expireObservable:new t1}):((eh=function(e,t,n,r){var i,o,s,a,l,c,u=new t1,d=new t1,h=function(e,t,n){var r,i,o,s=new t1,a=new t1,l="Cookie"===e.type?(i=e.cookieOptions,function(e){if(!n6(re)){var t=n6("_dd"),n=n6("_dd_r"),r=n6("_dd_l"),i={};t&&(i.id=t),r&&/^[01]$/.test(r)&&(i.logs=r),n&&/^[012]$/.test(n)&&(i.rum=n),tG(i)||(rn(i),e.persistSession(i))}}(o={isLockEnabled:1===n9(),persistSession:function(e){n4(re,rr(e),9e5,i)},retrieveSession:ro,clearSession:function(){n8(re,i)}}),o):{isLockEnabled:!1,persistSession:rs,retrieveSession:ra,clearSession:rl},c=l.clearSession,u=l.retrieveSession,d=tU(function(){ru({process:function(e){return y(e)?void 0:{}},after:g},l)},1e3),h=y(r=u())?r:{},p=tV(function(){var e;ru({process:function(t){var r,i,o,s=g(t);return i=(r=n(s.rum)).trackingType,o=r.isTracked,s.rum=i,o&&!s.id&&(s.id=n0(),s.created=String(ni())),e=o,s},after:function(t){e&&!v()&&(h=t,s.notify()),h=t}},l)},1e3),f=p.throttled,m=p.cancel;function g(e){var n;return y(e)||(e={}),v()&&((n=e,h.id!==n.id||h[t]!==n[t])?(h={},a.notify()):h=e),e}function v(){return void 0!==h[t]}function y(e){return(void 0===e.created||ni()-Number(e.created)<144e5)&&(void 0===e.expire||ni()<Number(e.expire))}return{expandOrRenewSession:f,expandSession:function(){ru({process:function(e){return v()?g(e):void 0}},l)},getSession:function(){return h},renewObservable:s,expireObservable:a,expire:function(){m(),c(),g({})},stop:function(){tF(d)}}}(e.sessionStoreStrategyType,"rum",n);i0.push(function(){return h.stop()});var p=new r6(144e5);function f(){return{id:h.getSession().id,trackingType:h.getSession().rum}}return i0.push(function(){return p.stop()}),h.renewObservable.subscribe(function(){p.add(f(),ns()),u.notify()}),h.expireObservable.subscribe(function(){d.notify(),p.closeActive(ns())}),h.expandOrRenewSession(),p.add(f(),nl().relative),r.observable.subscribe(function(){r.isGranted()?h.expandOrRenewSession():h.expire()}),i=function(){r.isGranted()&&h.expandOrRenewSession()},o=nd(e,window,[S.CLICK,S.TOUCH_START,S.KEY_DOWN,S.SCROLL],i,{capture:!0,passive:!0}).stop,i0.push(o),s=function(){return h.expandSession()},a=function(){"visible"===document.visibilityState&&s()},l=nu(e,document,S.VISIBILITY_CHANGE,a).stop,i0.push(l),c=tU(a,6e4),i0.push(function(){tF(c)}),{findActiveSession:function(e){return p.find(e)},renewObservable:u,expireObservable:d,expire:h.expire}}(t,0,function(e){var n;return{trackingType:n="0"===e||"1"===e||"2"===e?e:t8(t.sessionSampleRate)?t8(t.sessionReplaySampleRate)?"1":"2":"0",isTracked:i1(n)}},a)).expireObservable.subscribe(function(){er.notify(9)}),eh.renewObservable.subscribe(function(){er.notify(10)}),{findTrackedSession:function(e){var t=eh.findActiveSession(e);if(t&&i1(t.trackingType))return{id:t.id,sessionReplayAllowed:"1"===t.trackingType}},expire:eh.expire,expireObservable:eh.expireObservable});if(nQ())!function(e){var t=nY();e.subscribe(13,function(e){t.send("rum",e)})}(er);else{var eu,ed,eh,ep,ef,em,eg,ev=(ep=ei.observable,ef=ec.expireObservable,em=t.replica,eg=function(e,t,n,r,i,o){var s=l(e,t),a=n&&l(e,n);function l(e,t){var n=t.endpoint;return new i2(t.encoder,i7(e,n,e.batchBytesLimit,r),function(e){var t,n=e.messagesLimit,r=e.bytesLimit,i=e.durationLimit,o=e.pageExitObservable,s=e.sessionExpireObservable,a=o.subscribe(function(e){return h(e.reason)}),l=s.subscribe(function(){return h("session_expire")}),c=new t1(function(){return function(){a.unsubscribe(),l.unsubscribe()}}),u=0,d=0;function h(e){if(0!==d){var t=d,n=u;d=0,u=0,p(),c.notify({reason:e,messagesCount:t,bytesCount:n})}}function p(){tj(t),t=void 0}return{flushObservable:c,get messagesCount(){return d},notifyBeforeAddMessage:function(e){u+e>=r&&h("bytes_limit"),d+=1,u+=e,void 0===t&&(t=tD(function(){h("duration_limit")},i))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),u+=e,d>=n?h("messages_limit"):u>=r&&h("bytes_limit")},notifyAfterRemoveMessage:function(e){u-=e,0==(d-=1)&&p()}}}({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:i,sessionExpireObservable:o}),e.messageBytesLimit)}return{flushObservable:s.flushController.flushObservable,add:function(e,t){void 0===t&&(t=!0),s.add(e),a&&t&&a.add(n.transformMessage?n.transformMessage(e):e)},upsert:function(e,t){s.upsert(e,t),a&&a.upsert(n.transformMessage?n.transformMessage(e):e,t)},stop:function(){s.stop(),null==a||a.stop()}}}(t,{endpoint:t.rumEndpointBuilder,encoder:s(2)},em&&{endpoint:em.rumEndpointBuilder,transformMessage:function(e){return tY(e,{application:{id:em.applicationId}})},encoder:s(3)},eo,ea,ef),er.subscribe(13,function(e){"view"===e.type?eg.upsert(e,e.view.id):eg.add(e)}),ep.subscribe(function(e){return eg.add(e,t.site===nN)}),eg);en.push(function(){return ev.stop()}),eu=ev.flushObservable,ei.enabled&&t8(t.customerDataTelemetrySampleRate)&&(oo(),os(),er.subscribe(13,function(e){q=!0,or(H.globalContextBytes,r.getOrCreateTracker(2).getBytesCount()),or(H.userContextBytes,r.getOrCreateTracker(1).getBytesCount()),or(H.featureFlagBytes,tS(["view","error"],e.type)?r.getOrCreateTracker(0).getBytesCount():0)}),eu.subscribe(function(e){var t=e.bytesCount,n=e.messagesCount;q&&(z.batchCount+=1,or(z.batchBytesCount,t),or(z.batchMessagesCount,n),oi(z.globalContextBytes,H.globalContextBytes),oi(z.userContextBytes,H.userContextBytes),oi(z.featureFlagBytes,H.featureFlagBytes),os())}),tU(ot,1e4))}var ey=(j=rI(),new t1(function(e){if(j){var t=new j(tC(function(){return e.notify()}));return t.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return t.disconnect()}}})),eb=(B=tq(U=location),new t1(function(e){var n,r,i,o=(n=r8(history,"pushState",function(e){(0,e.onPostCall)(a)}).stop,r=r8(history,"replaceState",function(e){(0,e.onPostCall)(a)}).stop,i=nu(t,window,S.POP_STATE,a).stop,{stop:function(){n(),r(),i()}}).stop,s=nu(t,window,S.HASH_CHANGE,a).stop;function a(){if(B.href!==U.href){var t=tq(U);e.notify({newLocation:t,oldLocation:B}),B=t}}return function(){o(),s()}})),ew=(l=er,c=t,u=location,d=ec,h=eb,p=ey,f=i,m=eo,y=(g=new r6(144e5),l.subscribe(2,function(e){g.add({service:e.service,version:e.version,id:e.id,name:e.name,startClocks:e.startClocks},e.startClocks.relative)}),l.subscribe(6,function(e){var t=e.endClocks;g.closeActive(t.relative)}),l.subscribe(10,function(){g.reset()}),{findView:function(e){return g.find(e)},stop:function(){g.stop()}}),b=function(e,t,n){var r,i=new r6(144e5);e.subscribe(2,function(e){var t=e.startClocks,o=n.href;i.add(s({url:o,referrer:r||document.referrer}),t.relative),r=o}),e.subscribe(6,function(e){var t=e.endClocks;i.closeActive(t.relative)});var o=t.subscribe(function(e){var t=e.newLocation,n=i.find();if(n){var r=ns();i.closeActive(r),i.add(s({url:t.href,referrer:n.referrer}),r)}});function s(e){return{url:e.url,referrer:e.referrer}}return{findUrl:function(e){return i.find(e)},stop:function(){o.unsubscribe(),i.stop()}}}(l,h,u),w=function(e,t){void 0===t&&(t=500);var n,r=new r6(144e5,4e3);o(oa(),ns());var i=nd(e,window,[S.PAGE_SHOW,S.FOCUS,S.BLUR,S.VISIBILITY_CHANGE,S.RESUME,S.FREEZE,S.PAGE_HIDE],function(e){o(e.type===S.FREEZE?"frozen":e.type===S.PAGE_HIDE?e.persisted?"frozen":"terminated":oa(),e.timeStamp)},{capture:!0}).stop;function o(e,t){void 0===t&&(t=ns()),e!==n&&(n=e,r.closeActive(t),r.add({state:n,startTime:t},t))}var s={findAll:function(e,n){var i=r.findAll(e,n);if(0!==i.length){for(var o=[],s=Math.max(0,i.length-t),a=i.length-1;a>=s;a--){var l=i[a],c=l.startTime-e;o.push({state:l.state,start:nr(c)})}return o}},wasInPageStateAt:function(e,t){return s.wasInPageStateDuringPeriod(e,t,0)},wasInPageStateDuringPeriod:function(e,t,n){return r.findAll(t,n).some(function(t){return t.state===e})},addPageState:o,stop:function(){i(),r.stop()}};return s}(c),k=(_=function(e,t,n,r){e.subscribe(1,function(t){return e.notify(12,iN(t,r))});var i={findActionId:tB};return n.trackUserInteractions&&(i=function(e,t,n){var r,i,o,s,a,l,c,u,d=new r6(3e5),h=new t1;e.subscribe(10,function(){d.reset()}),e.subscribe(5,m);var p=(s=(r={onPointerDown:function(r){var i,o,s,a,l,c,u,d,h,p;return i=n,o=e,s=t,h=(a=r,l=i.actionNameAttribute,{type:"click",target:{width:Math.round((u=a.target.getBoundingClientRect()).width),height:Math.round(u.height),selector:ix(a.target,l)},position:{x:Math.round(a.clientX-u.left),y:Math.round(a.clientY-u.top)},name:ih(c=a.target,id)||l&&ih(c,l)||ig(c,l,ip)||ig(c,l,im)||""}),p=!1,d=function(e){p=e.hadActivity},is(ia(o,s,i),d,100),{clickActionBase:h,hadActivityOnPointerDown:function(){return p}}},onPointerUp:function(r,i,o){var s,a,l,c,u,p,m,g,v,y,b,w,_,C,x;return s=n,a=e,l=t,c=d,u=h,p=f,m=r.clickActionBase,g=i,v=o,y=r.hadActivityOnPointerDown,p(w=function e(t,n,r,i,o){var s,a=n0(),l=na(),c=n.add(a,l.relative),u=io({lifeCycle:t,isChildEvent:function(e){return void 0!==e.action&&(Array.isArray(e.action.id)?tS(e.action.id,a):e.action.id===a)}}),d=0,h=[],p=new t1;function f(e){0===d&&((d=1,s=e)?c.close(s-nc()):c.remove(),u.stop(),p.notify())}return{event:o,stop:f,stopObservable:p,get hasError(){return u.eventCounts.errorCount>0},get hasPageActivity(){return void 0!==s},getUserActivity:r,addFrustration:function(e){h.push(e)},startClocks:l,isStopped:function(){return 1===d||2===d},clone:function(){return e(t,n,r,i,o)},validate:function(e){if(f(),1===d){var n,r=u.eventCounts,c=r.resourceCount,p=r.errorCount,m=r.longTaskCount,g=tO({type:"click",duration:s&&(n=l.timeStamp,s-n),startClocks:l,id:a,frustrationTypes:h,counts:{resourceCount:c,errorCount:p,longTaskCount:m},events:null!=e?e:[o],event:o},i);t.notify(1,g),d=2}},discard:function(){f(),d=2}}}(a,c,v,m,g)),_=(b=function(e){e.hadActivity&&e.end<w.startClocks.timeStamp?w.discard():e.hadActivity?w.stop(e.end):y()?w.stop(w.startClocks.timeStamp):w.stop()},is(ia(a,l,s),b,1e4)).stop,C=a.subscribe(5,function(e){var t=e.endClocks;w.stop(t.timeStamp)}),x=u.subscribe(function(){w.stop()}),void w.stopObservable.subscribe(function(){C.unsubscribe(),_(),x.unsubscribe()})}}).onPointerDown,a=r.onPointerUp,l={selection:!1,input:!1,scroll:!1},c=[nu(n,window,S.POINTER_DOWN,function(e){iO(e)&&(i=iR(),l={selection:!1,input:!1,scroll:!1},o=s(e))},{capture:!0}),nu(n,window,S.SELECTION_CHANGE,function(){i&&iR()||(l.selection=!0)},{capture:!0}),nu(n,window,S.SCROLL,function(){l.scroll=!0},{capture:!0,passive:!0}),nu(n,window,S.POINTER_UP,function(e){if(iO(e)&&o){var t=l;a(o,e,function(){return t}),o=void 0}},{capture:!0}),nu(n,window,S.INPUT,function(){l.input=!0},{capture:!0})],{stop:function(){c.forEach(function(e){return e.stop()})}}).stop;return{stop:function(){m(),h.notify(),p()},actionContexts:{findActionId:function(e){return d.findAll(e)}}};function f(e){if(!u||!u.tryAppend(e)){var t=e.clone();u=function(e,t){var n,r=[],i=0;function o(e){e.stopObservable.subscribe(s),r.push(e),tj(n),n=tD(a,1e3)}function s(){1===i&&r.every(function(e){return e.isStopped()})&&(i=2,t(r))}function a(){tj(n),0===i&&(i=1,s())}return o(e),{tryAppend:function(e){var t,n;return 0===i&&(!(r.length>0)||(t=r[r.length-1].event,n=e.event,t.target===n.target&&100>=Math.sqrt(Math.pow(t.clientX-n.clientX,2)+Math.pow(t.clientY-n.clientY,2))&&t.timeStamp-n.timeStamp<=1e3)?(o(e),!0):(a(),!1))},stop:function(){a()}}}(e,function(e){(function(e,t){if(function(e){if(e.some(function(e){return e.getUserActivity().selection||e.getUserActivity().scroll}))return!1;for(var t=0;t<e.length-2;t+=1)if(e[t+3-1].event.timeStamp-e[t].event.timeStamp<=1e3)return!0;return!1}(e))return t.addFrustration("rage_click"),e.some(iA)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};var n=e.some(function(e){return e.getUserActivity().selection});return e.forEach(function(e){e.hasError&&e.addFrustration("error_click"),iA(e)&&!n&&e.addFrustration("dead_click")}),{isRage:!1}})(e,t).isRage?(e.forEach(function(e){return e.discard()}),t.stop(no()),t.validate(e.map(function(e){return e.event}))):(t.discard(),e.forEach(function(e){return e.validate()}))})}}function m(){u&&u.stop()}}(e,t,n).actionContexts),{addAction:function(t,n){e.notify(12,tO({savedCommonContext:n},iN(t,r)))},actionContexts:i}}(l,p,c,w)).addAction,T=_.actionContexts,P=(v=iX(),{get:function(){return{viewport:v}},stop:iY(c).subscribe(function(e){v=e}).unsubscribe}),I=function(e,t){if(void 0===t){var n;n=window.cookieStore?function(t,n){return nu(e,window.cookieStore,S.CHANGE,function(e){var r=tT(e.changed,function(e){return e.name===t})||tT(e.deleted,function(e){return e.name===t});r&&n(r.value)}).stop}:ol,t=new t1(function(e){return n(oc,function(t){return e.notify(t)})})}var r,i=n6(oc)||(null===(r=window.Cypress)||void 0===r?void 0:r.env("traceId")),o=t.subscribe(function(e){i=e});return{get:function(){if("string"==typeof i)return{test_execution_id:i}},stop:function(){return o.unsubscribe()}}}(c),!function(e,t,n,r,i,o,s,a,l,c){(u={}).view=r2,u.error=tO({"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string"},r3,r2),u.resource=tO({"resource.url":"string"},t6(x.WRITABLE_RESOURCE_GRAPHQL)&&{"resource.graphql":"object"},r3,r2),u.action=tO({"action.target.name":"string"},r3,r2),u.long_task=tO({},r3,r2),u.vital=tO({},r3,r2),N=u;var u,d,h=((d={}).error=rQ("error",e.eventRateLimiterThreshold,c),d.action=rQ("action",e.eventRateLimiterThreshold,c),d.vital=rQ("vital",e.eventRateLimiterThreshold,c),d),p=function(){var e,t,n="string"==typeof(e=window._DATADOG_SYNTHETICS_PUBLIC_ID||n6("datadog-synthetics-public-id"))?e:void 0,r="string"==typeof(t=window._DATADOG_SYNTHETICS_RESULT_ID||n6("datadog-synthetics-result-id"))?t:void 0;if(n&&r)return{test_id:n,result_id:r,injected:n7()}}();t.subscribe(12,function(c){var u=c.startTime,d=c.rawRumEvent,f=c.domainContext,m=c.savedCommonContext,g=c.customerContext,v=r.findView(u),y=i.findUrl(u),b=n.findTrackedSession(u);if(b&&v&&y){var w=m||l(),_=o.findActionId(u),C=tY({_dd:{format_version:2,drift:Math.round(ni()-(nc()+performance.now())),configuration:{session_sample_rate:t7(e.sessionSampleRate,3),session_replay_sample_rate:t7(e.sessionReplaySampleRate,3)},browser_sdk_version:nQ()?"5.16.0":void 0},application:{id:e.applicationId},date:no(),service:v.service||e.service,version:v.version||e.version,source:"browser",session:{id:b.id,type:p?"synthetics":a.get()?"ci_test":"user"},view:{id:v.id,name:v.name,url:y.url,referrer:y.referrer},action:-1!==["error","resource","long_task"].indexOf(d.type)&&_?{id:_}:void 0,synthetics:p,ci_test:a.get(),display:s.get(),connectivity:nj()},d);C.context=tY(w.context,g),"has_replay"in C.session||(C.session.has_replay=w.hasReplay),"view"===C.type&&(C.session.sampled_for_replay=b.sessionReplayAllowed),tG(w.user)||(C.usr=w.user),function(e,t,n,r){if(t){var i,o,s,a,l=(i=N[e.type],s=t(o=tJ(e),n),tI(i).forEach(function(t){var n=t[0],r=t[1],i=function(e,t){for(var n=e,r=0,i=t.split(".");r<i.length;r++){var o,s=i[r];if(!(r1(o=n)&&Object.prototype.hasOwnProperty.call(o,s)))return;n=n[s]}return n}(o,n),s=t$(i);s===r?r0(e,n,tX(i)):"object"===r&&("undefined"===s||"null"===s)&&r0(e,n,{})}),s);if(!1===l&&"view"!==e.type)return!1;!1===l&&tv.warn("Can't dismiss view events using beforeSend!")}return!(null===(a=r[e.type])||void 0===a?void 0:a.isLimitReached())}(C,e.beforeSend,f,h)&&(tG(C.context)&&delete C.context,t.notify(13,C))}})}(c,l,d,y,b,T,P,I,f,m),{viewContexts:y,pageStateHistory:w,urlContexts:b,addAction:k,actionContexts:T,stop:function(){I.stop(),P.stop(),w.stop(),b.stop(),y.stop(),w.stop()}}),e_=ew.viewContexts,eC=ew.pageStateHistory,ex=ew.urlContexts,ek=ew.actionContexts,eS=ew.addAction,eE=ew.stop;en.push(eE),K={session_sample_rate:e.sessionSampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:e.telemetryUsageSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:!!e.proxy,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,allow_fallback_to_local_storage:!!e.allowFallbackToLocalStorage,store_contexts_across_pages:!!e.storeContextsAcrossPages,allow_untrusted_events:!!e.allowUntrustedEvents,tracking_consent:e.trackingConsent},nG({type:nU,configuration:tO({session_replay_sample_rate:e.sessionReplaySampleRate,start_session_replay_recording_manually:e.startSessionReplayRecordingManually,trace_sample_rate:e.traceSampleRate,trace_context_injection:e.traceContextInjection,action_name_attribute:e.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0,selected_tracing_propagators:(G=new Set,Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0&&e.allowedTracingUrls.forEach(function(e){r_(e)?rT.forEach(function(e){return G.add(e)}):"object"===t$(e)&&Array.isArray(e.propagatorTypes)&&e.propagatorTypes.forEach(function(e){return G.add(e)})}),tE(G)),default_privacy_level:e.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(e.excludedActivityUrls)&&e.excludedActivityUrls.length>0,use_worker_url:!!e.workerUrl,compress_intake_requests:e.compressIntakeRequests,track_views_manually:e.trackViewsManually,track_user_interactions:e.trackUserInteractions,track_resources:e.trackResources,track_long_task:e.trackLongTasks},K)}),function(e,t,n){e.subscribe(0,function(r){for(var i=0;i<r.length;i++){var o=r[i];if(o.entryType!==A.LONG_TASK||!n.findTrackedSession(o.startTime)||!t.trackLongTasks)break;var s=nt(o.startTime),a={date:s.timeStamp,long_task:{id:n0(),duration:nr(o.duration)},type:"long_task",_dd:{discarded:!1}};e.notify(12,{rawRumEvent:a,startTime:s.relative,domainContext:{performanceEntry:o}})}})}(er,t,ec),er.subscribe(8,function(e){var n=function(e,t,n,r){var i,o=function(e){if(performance&&"getEntriesByName"in performance){var t=performance.getEntriesByName(e.url,"resource");if(t.length&&"toJSON"in t[0]){var n=t.map(function(e){return e.toJSON()}).filter(rL).filter(function(t){var n,r;return n=e.startClocks.relative,r=iU({startTime:e.startClocks.relative,duration:e.duration}),t.startTime>=n-1&&iU(t)<=r+1});if(1===n.length)return n[0]}}}(e),s=o?nt(o.startTime):e.startClocks,a=iF(t,n,s),l=function(e,t){if(e.traceSampled&&e.traceId&&e.spanId)return{_dd:{span_id:e.spanId.toDecimalString(),trace_id:e.traceId.toDecimalString(),rule_psr:iB(t)}}}(e,t);if(a||l){var c,u="xhr"===e.type?"xhr":"fetch",d=o?iV(o):void 0,h=(c=e.duration,r.wasInPageStateDuringPeriod("frozen",s.relative,c)?void 0:nr(c)),p=iz(r,s,null!==(i=null==o?void 0:o.duration)&&void 0!==i?i:e.duration),f=tY({date:s.timeStamp,resource:{id:n0(),type:u,duration:h,method:e.method,status_code:e.status,url:rU(e.url)?rF(e.url):e.url},type:"resource",_dd:{discarded:!a}},l,d,p);return{startTime:s.relative,rawRumEvent:f,domainContext:{performanceEntry:o,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted}}}}(e,t,ec,eC);n&&er.notify(12,n)}),er.subscribe(0,function(e){for(var n=0;n<e.length;n++){var r=e[n];if(r.entryType===A.RESOURCE&&!("xmlhttprequest"===r.initiatorType||"fetch"===r.initiatorType)){var i=function(e,t,n,r){var i=nt(e.startTime),o=iF(t,n,i),s=function(e,t){if(e.traceId)return{_dd:{trace_id:e.traceId,rule_psr:iB(t)}}}(e,t);if(o||s){var a,l=function(e){var t,n=e.name;if(!function(e){try{return!!rf(e)}catch(e){return!1}}(n))return nH('Failed to construct URL for "'.concat(e.name,'"')),"other";for(var r="/"===(t=rf(n).pathname)[0]?t:"/".concat(t),i=0;i<rA.length;i++){var o=rA[i],s=o[0];if((0,o[1])(e.initiatorType,r))return s}return"other"}(e),c=iV(e),u=iz(r,i,e.duration),d=tY({date:i.timeStamp,resource:{id:n0(),type:l,url:e.name,status_code:0===(a=e.responseStatus)?void 0:a},type:"resource",_dd:{discarded:!o}},s,c,u);return{startTime:i.relative,rawRumEvent:d,domainContext:{performanceEntry:e}}}}(r,t,ec,eC);i&&er.notify(12,i)}}});var eT=(W=location,er.subscribe(4,function(e){var r,i,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,_;return er.notify(12,(y=n.getReplayStats(e.id),b=es.findFeatureFlagEvaluations(e.startClocks.relative),w=eC.findAll(e.startClocks.relative,e.duration),_={_dd:{document_version:e.documentVersion,replay_stats:y,page_states:w,configuration:{start_session_replay_recording_manually:t.startSessionReplayRecordingManually}},date:e.startClocks.timeStamp,type:"view",view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:null===(i=e.commonViewMetrics.cumulativeLayoutShift)||void 0===i?void 0:i.value,cumulative_layout_shift_target_selector:null===(o=e.commonViewMetrics.cumulativeLayoutShift)||void 0===o?void 0:o.targetSelector,first_byte:nr(null===(s=e.initialViewMetrics.navigationTimings)||void 0===s?void 0:s.firstByte),dom_complete:nr(null===(a=e.initialViewMetrics.navigationTimings)||void 0===a?void 0:a.domComplete),dom_content_loaded:nr(null===(l=e.initialViewMetrics.navigationTimings)||void 0===l?void 0:l.domContentLoaded),dom_interactive:nr(null===(c=e.initialViewMetrics.navigationTimings)||void 0===c?void 0:c.domInteractive),error:{count:e.eventCounts.errorCount},first_contentful_paint:nr(e.initialViewMetrics.firstContentfulPaint),first_input_delay:nr(null===(u=e.initialViewMetrics.firstInput)||void 0===u?void 0:u.delay),first_input_time:nr(null===(d=e.initialViewMetrics.firstInput)||void 0===d?void 0:d.time),first_input_target_selector:null===(h=e.initialViewMetrics.firstInput)||void 0===h?void 0:h.targetSelector,interaction_to_next_paint:nr(null===(p=e.commonViewMetrics.interactionToNextPaint)||void 0===p?void 0:p.value),interaction_to_next_paint_target_selector:null===(f=e.commonViewMetrics.interactionToNextPaint)||void 0===f?void 0:f.targetSelector,is_active:e.isActive,name:e.name,largest_contentful_paint:nr(null===(m=e.initialViewMetrics.largestContentfulPaint)||void 0===m?void 0:m.value),largest_contentful_paint_target_selector:null===(g=e.initialViewMetrics.largestContentfulPaint)||void 0===g?void 0:g.targetSelector,load_event:nr(null===(v=e.initialViewMetrics.navigationTimings)||void 0===v?void 0:v.loadEvent),loading_time:ne(r=nr(e.commonViewMetrics.loadingTime))&&r<0?void 0:r,loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:nr(e.duration)},feature_flags:b&&!tG(b)?b:void 0,display:e.commonViewMetrics.scroll?{scroll:{max_depth:e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:nr(e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:!!y||void 0,is_active:!!e.sessionIsActive&&void 0},privacy:{replay_level:t.defaultPrivacyLevel}},tG(e.customTimings)||(_.view.custom_timings=function(e,t){for(var n={},r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];n[o]=t(e[o])}return n}(e.customTimings,nr)),{rawRumEvent:_,startTime:e.startClocks.relative,domainContext:{location:e.location}}))}),function(e,t,n,r,i,o,s){var a,l=new Set,c=u("initial_load",nl(),s);function u(i,o,s){var a=function(e,t,n,r,i,o,s){void 0===o&&(o=na());var a,l,c,u,d,h,p,f,m,g,v,y,b,w,_,C,k,E,T,P,I,R,O,N,L,M,D,j,U,B,z,H,q,K,G,W,$,Z,J,Y,X=n0(),Q=new t1,ee={},et=0,en=tq(r),er=!0;s&&(Z=s.name,J=s.service,Y=s.version);var ei={id:X,name:Z,startClocks:o,service:J,version:Y};e.notify(2,ei),e.notify(3,ei);var eo=tV(e_,3e3,{leading:!1}),es=eo.throttled,ea=eo.cancel,el=(c={},d=(u=function(e,t,n,r,i,o){var s,a="initial_load"===r,l=!0,c=[];function u(){l||a||!(c.length>0)||o(Math.max.apply(Math,c))}return{stop:(s=function(e){if(l){if(l=!1,e.hadActivity){var t;c.push((t=i.timeStamp,e.end-t))}u()}},is(ia(e,t,n),s,void 0)).stop,setLoadEvent:function(e){a&&(a=!1,c.push(e),u())}}}(e,t,n,i,l=o,function(e){c.loadingTime=e,es()})).stop,h=u.setLoadEvent,b=(p=function(e){c.scroll=e},void 0===f&&(void 0===a&&(a=1e3),f=new t1(function(e){if(window.ResizeObserver){var t=tV(function(){var t,n;e.notify((t=iJ(),n=iX().height,{scrollHeight:Math.round((document.scrollingElement||document.documentElement).scrollHeight),scrollDepth:Math.round(n+t),scrollTop:t}))},a,{leading:!1,trailing:!0}),r=document.scrollingElement||document.documentElement,i=new ResizeObserver(tC(t.throttled));i.observe(r);var o=nu(n,window,S.SCROLL,t.throttled,{passive:!0});return function(){t.cancel(),i.unobserve(r),o.stop()}}})),m=0,g=0,v=0,y=f.subscribe(function(e){var t=e.scrollDepth,n=e.scrollTop,r=e.scrollHeight,i=!1;t>m&&(m=t,i=!0),r>g&&(g=r,v=ns()-l.relative,i=!0),i&&p({maxDepth:Math.min(m,g),maxDepthScrollTop:n,maxScrollHeight:g,maxScrollHeightTime:v})}),{stop:function(){return y.unsubscribe()}}).stop,w=function(e,t,n){if(!rZ(A.LAYOUT_SHIFT))return{stop:tB};var r,i,o,s,a,l,c=0;n({value:0});var u=(a=0,l=0,{update:function(e){var t,n;void 0===r||e.startTime-i>=1e3||e.startTime-r>=5e3?(r=i=e.startTime,a=e.value,l=0,o=void 0):(a+=e.value,i=e.startTime),e.value>l&&(l=e.value,s=e.startTime,o=(null===(t=e.sources)||void 0===t?void 0:t.length)?null===(n=tT(e.sources,function(e){return!!e.node&&rB(e.node)}))||void 0===n?void 0:n.node:void 0)},value:function(){return a},largestLayoutShiftTarget:function(){return o},largestLayoutShiftTime:function(){return s}});return{stop:t.subscribe(0,function(t){for(var r=0;r<t.length;r++){var i=t[r];if(i.entryType===A.LAYOUT_SHIFT&&!i.hadRecentInput&&(u.update(i),u.value()>c)){var o=t7(c=u.value(),4),s=u.largestLayoutShiftTarget(),a=void 0;s&&s.isConnected&&(a=ix(s,e.actionNameAttribute)),n({value:o,targetSelector:a})}}}).unsubscribe}}(n,e,function(e){c.cumulativeLayoutShift=e,es()}).stop,C=(_=function(e,t,n,r){if(!(rZ(A.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:function(){},setViewEnd:tB,stop:tB};var i,o,s,a=("interactionCount"in performance||V||(V=new window.PerformanceObserver(tC(function(e){e.getEntries().forEach(function(e){e.interactionId&&(iG=Math.min(iG,e.interactionId),iK=((iW=Math.max(iW,e.interactionId))-iG)/7+1)})}))).observe({type:"event",buffered:!0,durationThreshold:0}),i="initial_load"===n?0:i$(),o={stopped:!1},{getViewInteractionCount:function(){return o.stopped?o.interactionCount:i$()-i},stopViewInteractionCount:function(){o={stopped:!0,interactionCount:i$()-i}}}),l=a.getViewInteractionCount,c=a.stopViewInteractionCount,u=1/0,d=function(e){var t=[];function n(){t.sort(function(e,t){return t.duration-e.duration}).splice(10)}return{process:function(e){var r=t.findIndex(function(t){return e.interactionId===t.interactionId}),i=t[t.length-1];-1!==r?e.duration>t[r].duration&&(t[r]=e,n()):(t.length<10||e.duration>i.duration)&&(t.push(e),n())},estimateP98Interaction:function(){var n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}(l),h=-1;return{getInteractionToNextPaint:function(){return h>=0?{value:Math.min(h,6e4),targetSelector:s}:l()?{value:0}:void 0},setViewEnd:function(e){u=e,c()},stop:r.subscribe(0,function(n){for(var r=0;r<n.length;r++){var i=n[r];(i.entryType===A.EVENT||i.entryType===A.FIRST_INPUT)&&i.interactionId&&i.startTime>=t&&i.startTime<=u&&d.process(i)}var o=d.estimateP98Interaction();o&&o.duration!==h&&(h=o.duration,s=o.target&&rB(o.target)?ix(o.target,e.actionNameAttribute):void 0)}).unsubscribe}}(n,l.relative,i,e)).stop,k=_.getInteractionToNextPaint,{stop:function(){d(),w(),b()},stopINPTracking:C,setLoadEvent:h,setViewEnd:_.setViewEnd,getCommonViewMetrics:function(){return c.interactionToNextPaint=k(),c}}),ec=el.setLoadEvent,eu=el.setViewEnd,ed=el.stop,eh=el.stopINPTracking,ep=el.getCommonViewMetrics,ef="initial_load"===i?(E={},P=(T=function(e){ec(e.loadEvent),E.navigationTimings=e,es()},{stop:e.subscribe(0,function(e){for(var t=0;t<e.length;t++){var n=e[t];n.entryType===A.NAVIGATION&&T({domComplete:n.domComplete,domContentLoaded:n.domContentLoadedEventEnd,domInteractive:n.domInteractive,loadEvent:n.loadEventEnd,firstByte:n.responseStart>=0&&n.responseStart<=ns()?n.responseStart:void 0})}}).unsubscribe}).stop,void 0===I&&(I=window),"hidden"===document.visibilityState?R=0:(R=1/0,O=nd(n,I,[S.PAGE_HIDE,S.VISIBILITY_CHANGE],function(e){(e.type===S.PAGE_HIDE||"hidden"===document.visibilityState)&&(R=e.timeStamp,O())},{capture:!0}).stop),N={get timeStamp(){return R},stop:function(){null==O||O()}},M=(L=function(e){E.firstContentfulPaint=e,es()},{stop:e.subscribe(0,function(e){var t=tT(e,function(e){return e.entryType===A.PAINT&&"first-contentful-paint"===e.name&&e.startTime<N.timeStamp&&e.startTime<6e5});t&&L(t.startTime)}).unsubscribe}).stop,q=(D=window,j=function(e){E.largestContentfulPaint=e,es()},U=1/0,B=nd(n,D,[S.POINTER_DOWN,S.KEY_DOWN],function(e){U=e.timeStamp},{capture:!0,once:!0}).stop,z=0,H=e.subscribe(0,function(e){var t=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(t(r,n,e))return r}}(e,function(e){return e.entryType===A.LARGEST_CONTENTFUL_PAINT&&e.startTime<U&&e.startTime<N.timeStamp&&e.startTime<6e5&&e.size>z});if(t){var r=void 0;t.element&&(r=ix(t.element,n.actionNameAttribute)),t6(x.ZERO_LCP_TELEMETRY)&&function(e,t){if(!iH){var n=0===e.startTime?"LCP with startTime = 0":void 0!==F&&e.startTime<F.startTime?"LCP with startTime < previous LCP":void 0!==F&&e.size<F.size?"LCP with size < previous LCP":void 0;n&&(iH=!0,nH(n,{debug:{entry:iq(e),previousLcp:F,timeOrigin:performance.timeOrigin,now:ns(),lcpEntries:t.map(iq)}})),F=iq(e)}}(t,e.filter(function(e){return e.entryType===A.LARGEST_CONTENTFUL_PAINT})),j({value:t.startTime,targetSelector:r}),z=t.size}}).unsubscribe,{stop:function(){B(),H()}}).stop,G=(K=function(e){E.firstInput=e,es()},{stop:e.subscribe(0,function(e){var t=tT(e,function(e){return e.entryType===A.FIRST_INPUT&&e.startTime<N.timeStamp});if(t){var r,i=(r=t.startTime,t.processingStart-r),o=void 0;t.target&&rB(t.target)&&(o=ix(t.target,n.actionNameAttribute)),K({delay:i>=0?i:0,time:t.startTime,targetSelector:o})}}).unsubscribe}).stop,{stop:function(){P(),M(),q(),G(),N.stop()},initialViewMetrics:E}):{stop:tB,initialViewMetrics:{}},em=ef.stop,eg=ef.initialViewMetrics,ev={stop:(W=io({lifeCycle:e,isChildEvent:function(e){return e.view.id===X},onChange:es})).stop,eventCounts:W.eventCounts},ey=ev.stop,eb=ev.eventCounts,ew=tU(e_,3e5);function e_(){ea(),et+=1;var t=void 0===$?no():$.timeStamp;e.notify(4,{customTimings:ee,documentVersion:et,id:X,name:Z,service:J,version:Y,loadingType:i,location:en,startClocks:o,commonViewMetrics:ep(),initialViewMetrics:eg,duration:t-o.timeStamp,isActive:void 0===$,sessionIsActive:er,eventCounts:eb})}return e_(),{name:Z,service:J,version:Y,stopObservable:Q,end:function(t){var n,r,i=this;void 0===t&&(t={}),$||($=null!==(n=t.endClocks)&&void 0!==n?n:na(),er=null===(r=t.sessionIsActive)||void 0===r||r,e.notify(5,{endClocks:$}),e.notify(6,{endClocks:$}),tF(ew),eu($.relative),ed(),e_(),tD(function(){i.stop()},3e5))},stop:function(){em(),ey(),eh(),Q.notify()},addTiming:function(e,t){if(!$){var n,r=t<31536e6?t:t-o.timeStamp;ee[(n=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_"))!==e&&tv.warn("Invalid timing name: ".concat(e,", sanitized to: ").concat(n)),n]=r,es()}}}}(t,n,r,e,i,o,s);return l.add(a),a.stopObservable.subscribe(function(){l.delete(a)}),a}return t.subscribe(10,function(){c=u("route_change",void 0,{name:c.name,service:c.service,version:c.version})}),t.subscribe(9,function(){c.end({sessionIsActive:!1})}),t.subscribe(11,function(e){(e.reason===rP.UNLOADING||e.reason===rP.PAGEHIDE)&&c.end()}),o&&(a=i.subscribe(function(e){var t,n,r;t=e.oldLocation,n=e.newLocation,t.pathname===n.pathname&&(""!==(r=n.hash.substring(1))&&document.getElementById(r)||iQ(n.hash)===iQ(t.hash))||(c.end(),c=u("route_change"))})),{addTiming:function(e,t){void 0===t&&(t=no()),c.addTiming(e,t)},startView:function(e,t){c.end({endClocks:t}),c=u("route_change",t,e)},stop:function(){null==a||a.unsubscribe(),c.end(),l.forEach(function(e){return e.stop()})}}}(W,er,ey,t,eb,!t.trackViewsManually,o)),eP=eT.addTiming,eI=eT.startView,eR=eT.stop;en.push(eR);var eO=(R=$=new t1,(O=[tp.error].map(function(e){return iM[e]||(iM[e]=new t1(function(t){var n=tf[e];return tf[e]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n.apply(console,r);var o=nO();tx(function(){t.notify(function(e,t,n){var r,i,o,s=e.map(function(e){return"string"==typeof e?tX(e):e instanceof Error?nR(nm(e)):tz(tX(e),void 0,2)}).join(" ");if(t===tp.error){var a=tT(e,function(e){return e instanceof Error});r=a?nI(nm(a)):void 0,i=nP(a),o=a?nA(a,"console"):void 0}return{api:t,message:s,stack:r,handlingStack:n,fingerprint:i,causes:o}}(r,e,o))})},function(){tf[e]=n}})),iM[e]}),t2.apply(void 0,O)).subscribe(function(e){return R.notify({startClocks:na(),message:e.message,stack:e.stack,fingerprint:e.fingerprint,source:rX.CONSOLE,handling:"handled",handlingStack:e.handlingStack})}),(D=Z=function(e,t){var n=nT({stackTrace:e,originalError:t,startClocks:na(),nonErrorPrefix:"Uncaught",source:rX.SOURCE,handling:"unhandled"});$.notify(n)},r8(window,"onerror",function(e){var t,n,r,i,o,s=e.parameters,a=s[0],l=s[1],c=s[2],u=s[3],d=s[4];D(o=d instanceof Error?nm(d):{name:("[object String]"===({}).toString.call(a)&&(n=(t=nS.exec(a))[1],r=t[2]),i={name:n,message:r}).name,message:i.message,stack:[{url:l,column:u,line:c}]},null!=d?d:a)})).stop,r8(window,"onunhandledrejection",function(e){var t=e.parameters[0].reason||"Empty reason";Z(nm(t),t)}).stop,(Y=[],tS(J=[iD,"intervention"],iD)&&Y.push(new t1(function(e){return nu(t,document,S.SECURITY_POLICY_VIOLATION,function(t){var n;e.notify((n="'".concat(t.blockedURI,"' blocked by '").concat(t.effectiveDirective,"' directive"),{type:iD,subtype:t.effectiveDirective,message:"".concat(iD,": ").concat(n),stack:ij(t.effectiveDirective,t.originalPolicy?"".concat(n,' of the policy "').concat(n3(t.originalPolicy,100,"..."),'"'):"no policy",t.sourceFile,t.lineNumber,t.columnNumber),originalReport:t}))}).stop})),(X=J.filter(function(e){return e!==iD})).length&&Y.push(new t1(function(e){if(window.ReportingObserver){var t=tC(function(t,n){return t.forEach(function(t){var n,r;e.notify({type:n=t.type,subtype:(r=t.body).id,message:"".concat(n,": ").concat(r.message),originalReport:t,stack:ij(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)})})}),n=new window.ReportingObserver(t,{types:X,buffered:!0});return n.observe(),function(){n.disconnect()}}})),t2.apply(void 0,Y)).subscribe(function(e){var t={startClocks:na(),message:e.message,stack:e.stack,type:e.subtype,source:rX.REPORT,handling:"unhandled",originalError:e.originalReport};return"securitypolicyviolation"===e.originalReport.type&&(t.csp={disposition:e.originalReport.disposition}),$.notify(t)}),$.subscribe(function(e){return er.notify(14,{error:e})}),er.subscribe(14,function(e){var t,n,r=e.error,i=e.customerContext,o=e.savedCommonContext;er.notify(12,tO({customerContext:i,savedCommonContext:o},(t={date:r.startClocks.timeStamp,error:{id:n0(),message:r.message,source:r.source,stack:r.stack,handling_stack:r.handlingStack,type:r.type,handling:r.handling,causes:r.causes,source_type:"browser",fingerprint:r.fingerprint,csp:r.csp},type:"error",view:{in_foreground:eC.wasInPageStateAt("active",r.startClocks.relative)}},(n=es.findFeatureFlagEvaluations(r.startClocks.relative))&&!tG(n)&&(t.feature_flags=n),{rawRumEvent:t,startTime:r.startClocks.relative,domainContext:{error:r.originalError}})))}),{addError:function(e,t){var n=e.error,r=e.handlingStack,i=e.startClocks,o=e.context,s=nT({stackTrace:n instanceof Error?nm(n):void 0,originalError:n,handlingStack:r,startClocks:i,nonErrorPrefix:"Provided",source:rX.CUSTOM,handling:"handled"});er.notify(14,{customerContext:o,savedCommonContext:t,error:s})}}).addError;Q={clearTracingIfNeeded:rx,traceFetch:function(e){return rk(t,e,ec,function(t){var n;if(e.input instanceof Request&&!(null===(n=e.init)||void 0===n?void 0:n.headers))e.input=new Request(e.input),Object.keys(t).forEach(function(n){e.input.headers.append(n,t[n])});else{e.init=tq(e.init);var r=[];e.init.headers instanceof Headers?e.init.headers.forEach(function(e,t){r.push([t,e])}):Array.isArray(e.init.headers)?e.init.headers.forEach(function(e){r.push(e)}):e.init.headers&&Object.keys(e.init.headers).forEach(function(t){r.push([t,e.init.headers[t]])}),e.init.headers=r.concat(tI(t))}})},traceXhr:function(e,n){return rk(t,e,ec,function(e){Object.keys(e).forEach(function(t){n.setRequestHeader(t,e[t])})})}},function(e,t,n){(L||(L=new t1(function(e){var n=r8(XMLHttpRequest.prototype,"open",ie).stop,r=r8(XMLHttpRequest.prototype,"send",function(n){(function(e,t,n){var r=e.target,i=r9.get(r);if(i){i.state="start",i.startClocks=na(),i.isAborted=!1,i.xhr=r;var o=!1,s=r8(r,"onreadystatechange",function(){r.readyState===XMLHttpRequest.DONE&&a()}).stop,a=function(){var e;l(),s(),o||(o=!0,i.state="complete",i.duration=(e=i.startClocks.timeStamp,no()-e),i.status=r.status,n.notify(tq(i)))},l=nu(t,r,"loadend",a).stop;n.notify(i)}})(n,t,e)}).stop,i=r8(XMLHttpRequest.prototype,"abort",it).stop;return function(){n(),r(),i()}})),L).subscribe(function(r){if(rD(t,r.url))switch(r.state){case"start":n.traceXhr(r,r.xhr),r.requestIndex=ii(),e.notify(7,{requestIndex:r.requestIndex,url:r.url});break;case"complete":n.clearTracingIfNeeded(r),e.notify(8,{duration:r.duration,method:r.method,requestIndex:r.requestIndex,spanId:r.spanId,startClocks:r.startClocks,status:r.status,traceId:r.traceId,traceSampled:r.traceSampled,type:"xhr",url:r.url,xhr:r.xhr,isAborted:r.isAborted})}})}(er,t,Q),(M||(M=new t1(function(e){if(window.fetch)return r8(window,"fetch",function(t){var n,r,i,o,s,a,l,c;return n=t.parameters,r=t.onPostCall,i=n[0],void 0===(s=(o=n[1])&&o.method)&&i instanceof Request&&(s=i.method),a=void 0!==s?String(s).toUpperCase():"GET",l=i instanceof Request?i.url:rp(String(i)),c={state:"start",init:o,input:i,method:a,startClocks:na(),url:l},void(e.notify(c),n[0]=c.input,n[1]=c.init,r(function(t){return function(e,t,n){var r=function(t){n.state="resolve","stack"in t||t instanceof Error?(n.status=0,n.isAborted=t instanceof DOMException&&t.code===DOMException.ABORT_ERR,n.error=t):"status"in t&&(n.response=t,n.responseType=t.type,n.status=t.status,n.isAborted=!1),e.notify(n)};t.then(tC(r),tC(r))}(e,t,c)}))}).stop})),M).subscribe(function(e){if(rD(t,e.url))switch(e.state){case"start":Q.traceFetch(e),e.requestIndex=ii(),er.notify(7,{requestIndex:e.requestIndex,url:e.url});break;case"resolve":var n,r,i;n=function(t){Q.clearTracingIfNeeded(e),er.notify(8,{duration:t,method:e.method,requestIndex:e.requestIndex,responseType:e.responseType,spanId:e.spanId,startClocks:e.startClocks,status:e.status,traceId:e.traceId,traceSampled:e.traceSampled,type:"fetch",url:e.url,response:e.response,init:e.init,input:e.input,isAborted:e.isAborted})},(i=e.response&&function(e){try{return e.clone()}catch(e){return}}(e.response))&&i.body?function(e,t,n){var r=e.getReader(),i=[],o=0;function s(){if(r.cancel().catch(tB),n.collectStreamBody){if(1===i.length)a=i[0];else{a=new Uint8Array(o);var e,s,a,l=0;i.forEach(function(e){a.set(e,l),l+=e.length})}e=a.slice(0,n.bytesLimit),s=a.length>n.bytesLimit}t(void 0,e,s)}(function e(){r.read().then(tC(function(t){if(t.done){s();return}n.collectStreamBody&&i.push(t.value),(o+=t.value.length)>n.bytesLimit?s():e()}),tC(function(e){return t(e)}))})()}(i.body,function(){var t;n((t=e.startClocks.timeStamp,no()-t))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):n((r=e.startClocks.timeStamp,no()-r))}});var eA=function(e,t){var n,r=[];if(n=function(n){rY(e,t,[n])},rR(t,"interactive",function(){var e,t={entryType:A.RESOURCE,initiatorType:rO,traceId:function(e){var t,n,r=(t=e.querySelector("meta[name=dd-trace-id]"),n=e.querySelector("meta[name=dd-trace-time]"),rG(t&&t.content,n&&n.content)||function(e){var t=function(e){for(var t=0;t<e.childNodes.length;t+=1){var n=rW(e.childNodes[t]);if(n)return n}if(e.body)for(var t=e.body.childNodes.length-1;t>=0;t-=1){var r=e.body.childNodes[t],n=rW(r);if(n)return n;if(!rV(r))break}}(e);if(t)return rG(n2(t,"trace-id"),n2(t,"trace-time"))}(e));if(!(!r||r.traceTime<=ni()-12e4))return r.traceId}(document),toJSON:function(){return tO({},e,{toJSON:void 0})}};if(rZ(A.NAVIGATION)&&performance.getEntriesByType(A.NAVIGATION).length>0)e=tO(performance.getEntriesByType(A.NAVIGATION)[0].toJSON(),t);else{var r=rJ();e=tO(r,{decodedBodySize:0,encodedBodySize:0,transferSize:0,renderBlockingStatus:"non-blocking",duration:r.responseEnd,name:window.location.href,startTime:0},t)}n(e)}),r$()){var i=performance.getEntries();tD(function(){return rY(e,t,i)})}if(window.PerformanceObserver){var o=tC(function(n){return rY(e,t,n.getEntries())}),s=[A.RESOURCE,A.NAVIGATION,A.LONG_TASK,A.PAINT],a=[A.LARGEST_CONTENTFUL_PAINT,A.FIRST_INPUT,A.LAYOUT_SHIFT,A.EVENT];try{a.forEach(function(e){var t=new window.PerformanceObserver(o);t.observe({type:e,buffered:!0,durationThreshold:40}),r.push(function(){return t.disconnect()})})}catch(e){s.push.apply(s,a)}var l=new PerformanceObserver(o);if(l.observe({entryTypes:s}),r.push(function(){return l.disconnect()}),r$()&&"addEventListener"in performance){var c=nu(t,performance,"resourcetimingbufferfull",function(){performance.clearResourceTimings()}).stop;r.push(c)}}if(rZ(A.NAVIGATION)||function(e,t){function n(){t(tO(rJ(),{entryType:A.NAVIGATION}))}rR(e,"complete",function(){tD(n)})}(t,function(n){rY(e,t,[n])}),!rZ(A.FIRST_INPUT)){var u=function(e,t){var n=ni(),r=!1,i=nd(e,window,[S.CLICK,S.MOUSE_DOWN,S.KEY_DOWN,S.TOUCH_START,S.POINTER_DOWN],function(t){if(t.cancelable){var n={entryType:A.FIRST_INPUT,processingStart:ns(),processingEnd:ns(),startTime:t.timeStamp,duration:0,name:""};t.type===S.POINTER_DOWN?nd(e,window,[S.POINTER_UP,S.POINTER_CANCEL],function(e){e.type===S.POINTER_UP&&o(n)},{once:!0}):o(n)}},{passive:!0,capture:!0}).stop;return{stop:i};function o(e){if(!r){r=!0,i();var o=e.processingStart-e.startTime;o>=0&&o<ni()-n&&t(e)}}}(t,function(n){rY(e,t,[n])}).stop;r.push(u)}return{stop:function(){r.forEach(function(e){return e()})}}}(er,t).stop;en.push(eA);var eN=(ee=new Map,er.subscribe(10,function(){ee.clear()}),{startDurationVital:function(e){ee.set(e.name,e)},stopDurationVital:function(e){var t=ee.get(e.name);if(t){var n,r,i={name:t.name,type:"duration",startClocks:t.startClocks,value:(n=t.startClocks.timeStamp,e.stopClocks.timeStamp-n),context:tY(t.context,e.context)};ee.delete(i.name),!eC.wasInPageStateDuringPeriod("frozen",i.startClocks.relative,i.value)&&er.notify(12,{rawRumEvent:{date:i.startClocks.timeStamp,vital:{id:n0(),type:i.type,name:i.name,custom:((r={})[i.name]=i.value,r)},type:"vital"},startTime:i.startClocks.relative,customerContext:i.context,domainContext:{}})}}}),eL=(et=t.applicationId,{get:function(e){var t=e_.findView(e),n=ex.findUrl(e),r=ec.findTrackedSession(e);if(r&&t&&n){var i=ek.findActionId(e);return{application_id:et,session_id:r.id,user_action:i?{id:i}:void 0,view:{id:t.id,name:t.name,referrer:n.referrer,url:n.url}}}}});return{addAction:eS,addError:eO,addTiming:eP,addFeatureFlagEvaluation:es.addFeatureFlagEvaluation,startView:eI,lifeCycle:er,viewContexts:e_,session:ec,stopSession:function(){return ec.expire()},getInternalContext:eL.get,startDurationVital:eN.startDurationVital,stopDurationVital:eN.stopDurationVital,stop:function(){en.forEach(function(e){return e()})}}},function(e,t){if(nQ()&&!nX("records")||!o4())return{start:tB,stop:tB,getReplayStats:function(){},onRumStart:tB,isRecording:function(){return!1},getSessionReplayLink:function(){}};var n={status:1},r=function(){n={status:1}},i=function(){n={status:0}},o=tB;return{start:function(){return r()},stop:function(){return i()},getSessionReplayLink:function(){return o()},onRumStart:function(t,s,a,l,c){var u;s.startSessionReplayRecordingManually&&(n={status:0}),t.subscribe(9,function(){(2===n.status||3===n.status)&&(i(),n={status:1})}),t.subscribe(11,function(e){(e.reason===rP.UNLOADING||e.reason===rP.PAGEHIDE)&&i()}),t.subscribe(10,function(){1===n.status&&r()}),r=function(){var r=a.findTrackedSession();if(!r||!r.sessionReplayAllowed){n={status:1};return}2!==n.status&&3!==n.status&&(n={status:2},rR(s,"interactive",function(){if(2===n.status){var r=(!u&&(c||(c=o7(s,"Datadog Session Replay",function(){i()},void 0)),c&&(u=o5(s,c,1))),u);if(!r){n={status:0};return}n={status:3,stopRecording:e(t,s,a,l,r).stop}}}))},i=function(){0!==n.status&&(3===n.status&&n.stopRecording(),n={status:0})},o=function(){var e,t,r,i,o,c,u,d,h,p,f,m,g;return e=0!==n.status,f=t=a.findTrackedSession(),r=o4()?f?f.sessionReplayAllowed?e?void 0:"replay-not-started":"incorrect-session-plan":"rum-not-tracked":"browser-not-supported",o=(i={viewContext:l.findView(),errorType:r,session:t}).session,c=i.viewContext,u=i.errorType,d=o?o.id:"no-session-id",h=[],void 0!==u&&h.push("error-type=".concat(u)),c&&(h.push("seed=".concat(c.id)),h.push("from=".concat(c.startClocks.timeStamp))),m=s.site,g=s.subdomain||function(e){switch(e.site){case nL:case"datadoghq.eu":return"app";case nN:return"dd";default:return}}(s),p="https://".concat(g?"".concat(g,"."):"").concat(m),"".concat(p).concat("/rum/replay/sessions/".concat(d),"?").concat(h.join("&"))},1===n.status&&r()},isRecording:function(){return 3===o8.status&&3===n.status},getReplayStats:function(e){return 3===o8.status?null==K?void 0:K.get(e):void 0}}}(function(e,t,n,r,i,o){var s,a=[],l=o||i7(t,t.sessionReplayEndpointBuilder,6e4,function(t){e.notify(14,{error:t}),nH("Error reported to customer",{"error.message":t.message})});if(nQ())s=(c=nY(),{addRecord:function(e){var t=r.findView();c.send("record",e,t.id)}}).addRecord;else{var c,u=function(e,t,n,r){var i={status:0,nextSegmentCreationReason:"init"},o=e.subscribe(3,function(){a("view_change")}).unsubscribe,s=e.subscribe(11,function(e){a(e.reason)}).unsubscribe;function a(e){1===i.status&&(i.segment.flush(function(t,r){var i,o,s,a,l=(i=r.output,o=r.rawBytesCount,(s=new FormData).append("segment",new Blob([i],{type:"application/octet-stream"}),"".concat(t.session.id,"-").concat(t.start)),a=JSON.stringify(tO({raw_segment_size:o,compressed_segment_size:i.byteLength},t)),s.append("event",new Blob([a],{type:"application/json"})),{data:s,bytesCount:i.byteLength});tS(tP(rP),e)?n.sendOnExit(l):n.send(l)}),tj(i.expirationTimeoutId)),i="stop"!==e?{status:0,nextSegmentCreationReason:e}:{status:2}}return{addRecord:function(e){if(2!==i.status){if(0===i.status){var n=t();if(!n)return;i={status:1,segment:new o3(r,n,i.nextSegmentCreationReason),expirationTimeoutId:tD(function(){a("segment_duration_limit")},3e4)}}i.segment.addRecord(e,function(e){e>6e4&&a("segment_bytes_limit")})}},stop:function(){a("stop"),o(),s()}}}(e,function(){return function(e,t,n){var r=t.findTrackedSession(),i=n.findView();if(r&&i)return{application:{id:e},session:{id:r.id},view:{id:i.id}}}(t.applicationId,n,r)},l,i);s=u.addRecord,a.push(u.stop)}var d=function(e){var t,n,r,i,o,s,a,l,c,u,d,h,p,f=e.emit,m=e.configuration,g=e.lifeCycle;if(!f)throw Error("emit function is required");var v=function(t){var n;f(t),nD("record",{record:t}),n=e.viewContexts.findView().id,ou(n).records_count+=1},y=(t=new WeakMap,{set:function(e,n){(e!==document||document.scrollingElement)&&t.set(e===document?document.scrollingElement:e,n)},get:function(e){return t.get(e)},has:function(e){return t.has(e)}}),b=o2(m,v,y),w=(n=_,(r=function(e){return e.forEach(function(e){return v(e)})})((i=function(e,t){void 0===e&&(e=no()),void 0===t&&(t={status:0,elementsScrollPositions:y,shadowRootsController:b});var n,r=iX(),i=r.width,o=[{data:{height:r.height,href:window.location.href,width:i},type:oA.Meta,timestamp:e},{data:{has_focus:document.hasFocus()},type:oA.Focus,timestamp:e},{data:{node:oz(document,{serializationContext:t,parentNodePrivacyLevel:m.defaultPrivacyLevel,configuration:m}),initialOffset:{left:iZ(),top:iJ()}},type:oA.FullSnapshot,timestamp:e}];return window.visualViewport&&o.push({data:{scale:(n=window.visualViewport).scale,offsetLeft:n.offsetLeft,offsetTop:n.offsetTop,pageLeft:n.pageLeft,pageTop:n.pageTop,height:n.height,width:n.width},type:oA.VisualViewport,timestamp:e}),o})()),{stop:g.subscribe(3,function(e){n(),r(i(e.startClocks.timeStamp,{shadowRootsController:b,status:1,elementsScrollPositions:y}))}).unsubscribe}).stop;function _(){b.flush(),x.flush()}var C=(o=new WeakMap,s=1,{getIdForEvent:function(e){return o.has(e)||o.set(e,s++),o.get(e)}}),x=o1(v,m,b,document),k=[x,(l=(a=tV(function(e){var t=oG(e);if(ox(t)){var n=oZ(e);if(!n)return;var r={id:ok(t),timeOffset:0,x:n.x,y:n.y};v(o$(oK(e)?oL.TouchMove:oL.MouseMove,{positions:[r]}))}},50,{trailing:!1})).throttled,c=a.cancel,u=nd(m,document,[S.MOUSE_MOVE,S.TOUCH_MOVE],l,{capture:!0,passive:!0}).stop,{stop:function(){u(),c()}}),nd(m,document,Object.keys(oJ),function(e){var t,n=oG(e);if(og(n,m.defaultPrivacyLevel)!==od.HIDDEN&&ox(n)){var r=ok(n),i=oJ[e.type];if(i!==oM.Blur&&i!==oM.Focus){var o=oZ(e);if(!o)return;t={id:r,type:i,x:o.x,y:o.y}}else t={id:r,type:i};v(tO({id:C.getIdForEvent(e)},o$(oL.MouseInteraction,t)))}},{capture:!0,passive:!0}),oY(m,v,y,document),oX(m,v),o0(m,v),nd(m,document,[S.PLAY,S.PAUSE],function(e){var t=oG(e);t&&og(t,m.defaultPrivacyLevel)!==od.HIDDEN&&ox(t)&&v(o$(oL.MediaInteraction,{id:ok(t),type:e.type===S.PLAY?oD.Play:oD.Pause}))},{capture:!0,passive:!0}),function(e){function t(e,t){e&&ox(e.ownerNode)&&t(ok(e.ownerNode))}var n=[r8(CSSStyleSheet.prototype,"insertRule",function(n){var r=n.target,i=n.parameters,o=i[0],s=i[1];t(r,function(t){return e(o$(oL.StyleSheetRule,{id:t,adds:[{rule:o,index:s}]}))})}),r8(CSSStyleSheet.prototype,"deleteRule",function(n){var r=n.target,i=n.parameters[0];t(r,function(t){return e(o$(oL.StyleSheetRule,{id:t,removes:[{index:i}]}))})})];function r(r){n.push(r8(r.prototype,"insertRule",function(n){var r=n.target,i=n.parameters,o=i[0],s=i[1];t(r.parentStyleSheet,function(t){var n=oQ(r);n&&(n.push(s||0),e(o$(oL.StyleSheetRule,{id:t,adds:[{rule:o,index:n}]})))})}),r8(r.prototype,"deleteRule",function(n){var r=n.target,i=n.parameters[0];t(r.parentStyleSheet,function(t){var n=oQ(r);n&&(n.push(i),e(o$(oL.StyleSheetRule,{id:t,removes:[{index:n}]})))})}))}return"undefined"!=typeof CSSGroupingRule?r(CSSGroupingRule):(r(CSSMediaRule),r(CSSSupportsRule)),{stop:function(){n.forEach(function(e){return e.stop()})}}}(v),nd(m,window,[S.FOCUS,S.BLUR],function(){v({data:{has_focus:document.hasFocus()},type:oA.Focus,timestamp:no()})}),oX(m,v),(d=g.subscribe(12,function(e){var t,n,r;"action"===e.rawRumEvent.type&&"click"===e.rawRumEvent.action.type&&(null===(n=null===(t=e.rawRumEvent.action.frustration)||void 0===t?void 0:t.type)||void 0===n?void 0:n.length)&&"events"in e.domainContext&&(null===(r=e.domainContext.events)||void 0===r?void 0:r.length)&&v({timestamp:e.rawRumEvent.date,type:oA.FrustrationRecord,data:{frustrationTypes:e.rawRumEvent.action.frustration.type,recordIds:e.domainContext.events.map(function(e){return C.getIdForEvent(e)})}})}),{stop:function(){d.unsubscribe()}}),(h=function(e){_(),v(e)},p=g.subscribe(5,function(){h({timestamp:no(),type:oA.ViewEnd})}),{stop:function(){p.unsubscribe()}})];return{stop:function(){b.stop(),k.forEach(function(e){return e.stop()}),w()},flushMutations:_,shadowRootsController:b}}({emit:s,configuration:t,lifeCycle:e,viewContexts:r}).stop;return a.push(d),{stop:function(){a.forEach(function(e){return e()})}}}),{startDeflateWorker:o7,createDeflateEncoder:o5});f=(h=tA())[p="DD_RUM"],h[p]=se,f&&f.q&&f.q.forEach(function(e){return ty(e,"onReady callback threw an error:")()});var st=n(48364);function sn(e){let{children:t}=e,{user:n}=(0,ex.a)(),r=(0,ed.useContext)(ea.$),i=(0,td.E)();return(0,ed.useEffect)(()=>{if(i){let e=to.Z.get(eD.sw);e&&(eI.wd.value=e)}},[i]),(0,ed.useEffect)(()=>{var e,t,i,o;if(eI.zx.value)return;tc.w.initAmplitude(r).then(()=>tc.w.updateAmplitudeIdentify(n));let s=null==n?void 0:null===(t=n.user)||void 0===t?void 0:null===(e=t.id)||void 0===e?void 0:e.toString();if((0,st.az)(n),s){(0,tu.Zl)(s);try{se.setUser({id:s,name:null==n?void 0:n.name,email:null==n?void 0:n.email,plan:null==n?void 0:null===(o=n.user)||void 0===o?void 0:null===(i=o.subscription)||void 0===i?void 0:i.type,interactions:null==n?void 0:n.num_interactions})}catch(e){(0,th.nC)("Failed to append user property to datadog")}}},[r,n]),(0,ee.jsx)(ee.Fragment,{children:t})}var sr=n(50567),si=n(68159),so=n(21236),ss=n(9010),sa=n(93326),sl=n(3927),sc=n(55264),su=n(91503),sd=n(13789),sh=n(99248),sp=n(76330);function sf(){let{t:e}=(0,eh.$G)(),t=(0,eu.useRouter)(),n=(0,sd.NL)(),i=(0,eA.BF)(eI.nj),o=(0,eA.BF)(eI.Ek),[s,a]=(0,ed.useState)(!1),[l,c]=(0,ed.useState)("none"),u=(0,ed.useCallback)(()=>{(null==o?void 0:o.characterId)&&(null==o?void 0:o.historyId)&&(clearTimeout(r),n.invalidateQueries([su.S_.history(o.characterId)]),t.push(sc.nN.chat(null==o?void 0:o.characterId,"hist=".concat(null==o?void 0:o.historyId))),eI.Ek.value=null,eI.nj.value=!1,c("none"),a(!1))},[null==o?void 0:o.characterId,null==o?void 0:o.historyId,n,t]),d=(0,ed.useCallback)(()=>{o&&(so.iN.elementClicked({referrer:"ChatHistoryItem",character_id:o.characterId,chatId:o.historyId,action:"legacy_migration_started"}),c("pending"),(0,eb.od)()({url:"/migration/".concat(o.historyId),baseURL:(0,ew.tU)(),method:"post"}).catch(()=>{a(!0)}).then(()=>{c("requested")}).catch(()=>{a(!0)}))},[o]),h=(0,ed.useCallback)(()=>{(0,eb.od)()({url:"migration/".concat(null==o?void 0:o.historyId),baseURL:(0,ew.tU)(),method:"get"}).then(e=>{var t;(null===(t=e.data.migration)||void 0===t?void 0:t.status)==="STATUS_SUCCESS"&&u()}).catch(()=>{a(!0)})},[null==o?void 0:o.historyId,u]);return(0,ed.useEffect)(()=>{"requested"===l&&(null==o?void 0:o.historyId)&&(c("pending"),r=setInterval(()=>{h()},5e3),h()),"success"===l&&(null==o?void 0:o.characterId)&&(eI.nj.value=!1,u()),s&&((null==o?void 0:o.characterId)&&n.invalidateQueries([su.S_.history(o.characterId)]),clearInterval(r))},[l,o,s,h,n,u]),(0,ee.jsx)(sl.Vq,{open:i,onOpenChange:e=>{eI.nj.value=e,e||(eI.Ek.value=null,c("none"),a(!1),clearInterval(r))},children:(0,ee.jsxs)(sl.cZ,{className:"bg-surface-elevation-2 border-none gap-6 flex-auto flex flex-col justify-between items-center max-w-dvw sm:max-w-xl w-full",children:[(0,ee.jsx)(sh.$N,{className:"text-display",children:(0,ee.jsx)(sp.ceS,{height:"4em",width:"4m"})}),s?(0,ee.jsx)("p",{children:e("Common.something-went-wrong-please-try-again-later")}):(0,ee.jsxs)(ee.Fragment,{children:["requested"===l&&(0,ee.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[e("legacy.migrate-confirmation"),(0,ee.jsx)(ss.$,{})]}),"pending"===l&&(0,ee.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[e("legacy.migrate-starting"),(0,ee.jsx)(ss.$,{})]}),"none"===l&&!!o&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("p",{children:e("legacy.migrate-body")}),(0,ee.jsx)(sa.zx,{onPress:d,children:e("legacy.migrate-action")}),(0,ee.jsx)("p",{children:e("legacy.migrate-note")})]})]})]})})}(m=W||(W={})).none="none",m.requested="requested",m.pending="pending",m.success="success";var sm=n(8066),sg=n(92599),sv={src:"/_next/static/media/dark-gradient.f1e4ecf4.png"},sy={src:"/_next/static/media/light-gradient.55321cac.jpg"},sb="/_next/static/media/mobile-signup-iphone-2@2x.c3b7610a.png",sw=n(79298);let s_=()=>{let{sentEmail:e,handleContinue:t}=(0,ev._w)(),n=(0,eA.BF)(eI.f8),r=(0,eA.BF)(eI.MX),{t:i}=(0,eh.$G)(),o=!!r&&"signin"!==n;return(0,ee.jsxs)(ee.Fragment,{children:[!!o&&(0,ee.jsxs)("div",{className:"text-center p-4",children:[i("SignInDialog.invite-code")," ",r]}),(0,ee.jsx)(sm._D,{handleContinue:t,sentEmail:e,continueAlwaysShown:!o,largeButton:!0})]})};function sC(){let e=(0,eA.BF)(eI.Ib),t=(0,eT.Dv)(),n=(0,eP.G)(),r=(0,eA.BF)(eI.f8),i=(0,eA.BF)(eI.MX),{t:o}=(0,eh.$G)(),s=!!i&&"signin"!==r;return(0,ee.jsxs)(ee.Fragment,{children:[!!e&&(0,ee.jsx)("div",{className:"fixed inset-0 z-50 bg-scrim w-full h-full"}),(0,ee.jsx)(sl.Vq,{open:e,onOpenChange:e=>{eI.Ib.value=e},children:(0,ee.jsxs)(sl.cZ,{hideClose:!0,className:(0,eR.cn)("bg-surface-elevation-2 border-none bg-cover bg-center",{"w-full h-full":t}),style:{backgroundImage:"url('".concat((n?sv:sy).src,"')")},children:[(0,ee.jsx)(sl.gC,{className:"absolute right-8 top-8"}),(0,ee.jsxs)("div",{className:"flex flex-row",children:[(0,ee.jsx)("div",{className:(0,eR.cn)({hidden:t,"w-[250px] h-[519px] grow-1":!t,"mr-[60px]":!t,"ml-7":!t}),style:{background:"url('".concat(sb,"')"),backgroundSize:"contain"}}),(0,ee.jsx)("div",{className:"flex flex-1 items-center justify-self-center",children:(0,ee.jsxs)("div",{className:(0,eR.cn)("bg-surface py-8 px-6 rounded-3xl flex flex-1 flex-col",{"w-[auto]":t,"w-[404px]":!t,"mt-12":!1}),children:[(0,ee.jsxs)("div",{className:"mb-4 flex-1",children:[("signup"===r||void 0===r)&&(0,ee.jsx)("div",{className:"text-center text-lg-medium self-stretch break-words",children:o("SignUpDialog.heading-1")}),"signin"===r&&(0,ee.jsx)("div",{className:"text-center text-lg-medium self-stretch break-words w-full pb-2",children:o("Common.sign-in")})]}),!!s&&(0,ee.jsxs)("div",{className:"text-center p-1",children:[o("SignInDialog.invite-code")," ",i]}),(0,ee.jsx)("div",{className:"flex-1 self-center pb-4 w-full",children:(0,ee.jsx)(sm.ZP,{variant:"signup-consolidation-experiment"})}),(0,ee.jsx)("div",{className:"flex-1 self-center px-8",children:"signin"!==r&&(0,ee.jsx)(sw.R,{size:"text-xs/5"})})]})})]})]})})]})}function sx(){let e=(0,eA.BF)(eI.Ib),t=(0,eT.Dv)(),n=(0,eP.G)(),r=(0,eA.BF)(eI.f8),i=(0,eA.BF)(eI.MX),{t:o}=(0,eh.$G)(),[s,a]=(0,ed.useState)(!1),l=!!i&&"signin"!==r,c=(0,ed.useCallback)(()=>{a(!0)},[]),u=(0,ed.useCallback)(()=>{a(!1)},[]);return(0,ee.jsxs)(ee.Fragment,{children:[!!e&&(0,ee.jsx)("div",{className:"fixed inset-0 z-50 bg-scrim w-full h-full"}),(0,ee.jsx)(sl.Vq,{open:e,onOpenChange:e=>{eI.Ib.value=e},children:(0,ee.jsxs)(sl.cZ,{hideClose:!0,className:(0,eR.cn)("bg-surface-elevation-2 border-none bg-cover bg-center",{"w-full h-full":t}),style:{backgroundImage:"url('".concat((n?sv:sy).src,"')")},children:[(0,ee.jsx)(sl.gC,{className:"absolute right-8 top-8"}),!!s&&(0,ee.jsx)("button",{type:"button","aria-label":o("Common.back"),className:"absolute top-6 left-4 opacity-70",onClick:u,children:(0,ee.jsx)(sg.bfG,{height:"2rem"})}),(0,ee.jsxs)("div",{className:"flex flex-row",children:[(0,ee.jsx)("div",{className:(0,eR.cn)({hidden:t||s,"w-[250px] h-[519px] grow-1":!(t||s),"mr-[60px]":!(t||s),"ml-7":!(t||s)}),style:{background:"url('".concat(sb,"')"),backgroundSize:"contain"}}),(0,ee.jsx)("div",{className:"flex flex-1 items-center justify-self-center",children:(0,ee.jsxs)("div",{className:(0,eR.cn)("bg-surface py-8 px-6 rounded-3xl flex flex-1 flex-col",{"w-[auto]":t,"w-[404px]":!t,"mt-12":s}),children:[(0,ee.jsxs)("div",{className:"mb-4 flex-1",children:[("signup"===r||void 0===r)&&(0,ee.jsx)("div",{className:"text-center text-lg-medium self-stretch break-words",children:o("SignUpDialog.heading-1")}),"signin"===r&&(0,ee.jsx)("div",{className:"text-center text-lg-medium self-stretch break-words w-full",children:o("Common.sign-in")})]}),s?(0,ee.jsx)(s_,{}):(0,ee.jsxs)(ee.Fragment,{children:[!!l&&(0,ee.jsxs)("div",{className:"text-center p-4",children:[o("SignInDialog.invite-code")," ",i]}),(0,ee.jsx)("div",{className:"flex-1 self-center pb-4 w-full",children:(0,ee.jsx)(sm.ZP,{variant:"email-button",onPressEmailContinue:c})}),(0,ee.jsx)("div",{className:"flex-1 self-center px-8",children:"signin"!==r&&(0,ee.jsx)(sw.R,{size:"text-xs/5"})})]})]})})]})]})})]})}var sk=n(67115);function sS(e){let{country:t}=e,n=(0,sc.oE)(t),r=(0,st.cf)(n),[i,o]=(0,ed.useState)(n&&["unset","not_applicable"].includes(r)),{t:s}=(0,eh.$G)();(0,ed.useEffect)(()=>{(0,st.RJ)(n)},[n]);let a=e=>{(0,st.jh)(e),"accept_all"===e&&((0,tu.M0)(!0),(0,sk.mm)(!0)),so.iN.elementClicked({referrer:"CookieConsent",value:e}),o(!1)};return i?(0,ee.jsxs)("div",{className:"fixed inset-x-0 bottom-0 md:absolute md:bottom-16 md:right-4 md:left-auto w-full md:max-w-64 shadow-sm bg-surface-elevation-3 p-4 rounded-spacing-xs text-sm z-50",children:[(0,ee.jsx)("p",{children:s("CookieConsent.header-text")}),(0,ee.jsx)("br",{}),(0,ee.jsx)("p",{children:s("CookieConsent.subtext")}),(0,ee.jsxs)("div",{className:"flex gap-2 mt-2 w-full",children:[(0,ee.jsx)(sa.zx,{className:"w-full",variant:"ghost",onPress:()=>{a("reject_all")},children:s("CookieConsent.reject-all")}),(0,ee.jsx)(sa.zx,{className:"bg-surface-elevation-2 w-full",variant:"ghost",onPress:()=>{a("accept_all")},children:s("CookieConsent.accept-all")})]})]}):null}var sE=n(50090),sT=n(67899),sP=n(93033),sI=n(38694),sR=n(80771),sO=n(37940);let sA=()=>{let[e,t]=(0,ed.useState)("");return(0,ed.useEffect)(()=>{t(window.location.origin)},[]),e};function sN(){var e,t,n;let{t:r}=(0,eh.$G)(),i=(0,eA.BF)(eI.vV),o=sA(),s=(0,ex.a)(),a=(0,sR.Vt)(null==s?void 0:null===(e=s.user)||void 0===e?void 0:e.user),l=(0,sP.Fl)(),c=!!(null==l?void 0:null===(n=l.settings)||void 0===n?void 0:null===(t=n.discord)||void 0===t?void 0:t.userId),u=c?sI.Vt:sI.k5,d=(0,ed.useMemo)(()=>c?r("Socials.discord-account-already-linked"):a?r("Socials.plus-discord-invite-description"):r("Socials.discord-regular-invite-description"),[c,a,r]),h=(0,ed.useCallback)(async()=>{try{let e=await (0,sT.vO)(o,eM.k.NEXT_PUBLIC_DISCORD_CLIENT_ID);so.iN.linkOpened({referrer:"DiscordJoinDialog",link:e,discordLinked:c}),window.location.href=e}catch(e){(0,st.H)("Failed to get Discord auth url",{error:e}),(0,el.K)(r("Socials.discord-linking-error"),2e4,"destructive")}},[r,o,c]);return o?(0,ee.jsxs)(sl.Vq,{open:i,onOpenChange:e=>{eI.vV.value=e},children:[(0,ee.jsx)(sl.t9,{className:"backdrop-blur-none"}),(0,ee.jsx)(sl.cZ,{className:"max-w-96 p-8 border-none",children:(0,ee.jsxs)("div",{className:"flex flex-col gap-6 items-center",children:[(0,ee.jsx)("div",{className:"rounded-full bg-[#5865F233] w-fit p-4",children:(0,ee.jsx)(sO.KpZ,{color:"#5865F2",size:"3rem"})}),(0,ee.jsx)("div",{className:"text-center text-display",children:a&&!c?r("Socials.plus-discord-invite-title"):r("Socials.regular-discord-invite-title")}),(0,ee.jsx)("div",{className:"text-muted-foreground text-center",children:d}),(0,ee.jsxs)("div",{className:"flex gap-4 mt-12",children:[(0,ee.jsx)(sE.Z,{href:u,target:"_blank",analytics:{name:"linkOpened",properties:{referrer:"DiscordCTA",link:u}},children:(0,ee.jsx)(sa.zx,{variant:c?"primary":"ghost",children:c?r("Socials.open-discord"):r("Settings.link-discord")})}),(0,ee.jsx)(sa.zx,{variant:c?"ghost":"primary",onPress:h,children:c?r("Socials.relink-discord"):r("Socials.link-account-and-join")})]})]})})]}):null}var sL=n(27714),sM=n(46086),sD=n(95856),sj=n(87790);let sU=e=>{let{avatars:t,size:n}=e;return(0,ee.jsx)("div",{className:"flex",children:t.slice(0,2).map((e,t)=>(0,ee.jsx)(sD.B7,{src:e.avatar_url,size:n||32,name:e.name,style:{transform:"translate(".concat(t*(n||32)*.15625,"px, ").concat(t*(n||32)*.15625,"px)"),zIndex:t},className:(0,eR.cn)("shrink-0 grow-0",{"border-1 border-accent":0===t,absolute:t>0})},"avatar".concat(t)))})};var sF=n(20808),sV=n(6669),sB=n(40022),sz=n(46272),sH=n(5634),sq=n(83614),sK=n(75257),sG=n(81364);function sW(e){let{placeholder:t,className:n,containerClassName:r,inputClassName:i,recentCharacters:o,showRecents:s=!1,resultContainerStyle:a,onSelect:l,disableReturnToSearch:c=!1,optionalFilter:u=()=>!0}=e,d=(0,ed.useRef)(null);(0,sK.Z)(d,()=>{P(!1)});let{t:h}=(0,eh.$G)(),p=(0,sq.useGateValue)(sr.F5.NRTSearchEvents),f=sc.nN.chat,m=t||h("Search.placeholder"),{searchQuery:g,characterResults:v,isSearchLoading:y,clearSearch:b,onChangeSearchText:w,showSearchError:_,refetchSearch:C,recentResults:x,uuid:k}=(0,sB.HP)(void 0,!1,sB.Sc.characters,"Searchbar",o,void 0,void 0,s),S=(0,ed.useRef)(null),E=(0,eu.useRouter)(),[T,P]=(0,ed.useState)(!1),I=!!(x.length>0||v)&&((null==g?void 0:g.length)>0||s)&&T,R=(0,ed.useMemo)(()=>null==v?void 0:v.filter(e=>!x.map(e=>e.character_id).includes(e.external_id)&&(!u||u(e))),[v,x,u]),O=e=>{null==l||l(e),P(!1),b()};return(0,ee.jsxs)("div",{className:r,children:[(0,ee.jsx)("div",{className:(0,eR.cn)("relative h-10 mr-4",r),children:(0,ee.jsxs)("div",{className:(0,eR.cn)("absolute z-40 flex gap-2 w-full border-spacing-1 border-divider flex-row self-center items-center rounded-spacing-xs bg-surface-elevation-1 p-2 placeholder:text-placeholder",n),children:[(0,ee.jsx)(sa.zx,{"aria-label":h("Common.search"),variant:"ghost",isIconOnly:!0,onPress:()=>{if(g.length>0)E.push(sc.nN.search(g));else{var e;null===(e=S.current)||void 0===e||e.focus()}},className:"h-fit min-w-fit w-fit",children:y?(0,ee.jsx)(ss.$,{size:16}):(0,ee.jsx)(sg.W1M,{height:"1.25em",className:"ml-1"})}),(0,ee.jsx)(sG.I,{onFocus:()=>P(!0),className:(0,eR.cn)("rounded-full rounded-l-none border-none bg-transparent placeholder:text-muted-foreground p-0 relative",i),type:"text",ref:S,placeholder:m,onChange:e=>w(e.target.value),value:g,onKeyDown:e=>{"Enter"!==e.key||c||E.push(sc.nN.search(g))}}),!!g&&(0,ee.jsx)(sa.zx,{"aria-label":h("Common.clear-search"),variant:"ghost",size:"sm",isIconOnly:!0,className:"mr-2 h-fit min-w-fit w-fit",onPress:b,children:(0,ee.jsx)(sg.Two,{height:"1.25em",color:"var(--icon-secondary)"})})]})}),!!I&&(0,ee.jsx)("div",{className:"flex justify-end md:justify-center self-center -ml-3",children:(0,ee.jsxs)("div",{ref:d,className:(0,eR.cn)(["absolute z-50 flex h-full grow w-full overflow-y-scroll rounded-spacing-s bg-primary-foreground px-3 flex-col pt-1",a]),children:[!!x&&x.length>0&&(0,ee.jsxs)("div",{className:"py-2",children:[(0,ee.jsx)("p",{className:"text-sm text-secondary-foreground ml-1 font-thin mb-3",children:h("Guide.recent-chats")}),x.map((e,t)=>(0,ee.jsx)(sj.J,{referrer:"GuideSearchbar_RecentChats",containerClassname:"my-0 gap-2",src:e.avatar_file_name,href:f(e.character_id),onClick:()=>O(e),name:e.name,nameClassname:"text-md",avatarImageSize:32,id:e.character_id,searchResultCharacterIds:null==v?void 0:v.map(e=>e.external_id).concat(null==x?void 0:x.map(e=>e.id)),index:t,disableLinkNavigation:!!l},e.character_id)),(0,ee.jsx)(sz.Z,{className:"my-2"})]}),!!R&&R.length>0&&(0,ee.jsxs)("div",{className:"py-2",children:[(0,ee.jsx)("p",{className:"text-sm text-secondary-foreground ml-3",children:h("Search.search-results")}),R.map((e,t)=>(0,ee.jsx)(sj.J,{referrer:"GuideSearchbar_SearchResult",src:e.avatar_file_name,href:f(e.external_id),onClick:()=>O((0,sH.yo)(e)),name:e.participant__name,nameClassname:"text-sm",avatarImageSize:32,searchResultCharacterIds:null==v?void 0:v.map(e=>e.external_id),id:e.external_id,index:t,trackImpressions:p,searchUuid:k,disableLinkNavigation:!!l},e.external_id))]}),!!_&&(0,ee.jsx)("div",{className:"flex max-w-3xl justify-center self-center sm:px-12 ",children:(0,ee.jsxs)("div",{className:(0,eR.cn)("absolute z-40 mt-2 md:mt-8 flex max-h-[calc(100vh-8rem)] w-96 flex-col overflow-y-scroll rounded-md bg-card px-2"),children:[(0,ee.jsx)("p",{className:"m-4 text-center",children:h("Search.something-went-wrong-loading-search-results")}),(0,ee.jsx)(sa.zx,{className:"my-4 w-48 self-center",onPress:C,color:"secondary",children:h("Common.try-again")})]})}),(null==v?void 0:v.length)===0&&(0,ee.jsx)("div",{className:"p-4 text-sm",children:h("Search.no-results")})]})})]})}var s$=n(48374);let sZ=e=>{let{recentCharacters:t}=e,{t:n}=(0,eh.$G)(),{asPath:r}=(0,eu.useRouter)(),i=(0,sV.Uo)(sF.b.GuideSearch),o=r.startsWith("/chat"),s="all-pages"===i;return"chat-only"===i&&o&&(s=!0),(0,ee.jsxs)(ee.Fragment,{children:[!!s&&(0,ee.jsx)("div",{className:"text-foreground ml-5",children:(0,ee.jsx)(sW,{recentCharacters:t.filter(e=>!(0,s$.yC)(e))})}),!s&&(0,ee.jsx)("div",{className:"text-foreground hidden lg:block ml-5",children:(0,ee.jsx)("p",{className:"text-md-medium",children:n("Guide.chats")})})]})};(g=$||($={})).today="today",g.yesterday="yesterday",g.thisWeek="this-week",g.lastWeek="last-week",g.thisMonth="this-month",g.aWhileAgo="a-while-ago";let sJ=e=>{let t={today:[],yesterday:[],"this-week":[],"last-week":[],"this-month":[],"a-while-ago":[]},n=new Date(Date.now()),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),i=new Date(r.getTime()-864e5),o=new Date(r.getTime()-864e5*n.getDay()),s=new Date(o.getTime()-6048e5),a=new Date(n.getFullYear(),n.getMonth(),1);return e.forEach(e=>{let n=new Date(e.date||1e3*e.last_updated),l="a-while-ago";n>=r?l="today":n>=i?l="yesterday":n>=o?l="this-week":n>=s?l="last-week":n>=a&&(l="this-month"),t[l].push(e)}),Object.entries(t).map(e=>{let[t,n]=e;return{title:t,characters:n}})};var sY=n(73210),sX=n(83542);let sQ=new Set(["id"]),s0=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),s1=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),s2=/^(data-.*)$/;function s3(e,t={}){let{labelable:n,isLink:r,propNames:i}=t,o={};for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(sQ.has(t)||n&&s0.has(t)||r&&s1.has(t)||(null==i?void 0:i.has(t))||s2.test(t))&&(o[t]=e[t]);return o}let s4="undefined"!=typeof document?ed.useLayoutEffect:()=>{};function s5(e){let t=(0,ed.useRef)(null);return s4(()=>{t.current=e},[e]),(0,ed.useCallback)((...e)=>{let n=t.current;return null==n?void 0:n(...e)},[])}let s6=!!("undefined"!=typeof window&&window.document&&window.document.createElement),s8=new Map;function s7(e){let[t,n]=(0,ed.useState)(e),r=(0,ed.useRef)(null),i=(0,eV.gP)(t),o=(0,ed.useCallback)(e=>{r.current=e},[]);return s6&&s8.set(i,o),s4(()=>()=>{s8.delete(i)},[i]),(0,ed.useEffect)(()=>{let e=r.current;e&&(r.current=null,n(e))}),i}function s9(e=[]){let t=s7(),[n,r]=function(e){let[t,n]=(0,ed.useState)(e),r=(0,ed.useRef)(null),i=s5(()=>{if(!r.current)return;let e=r.current.next();if(e.done){r.current=null;return}t===e.value?i():n(e.value)});s4(()=>{r.current&&i()});let o=s5(e=>{r.current=e(t),i()});return[t,o]}(t),i=(0,ed.useCallback)(()=>{r(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,r]);return s4(i,[t,i,...e]),n}var ae=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r};function at(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&90>=e.charCodeAt(2)?t[e]=function(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}(n,i):("className"===e||"UNSAFE_className"===e)&&"string"==typeof n&&"string"==typeof i?t[e]=ae(n,i):"id"===e&&n&&i?t.id=function(e,t){if(e===t)return e;let n=s8.get(e);if(n)return n(t),t;let r=s8.get(t);return r?(r(e),e):t}(n,i):t[e]=void 0!==i?i:n}}return t}function an(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function ar(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function ai(e){let t=null;return()=>(null==t&&(t=e()),t)}let ao=ai(function(){return ar(/^Mac/i)}),as=ai(function(){return ar(/^iPhone/i)}),aa=ai(function(){return ar(/^iPad/i)||ao()&&navigator.maxTouchPoints>1}),al=ai(function(){return as()||aa()});ai(function(){return ao()||al()});let ac=ai(function(){return an(/AppleWebKit/i)&&!au()}),au=ai(function(){return an(/Chrome/i)}),ad=ai(function(){return an(/Android/i)});ai(function(){return an(/Firefox/i)});class ah{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}let ap=!1,af=0;function am(){ap=!0,setTimeout(()=>{ap=!1},50)}function ag(e){"touch"===e.pointerType&&am()}function av(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",ag):document.addEventListener("touchend",am),af++,()=>{--af>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",ag):document.removeEventListener("touchend",am))}}let ay=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},ab=e=>e&&"window"in e&&e.window===e?e:ay(e).defaultView||window,aw=null,a_=new Set,aC=new Map,ax=!1,ak=!1;function aS(e,t){for(let n of a_)n(e,t)}function aE(e){ax=!0,e.metaKey||!ao()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(aw="keyboard",aS("keyboard",e))}function aT(e){aw="pointer",("mousedown"===e.type||"pointerdown"===e.type)&&(ax=!0,aS("pointer",e))}function aP(e){(0===e.mozInputSource&&e.isTrusted||(ad()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType))&&(ax=!0,aw="virtual")}function aI(e){e.target!==window&&e.target!==document&&(ax||ak||(aw="virtual",aS("virtual",e)),ax=!1,ak=!1)}function aR(){ax=!1,ak=!0}function aO(e){if("undefined"==typeof window||aC.get(ab(e)))return;let t=ab(e),n=ay(e),r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){ax=!0,r.apply(this,arguments)},n.addEventListener("keydown",aE,!0),n.addEventListener("keyup",aE,!0),n.addEventListener("click",aP,!0),t.addEventListener("focus",aI,!0),t.addEventListener("blur",aR,!1),"undefined"!=typeof PointerEvent?(n.addEventListener("pointerdown",aT,!0),n.addEventListener("pointermove",aT,!0),n.addEventListener("pointerup",aT,!0)):(n.addEventListener("mousedown",aT,!0),n.addEventListener("mousemove",aT,!0),n.addEventListener("mouseup",aT,!0)),t.addEventListener("beforeunload",()=>{aA(e)},{once:!0}),aC.set(t,{focus:r})}let aA=(e,t)=>{let n=ab(e),r=ay(e);t&&r.removeEventListener("DOMContentLoaded",t),aC.has(n)&&(n.HTMLElement.prototype.focus=aC.get(n).focus,r.removeEventListener("keydown",aE,!0),r.removeEventListener("keyup",aE,!0),r.removeEventListener("click",aP,!0),n.removeEventListener("focus",aI,!0),n.removeEventListener("blur",aR,!1),"undefined"!=typeof PointerEvent?(r.removeEventListener("pointerdown",aT,!0),r.removeEventListener("pointermove",aT,!0),r.removeEventListener("pointerup",aT,!0)):(r.removeEventListener("mousedown",aT,!0),r.removeEventListener("mousemove",aT,!0),r.removeEventListener("mouseup",aT,!0)),aC.delete(n))};function aN(){return"pointer"!==aw}"undefined"!=typeof document&&function(e){let t;let n=ay(void 0);"loading"!==n.readyState?aO(void 0):(t=()=>{aO(void 0)},n.addEventListener("DOMContentLoaded",t)),()=>aA(e,t)}();var aL=n(46749);function aM(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function aD(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function aj(e){let t=null;return()=>(null==t&&(t=e()),t)}let aU=aj(function(){return aD(/^Mac/i)}),aF=aj(function(){return aD(/^iPhone/i)}),aV=aj(function(){return aD(/^iPad/i)||aU()&&navigator.maxTouchPoints>1}),aB=aj(function(){return aF()||aV()}),az=aj(function(){return aU()||aB()}),aH=aj(function(){return aM(/AppleWebKit/i)&&!aq()}),aq=aj(function(){return aM(/Chrome/i)}),aK=aj(function(){return aM(/Android/i)}),aG=aj(function(){return aM(/Firefox/i)});function aW(e){return az()?e.altKey:e.ctrlKey}function a$(e){return aU()?e.metaKey:e.ctrlKey}let aZ=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},aJ=e=>e&&"window"in e&&e.window===e?e:aZ(e).defaultView||window,aY=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],aX=aY.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";aY.push('[tabindex]:not([tabindex="-1"]):not([disabled])');let aQ=aY.join(':not([hidden]):not([tabindex="-1"]),');class a0{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let r=this.fastMap.get(null!=t?t:null);if(!r)return;let i=new a1({scopeRef:e});r.addChild(i),i.parent=r,this.fastMap.set(e,i),n&&(i.nodeToRestore=n)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e);if(!t)return;let n=t.parent;for(let e of this.traverse())e!==t&&t.nodeToRestore&&e.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&function(e,t){return!!e&&!!t&&t.some(t=>t.contains(e))}(e.nodeToRestore,t.scopeRef.current)&&(e.nodeToRestore=t.nodeToRestore);let r=t.children;n&&(n.removeChild(t),r.size>0&&r.forEach(e=>n&&n.addChild(e))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e,t;let n=new a0;for(let r of this.traverse())n.addTreeNode(r.scopeRef,null!==(t=null===(e=r.parent)||void 0===e?void 0:e.scopeRef)&&void 0!==t?t:null,r.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new a1({scopeRef:null}),this.fastMap.set(null,this.root)}}class a1{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}new a0;let a2=new Map,a3=new Set;function a4(){if("undefined"==typeof window)return;function e(e){return"propertyName"in e}let t=n=>{if(!e(n)||!n.target)return;let r=a2.get(n.target);if(r&&(r.delete(n.propertyName),0===r.size&&(n.target.removeEventListener("transitioncancel",t),a2.delete(n.target)),0===a2.size)){for(let e of a3)e();a3.clear()}};document.body.addEventListener("transitionrun",n=>{if(!e(n)||!n.target)return;let r=a2.get(n.target);r||(r=new Set,a2.set(n.target,r),n.target.addEventListener("transitioncancel",t,{once:!0})),r.add(n.propertyName)}),document.body.addEventListener("transitionend",t)}function a5(e){requestAnimationFrame(()=>{0===a2.size?e():a3.add(e)})}function a6(e){if(function(){if(null==a8){a8=!1;try{document.createElement("div").focus({get preventScroll(){return a8=!0,!0}})}catch(e){}}return a8}())e.focus({preventScroll:!0});else{let t=function(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}"undefined"!=typeof document&&("loading"!==document.readyState?a4():document.addEventListener("DOMContentLoaded",a4));let a8=null;function a7(e){return 0===e.mozInputSource&&!!e.isTrusted||(aK()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}let a9=null,le=new Set,lt=new Map,ln=!1,lr=!1;function li(e,t){for(let n of le)n(e,t)}function lo(e){ln=!0,e.metaKey||!aU()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(a9="keyboard",li("keyboard",e))}function ls(e){a9="pointer",("mousedown"===e.type||"pointerdown"===e.type)&&(ln=!0,li("pointer",e))}function la(e){a7(e)&&(ln=!0,a9="virtual")}function ll(e){e.target!==window&&e.target!==document&&(ln||lr||(a9="virtual",li("virtual",e)),ln=!1,lr=!1)}function lc(){ln=!1,lr=!0}function lu(e){if("undefined"==typeof window||lt.get(aJ(e)))return;let t=aJ(e),n=aZ(e),r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){ln=!0,r.apply(this,arguments)},n.addEventListener("keydown",lo,!0),n.addEventListener("keyup",lo,!0),n.addEventListener("click",la,!0),t.addEventListener("focus",ll,!0),t.addEventListener("blur",lc,!1),"undefined"!=typeof PointerEvent?(n.addEventListener("pointerdown",ls,!0),n.addEventListener("pointermove",ls,!0),n.addEventListener("pointerup",ls,!0)):(n.addEventListener("mousedown",ls,!0),n.addEventListener("mousemove",ls,!0),n.addEventListener("mouseup",ls,!0)),t.addEventListener("beforeunload",()=>{ld(e)},{once:!0}),lt.set(t,{focus:r})}let ld=(e,t)=>{let n=aJ(e),r=aZ(e);t&&r.removeEventListener("DOMContentLoaded",t),lt.has(n)&&(n.HTMLElement.prototype.focus=lt.get(n).focus,r.removeEventListener("keydown",lo,!0),r.removeEventListener("keyup",lo,!0),r.removeEventListener("click",la,!0),n.removeEventListener("focus",ll,!0),n.removeEventListener("blur",lc,!1),"undefined"!=typeof PointerEvent?(r.removeEventListener("pointerdown",ls,!0),r.removeEventListener("pointermove",ls,!0),r.removeEventListener("pointerup",ls,!0)):(r.removeEventListener("mousedown",ls,!0),r.removeEventListener("mousemove",ls,!0),r.removeEventListener("mouseup",ls,!0)),lt.delete(n))};function lh(e){let t=aZ(e);if("virtual"===a9){let n=t.activeElement;a5(()=>{t.activeElement===n&&e.isConnected&&a6(e)})}else a6(e)}"undefined"!=typeof document&&function(e){let t;let n=aZ(void 0);"loading"!==n.readyState?lu(void 0):(t=()=>{lu(void 0)},n.addEventListener("DOMContentLoaded",t)),()=>ld(e,t)}();let lp=(0,ed.createContext)({isNative:!0,open:function(e,t){!function(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}(e,e=>lm(e,t))},useHref:e=>e});function lf(){return(0,ed.useContext)(lp)}function lm(e,t,n=!0){var r,i;let{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}=t;aG()&&(null===(i=window.event)||void 0===i?void 0:null===(r=i.type)||void 0===r?void 0:r.startsWith("key"))&&"_blank"===e.target&&(aU()?o=!0:s=!0);let c=aH()&&aU()&&!aV()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:s,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:o,ctrlKey:s,altKey:a,shiftKey:l,bubbles:!0,cancelable:!0});lm.isOpening=n,a6(e),e.dispatchEvent(c),lm.isOpening=!1}lm.isOpening=!1;let lg="undefined"!=typeof document?ed.useLayoutEffect:()=>{};function lv(e){let t=(0,ed.useRef)(null);return lg(()=>{t.current=e},[e]),(0,ed.useCallback)((...e)=>{let n=t.current;return null==n?void 0:n(...e)},[])}function ly(e,t,n,r){let i=lv(n),o=null==n;(0,ed.useEffect)(()=>{if(o||!e.current)return;let n=e.current;return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}},[e,t,r,o,i])}function lb(e,t){let n=window.getComputedStyle(e),r=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return r&&t&&(r=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),r}function lw(e,t){let n=l_(e,t,"left"),r=l_(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight,s=e.scrollLeft,a=e.scrollTop,{borderTopWidth:l,borderLeftWidth:c}=getComputedStyle(e),u=e.scrollLeft+parseInt(c,10),d=e.scrollTop+parseInt(l,10),h=u+e.clientWidth,p=d+e.clientHeight;n<=s?s=n-parseInt(c,10):n+i>h&&(s+=n+i-h),r<=d?a=r-parseInt(l,10):r+o>p&&(a+=r+o-p),e.scrollLeft=s,e.scrollTop=a}function l_(e,t,n){let r="left"===n?"offsetLeft":"offsetTop",i=0;for(;t.offsetParent&&(i+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[r];break}t=t.offsetParent}return i}function lC(e,t){if(document.contains(e)){let s=document.scrollingElement||document.documentElement;if("hidden"===window.getComputedStyle(s).overflow)for(let t of function(e,t){let n=[];for(;e&&e!==document.documentElement;)lb(e,void 0)&&n.push(e),e=e.parentElement;return n}(e))lw(t,e);else{var n,r,i,o;let{left:s,top:a}=e.getBoundingClientRect();null==e||null===(n=e.scrollIntoView)||void 0===n||n.call(e,{block:"nearest"});let{left:l,top:c}=e.getBoundingClientRect();(Math.abs(s-l)>1||Math.abs(a-c)>1)&&(null==t||null===(i=t.containingElement)||void 0===i||null===(r=i.scrollIntoView)||void 0===r||r.call(i,{block:"center",inline:"center"}),null===(o=e.scrollIntoView)||void 0===o||o.call(e,{block:"nearest"}))}}}function lx(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}"undefined"!=typeof window&&window.document&&window.document.createElement;let lk=new Map;var lS=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r};function lE(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&90>=e.charCodeAt(2)?t[e]=lx(n,i):("className"===e||"UNSAFE_className"===e)&&"string"==typeof n&&"string"==typeof i?t[e]=lS(n,i):"id"===e&&n&&i?t.id=function(e,t){if(e===t)return e;let n=lk.get(e);if(n)return n(t),t;let r=lk.get(t);return r?(r(e),e):t}(n,i):t[e]=void 0!==i?i:n}}return t}let lT=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),lP=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),lI=Symbol.for("react-aria.i18n.locale");function lR(){let e="undefined"!=typeof window&&window[lI]||"undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:!function(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize(),n="function"==typeof t.getTextInfo?t.getTextInfo():t.textInfo;if(n)return"rtl"===n.direction;if(t.script)return lT.has(t.script)}let t=e.split("-")[0];return lP.has(t)}(e)?"ltr":"rtl"}}let lO=lR(),lA=new Set;function lN(){for(let e of(lO=lR(),lA))e(lO)}let lL=ed.createContext(null);function lM(){let e=function(){let e=(0,eV.Av)(),[t,n]=(0,ed.useState)(lO);return((0,ed.useEffect)(()=>(0===lA.size&&window.addEventListener("languagechange",lN),lA.add(n),()=>{lA.delete(n),0===lA.size&&window.removeEventListener("languagechange",lN)}),[]),e)?{locale:"en-US",direction:"ltr"}:t}();return(0,ed.useContext)(lL)||e}class lD{getItemRect(e){let t=this.ref.current,n=null!=e?t.querySelector(`[data-key="${CSS.escape(e.toString())}"]`):null;if(!n)return null;let r=t.getBoundingClientRect(),i=n.getBoundingClientRect();return{x:i.left-r.left+t.scrollLeft,y:i.top-r.top+t.scrollTop,width:i.width,height:i.height}}getContentSize(){let e=this.ref.current;return{width:e.scrollWidth,height:e.scrollHeight}}getVisibleRect(){let e=this.ref.current;return{x:e.scrollLeft,y:e.scrollTop,width:e.offsetWidth,height:e.offsetHeight}}constructor(e){this.ref=e}}class lj{isDisabled(e){var t;return"all"===this.disabledBehavior&&((null===(t=e.props)||void 0===t?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}getNextKey(e){for(e=this.collection.getKeyAfter(e);null!=e;){let t=this.collection.getItem(e);if("item"===t.type&&!this.isDisabled(t))return e;e=this.collection.getKeyAfter(e)}return null}getPreviousKey(e){for(e=this.collection.getKeyBefore(e);null!=e;){let t=this.collection.getItem(e);if("item"===t.type&&!this.isDisabled(t))return e;e=this.collection.getKeyBefore(e)}return null}findKey(e,t,n){let r=this.layoutDelegate.getItemRect(e);if(!r)return null;let i=r;do e=t(e),r=this.layoutDelegate.getItemRect(e);while(r&&n(i,r));return e}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,e=>this.getNextKey(e),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,e=>this.getPreviousKey(e),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):this.findKey(e,e=>this.getNextColumn(e,"rtl"===this.direction),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):null}getKeyLeftOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):this.findKey(e,e=>this.getNextColumn(e,"ltr"===this.direction),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):null}getFirstKey(){let e=this.collection.getFirstKey();for(;null!=e;){let t=this.collection.getItem(e);if((null==t?void 0:t.type)==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyAfter(e)}return null}getLastKey(){let e=this.collection.getLastKey();for(;null!=e;){let t=this.collection.getItem(e);if("item"===t.type&&!this.isDisabled(t))return e;e=this.collection.getKeyBefore(e)}return null}getKeyPageAbove(e){let t=this.ref.current,n=this.layoutDelegate.getItemRect(e);if(!n)return null;if(!lb(t))return this.getFirstKey();if("horizontal"===this.orientation){let t=Math.max(0,n.x+n.width-this.layoutDelegate.getVisibleRect().width);for(;n&&n.x>t;)n=null==(e=this.getKeyAbove(e))?null:this.layoutDelegate.getItemRect(e)}else{let t=Math.max(0,n.y+n.height-this.layoutDelegate.getVisibleRect().height);for(;n&&n.y>t;)n=null==(e=this.getKeyAbove(e))?null:this.layoutDelegate.getItemRect(e)}return null!=e?e:this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,n=this.layoutDelegate.getItemRect(e);if(!n)return null;if(!lb(t))return this.getLastKey();if("horizontal"===this.orientation){let t=Math.min(this.layoutDelegate.getContentSize().width,n.y-n.width+this.layoutDelegate.getVisibleRect().width);for(;n&&n.x<t;)n=null==(e=this.getKeyBelow(e))?null:this.layoutDelegate.getItemRect(e)}else{let t=Math.min(this.layoutDelegate.getContentSize().height,n.y-n.height+this.layoutDelegate.getVisibleRect().height);for(;n&&n.y<t;)n=null==(e=this.getKeyBelow(e))?null:this.layoutDelegate.getItemRect(e)}return null!=e?e:this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let n=this.collection,r=t||this.getFirstKey();for(;null!=r;){let t=n.getItem(r),i=t.textValue.slice(0,e.length);if(t.textValue&&0===this.collator.compare(i,e))return r;r=this.getKeyBelow(r)}return null}constructor(...e){if(1===e.length){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new lD(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new lD(this.ref);"stack"===this.layout&&"vertical"===this.orientation&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}let lU=new Map,lF="default",lV="",lB=new WeakMap;function lz(e){if(aB()){if("default"===lF){let t=aZ(e);lV=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}lF="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(lB.set(e,e.style.userSelect),e.style.userSelect="none")}function lH(e){if(aB())"disabled"===lF&&(lF="restoring",setTimeout(()=>{a5(()=>{if("restoring"===lF){let t=aZ(e);"none"===t.documentElement.style.webkitUserSelect&&(t.documentElement.style.webkitUserSelect=lV||""),lV="",lF="default"}})},300));else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&lB.has(e)){let t=lB.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),lB.delete(e)}}let lq=ed.createContext({register:()=>{}});lq.displayName="PressResponderContext";var lK=n(27677),lG=n(57868),lW=n(95391);function l$(){let e=(0,ed.useRef)(new Map),t=(0,ed.useCallback)((t,n,r,i)=>{let o=(null==i?void 0:i.once)?(...t)=>{e.current.delete(r),r(...t)}:r;e.current.set(r,{type:n,eventTarget:t,fn:o,options:i}),t.addEventListener(n,r,i)},[]),n=(0,ed.useCallback)((t,n,r,i)=>{var o;let s=(null===(o=e.current.get(r))||void 0===o?void 0:o.fn)||r;t.removeEventListener(n,s,i),e.current.delete(r)},[]),r=(0,ed.useCallback)(()=>{e.current.forEach((e,t)=>{n(e.eventTarget,e.type,t,e.options)})},[n]);return(0,ed.useEffect)(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}var lZ=new WeakMap;class lJ{continuePropagation(){(0,lW._)(this,lZ,!1)}get shouldStopPropagation(){return(0,lK._)(this,lZ)}constructor(e,t,n,r){var i;(0,lG._)(this,lZ,{writable:!0,value:void 0}),(0,lW._)(this,lZ,!0);let o=null!==(i=null==r?void 0:r.target)&&void 0!==i?i:n.currentTarget,s=null==o?void 0:o.getBoundingClientRect(),a,l=0,c,u=null;null!=n.clientX&&null!=n.clientY&&(c=n.clientX,u=n.clientY),s&&(null!=c&&null!=u?(a=c-s.left,l=u-s.top):(a=s.width/2,l=s.height/2)),this.type=e,this.pointerType=t,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.x=a,this.y=l}}let lY=Symbol("linkClicked");function lX(e){let{onPress:t,onPressChange:n,onPressStart:r,onPressEnd:i,onPressUp:o,isDisabled:s,isPressed:a,preventFocusOnPress:l,shouldCancelOnPointerExit:c,allowTextSelectionOnPress:u,ref:d,...h}=function(e){var t;let n=(0,ed.useContext)(lq);if(n){let{register:t,...r}=n;e=lE(r,e),t()}return t=e.ref,lg(()=>{if(n&&n.ref&&t)return n.ref.current=t.current,()=>{n.ref&&(n.ref.current=null)}}),e}(e),[p,f]=(0,ed.useState)(!1),m=(0,ed.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:g,removeAllGlobalListeners:v}=l$(),y=lv((e,t)=>{let i=m.current;if(s||i.didFirePressStart)return!1;let o=!0;if(i.isTriggeringEvent=!0,r){let n=new lJ("pressstart",t,e);r(n),o=n.shouldStopPropagation}return n&&n(!0),i.isTriggeringEvent=!1,i.didFirePressStart=!0,f(!0),o}),b=lv((e,r,o=!0)=>{let a=m.current;if(!a.didFirePressStart)return!1;a.ignoreClickAfterPress=!0,a.didFirePressStart=!1,a.isTriggeringEvent=!0;let l=!0;if(i){let t=new lJ("pressend",r,e);i(t),l=t.shouldStopPropagation}if(n&&n(!1),f(!1),t&&o&&!s){let n=new lJ("press",r,e);t(n),l&&(l=n.shouldStopPropagation)}return a.isTriggeringEvent=!1,l}),w=lv((e,t)=>{let n=m.current;if(s)return!1;if(o){n.isTriggeringEvent=!0;let r=new lJ("pressup",t,e);return o(r),n.isTriggeringEvent=!1,r.shouldStopPropagation}return!0}),_=lv(e=>{let t=m.current;t.isPressed&&t.target&&(t.isOverTarget&&null!=t.pointerType&&b(l3(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,v(),u||lH(t.target))}),C=lv(e=>{c&&_(e)}),x=(0,ed.useMemo)(()=>{let e=m.current,t={onKeyDown(t){if(l0(t.nativeEvent,t.currentTarget)&&t.currentTarget.contains(t.target)){var r;l6(t.target,t.key)&&t.preventDefault();let i=!0;if(!e.isPressed&&!t.repeat){e.target=t.currentTarget,e.isPressed=!0,i=y(t,"keyboard");let r=t.currentTarget;g(aZ(t.currentTarget),"keyup",lx(t=>{l0(t,r)&&!t.repeat&&r.contains(t.target)&&e.target&&w(l3(e.target,t),"keyboard")},n),!0)}i&&t.stopPropagation(),t.metaKey&&aU()&&(null===(r=e.metaKeyEvents)||void 0===r||r.set(t.key,t.nativeEvent))}else"Meta"===t.key&&(e.metaKeyEvents=new Map)},onClick(t){if((!t||t.currentTarget.contains(t.target))&&t&&0===t.button&&!e.isTriggeringEvent&&!lm.isOpening){let n=!0;if(s&&t.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&("virtual"===e.pointerType||a7(t.nativeEvent))){s||l||a6(t.currentTarget);let e=y(t,"virtual"),r=w(t,"virtual"),i=b(t,"virtual");n=e&&r&&i}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,n&&t.stopPropagation()}}},n=t=>{var n,r,i;if(e.isPressed&&e.target&&l0(t,e.target)){l6(t.target,t.key)&&t.preventDefault();let n=t.target;b(l3(e.target,t),"keyboard",e.target.contains(n)),v(),"Enter"!==t.key&&lQ(e.target)&&e.target.contains(n)&&!t[lY]&&(t[lY]=!0,lm(e.target,t,!1)),e.isPressed=!1,null===(r=e.metaKeyEvents)||void 0===r||r.delete(t.key)}else if("Meta"===t.key&&(null===(n=e.metaKeyEvents)||void 0===n?void 0:n.size)){let t=e.metaKeyEvents;for(let n of(e.metaKeyEvents=void 0,t.values()))null===(i=e.target)||void 0===i||i.dispatchEvent(new KeyboardEvent("keyup",n))}};if("undefined"!=typeof PointerEvent){t.onPointerDown=t=>{var o;if(0!==t.button||!t.currentTarget.contains(t.target))return;if(o=t.nativeEvent,!aK()&&0===o.width&&0===o.height||1===o.width&&1===o.height&&0===o.pressure&&0===o.detail&&"mouse"===o.pointerType){e.pointerType="virtual";return}l5(t.currentTarget)&&t.preventDefault(),e.pointerType=t.pointerType;let a=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,s||l||a6(t.currentTarget),u||lz(e.target),a=y(t,e.pointerType),g(aZ(t.currentTarget),"pointermove",n,!1),g(aZ(t.currentTarget),"pointerup",r,!1),g(aZ(t.currentTarget),"pointercancel",i,!1)),a&&t.stopPropagation()},t.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(l5(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},t.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&l4(t,t.currentTarget)&&w(t,e.pointerType||t.pointerType)};let n=t=>{t.pointerId===e.activePointerId&&(e.target&&l4(t,e.target)?e.isOverTarget||null==e.pointerType||(e.isOverTarget=!0,y(l3(e.target,t),e.pointerType)):e.target&&e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!1,b(l3(e.target,t),e.pointerType,!1),C(t)))},r=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&e.target&&(l4(t,e.target)&&null!=e.pointerType?b(l3(e.target,t),e.pointerType):e.isOverTarget&&null!=e.pointerType&&b(l3(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,v(),u||lH(e.target))},i=e=>{_(e)};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&_(e)}}else{t.onMouseDown=t=>{if(0===t.button&&t.currentTarget.contains(t.target)){if(l5(t.currentTarget)&&t.preventDefault(),e.ignoreEmulatedMouseEvents){t.stopPropagation();return}e.isPressed=!0,e.isOverTarget=!0,e.target=t.currentTarget,e.pointerType=a7(t.nativeEvent)?"virtual":"mouse",s||l||a6(t.currentTarget),y(t,e.pointerType)&&t.stopPropagation(),g(aZ(t.currentTarget),"mouseup",n,!1)}},t.onMouseEnter=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&null!=e.pointerType&&(e.isOverTarget=!0,n=y(t,e.pointerType)),n&&t.stopPropagation()},t.onMouseLeave=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&null!=e.pointerType&&(e.isOverTarget=!1,n=b(t,e.pointerType,!1),C(t)),n&&t.stopPropagation()},t.onMouseUp=t=>{t.currentTarget.contains(t.target)&&!e.ignoreEmulatedMouseEvents&&0===t.button&&w(t,e.pointerType||"mouse")};let n=t=>{if(0===t.button){if(e.isPressed=!1,v(),e.ignoreEmulatedMouseEvents){e.ignoreEmulatedMouseEvents=!1;return}e.target&&l4(t,e.target)&&null!=e.pointerType?b(l3(e.target,t),e.pointerType):e.target&&e.isOverTarget&&null!=e.pointerType&&b(l3(e.target,t),e.pointerType,!1),e.isOverTarget=!1}};t.onTouchStart=t=>{if(!t.currentTarget.contains(t.target))return;let n=function(e){let{targetTouches:t}=e;return t.length>0?t[0]:null}(t.nativeEvent);n&&(e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=t.currentTarget,e.pointerType="touch",s||l||a6(t.currentTarget),u||lz(e.target),y(l2(e.target,t),e.pointerType)&&t.stopPropagation(),g(aJ(t.currentTarget),"scroll",r,!0))},t.onTouchMove=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed){t.stopPropagation();return}let n=l1(t.nativeEvent,e.activePointerId),r=!0;n&&l4(n,t.currentTarget)?e.isOverTarget||null==e.pointerType||(e.isOverTarget=!0,r=y(l2(e.target,t),e.pointerType)):e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!1,r=b(l2(e.target,t),e.pointerType,!1),C(l2(e.target,t))),r&&t.stopPropagation()},t.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed){t.stopPropagation();return}let n=l1(t.nativeEvent,e.activePointerId),r=!0;n&&l4(n,t.currentTarget)&&null!=e.pointerType?(w(l2(e.target,t),e.pointerType),r=b(l2(e.target,t),e.pointerType)):e.isOverTarget&&null!=e.pointerType&&(r=b(l2(e.target,t),e.pointerType,!1)),r&&t.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,e.target&&!u&&lH(e.target),v()},t.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&_(l2(e.target,t)))};let r=t=>{e.isPressed&&t.target.contains(e.target)&&_({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&_(e)}}return t},[g,s,l,v,u,_,C,b,y,w]);return(0,ed.useEffect)(()=>()=>{var e;u||lH(null!==(e=m.current.target)&&void 0!==e?e:void 0)},[u]),{isPressed:a||p,pressProps:lE(h,x)}}function lQ(e){return"A"===e.tagName&&e.hasAttribute("href")}function l0(e,t){let{key:n,code:r}=e,i=t.getAttribute("role");return("Enter"===n||" "===n||"Spacebar"===n||"Space"===r)&&!(t instanceof aJ(t).HTMLInputElement&&!l7(t,n)||t instanceof aJ(t).HTMLTextAreaElement||t.isContentEditable)&&!(("link"===i||!i&&lQ(t))&&"Enter"!==n)}function l1(e,t){let n=e.changedTouches;for(let e=0;e<n.length;e++){let r=n[e];if(r.identifier===t)return r}return null}function l2(e,t){let n=0,r=0;return t.targetTouches&&1===t.targetTouches.length&&(n=t.targetTouches[0].clientX,r=t.targetTouches[0].clientY),{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:r}}function l3(e,t){let n=t.clientX,r=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:r}}function l4(e,t){let n,r,i=t.getBoundingClientRect(),o=(n=0,r=0,void 0!==e.width?n=e.width/2:void 0!==e.radiusX&&(n=e.radiusX),void 0!==e.height?r=e.height/2:void 0!==e.radiusY&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+n,bottom:e.clientY+r,left:e.clientX-n});return!(i.left>o.right)&&!(o.left>i.right)&&!(i.top>o.bottom)&&!(o.top>i.bottom)}function l5(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function l6(e,t){return e instanceof HTMLInputElement?!l7(e,t):e instanceof HTMLButtonElement?"submit"!==e.type&&"reset"!==e.type:!lQ(e)}let l8=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function l7(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:l8.has(e.type)}let l9=0,ce=new Map;function ct(){let e=window.event;return(null==e?void 0:e.key)==="Enter"}function cn(){let e=window.event;return(null==e?void 0:e.key)===" "||(null==e?void 0:e.code)==="Space"}let cr=new WeakMap,ci=new WeakMap;var co=n(74374),cs=n(47254);let ca=(0,cs.tv)({slots:{base:"w-full relative flex flex-col gap-1 p-1",list:"w-full flex flex-col gap-0.5 outline-none",emptyContent:["h-10","px-2","py-1.5","w-full","h-full","text-foreground-400","text-start"]}}),cl=(0,cs.tv)({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","subpixel-antialiased","outline-none","cursor-pointer","tap-highlight-transparent",...co.Dh,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-sm font-normal truncate",description:["w-full","text-sm","text-muted","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-primary-300","group-hover:border-current"]},variants:{variant:{primary:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{primary:{},secondary:{},success:{},warning:{},danger:{}},showDivider:{true:{base:["mb-1.5","after:content-['']","after:absolute","after:-bottom-1","after:left-0","after:right-0","after:h-divider","after:bg-divider"]},false:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{base:"data-[hover=true]:transition-colors"}}},defaultVariants:{variant:"primary",color:"primary",disableAnimation:!1,showDivider:!1},compoundVariants:[{variant:"primary",color:"primary",class:{base:["data-[hover=true]:bg-accent","data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:bg-primary","data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"primary",color:"secondary",class:{base:["data-[hover=true]:bg-accent data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"primary",color:"success",class:{base:["data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"primary",color:"warning",class:{base:["data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"primary",color:"danger",class:{base:["data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"shadow",color:"primary",class:{base:["data-[hover=true]:shadow-primary/50 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:shadow-primary/50 data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"shadow",color:"secondary",class:{base:["data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:shadow-secondary/30 data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"shadow",color:"success",class:{base:["data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:shadow-success/30 data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"shadow",color:"warning",class:{base:["data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:shadow-warning/30 data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"shadow",color:"danger",class:{base:["data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:shadow-danger/30 data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"bordered",color:"primary",class:{base:["data-[hover=true]:border-primary","data-[selectable=true]:focus:border-primary"]}},{variant:"bordered",color:"secondary",class:{base:["data-[hover=true]:border-secondary data-[hover=true]:text-secondary","data-[selectable=true]:focus:border-secondary data-[selectable=true]:focus:text-secondary"]}},{variant:"bordered",color:"success",class:{base:["data-[hover=true]:border-success data-[hover=true]:text-success","data-[selectable=true]:focus:border-success data-[selectable=true]:focus:text-success"]}},{variant:"bordered",color:"warning",class:{base:["data-[hover=true]:border-warning data-[hover=true]:text-warning","data-[selectable=true]:focus:border-warning data-[selectable=true]:focus:text-warning"]}},{variant:"bordered",color:"danger",class:{base:["data-[hover=true]:border-danger data-[hover=true]:text-danger","data-[selectable=true]:focus:border-danger data-[selectable=true]:focus:text-danger"]}}]}),cc=(0,cs.tv)({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}});var cu=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),cd=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),ch=/^(data-.*)$/,cp=/^(aria-.*)$/,cf=/^(on[A-Z].*)$/,cm=(0,n(8857).tv)({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),cg=(0,n(16538).Gp)((e,t)=>{let{Component:n,getDividerProps:r}=function(e){var t;let n,r;let{as:i,className:o,orientation:s,...a}=e,l=i||"hr";"hr"===l&&"vertical"===s&&(l="div");let{separatorProps:c}=(r=function(e,t={}){let{labelable:n=!0,enabled:r=!0,propNames:i,omitPropNames:o,omitEventNames:s}=t,a={};if(!r)return e;for(let t in e)!((null==o?void 0:o.has(t))||(null==s?void 0:s.has(t))&&cf.test(t)||cf.test(t)&&!cd.has(t))&&(Object.prototype.hasOwnProperty.call(e,t)&&(cu.has(t)||n&&cp.test(t)||(null==i?void 0:i.has(t))||ch.test(t))||cf.test(t))&&(a[t]=e[t]);return a}(t={elementType:"string"==typeof l?l:"hr",orientation:s},{enabled:"string"==typeof t.elementType}),("vertical"===t.orientation&&(n="vertical"),"hr"!==t.elementType)?{separatorProps:{...r,role:"separator","aria-orientation":n}}:{separatorProps:r}),u=(0,ed.useMemo)(()=>cm({orientation:s,className:o}),[s,o]);return{Component:l,getDividerProps:(0,ed.useCallback)((e={})=>({className:u,role:"separator","data-orientation":s,...c,...a,...e}),[u,s,c,a])}}({...e});return(0,ee.jsx)(n,{ref:t,...r()})});cg.displayName="NextUI.Divider";var cv=n(40489);function cy(e){let{isSelected:t,disableAnimation:n,...r}=e;return(0,ee.jsx)("svg",{"aria-hidden":"true","data-selected":t,role:"presentation",viewBox:"0 0 17 18",...r,children:(0,ee.jsx)("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:n?{}:{transition:"stroke-dashoffset 200ms ease"}})})}var cb=n(99070),cw=n(659),c_=n(80113),cC=n(66672),cx=n(4677),ck=n(66582);let cS=(0,ed.forwardRef)((e,t)=>{let{Component:n,rendered:r,description:i,isSelectable:o,isSelected:s,isDisabled:a,selectedIcon:l,startContent:c,endContent:u,hideSelectedIcon:d,disableAnimation:h,getItemProps:p,getLabelProps:f,getWrapperProps:m,getDescriptionProps:g,getSelectedIconProps:v}=function(e){let[t,n]=(0,c_.oe)(e,cl.variantKeys),{as:r,item:i,state:o,description:s,startContent:a,endContent:l,isVirtualized:c,selectedIcon:u,className:d,classNames:h,autoFocus:p,onPress:f,onClick:m,shouldHighlightOnFocus:g,hideSelectedIcon:v=!1,isReadOnly:y=!1,...b}=t,{disableAnimation:w}=e,_=(0,ed.useRef)(null),C=r||(e.href?"a":"li"),x="string"==typeof C,{rendered:k,key:S}=i,E=o.disabledKeys.has(S)||e.isDisabled,T="none"!==o.selectionManager.selectionMode,{pressProps:P,isPressed:I}=(0,cx.r7)({ref:_,isDisabled:E,onPress:f}),{isHovered:R,hoverProps:O}=(0,cx.XI)({isDisabled:E}),{isFocusVisible:A,focusProps:N}=(0,cC.Fx)({autoFocus:p}),{isFocused:L,isSelected:M,optionProps:D,labelProps:j,descriptionProps:U}=function(e,t,n){var r,i,o,s,a,l,c;let{key:u}=e,d=ci.get(t),h=null!==(i=e.isDisabled)&&void 0!==i?i:t.disabledKeys.has(u),p=null!==(o=e.isSelected)&&void 0!==o?o:t.selectionManager.isSelected(u),f=null!==(s=e.shouldSelectOnPressUp)&&void 0!==s?s:null==d?void 0:d.shouldSelectOnPressUp,m=null!==(a=e.shouldFocusOnHover)&&void 0!==a?a:null==d?void 0:d.shouldFocusOnHover,g=null!==(l=e.shouldUseVirtualFocus)&&void 0!==l?l:null==d?void 0:d.shouldUseVirtualFocus,v=null!==(c=e.isVirtualized)&&void 0!==c?c:null==d?void 0:d.isVirtualized,y=s9(),b=s9(),w={role:"option","aria-disabled":h||void 0,"aria-selected":"none"!==t.selectionManager.selectionMode?p:void 0};ao()&&ac()||(w["aria-label"]=e["aria-label"],w["aria-labelledby"]=y,w["aria-describedby"]=b);let _=t.collection.getItem(u);if(v){let e=Number(null==_?void 0:_.index);w["aria-posinset"]=Number.isNaN(e)?void 0:e+1,w["aria-setsize"]=function(e){let t=cr.get(e);if(null!=t)return t;t=0;let n=r=>{for(let i of r)"section"===i.type?n("function"==typeof e.getChildren?e.getChildren(i.key):i.childNodes):t++};return n(e),cr.set(e,t),t}(t.collection)}let{itemProps:C,isPressed:x,isFocused:k,hasAction:S,allowsSelection:E}=function(e){let{selectionManager:t,key:n,ref:r,shouldSelectOnPressUp:i,shouldUseVirtualFocus:o,focus:s,isDisabled:a,onAction:l,allowsDifferentPressOrigin:c,linkBehavior:u="action"}=e,d=lf(),h=e=>{if("keyboard"===e.pointerType&&aW(e))t.toggleSelection(n);else{if("none"===t.selectionMode)return;if(t.isLink(n)){if("selection"===u){let i=t.getItemProps(n);d.open(r.current,e,i.href,i.routerOptions),t.setSelectedKeys(t.selectedKeys);return}if("override"===u||"none"===u)return}"single"===t.selectionMode?t.isSelected(n)&&!t.disallowEmptySelection?t.toggleSelection(n):t.replaceSelection(n):e&&e.shiftKey?t.extendSelection(n):"toggle"===t.selectionBehavior||e&&(a$(e)||"touch"===e.pointerType||"virtual"===e.pointerType)?t.toggleSelection(n):t.replaceSelection(n)}};(0,ed.useEffect)(()=>{n===t.focusedKey&&t.isFocused&&!o&&(s?s():document.activeElement!==r.current&&lh(r.current))},[r,n,t.focusedKey,t.childFocusStrategy,t.isFocused,o]),a=a||t.isDisabled(n);let p={};o||a?a&&(p.onMouseDown=e=>{e.preventDefault()}):p={tabIndex:n===t.focusedKey?0:-1,onFocus(e){e.target===r.current&&t.setFocusedKey(n)}};let f=t.isLink(n)&&"override"===u,m=t.isLink(n)&&"selection"!==u&&"none"!==u,g=!a&&t.canSelectItem(n)&&!f,v=(l||m)&&!a,y=v&&("replace"===t.selectionBehavior?!g:!g||t.isEmpty),b=v&&g&&"replace"===t.selectionBehavior,w=y||b,_=(0,ed.useRef)(null),C=w&&g,x=(0,ed.useRef)(!1),k=(0,ed.useRef)(!1),S=e=>{if(l&&l(),m){let i=t.getItemProps(n);d.open(r.current,e,i.href,i.routerOptions)}},E={};i?(E.onPressStart=e=>{_.current=e.pointerType,x.current=C,"keyboard"===e.pointerType&&(!w||cn())&&h(e)},c?(E.onPressUp=y?null:e=>{"keyboard"!==e.pointerType&&g&&h(e)},E.onPress=y?S:null):E.onPress=e=>{y||b&&"mouse"!==e.pointerType?("keyboard"!==e.pointerType||ct())&&S(e):"keyboard"!==e.pointerType&&g&&h(e)}):(E.onPressStart=e=>{_.current=e.pointerType,x.current=C,k.current=y,g&&("mouse"===e.pointerType&&!y||"keyboard"===e.pointerType&&(!v||cn()))&&h(e)},E.onPress=e=>{("touch"===e.pointerType||"pen"===e.pointerType||"virtual"===e.pointerType||"keyboard"===e.pointerType&&w&&ct()||"mouse"===e.pointerType&&k.current)&&(w?S(e):g&&h(e))}),p["data-key"]=n,E.preventFocusOnPress=o;let{pressProps:T,isPressed:P}=lX(E),I=b?e=>{"mouse"===_.current&&(e.stopPropagation(),e.preventDefault(),S(e))}:void 0,{longPressProps:R}=function(e){let{isDisabled:t,onLongPressStart:n,onLongPressEnd:r,onLongPress:i,threshold:o=500,accessibilityDescription:s}=e,a=(0,ed.useRef)(void 0),{addGlobalListener:l,removeGlobalListener:c}=l$(),{pressProps:u}=lX({isDisabled:t,onPressStart(e){if(e.continuePropagation(),("mouse"===e.pointerType||"touch"===e.pointerType)&&(n&&n({...e,type:"longpressstart"}),a.current=setTimeout(()=>{e.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),i&&i({...e,type:"longpress"}),a.current=void 0},o),"touch"===e.pointerType)){let t=e=>{e.preventDefault()};l(e.target,"contextmenu",t,{once:!0}),l(window,"pointerup",()=>{setTimeout(()=>{c(e.target,"contextmenu",t)},30)},{once:!0})}},onPressEnd(e){a.current&&clearTimeout(a.current),r&&("mouse"===e.pointerType||"touch"===e.pointerType)&&r({...e,type:"longpressend"})}});return{longPressProps:lE(u,function(e){let[t,n]=(0,ed.useState)();return lg(()=>{if(!e)return;let t=ce.get(e);if(t)n(t.element.id);else{let r=`react-aria-description-${l9++}`;n(r);let i=document.createElement("div");i.id=r,i.style.display="none",i.textContent=e,document.body.appendChild(i),t={refCount:0,element:i},ce.set(e,t)}return t.refCount++,()=>{t&&0==--t.refCount&&(t.element.remove(),ce.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}(i&&!t?s:void 0))}}({isDisabled:!C,onLongPress(e){"touch"===e.pointerType&&(h(e),t.setSelectionBehavior("toggle"))}});return{itemProps:lE(p,g||y?T:{},C?R:{},{onDoubleClick:I,onDragStartCapture:e=>{"touch"===_.current&&x.current&&e.preventDefault()},onClick:t.isLink(n)?e=>{lm.isOpening||e.preventDefault()}:void 0}),isPressed:P,isSelected:t.isSelected(n),isFocused:t.isFocused&&t.focusedKey===n,isDisabled:a,allowsSelection:g,hasAction:w}}({selectionManager:t.selectionManager,key:u,ref:n,shouldSelectOnPressUp:f,allowsDifferentPressOrigin:f&&m,isVirtualized:v,shouldUseVirtualFocus:g,isDisabled:h,onAction:(null==d?void 0:d.onAction)?()=>{var e;return null==d?void 0:null===(e=d.onAction)||void 0===e?void 0:e.call(d,u)}:void 0,linkBehavior:null==d?void 0:d.linkBehavior}),{hoverProps:T}=function(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,s]=(0,ed.useState)(!1),a=(0,ed.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,ed.useEffect)(av,[]);let{hoverProps:l,triggerHoverEnd:c}=(0,ed.useMemo)(()=>{let e=(e,r)=>{if(a.pointerType=r,i||"touch"===r||a.isHovered||!e.currentTarget.contains(e.target))return;a.isHovered=!0;let o=e.currentTarget;a.target=o,t&&t({type:"hoverstart",target:o,pointerType:r}),n&&n(!0),s(!0)},o=(e,t)=>{if(a.pointerType="",a.target=null,"touch"===t||!a.isHovered)return;a.isHovered=!1;let i=e.currentTarget;r&&r({type:"hoverend",target:i,pointerType:t}),n&&n(!1),s(!1)},l={};return"undefined"!=typeof PointerEvent?(l.onPointerEnter=t=>{ap&&"mouse"===t.pointerType||e(t,t.pointerType)},l.onPointerLeave=e=>{!i&&e.currentTarget.contains(e.target)&&o(e,e.pointerType)}):(l.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},l.onMouseEnter=t=>{a.ignoreEmulatedMouseEvents||ap||e(t,"mouse"),a.ignoreEmulatedMouseEvents=!1},l.onMouseLeave=e=>{!i&&e.currentTarget.contains(e.target)&&o(e,"mouse")}),{hoverProps:l,triggerHoverEnd:o}},[t,n,r,i,a]);return(0,ed.useEffect)(()=>{i&&c({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:o}}({isDisabled:h||!m,onHoverStart(){aN()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(u))}}),P=s3(null==_?void 0:_.props,{isLink:!!(null==_?void 0:null===(r=_.props)||void 0===r?void 0:r.href)});return delete P.id,{optionProps:{...w,...at(P,C,T),id:function(e,t){let n=ci.get(e);if(!n)throw Error("Unknown list");return`${n.id}-option-${"string"==typeof t?t.replace(/\s*/g,""):""+t}`}(t,u)},labelProps:{id:y},descriptionProps:{id:b},isFocused:k,isFocusVisible:k&&aN(),isSelected:p,isDisabled:h,isPressed:x,allowsSelection:E,hasAction:S}}({key:S,isDisabled:E,"aria-label":t["aria-label"],isVirtualized:c},o,_),F=D,V=(0,ed.useMemo)(()=>cl({...n,isDisabled:E,disableAnimation:w}),[...Object.values(n),E,w]),B=(0,cv.Z)(null==h?void 0:h.base,d);y&&(F=function(e){var t;let n={...null!==(t=e.style)&&void 0!==t?t:{},pointerEvents:"none"};return{...e,style:n}}(F));let z=(0,ed.useMemo)(()=>!!g&&!!L||(ck.tq?R||I:R),[R,I,L,ck.tq,g]),H=(0,ed.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"aria-hidden":(0,cb.PB)(!0),"data-disabled":(0,cb.PB)(E),className:V.selectedIcon({class:null==h?void 0:h.selectedIcon}),...e}},[E,V,h]);return{Component:C,domRef:_,slots:V,classNames:h,isSelectable:T,isSelected:M,isDisabled:E,rendered:k,description:s,startContent:a,endContent:l,selectedIcon:u,hideSelectedIcon:v,disableAnimation:w,getItemProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ref:_,...(0,sX.dG)({onClick:m},F,y?{}:(0,sX.dG)(N,P),O,(0,cw.z)(b,{enabled:x}),e),"data-selectable":(0,cb.PB)(T),"data-focus":(0,cb.PB)(L),"data-hover":(0,cb.PB)(z),"data-disabled":(0,cb.PB)(E),"data-selected":(0,cb.PB)(M),"data-pressed":(0,cb.PB)(I),"data-focus-visible":(0,cb.PB)(A),className:V.base({class:(0,cv.Z)(B,e.className)})}},getLabelProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...(0,sX.dG)(j,e),"data-label":(0,cb.PB)(!0),className:V.title({class:null==h?void 0:h.title})}},getWrapperProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...(0,sX.dG)(e),className:V.wrapper({class:null==h?void 0:h.wrapper})}},getDescriptionProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...(0,sX.dG)(U,e),className:V.description({class:null==h?void 0:h.description})}},getSelectedIconProps:H}}(e),y=(0,ed.useMemo)(()=>{let e=(0,ee.jsx)(cy,{disableAnimation:h,isSelected:s});return"function"==typeof l?l({icon:e,isSelected:s,isDisabled:a}):l||e},[l,s,a,h]);return(0,ee.jsxs)(n,{...p(),children:[c,i?(0,ee.jsxs)("div",{...m(),children:[(0,ee.jsx)("span",{...f(),children:r}),(0,ee.jsx)("span",{...g(),children:i})]}):(0,ee.jsx)("span",{...f(),children:r}),!!o&&!d&&(0,ee.jsx)("span",{...v(),children:y}),u]})});cS.displayName="NextUI.ListboxItem";let cE=(0,ed.forwardRef)((e,t)=>{let{item:n,state:r,as:i,variant:o,color:s,disableAnimation:a,className:l,classNames:c,hideSelectedIcon:u,showDivider:d=!1,dividerProps:h={},itemClasses:p,title:f,...m}=e,g=(0,ed.useMemo)(()=>cc(),[]),v=(0,cv.W)(null==c?void 0:c.base,l),y=(0,cv.W)(null==c?void 0:c.divider,null==h?void 0:h.className),{itemProps:b,headingProps:w,groupProps:_}=function(e){let{heading:t,"aria-label":n}=e,r=s7();return{itemProps:{role:"presentation"},headingProps:t?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":t?r:void 0}}}({heading:n.rendered,"aria-label":n["aria-label"]});return(0,ee.jsxs)(i||"li",{"data-slot":"base",...(0,sX.dG)(b,m),className:g.base({class:v}),children:[!!n.rendered&&(0,ee.jsx)("span",{...w,className:g.heading({class:null==c?void 0:c.heading}),"data-slot":"heading",children:n.rendered}),(0,ee.jsxs)("ul",{..._,className:g.group({class:null==c?void 0:c.group}),"data-has-title":!!n.rendered,"data-slot":"group",children:[[...n.childNodes].map(e=>{let{key:t,props:n}=e,i=(0,ee.jsx)(cS,{classNames:p,color:s,disableAnimation:a,hideSelectedIcon:u,item:e,state:r,variant:o,...n},t);return e.wrapper&&(i=e.wrapper(i)),i}),!!d&&(0,ee.jsx)(cg,{as:"li",className:g.divider({class:y}),...h})]})]},n.key)});cE.displayName="NextUI.ListboxSection";class cT extends Set{constructor(e,t,n){super(e),e instanceof cT?(this.anchorKey=t||e.anchorKey,this.currentKey=n||e.currentKey):(this.anchorKey=t,this.currentKey=n)}}function cP(e,t){return e?"all"===e?"all":new cT(e):t}function cI(e,t,n){if(t.parentKey===n.parentKey)return t.index-n.index;let r=[...cR(e,t),t],i=[...cR(e,n),n],o=r.slice(0,i.length).findIndex((e,t)=>e!==i[t]);return -1!==o?(t=r[o],n=i[o],t.index-n.index):r.findIndex(e=>e===n)>=0?1:(i.findIndex(e=>e===t),-1)}function cR(e,t){let n=[];for(;(null==t?void 0:t.parentKey)!=null;)n.unshift(t=e.getItem(t.parentKey));return n}class cO{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(null==e||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return"all"===this.state.selectedKeys?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return"none"!==this.state.selectionMode&&(e=this.getKey(e),"all"===this.state.selectedKeys?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return"all"!==this.state.selectedKeys&&0===this.state.selectedKeys.size}get isSelectAll(){if(this.isEmpty)return!1;if("all"===this.state.selectedKeys)return!0;if(null!=this._isSelectAll)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(e=>t.has(e)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&0>cI(this.collection,n,e))&&(e=n)}return null==e?void 0:e.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&cI(this.collection,n,e)>0)&&(e=n)}return null==e?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){let t;if("none"!==this.selectionMode){if("single"===this.selectionMode){this.replaceSelection(e);return}if(e=this.getKey(e),"all"===this.state.selectedKeys)t=new cT([e],e,e);else{let n=this.state.selectedKeys,r=n.anchorKey||e;for(let i of(t=new cT(n,r,e),this.getKeyRange(r,n.currentKey||e)))t.delete(i);for(let n of this.getKeyRange(e,r))this.canSelectItem(n)&&t.add(n)}this.state.setSelectedKeys(t)}}getKeyRange(e,t){let n=this.collection.getItem(e),r=this.collection.getItem(t);return n&&r?0>=cI(this.collection,n,r)?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let n=[],r=e;for(;r;){let e=this.collection.getItem(r);if((e&&"item"===e.type||"cell"===e.type&&this.allowsCellSelection)&&n.push(r),r===t)return n;r=this.collection.getKeyAfter(r)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||"cell"===t.type&&this.allowsCellSelection)return e;for(;"item"!==t.type&&null!=t.parentKey;)t=this.collection.getItem(t.parentKey);return t&&"item"===t.type?t.key:null}toggleSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode&&!this.isSelected(e)){this.replaceSelection(e);return}if(null==(e=this.getKey(e)))return;let t=new cT("all"===this.state.selectedKeys?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),this.disallowEmptySelection&&0===t.size||this.state.setSelectedKeys(t)}replaceSelection(e){if("none"===this.selectionMode||null==(e=this.getKey(e)))return;let t=this.canSelectItem(e)?new cT([e],e,e):new cT;this.state.setSelectedKeys(t)}setSelectedKeys(e){if("none"===this.selectionMode)return;let t=new cT;for(let n of e)if(null!=(n=this.getKey(n))&&(t.add(n),"single"===this.selectionMode))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=n=>{for(;null!=n;){if(this.canSelectItem(n)){let i=this.collection.getItem(n);if("item"===i.type&&e.push(n),i.hasChildNodes&&(this.allowsCellSelection||"item"!==i.type)){var r;t(function(e,t){let n=0;for(let t of e){if(0===n)return t;n++}}("function"==typeof(r=this.collection).getChildren?r.getChildren(i.key):i.childNodes,0).key)}}n=this.collection.getKeyAfter(n)}};return t(this.collection.getFirstKey()),e}selectAll(){this.isSelectAll||"multiple"!==this.selectionMode||this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&("all"===this.state.selectedKeys||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new cT)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){"none"!==this.selectionMode&&("single"===this.selectionMode?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):"toggle"===this.selectionBehavior||t&&("touch"===t.pointerType||"virtual"===t.pointerType)?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;for(let n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){var t;if("none"===this.state.selectionMode||this.state.disabledKeys.has(e))return!1;let n=this.collection.getItem(e);return!!n&&(null==n||null===(t=n.props)||void 0===t||!t.isDisabled)&&("cell"!==n.type||!!this.allowsCellSelection)}isDisabled(e){var t,n;return"all"===this.state.disabledBehavior&&(this.state.disabledKeys.has(e)||!!(null===(n=this.collection.getItem(e))||void 0===n?void 0:null===(t=n.props)||void 0===t?void 0:t.isDisabled))}isLink(e){var t,n;return!!(null===(n=this.collection.getItem(e))||void 0===n?void 0:null===(t=n.props)||void 0===t?void 0:t.href)}getItemProps(e){var t;return null===(t=this.collection.getItem(e))||void 0===t?void 0:t.props}constructor(e,t,n){var r;this.collection=e,this.state=t,this.allowsCellSelection=null!==(r=null==n?void 0:n.allowsCellSelection)&&void 0!==r&&r,this._isSelectAll=null}}class cA{build(e,t){return this.context=t,cN(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:n}=e;if("function"==typeof t){if(!n)throw Error("props.children was a function but props.items is missing");for(let n of e.items)yield*this.getFullNode({value:n},{renderer:t})}else{let e=[];ed.Children.forEach(t,t=>{e.push(t)});let n=0;for(let t of e)for(let e of this.getFullNode({element:t,index:n},{}))n++,yield e}}getKey(e,t,n,r){if(null!=e.key)return e.key;if("cell"===t.type&&null!=t.key)return`${r}${t.key}`;let i=t.value;if(null!=i){var o;let e=null!==(o=i.key)&&void 0!==o?o:i.id;if(null==e)throw Error("No key found for item");return e}return r?`${r}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,n,r){let i=e.element;if(!i&&e.value&&t&&t.renderer){let n=this.cache.get(e.value);if(n&&(!n.shouldInvalidate||!n.shouldInvalidate(this.context))){n.index=e.index,n.parentKey=r?r.key:null,yield n;return}i=t.renderer(e.value)}if(ed.isValidElement(i)){let o=i.type;if("function"!=typeof o&&"function"!=typeof o.getCollectionNode){let e="function"==typeof i.type?i.type.name:i.type;throw Error(`Unknown element <${e}> in collection.`)}let s=o.getCollectionNode(i.props,this.context),a=e.index,l=s.next();for(;!l.done&&l.value;){let o=l.value;e.index=a;let c=o.key;c||(c=o.element?null:this.getKey(i,e,t,n));let u=[...this.getFullNode({...o,key:c,index:a,wrapper:function(e,t){return e&&t?n=>e(t(n)):e||t||void 0}(e.wrapper,o.wrapper)},this.getChildState(t,o),n?`${n}${i.key}`:i.key,r)];for(let t of u){if(t.value=o.value||e.value,t.value&&this.cache.set(t.value,t),e.type&&t.type!==e.type)throw Error(`Unsupported type <${cL(t.type)}> in <${cL(r.type)}>. Only <${cL(e.type)}> is supported.`);a++,yield t}l=s.next(u)}return}if(null==e.key)return;let o=this,s={type:e.type,props:e.props,key:e.key,parentKey:r?r.key:null,value:e.value,level:r?r.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:cN(function*(){if(!e.hasChildNodes)return;let n=0;for(let r of e.childNodes())for(let e of(null!=r.key&&(r.key=`${s.key}${r.key}`),r.index=n,o.getFullNode(r,o.getChildState(t,r),s.key,s)))n++,yield e})};yield s}constructor(){this.cache=new WeakMap}}function cN(e){let t=[],n=null;return{*[Symbol.iterator](){for(let e of t)yield e;for(let r of(n||(n=e()),n))t.push(r),yield r}}}function cL(e){return e[0].toUpperCase()+e.slice(1)}class cM{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){let t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(null==t?void 0:t.childNodes)||[]}constructor(e){let t;this.keyMap=new Map,this.iterable=e;let n=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&"section"===e.type)for(let t of e.childNodes)n(t)};for(let t of e)n(t);let r=0;for(let[e,n]of this.keyMap)t?(t.nextKey=e,n.prevKey=t.key):(this.firstKey=e,n.prevKey=void 0),"item"===n.type&&(n.index=r++),(t=n).nextKey=void 0;this.lastKey=null==t?void 0:t.key}}var cD=n(11581);function cj(e,t){let{Component:n,state:r,color:i,variant:o,itemClasses:s,getBaseProps:a,topContent:l,bottomContent:c,hideEmptyContent:u,hideSelectedIcon:d,shouldHighlightOnFocus:h,disableAnimation:p,getEmptyContentProps:f,getListProps:m}=function(e){let{ref:t,as:n,state:r,variant:i,color:o,onAction:s,children:a,onSelectionChange:l,disableAnimation:c,itemClasses:u,className:d,topContent:h,bottomContent:p,emptyContent:f="No items.",hideSelectedIcon:m=!1,hideEmptyContent:g=!1,shouldHighlightOnFocus:v=!1,classNames:y,...b}=e,w=n||"ul",_="string"==typeof w,C=(0,cD.gy)(t),x=function(e){let{filter:t}=e,n=function(e){let{selectionMode:t="none",disallowEmptySelection:n,allowDuplicateSelectionEvents:r,selectionBehavior:i="toggle",disabledBehavior:o="all"}=e,s=(0,ed.useRef)(!1),[,a]=(0,ed.useState)(!1),l=(0,ed.useRef)(null),c=(0,ed.useRef)(null),[,u]=(0,ed.useState)(null),[d,h]=function(e,t,n){let[r,i]=(0,ed.useState)(e||t),o=(0,ed.useRef)(void 0!==e),s=void 0!==e;(0,ed.useEffect)(()=>{let e=o.current;e!==s&&console.warn(`WARN: A component changed from ${e?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}.`),o.current=s},[s]);let a=s?e:r,l=(0,ed.useCallback)((e,...t)=>{let r=(e,...t)=>{n&&!Object.is(a,e)&&n(e,...t),s||(a=e)};"function"==typeof e?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((n,...i)=>{let o=e(s?a:n,...i);return(r(o,...t),s)?n:o})):(s||i(e),r(e,...t))},[s,a,n]);return[a,l]}((0,ed.useMemo)(()=>cP(e.selectedKeys),[e.selectedKeys]),(0,ed.useMemo)(()=>cP(e.defaultSelectedKeys,new cT),[e.defaultSelectedKeys]),e.onSelectionChange),p=(0,ed.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[f,m]=(0,ed.useState)(i);"replace"===i&&"toggle"===f&&"object"==typeof d&&0===d.size&&m("replace");let g=(0,ed.useRef)(i);return(0,ed.useEffect)(()=>{i!==g.current&&(m(i),g.current=i)},[i]),{selectionMode:t,disallowEmptySelection:n,selectionBehavior:f,setSelectionBehavior:m,get isFocused(){return s.current},setFocused(e){s.current=e,a(e)},get focusedKey(){return l.current},get childFocusStrategy(){return c.current},setFocusedKey(e,t="first"){l.current=e,c.current=t,u(e)},selectedKeys:d,setSelectedKeys(e){(r||!function(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}(e,d))&&h(e)},disabledKeys:p,disabledBehavior:o}}(e),r=(0,ed.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),i=(0,ed.useCallback)(e=>new cM(t?t(e):e),[t]),o=(0,ed.useMemo)(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),s=function(e,t,n){let r=(0,ed.useMemo)(()=>new cA,[]),{children:i,items:o,collection:s}=e;return(0,ed.useMemo)(()=>s||t(r.build({children:i,items:o},n)),[r,i,o,s,n,t])}(e,i,o),a=(0,ed.useMemo)(()=>new cO(s,n),[s,n]),l=(0,ed.useRef)(null);return(0,ed.useEffect)(()=>{if(null!=n.focusedKey&&!s.getItem(n.focusedKey)){let e;let t=l.current.getItem(n.focusedKey),r=[...l.current.getKeys()].map(e=>{let t=l.current.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),i=[...s.getKeys()].map(e=>{let t=s.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),o=r.length-i.length,c=Math.min(o>1?Math.max(t.index-o+1,0):t.index,i.length-1);for(;c>=0;){if(!a.isDisabled(i[c].key)){e=i[c];break}c<i.length-1?c++:(c>t.index&&(c=t.index),c--)}n.setFocusedKey(e?e.key:null)}l.current=s},[s,a,n,n.focusedKey]),{collection:s,disabledKeys:r,selectionManager:a}}({...e,children:a,onSelectionChange:l}),k=r||x,{listBoxProps:S}=function(e,t,n){let r=s3(e,{labelable:!0}),i=e.selectionBehavior||"toggle",o=e.linkBehavior||("replace"===i?"action":"override");"toggle"===i&&"action"===o&&(o="override");let{listProps:s}=function(e){let{selectionManager:t,collection:n,disabledKeys:r,ref:i,keyboardDelegate:o,layoutDelegate:s}=e,a=function(e){let{locale:t}=lM(),n=t+(e?Object.entries(e).sort((e,t)=>e[0]<t[0]?-1:1).join():"");if(lU.has(n))return lU.get(n);let r=new Intl.Collator(t,e);return lU.set(n,r),r}({usage:"search",sensitivity:"base"}),l=t.disabledBehavior,c=(0,ed.useMemo)(()=>o||new lj({collection:n,disabledKeys:r,disabledBehavior:l,ref:i,collator:a,layoutDelegate:s}),[o,s,n,r,i,a,l]),{collectionProps:u}=function(e){let t,{selectionManager:n,keyboardDelegate:r,ref:i,autoFocus:o=!1,shouldFocusWrap:s=!1,disallowEmptySelection:a=!1,disallowSelectAll:l=!1,selectOnFocus:c="replace"===n.selectionBehavior,disallowTypeAhead:u=!1,shouldUseVirtualFocus:d,allowsTabNavigation:h=!1,isVirtualized:p,scrollRef:f=i,linkBehavior:m="action"}=e,{direction:g}=lM(),v=lf(),y=(0,ed.useRef)({top:0,left:0});ly(f,"scroll",p?null:()=>{y.current={top:f.current.scrollTop,left:f.current.scrollLeft}});let b=(0,ed.useRef)(o);(0,ed.useEffect)(()=>{if(b.current){let e=null;"first"===o&&(e=r.getFirstKey()),"last"===o&&(e=r.getLastKey());let t=n.selectedKeys;if(t.size){for(let r of t)if(n.canSelectItem(r)){e=r;break}}n.setFocused(!0),n.setFocusedKey(e),null!=e||d||lh(i.current)}},[]);let w=(0,ed.useRef)(n.focusedKey);(0,ed.useEffect)(()=>{if(n.isFocused&&null!=n.focusedKey&&(n.focusedKey!==w.current||b.current)&&(null==f?void 0:f.current)){let e=a9,t=i.current.querySelector(`[data-key="${CSS.escape(n.focusedKey.toString())}"]`);if(!t)return;("keyboard"===e||b.current)&&(lw(f.current,t),"virtual"!==e&&lC(t,{containingElement:i.current}))}n.isFocused&&null==n.focusedKey&&null!=w.current&&lh(i.current),w.current=n.focusedKey,b.current=!1}),ly(i,"react-aria-focus-scope-restore",e=>{e.preventDefault(),n.setFocused(!0)});let _={onKeyDown:e=>{var t,o,u,d,p,y,b,w,_,C;if(e.altKey&&"Tab"===e.key&&e.preventDefault(),!i.current.contains(e.target))return;let x=(t,r)=>{if(null!=t){if(n.isLink(t)&&"selection"===m&&c&&!aW(e)){(0,e9.flushSync)(()=>{n.setFocusedKey(t,r)});let i=f.current.querySelector(`[data-key="${CSS.escape(t.toString())}"]`),o=n.getItemProps(t);v.open(i,e,o.href,o.routerOptions);return}n.setFocusedKey(t,r),n.isLink(t)&&"override"===m||(e.shiftKey&&"multiple"===n.selectionMode?n.extendSelection(t):c&&!aW(e)&&n.replaceSelection(t))}};switch(e.key){case"ArrowDown":if(r.getKeyBelow){e.preventDefault();let i=null!=n.focusedKey?r.getKeyBelow(n.focusedKey):null===(t=r.getFirstKey)||void 0===t?void 0:t.call(r);null==i&&s&&(i=null===(o=r.getFirstKey)||void 0===o?void 0:o.call(r,n.focusedKey)),x(i)}break;case"ArrowUp":if(r.getKeyAbove){e.preventDefault();let t=null!=n.focusedKey?r.getKeyAbove(n.focusedKey):null===(u=r.getLastKey)||void 0===u?void 0:u.call(r);null==t&&s&&(t=null===(d=r.getLastKey)||void 0===d?void 0:d.call(r,n.focusedKey)),x(t)}break;case"ArrowLeft":if(r.getKeyLeftOf){e.preventDefault();let t=r.getKeyLeftOf(n.focusedKey);null==t&&s&&(t="rtl"===g?null===(p=r.getFirstKey)||void 0===p?void 0:p.call(r,n.focusedKey):null===(y=r.getLastKey)||void 0===y?void 0:y.call(r,n.focusedKey)),x(t,"rtl"===g?"first":"last")}break;case"ArrowRight":if(r.getKeyRightOf){e.preventDefault();let t=r.getKeyRightOf(n.focusedKey);null==t&&s&&(t="rtl"===g?null===(b=r.getLastKey)||void 0===b?void 0:b.call(r,n.focusedKey):null===(w=r.getFirstKey)||void 0===w?void 0:w.call(r,n.focusedKey)),x(t,"rtl"===g?"last":"first")}break;case"Home":if(r.getFirstKey){e.preventDefault();let t=r.getFirstKey(n.focusedKey,a$(e));n.setFocusedKey(t),a$(e)&&e.shiftKey&&"multiple"===n.selectionMode?n.extendSelection(t):c&&n.replaceSelection(t)}break;case"End":if(r.getLastKey){e.preventDefault();let t=r.getLastKey(n.focusedKey,a$(e));n.setFocusedKey(t),a$(e)&&e.shiftKey&&"multiple"===n.selectionMode?n.extendSelection(t):c&&n.replaceSelection(t)}break;case"PageDown":r.getKeyPageBelow&&(e.preventDefault(),x(r.getKeyPageBelow(n.focusedKey)));break;case"PageUp":r.getKeyPageAbove&&(e.preventDefault(),x(r.getKeyPageAbove(n.focusedKey)));break;case"a":a$(e)&&"multiple"===n.selectionMode&&!0!==l&&(e.preventDefault(),n.selectAll());break;case"Escape":a||0===n.selectedKeys.size||(e.stopPropagation(),e.preventDefault(),n.clearSelection());break;case"Tab":if(!h){if(e.shiftKey)i.current.focus();else{let e,t;let n,r,o=(_=i.current,e=(C={tabbable:!0}).tabbable?aQ:aX,t=aZ(_).createTreeWalker(_,NodeFilter.SHOW_ELEMENT,{acceptNode(t){var n;return(null==C?void 0:null===(n=C.from)||void 0===n?void 0:n.contains(t))?NodeFilter.FILTER_REJECT:t.matches(e)&&function e(t,n){return"#comment"!==t.nodeName&&function(e){let t=aJ(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,i="none"!==n&&"hidden"!==r&&"collapse"!==r;if(i){let{getComputedStyle:t}=e.ownerDocument.defaultView,{display:n,visibility:r}=t(e);i="none"!==n&&"hidden"!==r&&"collapse"!==r}return i}(t)&&!t.hasAttribute("hidden")&&!t.hasAttribute("data-react-aria-prevent-focus")&&("DETAILS"!==t.nodeName||!n||"SUMMARY"===n.nodeName||t.hasAttribute("open"))&&(!t.parentElement||e(t.parentElement,t))}(t)&&(!(null==C?void 0:C.accept)||C.accept(t))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),(null==C?void 0:C.from)&&(t.currentNode=C.from),t);do(r=o.lastChild())&&(n=r);while(r);n&&!n.contains(document.activeElement)&&a6(n)}}}},onFocus:e=>{if(n.isFocused){e.currentTarget.contains(e.target)||n.setFocused(!1);return}if(e.currentTarget.contains(e.target)){if(n.setFocused(!0),null==n.focusedKey){var t,o;let i=e=>{null!=e&&(n.setFocusedKey(e),c&&n.replaceSelection(e))},s=e.relatedTarget;s&&e.currentTarget.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING?i(null!==(t=n.lastSelectedKey)&&void 0!==t?t:r.getLastKey()):i(null!==(o=n.firstSelectedKey)&&void 0!==o?o:r.getFirstKey())}else p||(f.current.scrollTop=y.current.top,f.current.scrollLeft=y.current.left);if(null!=n.focusedKey){let e=f.current.querySelector(`[data-key="${CSS.escape(n.focusedKey.toString())}"]`);e&&(e.contains(document.activeElement)||a6(e),"keyboard"===a9&&lC(e,{containingElement:i.current}))}}},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||n.setFocused(!1)},onMouseDown(e){f.current===e.target&&e.preventDefault()}},{typeSelectProps:C}=function(e){let{keyboardDelegate:t,selectionManager:n,onTypeSelect:r}=e,i=(0,ed.useRef)({search:"",timeout:null}).current;return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?e=>{var o;let s=1!==(o=e.key).length&&/^[A-Z]/i.test(o)?"":o;if(!s||e.ctrlKey||e.metaKey||!e.currentTarget.contains(e.target))return;" "!==s||!(i.search.trim().length>0)||(e.preventDefault(),"continuePropagation"in e||e.stopPropagation()),i.search+=s;let a=t.getKeyForSearch(i.search,n.focusedKey);null==a&&(a=t.getKeyForSearch(i.search)),null!=a&&(n.setFocusedKey(a),r&&r(a)),clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},1e3)}:null}}}({keyboardDelegate:r,selectionManager:n});return u||(_=lE(C,_)),d||(t=null==n.focusedKey?0:-1),{collectionProps:{..._,tabIndex:t}}}({...e,ref:i,selectionManager:t,keyboardDelegate:c});return{listProps:u}}({...e,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,linkBehavior:o}),{focusWithinProps:a}=function(e){let t,n,{isDisabled:r,onBlurWithin:i,onFocusWithin:o,onFocusWithinChange:s}=e,a=(0,ed.useRef)({isFocusWithin:!1}),l=(0,ed.useCallback)(e=>{a.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(a.current.isFocusWithin=!1,i&&i(e),s&&s(!1))},[i,s,a]),c=(t=(0,ed.useRef)({isFocused:!1,observer:null}),s4(()=>{let e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]),n=s5(e=>{null==l||l(e)}),(0,ed.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target;r.addEventListener("focusout",e=>{t.current.isFocused=!1,r.disabled&&n(new ah("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)},{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])),u=(0,ed.useCallback)(e=>{a.current.isFocusWithin||document.activeElement!==e.target||(o&&o(e),s&&s(!0),a.current.isFocusWithin=!0,c(e))},[o,s,c]);return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}({onFocusWithin:e.onFocus,onBlurWithin:e.onBlur,onFocusWithinChange:e.onFocusChange}),l=s7(e.id);ci.set(t,{id:l,shouldUseVirtualFocus:e.shouldUseVirtualFocus,shouldSelectOnPressUp:e.shouldSelectOnPressUp,shouldFocusOnHover:e.shouldFocusOnHover,isVirtualized:e.isVirtualized,onAction:e.onAction,linkBehavior:o});let{labelProps:c,fieldProps:u}=(0,aL.N)({...e,id:l,labelElementType:"span"});return{labelProps:c,listBoxProps:at(r,a,"multiple"===t.selectionManager.selectionMode?{"aria-multiselectable":"true"}:{},{role:"listbox",...at(u,s)})}}({...e,onAction:s},k,C),E=(0,ed.useMemo)(()=>ca({className:d}),[,d]),T=(0,cv.Z)(null==y?void 0:y.base,d);return{Component:w,state:k,variant:i,color:o,slots:E,classNames:y,topContent:h,bottomContent:p,emptyContent:f,hideEmptyContent:g,shouldHighlightOnFocus:v,hideSelectedIcon:m,disableAnimation:c,className:d,itemClasses:u,getBaseProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ref:C,"data-slot":"base",className:E.base({class:T}),...(0,cw.z)(b,{enabled:_}),...e}},getListProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"data-slot":"list",className:E.list({class:null==y?void 0:y.list}),...S,...e}},getEmptyContentProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"data-slot":"empty-content",children:f,className:E.emptyContent({class:null==y?void 0:y.emptyContent}),...e}}}}({...e,ref:t}),g=(0,ee.jsxs)(n,{...m(),children:[!r.collection.size&&!u&&(0,ee.jsx)("li",{children:(0,ee.jsx)("div",{...f()})}),[...r.collection].map(e=>{var t;let n={color:i,item:e,state:r,variant:o,disableAnimation:p,hideSelectedIcon:d,...e.props};if("section"===e.type)return(0,ee.jsx)(cE,{...n,itemClasses:s},e.key);let a=(0,ee.jsx)(cS,{...n,classNames:(0,sX.dG)(s,null===(t=e.props)||void 0===t?void 0:t.classNames),shouldHighlightOnFocus:h},e.key);return e.wrapper&&(a=e.wrapper(a)),a})]});return(0,ee.jsxs)("div",{...a(),children:[l,g,c]})}cj.displayName="NextUI.Listbox";var cU=(0,ed.forwardRef)(cj);function cF(e){return null}function cV(e){return null}cj.displayName="NextUI.Listbox",cF.getCollectionNode=function*(e,t){let{childItems:n,title:r,children:i}=e,o=e.title||e.children,s=e.textValue||("string"==typeof o?o:"")||e["aria-label"]||"";s||(null==t?void 0:t.suppressTextValueWarning)||console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:o,textValue:s,"aria-label":e["aria-label"],hasChildNodes:null!=e.hasChildItems?e.hasChildItems:!!(e.childItems||e.title&&ed.Children.count(e.children)>0),*childNodes(){if(n)for(let e of n)yield{type:"item",value:e};else if(r){let e=[];ed.Children.forEach(i,t=>{e.push({type:"item",element:t})}),yield*e}}}},cV.getCollectionNode=function*(e){let{children:t,title:n,items:r}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:n,"aria-label":e["aria-label"],*childNodes(){if("function"==typeof t){if(!r)throw Error("props.children was a function but props.items is missing");for(let e of r)yield{type:"item",value:e,renderer:t}}else{let e=[];ed.Children.forEach(t,t=>{e.push({type:"item",element:t})}),yield*e}}}},new WeakMap;var cB=n(12494),cz=n(83862),cH=n(7979),cq=n(88585);let cK="new character",cG=e=>{let{character_id:t,onDropdownOpen:n,onDropdownClose:r}=e,[i,o]=(0,ed.useState)(!1),s=(0,cz.YQ)(),[a,l]=(0,ed.useState)(!1);return((0,ed.useEffect)(()=>{l(!0)},[]),(0,ed.useEffect)(()=>{i?n(t):setTimeout(()=>null==r?void 0:r(t),250)},[i,t,n,r]),a)?(0,ee.jsxs)(sY.h_,{open:i,onOpenChange:e=>o(e),children:[(0,ee.jsx)(sY.$F,{asChild:!0,children:(0,ee.jsx)(sa.zx,{variant:"ghost",className:(0,eR.cn)("min-w-unit-6 w-unit-6 h-unit-6 bg-transparent hover:bg-background opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-all",{"opacity-100":i||s}),onPress:()=>o(e=>!e),size:"sm",isIconOnly:!0,preventDefault:!0,children:(0,ee.jsx)(sO.evw,{})})}),(0,ee.jsx)(sY.AW,{align:"end",className:(0,eR.cn)("flex flex-col rounded-spacing-m overflow-hidden shadow-md",{"mt-25":ck.tq}),side:ck.tq?"bottom":"right",sideOffset:ck.tq?-100:void 0,alignOffset:ck.tq?-40:void 0,children:(0,ee.jsx)(sY.Xi,{children:(0,ee.jsx)(cq.y,{character_id:t,referrer:"GuideRecentChats",onCallback:()=>{o(!1)}})})})]}):null};function cW(e){let{recentCharacters:t,isRecentLoading:n,isError:r,refetch:i}=e,{t:o}=(0,eh.$G)(),[s,a]=(0,ed.useState)(""),[l,c]=(0,ed.useState)(""),{asPath:u}=(0,eu.useRouter)(),d=(0,eu.useRouter)(),h=(0,cz.YQ)(),p=d.query.id,f="object"!=typeof p&&u.startsWith(sc.nN.character(p)),{charData:m}=(0,cB.FF)(),g=t.map(e=>"scene_id"in e?e.scene_id:void 0).filter(e=>void 0!==e),{scenes:v}=(0,cH.P_)([...new Set(g)]),y=(0,ed.useMemo)(()=>v.reduce((e,t)=>(e[t.scene_id]=t,e),{}),[v]),b=(0,ed.useMemo)(()=>{if(f)return m?{title:"",characters:[{id:m.external_id,character_id:m.external_id,name:m.name,avatar_file_name:m.avatar_file_name,date:new Date().toDateString(),isNeo:!0,character_visibility:m.visibility}]}:{title:"",characters:[{id:cK,character_id:cK,name:o("CharacterEditor.new-character"),avatar_file_name:"",date:new Date().toDateString(),isNeo:!0,character_visibility:"PRIVATE"}]}},[m,f,o]),w=(0,ed.useMemo)(()=>{let e=sJ(t).filter(e=>e.characters.length>0);return b?[b,...e]:e},[t,b]),_=(0,ed.useCallback)(e=>e.id===cK&&u.startsWith(sc.nN.character()),[u]),C=(0,ed.useCallback)(e=>u.startsWith(sc.nN.character(e.id)),[u]),x=e=>{a(e)},k=e=>{s===e&&a("")};if(n)return(0,ee.jsxs)("div",{className:"flex flex-col overflow-hidden pt-2 md:pt-5 relative flex-1",children:[(0,ee.jsx)("div",{className:"text-foreground hidden lg:block ml-5",children:(0,ee.jsx)("p",{className:"text-md-medium",children:o("Guide.chats")})}),(0,ee.jsx)("div",{className:"overflow-hidden mt-7",children:[...Array(20)].map((e,t)=>(0,ee.jsx)(sj.V,{},t))})]});if(r)return(0,ee.jsx)(em.o,{refresh:i});let S=t.map(e=>"title"in e?e.id:e.character_id),E=(e,t,n)=>{let r="title"in e,i=r?e.id:e.character_id,a=r?e.title:e.name,p=r?e.picture:e.avatar_file_name,f=r?e.characters.map(e=>({avatar_url:e.avatar_url,name:e.name})):[],m=r?sc.nN.rooms(i):sc.nN.chat(i);return(0,ee.jsx)(cF,{onMouseEnter:()=>c(i),onMouseLeave:()=>{c("")},className:(0,eR.cn)("w-full mt-1 data-[hover=true]:bg-scrim-8",{"bg-secondary":u.startsWith(sc.nN.chat(i))||_(e)||C(e)||u.startsWith(sc.nN.rooms(i)),"bg-surface-elevation-2":i===s}),isReadOnly:_(e)||C(e),"aria-label":a,onClick:e=>{e.currentTarget===e.target&&(e.preventDefault(),so.iN.characterSelected({link:m,referrer:"GuideRecentChats",type:r?"Room":"Character",character_id:i,all_search_result_ids:S,index:t}),d.push(m))},href:m,startContent:f.length>0?(0,ee.jsx)(sU,{avatars:f}):(0,ee.jsx)(sD.B7,{name:_(e)?"":a,src:p,size:32,className:(0,eR.cn)("shrink-0 grow-0",{"border-1 border-accent":_(e)}),backgroundOverride:_(e)?"var(--background)":void 0}),children:(0,ee.jsxs)("div",{className:"w-full flex flex-row items-center",children:[(0,ee.jsxs)("div",{className:(0,eR.cn)("text-md group-hover:truncate truncate flex-1 flex flex-col w-full",{"text-muted-foreground":_(e)||C(e)}),children:[C(e)?o("CharacterEditor.editing-character",{name:a}):a,!!n&&(0,ee.jsxs)("div",{className:"flex flex-row text-muted-foreground text-xs w-full items-center text-ellipsis",children:[(0,ee.jsx)(sg.ma8,{className:"size-3 mr-0.5 shrink-0"}),(0,ee.jsx)("div",{className:"align-middle text-ellipsis w-full",children:n.title})]})]}),!r&&!C(e)&&!!(i===l||i===s||h)&&(0,ee.jsx)(cG,{character_id:e.character_id,onDropdownOpen:x,onDropdownClose:k})]})},i)};return(0,ee.jsxs)("div",{className:"flex flex-col overflow-hidden pt-2 md:pt-5 relative flex-1",children:[(0,ee.jsx)(sZ,{recentCharacters:t}),(0,ee.jsx)(cU,{emptyContent:"",className:"overflow-x-auto p-4 pt-3",hideSelectedIcon:!0,selectionMode:"single",color:"secondary",variant:"primary","aria-label":"Recent Chats",children:w.map(e=>{let{characters:t,title:n}=e;return(0,ee.jsx)(cV,{title:n?o("Guide.RecentChatCategoryTitles.".concat(n)):"",children:t.map((e,t)=>{let n="scene_id"in e&&e.scene_id?y[e.scene_id]:void 0;return E(e,t,n)})},n)})})]})}var c$=n(86777);function cZ(){let{user:e}=(0,ex.a)();return e?(0,ee.jsx)(cJ,{}):null}function cJ(){let{recentChats:e,refetch:t,isError:n,isLoading:r}=(0,c$.Z)();return(0,ee.jsx)(cW,{isRecentLoading:r,recentCharacters:e,isError:n,refetch:t})}var cY=n(31001),cX=n(7896),cQ=n(3758),c0=n(46389),c1=n(30017),c2=n(25390),c3=n(85184),c4=n(71656),c5=n(87819),c6=n(87265),c8=n(62745),c7=n(1),c9=n(81722),ue=n(57621),ut=n(64147),un=n(49732),ur=n(22970),ui=n(95346),uo=n(22442),us=(0,n(64597)._)(),ua=function(){},ul=ed.forwardRef(function(e,t){var n=ed.useRef(null),r=ed.useState({onScrollCapture:ua,onWheelCapture:ua,onTouchMoveCapture:ua}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,p=e.noIsolation,f=e.inert,m=e.allowPinchZoom,g=e.as,v=(0,ur._T)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=(0,uo.q)([n,t]),b=(0,ur.pi)((0,ur.pi)({},v),i);return ed.createElement(ed.Fragment,null,u&&ed.createElement(h,{sideCar:us,removeScrollBar:c,shards:d,noIsolation:p,inert:f,setCallbacks:o,allowPinchZoom:!!m,lockRef:n}),s?ed.cloneElement(ed.Children.only(a),(0,ur.pi)((0,ur.pi)({},b),{ref:y})):ed.createElement(void 0===g?"div":g,(0,ur.pi)({},b,{className:l,ref:y}),a))});ul.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ul.classNames={fullWidth:ui.zi,zeroRight:ui.pF};var uc=n(57758),uu=n(181),ud=n(33225),uh=!1;try{var up=Object.defineProperty({},"passive",{get:function(){return uh=!0,!0}});window.addEventListener("test",up,up),window.removeEventListener("test",up,up)}catch(e){uh=!1}var uf=!!uh&&{passive:!1},um=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===n[t])},ug=function(e,t){var n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),uv(e,n)){var r=uy(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},uv=function(e,t){return"v"===e?um(t,"overflowY"):um(t,"overflowX")},uy=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},ub=function(e,t,n,r,i){var o,s=(o=window.getComputedStyle(t).direction,"h"===e&&"rtl"===o?-1:1),a=s*r,l=n.target,c=t.contains(l),u=!1,d=a>0,h=0,p=0;do{var f=uy(e,l),m=f[0],g=f[1]-f[2]-s*m;(m||g)&&uv(e,l)&&(h+=g,p+=m),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return d&&(i&&0===h||!i&&a>h)?u=!0:!d&&(i&&0===p||!i&&-a>p)&&(u=!0),u},uw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},u_=function(e){return[e.deltaX,e.deltaY]},uC=function(e){return e&&"current"in e?e.current:e},ux=0,uk=[],uS=(0,uc.L)(us,function(e){var t=ed.useRef([]),n=ed.useRef([0,0]),r=ed.useRef(),i=ed.useState(ux++)[0],o=ed.useState(function(){return(0,ud.Ws)()})[0],s=ed.useRef(e);ed.useEffect(function(){s.current=e},[e]),ed.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(0,ur.ev)([e.lockRef.current],(e.shards||[]).map(uC),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=ed.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var i,o=uw(e),a=n.current,l="deltaX"in e?e.deltaX:a[0]-o[0],c="deltaY"in e?e.deltaY:a[1]-o[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=ug(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=ug(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var p=r.current||i;return ub(p,t,e,"h"===p?l:c,!0)},[]),l=ed.useCallback(function(e){if(uk.length&&uk[uk.length-1]===o){var n="deltaY"in e?u_(e):uw(e),r=t.current.filter(function(t){var r;return t.name===e.type&&t.target===e.target&&(r=t.delta)[0]===n[0]&&r[1]===n[1]})[0];if(r&&r.should){e.cancelable&&e.preventDefault();return}if(!r){var i=(s.current.shards||[]).map(uC).filter(Boolean).filter(function(t){return t.contains(e.target)});(i.length>0?a(e,i[0]):!s.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=ed.useCallback(function(e,n,r,i){var o={name:e,delta:n,target:r,should:i};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),u=ed.useCallback(function(e){n.current=uw(e),r.current=void 0},[]),d=ed.useCallback(function(t){c(t.type,u_(t),t.target,a(t,e.lockRef.current))},[]),h=ed.useCallback(function(t){c(t.type,uw(t),t.target,a(t,e.lockRef.current))},[]);ed.useEffect(function(){return uk.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,uf),document.addEventListener("touchmove",l,uf),document.addEventListener("touchstart",u,uf),function(){uk=uk.filter(function(e){return e!==o}),document.removeEventListener("wheel",l,uf),document.removeEventListener("touchmove",l,uf),document.removeEventListener("touchstart",u,uf)}},[]);var p=e.removeScrollBar,f=e.inert;return ed.createElement(ed.Fragment,null,f?ed.createElement(o,{styles:"\n  .block-interactivity-".concat(i," {pointer-events: none;}\n  .allow-interactivity-").concat(i," {pointer-events: all;}\n")}):null,p?ed.createElement(uu.jp,{gapMode:"margin"}):null)}),uE=ed.forwardRef(function(e,t){return ed.createElement(ul,(0,ur.pi)({},e,{ref:t,sideCar:uS}))});uE.classNames=ul.classNames;let uT="Popover",[uP,uI]=(0,c1.b)(uT,[c6.D7]),uR=(0,c6.D7)(),[uO,uA]=uP(uT),uN=(0,ed.forwardRef)((e,t)=>{let{__scopePopover:n,...r}=e,i=uA("PopoverTrigger",n),o=uR(n),s=(0,c0.e)(t,i.triggerRef),a=(0,ed.createElement)(c9.WV.button,(0,cX.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":uz(i.open)},r,{ref:s,onClick:(0,cQ.M)(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?a:(0,ed.createElement)(c6.ee,(0,cX.Z)({asChild:!0},o),a)}),uL="PopoverPortal",[uM,uD]=uP(uL,{forceMount:void 0}),uj="PopoverContent",uU=(0,ed.forwardRef)((e,t)=>{let n=uD(uj,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=uA(uj,e.__scopePopover);return(0,ed.createElement)(c7.z,{present:r||o.open},o.modal?(0,ed.createElement)(uF,(0,cX.Z)({},i,{ref:t})):(0,ed.createElement)(uV,(0,cX.Z)({},i,{ref:t})))}),uF=(0,ed.forwardRef)((e,t)=>{let n=uA(uj,e.__scopePopover),r=(0,ed.useRef)(null),i=(0,c0.e)(t,r),o=(0,ed.useRef)(!1);return(0,ed.useEffect)(()=>{let e=r.current;if(e)return(0,un.Ry)(e)},[]),(0,ed.createElement)(uE,{as:ue.g7,allowPinchZoom:!0},(0,ed.createElement)(uB,(0,cX.Z)({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,cQ.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),o.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,cQ.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;o.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,cQ.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})))}),uV=(0,ed.forwardRef)((e,t)=>{let n=uA(uj,e.__scopePopover),r=(0,ed.useRef)(!1),i=(0,ed.useRef)(!1);return(0,ed.createElement)(uB,(0,cX.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var o,s;null===(o=e.onCloseAutoFocus)||void 0===o||o.call(e,t),t.defaultPrevented||(r.current||null===(s=n.triggerRef.current)||void 0===s||s.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var o,s;null===(o=e.onInteractOutside)||void 0===o||o.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let a=t.target;(null===(s=n.triggerRef.current)||void 0===s?void 0:s.contains(a))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),uB=(0,ed.forwardRef)((e,t)=>{let{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=e,h=uA(uj,n),p=uR(n);return(0,c3.EW)(),(0,ed.createElement)(c4.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},(0,ed.createElement)(c2.XB,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1)},(0,ed.createElement)(c6.VY,(0,cX.Z)({"data-state":uz(h.open),role:"dialog",id:h.contentId},p,d,{ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function uz(e){return e?"open":"closed"}let uH=e=>{let{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=uA(uL,t);return(0,ed.createElement)(uM,{scope:t,forceMount:n},(0,ed.createElement)(c7.z,{present:n||o.open},(0,ed.createElement)(c8.h,{asChild:!0,container:i},r)))},uq=e=>{let{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,a=uR(t),l=(0,ed.useRef)(null),[c,u]=(0,ed.useState)(!1),[d=!1,h]=(0,ut.T)({prop:r,defaultProp:i,onChange:o});return(0,ed.createElement)(c6.fC,a,(0,ed.createElement)(uO,{scope:t,contentId:(0,c5.M)(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:(0,ed.useCallback)(()=>h(e=>!e),[h]),hasCustomAnchor:c,onCustomAnchorAdd:(0,ed.useCallback)(()=>u(!0),[]),onCustomAnchorRemove:(0,ed.useCallback)(()=>u(!1),[]),modal:s},n))},uK=ed.forwardRef((e,t)=>{let{className:n,align:r="center",sideOffset:i=4,...o}=e;return(0,ee.jsx)(uH,{children:(0,ee.jsx)(uU,{ref:t,align:r,sideOffset:i,className:(0,eR.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...o})})});function uG(e){let{icon:t,label:n,onClick:r}=e,[i,o]=(0,ed.useState)(!1),s=(0,ed.isValidElement)(t)?(0,ed.cloneElement)(t,{className:i?"text-icon-primary":"text-icon-secondary"}):t;return(0,ee.jsxs)("div",{className:"m-0.5 px-4 py-2 flex items-center text-md cursor-pointer hover:bg-accent rounded-spacing-xs",onClick:r,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[s,(0,ee.jsx)("div",{className:"ps-3",children:n})]})}function uW(){let{t:e}=(0,eh.$G)(),t=(0,eu.useRouter)(),n=(0,ed.useRef)(null),[r,i]=(0,ed.useState)(!1),o=()=>{n.current&&clearTimeout(n.current),i(!0)},s=()=>{n.current=setTimeout(()=>{i(!1)},300)},a=(0,sq.useStatsigClient)().checkGate(sr.F5.GroupChat,{disableExposureLog:!0});return(0,ee.jsxs)(uq,{open:r,children:[(0,ee.jsx)(uN,{onMouseEnter:o,onMouseLeave:s,asChild:!0,children:(0,ee.jsx)(sa.zx,{color:"secondary",className:"min-h-12 w-32 justify-start bg-surface-elevation-1 border-1 border-surface-elevation-2",startContent:(0,ee.jsx)(sg.pOD,{color:"var(--muted-foreground)",height:"2em"}),onPress:r?s:o,children:e("Guide.create")})}),(0,ee.jsx)(uK,{side:"right",className:"p-0.5 rounded-spacing-s w-44 border-surface-elevation-2",onMouseEnter:o,onMouseLeave:s,style:{marginTop:52},children:(0,ee.jsxs)("div",{className:"flex-col text-xs",children:[(0,ee.jsx)(uG,{icon:(0,ee.jsx)(sg.IHp,{width:20,height:20}),label:e("Guide.character"),onClick:()=>{t.push(sc.nN.character())}}),(0,ee.jsx)(uG,{icon:(0,ee.jsx)(sg.uAs,{width:20,height:20}),label:e("Guide.voice"),onClick:()=>{t.push(sc.nN.voice())}}),!!a&&(0,ee.jsx)(uG,{icon:(0,ee.jsx)(sg.BFJ,{width:20,height:20}),label:e("Common.room"),onClick:()=>{eI.SF.value=void 0,eI.Z6.value=!0}})]})})]})}uK.displayName=uU.displayName;var u$=n(16981),uZ=n(51813),uJ=n(84422);function uY(){let{t:e}=(0,eh.$G)(),t=(0,ta.usePathname)()===sc.nN.home(),n=(0,sq.useGateValue)(sr.F5.CaiVideoGenAccess);return(0,ee.jsxs)("div",{className:"w-full px-4 pt-1",children:[(0,ee.jsx)(uW,{}),(0,ee.jsx)(sa.zx,{as:u$.rU,href:"/",variant:"ghost",className:(0,eR.cn)("min-h-12 justify-start mt-2 w-full rounded-spacing-xs",{"bg-surface-elevation-2":t}),startContent:(0,ee.jsx)(sg._Gj,{color:t?"var(--primary)":"var(--icon-secondary)",height:"2em",className:"mr-1"}),children:e("Guide.discover")}),!!n&&(0,ee.jsx)(sa.zx,{as:u$.rU,target:"_blank",href:"/video",variant:"ghost",className:(0,eR.cn)("min-h-12 justify-start mt-2 w-full rounded-spacing-xs group"),startContent:(0,ee.jsx)(sg.HiY,{height:"2em",width:"2em",className:"mr-2 ml-1",color:"var(--icon-secondary)"}),children:(0,ee.jsxs)("div",{className:"flex flex-row justify-between w-full items-center",children:[(0,ee.jsx)(uJ.l,{}),(0,ee.jsx)(uZ.Ig3,{height:"100%",className:"opacity-0 group-hover:opacity-100 transition-opacity h-5 w-5"})]})})]})}var uX=n(60466),uQ=n(79937);let u0=e=>{var t;let n=(0,sd.aM)({queryKey:["nuxStatus"],queryFn:()=>(0,uQ.m)().fetchUserNuxStatus(),staleTime:9e5,enabled:null==e?void 0:e.enabled});return{...n,userNuxStatus:null!==(t=n.data)&&void 0!==t?t:{}}},u1=()=>{let e=(0,sd.NL)();return(0,sd.Db)({mutationFn:e=>(0,uQ.m)().upsertUserNuxStatus(e),onSuccess:()=>{e.invalidateQueries({queryKey:["nuxStatus"]})}})},u2=e=>{let[t,n]=(0,ed.useState)(-1),{userNuxStatus:r}=u0(),{mutateAsync:i}=u1(),o=(0,sq.useExperiment)(sr.F5.NUXEducationBannerWebV0).get("enabled",!1);(0,ed.useEffect)(()=>{var t,i;let s=null!==(i=null===(t=r.nux_education_banner_v0)||void 0===t?void 0:t.steps_completed)&&void 0!==i?i:-1;if(!o||-1===s||3===s){n(-1);return}switch(e){case"Discovery":case"Chats":s<=2&&n(0);break;case"Chat":s<=1?n(1):2===s&&n(2)}},[e,o,r,i]);let s=async e=>{await i({nux_education_banner_v0:{steps_completed:3}}),n(3)};return{bannerStep:t,enrollUserInNux:async()=>{"Signup"===e&&await i({nux_education_banner_v0:{steps_completed:0}})},updateStepInChat:async t=>{"Chat"===e&&t>=3&&(await i({nux_education_banner_v0:{steps_completed:2}}),n(2))},handlePositiveFeedback:()=>s(!0),handleNegativeFeedback:()=>s(!1)}};var u3=n(39097),u4=n.n(u3),u5=n(16671);let u6=e=>{let{onClick:t,children:n}=e;return(0,ee.jsx)(sa.zx,{variant:"ghost",onClick:()=>null==t?void 0:t(),className:"min-w-0 min-h-0 w-overlay-offset h-overlay-offset p-0 rounded-full bg-[#FAFAFA] hover:bg-[#F0F0F0] flex items-center justify-center",children:(0,ee.jsx)("div",{className:"flex items-center justify-center w-5 h-5",children:n})})};var u8=n(96577),u7=n.n(u8);let u9=e=>{let{size:t=42,steps_completed:n}=e,r=(()=>{switch(n){case 0:return"/assets/icons/nux-education-progress-zero-steps-completed.svg";case 1:return"/assets/icons/nux-education-progress-one-step-completed.svg";case 2:return"/assets/icons/nux-education-progress-two-steps-completed.svg";default:return""}})();return r?(0,ee.jsx)(u7(),{src:r,width:t,height:t,alt:"Progress step ".concat(n+1," of 3")}):null};function de(e){let{stepNumber:t,handlePositiveFeedback:n,handleNegativeFeedback:r}=e,{t:i}=(0,eh.$G)(),o=(()=>{switch(t){case 0:return{text:i("NuxEducationProgressBanner.pick-someone"),showFeedback:!1};case 1:return{text:i("NuxEducationProgressBanner.have-a-chat"),showFeedback:!1};case 2:return{text:i("NuxEducationProgressBanner.how-is-your-chat-going"),showFeedback:!0};default:return null}})();return o?(0,ee.jsx)("div",{className:"w-full bg-gradient-to-r from-[#F6DCFA] to-[#D2DFFF]",children:(0,ee.jsxs)("div",{className:"flex flex-col py-3 px-4",children:[(0,ee.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ee.jsx)(u9,{steps_completed:t,size:42}),(0,ee.jsx)("span",{className:"text-sm font-medium text-black",children:o.text})]}),!!(o.showFeedback&&n&&r)&&(0,ee.jsxs)("div",{className:"flex gap-4 justify-center mt-2",children:[(0,ee.jsx)(u6,{onClick:r,children:(0,ee.jsx)(sg.kZ9,{className:"w-full h-full text-black"})}),(0,ee.jsx)(u6,{onClick:n,children:(0,ee.jsx)(sg.lbB,{className:"w-full h-full text-black"})})]})]})}):null}function dt(e){let{onCollapse:t}=e,{isPlusUser:n,user:r}=(0,ex.a)(),{bannerStep:i,handlePositiveFeedback:o,handleNegativeFeedback:s}=u2("Chats");(0,uX.r)();let[a,l]=(0,eA.BF)(eI.Gq),c=(0,ed.useMemo)(()=>({marginTop:"".concat(a-l,"px"),height:"calc(100dvh - ".concat(a-l,"px)")}),[a,l]),u=(0,ed.useCallback)(()=>(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)("div",{className:"flex flex-col mt-4 overflow-hidden grow",children:[(0,ee.jsx)(uY,{}),(0,ee.jsx)(cZ,{})]}),(0,ee.jsx)("div",{className:(0,eR.cn)("flex flex-col justify-end pb-2 px-5"),children:(0,ee.jsx)(u5.t,{})})]}),[]);return r?(0,ee.jsx)("div",{className:"w-64 h-full border-r border-r-border-divider",children:(0,ee.jsxs)("div",{className:"flex flex-col w-full h-full mt-0 overflow-hidden bg-primary-foreground border-r-border-divider",style:c,children:[i>=0&&(0,ee.jsx)(de,{stepNumber:i,handlePositiveFeedback:o,handleNegativeFeedback:s}),(0,ee.jsxs)("div",{className:"grid items-center w-full grid-cols-2 pt-6 pl-6",children:[(0,ee.jsx)(u4(),{href:"/",children:(0,ee.jsx)(sM.t,{isPlus:n})}),(0,ee.jsx)(sa.zx,{className:"mr-2 justify-self-end",size:"sm",isIconOnly:!0,variant:"ghost",onPress:t,children:(0,ee.jsx)(cY.Nh,{className:"h-full"})})]}),u()]})}):null}let dn="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function dr(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),n)}function di(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on".concat(t),n)}function ds(e,t){let n=t.slice(0,t.length-1);for(let t=0;t<n.length;t++)n[t]=e[n[t].toLowerCase()];return n}function da(e){"string"!=typeof e&&(e="");let t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}let dl={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":dn?173:189,"=":dn?61:187,";":dn?59:186,"'":222,"[":219,"]":221,"\\":220},dc={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},du={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},dd={16:!1,18:!1,17:!1,91:!1},dh={};for(let e=1;e<20;e++)dl["f".concat(e)]=111+e;let dp=[],df=null,dm="all",dg=new Map,dv=e=>dl[e.toLowerCase()]||dc[e.toLowerCase()]||e.toUpperCase().charCodeAt(0),dy=e=>Object.keys(dl).find(t=>dl[t]===e),db=e=>Object.keys(dc).find(t=>dc[t]===e);function dw(e){dm=e||"all"}function d_(){return dm||"all"}function dC(e){if(void 0===e)Object.keys(dh).forEach(e=>{Array.isArray(dh[e])&&dh[e].forEach(e=>dx(e)),delete dh[e]}),dT(null);else if(Array.isArray(e))e.forEach(e=>{e.key&&dx(e)});else if("object"==typeof e)e.key&&dx(e);else if("string"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let[i,o]=n;"function"==typeof i&&(o=i,i=""),dx({key:e,scope:i,method:o,splitKey:"+"})}}let dx=e=>{let{key:t,scope:n,method:r,splitKey:i="+"}=e;da(t).forEach(e=>{let t=e.split(i),o=t.length,s=t[o-1],a="*"===s?"*":dv(s);if(!dh[a])return;n||(n=d_());let l=o>1?ds(dc,t):[],c=[];dh[a]=dh[a].filter(e=>{let t=(!r||e.method===r)&&e.scope===n&&function(e,t){let n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0;for(let e=0;e<n.length;e++)-1===r.indexOf(n[e])&&(i=!1);return i}(e.mods,l);return t&&c.push(e.element),!t}),c.forEach(e=>dT(e))})};function dk(e,t,n,r){let i;if(t.element===r&&(t.scope===n||"all"===t.scope)){for(let e in i=t.mods.length>0,dd)Object.prototype.hasOwnProperty.call(dd,e)&&(!dd[e]&&t.mods.indexOf(+e)>-1||dd[e]&&-1===t.mods.indexOf(+e))&&(i=!1);(0!==t.mods.length||dd[16]||dd[18]||dd[17]||dd[91])&&!i&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(dp),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function dS(e,t){let n=dh["*"],r=e.keyCode||e.which||e.charCode;if(!dE.filter.call(this,e))return;if((93===r||224===r)&&(r=91),-1===dp.indexOf(r)&&229!==r&&dp.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(t=>{let n=du[t];e[t]&&-1===dp.indexOf(n)?dp.push(n):!e[t]&&dp.indexOf(n)>-1?dp.splice(dp.indexOf(n),1):"metaKey"===t&&e[t]&&3===dp.length&&!(e.ctrlKey||e.shiftKey||e.altKey)&&(dp=dp.slice(dp.indexOf(n)))}),r in dd){for(let e in dd[r]=!0,dc)dc[e]===r&&(dE[e]=!0);if(!n)return}for(let t in dd)Object.prototype.hasOwnProperty.call(dd,t)&&(dd[t]=e[du[t]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===dp.indexOf(17)&&dp.push(17),-1===dp.indexOf(18)&&dp.push(18),dd[17]=!0,dd[18]=!0);let i=d_();if(n)for(let r=0;r<n.length;r++)n[r].scope===i&&("keydown"===e.type&&n[r].keydown||"keyup"===e.type&&n[r].keyup)&&dk(e,n[r],i,t);if(!(r in dh))return;let o=dh[r],s=o.length;for(let n=0;n<s;n++)if(("keydown"===e.type&&o[n].keydown||"keyup"===e.type&&o[n].keyup)&&o[n].key){let r=o[n],{splitKey:s}=r,a=r.key.split(s),l=[];for(let e=0;e<a.length;e++)l.push(dv(a[e]));l.sort().join("")===dp.sort().join("")&&dk(e,r,i,t)}}function dE(e,t,n){dp=[];let r=da(e),i=[],o="all",s=document,a=0,l=!1,c=!0,u="+",d=!1,h=!1;for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(o=t.scope),t.element&&(s=t.element),t.keyup&&(l=t.keyup),void 0!==t.keydown&&(c=t.keydown),void 0!==t.capture&&(d=t.capture),"string"==typeof t.splitKey&&(u=t.splitKey),!0===t.single&&(h=!0)),"string"==typeof t&&(o=t),h&&dC(e,o);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=ds(dc,e)),(e="*"===(e=e[e.length-1])?"*":dv(e))in dh||(dh[e]=[]),dh[e].push({keyup:l,keydown:c,scope:o,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:s});if(void 0!==s&&window){if(!dg.has(s)){let e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;return dS(e,s)},t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;dS(e,s),function(e){let t=e.keyCode||e.which||e.charCode,n=dp.indexOf(t);if(n>=0&&dp.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&dp.splice(0,dp.length),(93===t||224===t)&&(t=91),t in dd)for(let e in dd[t]=!1,dc)dc[e]===t&&(dE[e]=!1)}(e)};dg.set(s,{keydownListener:e,keyupListenr:t,capture:d}),dr(s,"keydown",e,d),dr(s,"keyup",t,d)}if(!df){let e=()=>{dp=[]};df={listener:e,capture:d},dr(window,"focus",e,d)}}}function dT(e){let t=Object.values(dh).flat();if(0>t.findIndex(t=>{let{element:n}=t;return n===e})){let{keydownListener:t,keyupListenr:n,capture:r}=dg.get(e)||{};t&&n&&(di(e,"keyup",n,r),di(e,"keydown",t,r),dg.delete(e))}if((t.length<=0||dg.size<=0)&&(Object.keys(dg).forEach(e=>{let{keydownListener:t,keyupListenr:n,capture:r}=dg.get(e)||{};t&&n&&(di(e,"keyup",n,r),di(e,"keydown",t,r),dg.delete(e))}),dg.clear(),Object.keys(dh).forEach(e=>delete dh[e]),df)){let{listener:e,capture:t}=df;di(window,"focus",e,t),df=null}}let dP={getPressedKeyString:function(){return dp.map(e=>dy(e)||db(e)||String.fromCharCode(e))},setScope:dw,getScope:d_,deleteScope:function(e,t){let n,r;for(let t in e||(e=d_()),dh)if(Object.prototype.hasOwnProperty.call(dh,t))for(r=0,n=dh[t];r<n.length;)n[r].scope===e?n.splice(r,1).forEach(e=>{let{element:t}=e;return dT(t)}):r++;d_()===e&&dw(t||"all")},getPressedKeyCodes:function(){return dp.slice(0)},getAllKeyCodes:function(){let e=[];return Object.keys(dh).forEach(t=>{dh[t].forEach(t=>{let{key:n,scope:r,mods:i,shortcut:o}=t;e.push({scope:r,shortcut:o,mods:i,keys:n.split("+").map(e=>dv(e))})})}),e},isPressed:function(e){return"string"==typeof e&&(e=dv(e)),-1!==dp.indexOf(e)},filter:function(e){let t=e.target||e.srcElement,{tagName:n}=t,r=!0,i="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(i||"TEXTAREA"===n||"SELECT"===n)&&!t.readOnly)&&(r=!1),r},trigger:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(dh).forEach(n=>{dh[n].filter(n=>n.scope===t&&n.shortcut===e).forEach(e=>{e&&e.method&&e.method()})})},unbind:dC,keyMap:dl,modifier:dc,modifierMap:du};for(let e in dP)Object.prototype.hasOwnProperty.call(dP,e)&&(dE[e]=dP[e]);if("undefined"!=typeof window){let e=window.hotkeys;dE.noConflict=t=>(t&&window.hotkeys===dE&&(window.hotkeys=e),dE),window.hotkeys=dE}let dI=()=>{let{mode:e,handleSetThemeMode:t}=(0,cz.rB)(),n=(0,td.E)();return(0,ed.useEffect)(()=>{if(n)return dE("f3",n=>{n.preventDefault(),t(e===eD.hY.light?eD.hY.dark:eD.hY.light)}),()=>{dE.unbind("f3")}},[n,e,t]),{}};var dR=n(65239),dO=n(57352);function dA(){let{user:e}=(0,ex.a)(),t=(0,eT.Ui)(),n=(0,eA.BF)(eI.zE),r=(0,ed.useRef)(!1),i=(0,eA.BF)(eI.tI);dI();let o=(0,ed.useMemo)(()=>t?"closed"!==n:"overlay"===n,[n,t]),s=()=>{eI.zE.value="closed"},a=(0,ed.useCallback)(()=>{t?eI.zE.value="open"!==n?"open":"closed":eI.zE.value="overlay"!==n?"overlay":"closed"},[n,t]),l=(0,ed.useCallback)(()=>o?(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(sM.t,{size:"mini"}),(0,ee.jsx)(cY.Nh,{className:"h-full"})]}):(0,ee.jsx)(sg.bS$,{className:"h-6 text-icon-secondary"}),[o]),[c,u]=(0,eA.BF)(eI.Gq),d=(0,ed.useMemo)(()=>({marginTop:"".concat(c-u,"px"),height:"calc(100vh - ".concat(c-u,"px)")}),[c,u]);return!e||i?null:(0,ee.jsxs)("div",{className:(0,eR.cn)("w-full h-full flex"),children:[!t&&(0,ee.jsx)(dR.M,{children:!!o&&(0,ee.jsxs)("div",{className:"flex w-screen h-dvh",children:[(0,ee.jsx)(dO.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-0 left-0 z-0 flex-auto w-full h-full bg-scrim",onAnimationStart:()=>{r.current=!0},onAnimationComplete:()=>{r.current=!1},onClick:()=>{r.current||(eI.zE.value="closed")}}),(0,ee.jsx)(dO.E.div,{initial:{left:"-16rem"},animate:{left:"0"},exit:{left:"-16rem"},className:"absolute top-0 z-10 w-64 h-full border-r border-r-accent bg-primary-foreground",children:(0,ee.jsx)("div",{className:(0,eR.cn)("h-full",{hidden:"default"===n}),children:(0,ee.jsx)(dt,{onCollapse:s})})})]})}),!!t&&(0,ee.jsx)("div",{className:(0,eR.cn)("overflow-hidden transition-all ease-out duration-300 hidden lg:block",{"max-w-64 translate-x-0":o,"max-w-0 -translate-x-full":!o}),children:(0,ee.jsx)(dt,{onCollapse:s})}),(0,ee.jsx)("div",{style:{marginTop:d.marginTop},children:(0,ee.jsx)(sL.a2,{className:(0,eR.cn)("m-5 ml-0 flex items-center absolute z-10",{hidden:o,"ml-2":!o}),children:(0,ee.jsx)(sa.zx,{variant:"ghost",onPress:a,isIconOnly:!o,children:l()})})})]})}var dN=n(83460),dL=n(35196),dM=n(63519),dD=n(60298),dj=n(24817),dU=n(59131);let dF=e=>{var t;return"IncentivizedInvitesUpsellBanner-".concat(null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.id)},dV=()=>{let e=(0,eu.useRouter)(),{user:t}=(0,ex.a)(),{t:n}=(0,dU.$G)(),r=(0,eA.BF)(eI.Ts),i=(0,ed.useRef)(null),{config:{enabled:o}}=(0,sr.EY)(sr.F5.IncentivizedInvites),{eligible:s,query:a}=(0,dN.CE)({enabled:o}),{mutateAsync:l,isLoading:c}=ec.h.social.createInviteForLoggedInUser.useMutation(),u=(0,ed.useCallback)(async()=>{var t;if(!o)return;let n=await l({});e.push(sc.nN.invite(null!==(t=null==n?void 0:n.invite.code)&&void 0!==t?t:""))},[l,e,o]),d=!!t&&o&&!1!==s,h=(0,ed.useCallback)(()=>{t&&((0,dL.setCookie)(dF(t),Date.now(),{expires:function(e,t,n){let{years:r=0,months:i=0,weeks:o=0,days:s=0,hours:a=0,minutes:l=0,seconds:c=0}=t,u=(0,dj.Q)(e,void 0),d=i||r?function(e,t,n){let r=(0,dj.Q)(e,void 0);if(isNaN(t))return(0,dD.L)(e,NaN);if(!t)return r;let i=r.getDate(),o=(0,dD.L)(e,r.getTime());return(o.setMonth(r.getMonth()+t+1,0),i>=o.getDate())?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}(u,i+12*r):u,h=s||o?(0,dM.E)(d,s+7*o):d;return(0,dD.L)(e,+h+1e3*(c+60*(l+60*a)))}(Date.now(),{days:7})}),eI.Ts.value=!1)},[t]);(0,ed.useEffect)(()=>{if(a.isLoading||!d||e.asPath.startsWith("/invite/")||e.asPath.startsWith("/chat")||e.asPath.startsWith("/rooms")||e.asPath.startsWith("/signup")){eI.Ts.value=!1;return}let n=(0,dL.getCookie)(dF(t));eI.Ts.value=!(null!=n)},[d,t,o,e.asPath,a.isLoading,s]);let[,p]=(0,eA.BF)(eI.Gq);(0,ed.useEffect)(()=>{let e=()=>{var e,t;let n=null!==(t=null===(e=i.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0,o=Math.min(n,window.scrollY);if(!(o>n)){if(r){if(p>n&&o>n)return;eI.Gq.value=[null!=n?n:0,o]}else eI.Gq.value=[0,0]}};if(e(),r)return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[p,r]);let f=(0,eT.Dv)(),m=(0,ed.useMemo)(()=>({zIndex:60}),[]);return!r||e.asPath.startsWith("/invite/")?null:(0,ee.jsx)("div",{ref:i,className:"flex bg-gradient-to-b from-[#02263C] to-[#01101A] justify-center text-[#1BA5FB] w-full absolute z-60 max-w-full overflow-hidden",style:m,children:(0,ee.jsxs)("div",{className:"flex flex-1 items-center py-8 relative",children:[(0,ee.jsx)("div",{className:"flex-1"}),(0,ee.jsx)("div",{className:(0,eR.cn)("grow px-4",{"text-center":f,"text-right":!f}),children:(0,ee.jsxs)(dU.cC,{i18nKey:"Invite.upsell.upsell-text",children:["Share your invite code with friends and earn a free month of",(0,ee.jsx)("span",{className:"ml-1 mr-4 text-white",children:"c.ai+"})]})}),(0,ee.jsx)("div",{className:(0,eR.cn)("grow justify-start flex",{"w-full":f}),children:(0,ee.jsx)(sa.zx,{variant:"primary",className:"bg-[#1BA5FB]",isLoading:!!c,onPress:u,children:n("Invite.upsell.cta")})}),(0,ee.jsx)("div",{className:"flex-1"}),(0,ee.jsx)(sa.zx,{isIconOnly:!0,variant:"ghost",onPress:h,color:"secondary",className:"flex-none mr-4 relative text-white",size:"sm",children:(0,ee.jsx)(sg.Two,{color:"var(--icon-secondary)",height:"1.25em",width:"1.25em"})})]})})};var dB=n(47022);let dz=e=>{let{modalTitleVariant:t="variant1",modalCopyVariant:n="variant1"}=e;return{title:"Throttled.modal.".concat(t,".title"),description:"Throttled.modal.".concat(n,".description")}},dH=()=>{let e=(0,sq.useLayer)(sr.db.Throttling),t=e.get("modal_title_variant",void 0),n=e.get("modal_copy_variant",void 0),r=e.get("modal_icon_override",void 0);return{...dz({modalTitleVariant:t&&["variant7","variant8"].includes(t)?"variant6":t,modalCopyVariant:n&&["variant7","variant8"].includes(n)?"variant6":n}),descriptionVariant:null!=n?n:"",modalIconKey:null!=r?r:"Clock"}},dq=e=>{switch(e){case"ClockGauge":return sg.GxE;case"Clock":case"":return sg.T39;default:return null}},dK=()=>{let{t:e}=(0,eh.$G)(),{generationMode:t}=(0,dB.m)(),{showModal:n,referrer:r,addDiscount:i}=(0,eA.BF)(eI.mL),{title:o,description:s,descriptionVariant:a,modalIconKey:l}=dH();(0,ed.useEffect)(()=>{n&&so.iN.modalOpened({referrer:null!=r?r:"<unknown>",type:"ThrottledModal",value:a})},[n,r,a]);let c=()=>{eI.mL.value={showModal:!1}},u=t.remainingSeconds&&t.remainingSeconds>0?t.remainingSeconds+120:3e3,d=dq(l);return(0,ee.jsx)(sl.Vq,{open:n,onOpenChange:e=>{e||c()},analyticsProps:{referrer:null!=r?r:"ThrottledModal",type:"ThrottledModal"},children:(0,ee.jsxs)(sl.cZ,{hideClose:!0,className:"sm:max-w-md py-8 flex flex-col items-center justify-center min-h-64 gap-3 min-w-[360px] rounded-sm sm:rounded-md",children:[(0,ee.jsx)("div",{className:"absolute top-0 left-0 right-0 z-10 h-24",children:(0,ee.jsx)("div",{className:"flex items-center justify-end pt-2",children:(0,ee.jsx)(sa.zx,{variant:"primary",size:"sm",className:"justify-center p-3 mr-2 rounded-full bg-white/10 h-fit min-w-fit w-fit items-center",onPress:()=>{eI.mL.value={showModal:!1}},children:(0,ee.jsx)(sg.Two,{color:"white",width:20,height:20,className:"p-0"})})})}),(0,ee.jsx)(sl.fK,{className:"pt-6",children:(0,ee.jsxs)("div",{className:"flex flex-col items-center",children:[!!d&&(0,ee.jsx)(d,{className:"h-10 w-10 text-primary mb-3"}),null===d&&(0,ee.jsx)("div",{className:"h-10 w-10 text-primary mb-3 text-4xl",children:l}),(0,ee.jsx)(sl.$N,{className:"text-center text-2xl mb-2",children:e(o)})]})}),(0,ee.jsx)(sl.Be,{className:"text-center whitespace-pre-line text- sm:text-base px-4 sm:mx-8",children:e(s,{timeRemaining:Math.ceil(u/60)})}),["variant3","variant4","variant5","variant6","variant7","variant8","variant9"].includes(a)&&(0,ee.jsx)("div",{className:"flex justify-center pb-4 mt-2",children:(0,ee.jsx)(sa.zx,{variant:"primary",onPress:()=>{eI.Um.value={referrer:"ThrottledMessages",trigger:r,addDiscount:i},c()},children:e("Subscription.upgrade")})})]})})};var dG=n(30970),dW=n(5192),d$=n(75919);let dZ=()=>{let e=(0,sq.useGateValue)(sr.F5.SubscriptionGiveaway),{data:t,isLoading:n}=(0,dG.Kj)({enabled:e}),r=!!(null==t?void 0:t.eligible)&&e;(0,ed.useEffect)(()=>{!n&&r&&(eI.Um.value={referrer:"SubscriptionGiveaway",trigger:"subscription_giveaway",offerType:"free_month"})},[r,n])},dJ=()=>{var e,t;let n=(0,dW.dq)(),{user:r}=(0,ex.a)(),i=null==r?void 0:null===(t=r.user)||void 0===t?void 0:null===(e=t.id)||void 0===e?void 0:e.toString(),o=(0,eu.useRouter)(),{t:s}=(0,eh.$G)();return(0,d$.D)(async()=>{if(!i)throw Error("User ID is required");return n.claimGiveaway(i)},{onSuccess:async()=>{(0,el.K)(s("ParentalControls.confirmation.success-title-unconfirm"),5e3,"default"),await so.iN.purchaseFlowComplete({referrer:"SubscriptionGiveaway",type:"free_month_giveaway",success:!0,product_id:"character.ai_plus_999"}).promise.then(()=>{o.reload()}).catch(e=>{(0,st.H)("Failed to log giveaway",{error:e})})},onError:e=>{(0,st.H)("Failed to claim giveaway",{error:e}),so.iN.purchaseFlowComplete({referrer:"SubscriptionGiveaway",type:"free_month_giveaway",success:!1,product_id:"character.ai_plus_999"})}})};var dY=n(45346);let dX=[{main:"Subscription.feature-better-memory-name",sub:"Subscription.features.better-memory.sub",icon:sg.t6u},{main:"Subscription.features.chat-styles.main",sub:"Subscription.features.chat-styles.sub",icon:sg.T$Z},{main:"Subscription.features.higher-limits.main",sub:"Subscription.features.higher-limits.sub",icon:sg.xX_},{main:"Subscription.feature-customize-chats-name",sub:"Subscription.features.customize-your-chat.sub",icon:sg.KAl},{main:"Subscription.features.exclusive-perks.main",sub:"Subscription.features.exclusive-perks.sub",icon:sg.Prq}];function dQ(){let{t:e}=(0,dU.$G)(),t=(0,eu.useRouter)(),[n,r]=(0,ed.useState)(!1),{withRecaptchaHeaders:i}=(0,dY.jW)({action:"create_checkout_session"}),o=async()=>{let n=eD._0;so.iN.purchaseFlowStarted({page:"PlusSubscriptionDialog",type:"purchase_stripe_subscription",product_id:n,referrer:"TrialSubscription"});try{r(!0);let e=await (0,eb.od)().post("/chat/create-checkout-session/",{price_id:n,domain:window.location.origin,cancel_url:window.location.href,is_web_next:!0,invite_code:"all"},{headers:await i()});r(!1),e.data.url&&t.push(e.data.url)}catch(t){r(!1),(0,el.K)(e("Monetization.upgrade-error"),void 0,"destructive")}};return(0,ee.jsxs)("div",{className:"relative h-full w-full bg-gradient-to-b from-[#02263C] to-[#01101A]",children:[(0,ee.jsx)("div",{className:"absolute top-0 left-0 right-0 z-10 h-24",children:(0,ee.jsx)("div",{className:"flex items-center justify-end p-4 pt-14 pr-14",children:(0,ee.jsx)(sa.zx,{variant:"primary",size:"sm",className:"justify-center p-3 mr-2 rounded-full bg-white/10 h-fit min-w-fit w-fit items-center",onPress:()=>{eI.Um.value=void 0},children:(0,ee.jsx)(sg.Two,{color:"white",width:20,height:20,className:"p-0"})})})}),(0,ee.jsx)("div",{className:"relative h-full max-w-md mx-auto min-w-96",children:(0,ee.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 flex flex-col items-center p-4 top-[2%] sm:top-1/4",children:[(0,ee.jsxs)("h2",{className:"mb-2 text-3xl text-white",children:[e("Subscription.trial.claim")," ",(0,ee.jsx)("span",{className:"font-bold",children:e("Common.cai")}),(0,ee.jsx)("span",{className:"text-[#1BA5FB]",children:"+"})]}),(0,ee.jsx)("div",{className:"w-full mb-4 overflow-y-auto max-h-[50vh] scrollbar-hide",children:dX.map(e=>(0,ee.jsx)(d3,{item:e},e.main))}),(0,ee.jsxs)("div",{className:"w-full",children:[(0,ee.jsx)(sa.zx,{className:"w-full mb-2 bg-gradient-to-r from-[#1BA5FB] to-[#004CB0]",onPress:o,isLoading:n,children:e("Subscription.trial.button-call-to-action")}),(0,ee.jsx)("p",{className:"mb-2 text-xs text-center text-white",children:e("Subscription.trial.button-disclaimer",{price:"$".concat(Number(sI.VL).toLocaleString())})})]})]})})]})}function d0(){let{t:e}=(0,dU.$G)(),t=(0,eu.useRouter)(),[n,r]=(0,ed.useState)(!1),{withRecaptchaHeaders:i}=(0,dY.jW)({action:"create_checkout_session"}),o=async()=>{let n=eD._0;so.iN.purchaseFlowStarted({page:"PlusSubscriptionDialog",type:"purchase_stripe_subscription",product_id:n,referrer:"TrialSubscriptionExtension"});try{r(!0);let e=await (0,eb.od)().post("/chat/create-checkout-session/",{price_id:n,domain:window.location.origin,cancel_url:window.location.href,is_web_next:!0,invite_code:"all"},{headers:await i()});r(!1),e.data.url&&t.push(e.data.url)}catch(t){var o,s;r(!1),(null===(s=t.response)||void 0===s?void 0:null===(o=s.data)||void 0===o?void 0:o.error)==="no_payment_methods"?(0,el.K)(e("Monetization.no-payment-error"),void 0,"destructive"):(0,el.K)(e("Monetization.upgrade-error"),void 0,"destructive")}};return(0,ee.jsxs)("div",{className:"relative h-full w-full bg-gradient-to-b from-[#02263C] to-[#01101A]",children:[(0,ee.jsx)("div",{className:"absolute top-0 left-0 right-0 z-10 h-24",children:(0,ee.jsx)("div",{className:"flex items-center justify-end p-4 pt-14 pr-14",children:(0,ee.jsx)(sa.zx,{variant:"primary",size:"sm",className:"justify-center p-3 mr-2 rounded-full bg-white/10 h-fit min-w-fit w-fit items-center",onPress:()=>{eI.Um.value=void 0},children:(0,ee.jsx)(sg.Two,{color:"white",width:20,height:20,className:"p-0"})})})}),(0,ee.jsx)("div",{className:"relative h-full max-w-md mx-auto min-w-96",children:(0,ee.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 flex flex-col items-center p-4 top-[2%] sm:top-1/4",children:[(0,ee.jsxs)("h2",{className:"mb-2 text-3xl text-white",children:[e("Subscription.trial.claim")," ",(0,ee.jsx)("span",{className:"font-bold",children:e("Common.cai")}),(0,ee.jsx)("span",{className:"text-[#1BA5FB]",children:"+"})]}),(0,ee.jsx)("div",{className:"w-full mb-4 overflow-y-auto max-h-[50vh] scrollbar-hide",children:dX.map(e=>(0,ee.jsx)(d3,{item:e},e.main))}),(0,ee.jsxs)("div",{className:"w-full",children:[(0,ee.jsx)(sa.zx,{className:"w-full mb-2 bg-gradient-to-r from-[#1BA5FB] to-[#004CB0]",onPress:o,isLoading:n,children:e("Subscription.trial-extension.button-call-to-action")}),(0,ee.jsx)("p",{className:"mb-2 text-xs text-center text-white",children:e("Subscription.trial-extension.button-disclaimer",{price:"$".concat(Number(sI.VL).toLocaleString())})}),(0,ee.jsx)(sa.zx,{variant:"ghost",color:"primary",className:"w-full mb-2 text-xs text-center text-white hover:text-black ",href:eD.aN,as:"a",target:"_blank",children:e("Subscription.already-subscribed.button-disclaimer")})]})]})})]})}let d1=()=>{let e=(0,sq.useDynamicConfig)(sr.Lo.ZeroBurnDiscountCodes),t=e.get("prod",""),n=e.get("dev","");return(0,eD.BB)()?t:n};function d2(e){let{addDiscount:t,offerType:n}=e,{t:r}=(0,dU.$G)(),i=(0,eu.useRouter)(),[o,s]=(0,ed.useState)(!1),{isPlusUser:a}=(0,ex.a)(),l=d1(),c="free_month"===n,u=!c&&!t,{withRecaptchaHeaders:d}=(0,dY.jW)({action:"create_checkout_session"}),h=(0,ed.useCallback)(async()=>{let e=eD._0;so.iN.purchaseFlowStarted({page:"PlusSubscriptionDialog",type:"purchase_stripe_subscription",product_id:e,referrer:"Subscription"});try{s(!0);let n=await (0,eb.od)().post("/chat/create-checkout-session/",{price_id:e,domain:window.location.origin,cancel_url:window.location.href,is_web_next:!0,code:t&&l.length>0?l:void 0},{headers:await d()});s(!1),n.data.url&&i.push(n.data.url)}catch(e){s(!1),(0,el.K)(r("Monetization.upgrade-error"),void 0,"destructive")}},[r,i,t,l,d]),{mutate:p,isLoading:f}=dJ(),m=(0,ed.useCallback)(()=>{eI.Um.value=void 0},[]);return(0,ee.jsxs)("div",{className:"relative h-full w-full bg-gradient-to-b from-[#02263C] to-[#01101A]",children:[(0,ee.jsx)("div",{className:"absolute top-0 left-0 right-0 z-10 h-24",children:(0,ee.jsx)("div",{className:"flex items-center justify-end pt-2 sm:pt-14 sm:pr-14",children:(0,ee.jsx)(sa.zx,{variant:"primary",size:"sm",className:"justify-center p-3 mr-2 rounded-full bg-white/10 h-fit min-w-fit w-fit items-center",onPress:()=>{eI.Um.value=void 0},children:(0,ee.jsx)(sg.Two,{color:"white",width:20,height:20,className:"p-0"})})})}),(0,ee.jsx)("div",{className:"relative h-full w-full sm:max-w-md sm:mx-auto",children:(0,ee.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 flex flex-col items-center p-4 top-[15%] sm:top-1/4",children:[!a&&(0,ee.jsxs)("h2",{className:"mb-2 text-3xl text-white text-center",children:[r(c?"Subscription.free-month.title":"Subscription.upgrade-to")," ",(0,ee.jsx)("span",{className:"font-bold",children:r("Common.cai")}),(0,ee.jsx)("span",{className:"text-[#1BA5FB]",children:"+"})]}),!!a&&(0,ee.jsxs)("h2",{className:"mb-2 text-3xl text-white",children:[r("Subscription.already-subscribed.title")," ",(0,ee.jsx)("span",{className:"font-bold",children:r("Common.cai")}),(0,ee.jsx)("span",{className:"text-[#1BA5FB]",children:"+"})]}),(0,ee.jsx)("div",{className:"w-full mb-4 overflow-y-auto max-h-[50vh] scrollbar-hide",children:dX.map(e=>(0,ee.jsx)(d3,{item:e},e.main))}),(0,ee.jsxs)("div",{className:"w-full",children:[!a&&!!t&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("div",{className:"w-full text-center text-md mb-2 text-gray-300",children:(0,ee.jsx)(dU.cC,{i18nKey:"Subscription.button-discount-subtitle",values:{discounted:"$".concat(Number(eD.sU).toLocaleString()),original:"$".concat(Number(sI.VL).toLocaleString())},components:[(0,ee.jsx)("span",{className:"text-white"},"0"),(0,ee.jsx)("del",{},"1"),(0,ee.jsx)("span",{className:"text-white"},"2")]})}),(0,ee.jsx)(sa.zx,{className:"w-full mb-2 bg-gradient-to-r from-[#1BA5FB] to-[#004CB0] text-white",onPress:h,isLoading:o,children:r("Subscription.subscribe")}),(0,ee.jsx)("p",{className:"mb-2 text-xs text-center text-white",children:r("Subscription.button-disclaimer")})]}),!a&&!!c&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("div",{className:"w-full text-center text-md mb-2 text-gray-300",children:(0,ee.jsx)(dU.cC,{i18nKey:"Subscription.free-month.button-subtitle"})}),(0,ee.jsx)(sa.zx,{className:"w-full mb-2 bg-gradient-to-r from-[#1BA5FB] to-[#004CB0] text-white",onPress:()=>p(),isLoading:f,children:r("Subscription.free-month.button-call-to-action")}),(0,ee.jsx)("p",{className:"mb-2 text-xs text-center text-white",children:r("Subscription.free-month.button-disclaimer")})]}),!a&&!!u&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(sa.zx,{className:"w-full mb-2 bg-gradient-to-r from-[#1BA5FB] to-[#004CB0] text-white",onPress:h,isLoading:o,children:r("Subscription.button-call-to-action",{price:"$".concat(Number(sI.VL).toLocaleString())})}),(0,ee.jsx)("p",{className:"mb-2 text-xs text-center text-white",children:r("Subscription.button-disclaimer")})]}),!!a&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(sa.zx,{className:"w-full mb-2 bg-gradient-to-r from-[#1BA5FB] to-[#004CB0]",onPress:m,isLoading:o,children:r("Subscription.already-subscribed.button-call-to-action")}),(0,ee.jsx)(sa.zx,{variant:"ghost",color:"primary",className:"w-full mb-2 text-xs text-center text-white hover:text-black ",href:eD.aN,as:"a",target:"_blank",children:r("Subscription.already-subscribed.button-disclaimer")})]})]})]})})]})}function d3(e){let{item:t}=e,{t:n}=(0,dU.$G)();return(0,ee.jsxs)("div",{className:"flex items-center p-4 mb-2 bg-white/10 rounded-xl",children:[(0,ee.jsx)(t.icon,{width:24,height:24,className:"mr-4",stroke:"var(--plus-light-blue)",color:"transparent"}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("p",{className:"font-semibold text-white",children:n(t.main)}),(0,ee.jsx)("p",{className:"text-sm text-white",children:n(t.sub)})]})]})}function d4(){var e;let t=(0,eA.BF)(eI.Um),{isPlusUser:n}=(0,ex.a)(),{invite:r}=(0,dN.zP)(),i=null!==(e=null==r?void 0:r.pending_redemptions)&&void 0!==e?e:0,o=!!(null==t?void 0:t.addDiscount),s=null==t?void 0:t.offerType;dZ(),(0,ed.useEffect)(()=>{t&&so.iN.modalOpened({referrer:t.referrer,type:"subscription",value:t.trigger})},[t]);let a=(0,ee.jsx)(d2,{addDiscount:o,offerType:s});return n&&i>0?a=(0,ee.jsx)(d0,{}):!n&&i>0&&(a=(0,ee.jsx)(dQ,{})),(0,ee.jsxs)(sl.Vq,{open:!!t,onOpenChange:e=>{eI.Um.value=e?t:void 0},children:[(0,ee.jsx)(sl.t9,{className:"backdrop-blur-none"}),(0,ee.jsx)(sl.cZ,{className:"w-screen p-0 overflow-hidden h-dvh",disableRounding:!0,hideClose:!0,children:a})]})}let d5=e=>{let{isOpen:t,onClose:n,email:r,onConfirm:i,isLoading:o}=e,{t:s}=(0,eh.$G)();return(0,ee.jsx)(sl.Vq,{open:t,onOpenChange:n,children:(0,ee.jsxs)(sl.PK,{children:[(0,ee.jsx)(sl.t9,{}),(0,ee.jsx)(sl.cZ,{className:"w-full sm:max-w-[425px] px-6 pb-6 pt-8 fixed !top-auto !bottom-0 !translate-y-0 !-translate-x-1/2 md:!bottom-auto md:!top-1/2 md:!-translate-y-1/2 rounded-t-md md:rounded-md",children:(0,ee.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,ee.jsxs)(sl.fK,{className:"text-center sm:text-center space-y-6",children:[(0,ee.jsx)(sl.$N,{className:"text-xl font-medium",children:s("ParentalControls.confirm-remove-email")}),(0,ee.jsx)(sl.Be,{className:"text-sm text-muted-foreground",children:s("ParentalControls.confirm-remove-email-description")})]}),(0,ee.jsx)(sG.I,{value:r,readOnly:!0,disabled:!0,className:"text-sm px-3 py-3 bg-surface-elevation-3"}),(0,ee.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ee.jsx)(sa.zx,{variant:"primary",onPress:i,className:"w-full h-11",isDisabled:o,children:s("ParentalControls.request-remove")}),(0,ee.jsx)(sa.zx,{variant:"ghost",onPress:n,className:"w-full h-11",isDisabled:o,children:s("Common.cancel")})]})]})})]})})},d6=()=>["parental-links"],d8=()=>(0,sd.aM)({queryKey:d6(),queryFn:async()=>await (0,uQ.m)().getParentalLinks()}),d7=()=>{let e=(0,sd.NL)();return(0,sd.Db)({mutationFn:async e=>await (0,uQ.m)().createParentalLink(e),onSuccess:()=>{e.invalidateQueries(d6())}})},d9=()=>{let e=(0,sd.NL)();return{unlink:(0,sd.Db)({mutationFn:async e=>await (0,uQ.m)().unlinkParentalAccount({parent_email_address:e}),onSuccess:()=>{e.invalidateQueries(d6())}}),resend:(0,sd.Db)({mutationFn:async e=>await (0,uQ.m)().resendParentalRequest({parent_email_address:e}),onSuccess:()=>{e.invalidateQueries(d6())}}),cancel:(0,sd.Db)({mutationFn:async e=>await (0,uQ.m)().cancelParentalRequest({parent_email_address:e}),onSuccess:()=>{e.invalidateQueries(d6())}})}};var he=n(83389);(v=Z||(Z={})).SENT="sent",v.REQUEST_SENT="request_sent",v.LINKED="linked",(y=J||(J={})).LINK_REQUESTED="LINK_REQUESTED",y.LINKED="LINKED",y.UNLINK_REQUESTED="UNLINK_REQUESTED",y.UNLINKED="UNLINKED";var ht=n(57033);let hn=(0,ht.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var hr=n(31396);let hi=(0,ht.Z)("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),ho=(0,ht.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),hs=e=>{let{link:t,onRequestRemoval:n,onResendEmail:r,onCancelInvitation:i,isLoading:o}=e,{t:s}=(0,eh.$G)(),[a,l]=(0,ed.useState)(!1),c=(0,ed.useMemo)(()=>{let e=[];switch(t.state){case J.LINK_REQUESTED:e.push({label:s("ParentalControls.resend-email"),onClick:()=>{r(t.parent_email_address)},icon:(0,ee.jsx)(hn,{className:"h-4 w-4"})},{label:s("ParentalControls.cancel-invitation"),onClick:()=>{i&&i()},icon:(0,ee.jsx)(hr.Z,{className:"h-4 w-4"})});break;case J.UNLINK_REQUESTED:e.push({label:s("ParentalControls.resend-remove-request"),onClick:()=>{r(t.parent_email_address)},icon:(0,ee.jsx)(hn,{className:"h-4 w-4"})},{label:s("ParentalControls.cancel-request"),onClick:()=>{i&&i()},icon:(0,ee.jsx)(hr.Z,{className:"h-4 w-4"})});break;case J.LINKED:e.push({label:s("ParentalControls.request-remove-email"),onClick:()=>n(t.parent_email_address),icon:(0,ee.jsx)(hi,{className:"h-4 w-4"})});break;default:e.push({label:s("ParentalControls.status.unknown"),onClick:void 0,icon:(0,ee.jsx)(hr.Z,{className:"h-4 w-4"})})}return e},[t.state,t.parent_email_address,r,i,n,s]);return t&&t.state!==J.UNLINKED?(0,ee.jsxs)("div",{className:"flex items-center justify-between py-3 group border-b border-divider",children:[(0,ee.jsxs)("div",{className:"flex-1 min-w-0 flex justify-between items-center",children:[(0,ee.jsx)("p",{className:"text-md font-medium truncate",children:t.parent_email_address}),t.state!==J.LINKED&&(0,ee.jsx)("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium bg-surface-elevation-3 text-primary ml-2",children:t.state===J.LINK_REQUESTED?s("ParentalControls.status.invitation-sent"):s("ParentalControls.status.request-sent")})]}),(0,ee.jsxs)(sY.h_,{open:a,onOpenChange:l,children:[(0,ee.jsx)(sY.$F,{asChild:!0,children:(0,ee.jsxs)(sa.zx,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onPress:()=>{l(!a)},isIconOnly:!0,children:[(0,ee.jsx)(ho,{className:"h-5 w-5"}),(0,ee.jsx)("span",{className:"sr-only",children:s("ParentalControls.open-menu")})]})}),(0,ee.jsx)(sY.AW,{align:"end",className:"w-56 py-2",children:c.length>0?c.map((e,t)=>(0,ee.jsxs)(sY.Xi,{className:"px-4 py-2 text-sm hover:bg-accent cursor-pointer flex justify-between items-center",onSelect:()=>{e.onClick&&e.onClick(),l(!1)},disabled:o,children:[(0,ee.jsx)("span",{children:e.label}),e.icon]},t)):(0,ee.jsx)(sY.Xi,{disabled:!0,children:s("ParentalControls.no-actions")})})]})]}):null};(b=Y||(Y={})).INVITATION_SENT="ParentalControls.toast.invitation-sent",b.REQUEST_SENT="ParentalControls.toast.request-sent",b.INVITATION_CANCELLED="ParentalControls.toast.invitation-cancelled",b.REQUEST_CANCELLED="ParentalControls.toast.request-cancelled",b.DELETE_REQUEST_ERROR="ParentalControls.toast.delete-request-error";let ha=()=>{let e=(0,eu.useRouter)(),t=(0,sq.useGateValue)(sr.F5.ParentalControls),{t:n}=(0,eh.$G)(),[r,i]=(0,ed.useState)(""),[o,s]=(0,ed.useState)(""),[a,l]=(0,ed.useState)(!1),[c,u]=(0,ed.useState)(""),{data:d,isLoading:h,error:p}=d8(),f=d7(),{unlink:m,resend:g,cancel:v}=d9();(0,ed.useEffect)(()=>{so.iN.pageViewed({page_name:"parental_controls_screen",referrer:"settings_screen"})},[]);let y=(0,ed.useCallback)(e=>{(0,eO.Am)(n(e),{position:"bottom-center"})},[n]),b=(0,ed.useCallback)(async e=>{let t=null==d?void 0:d.links.find(t=>t.parent_email_address===e);if(!t){y("ParentalControls.toast.delete-request-error");return}try{await g.mutateAsync(e),y(t.state===J.UNLINK_REQUESTED?"ParentalControls.toast.request-sent":"ParentalControls.toast.invitation-sent")}catch(e){(0,st.H)("parental_controls_resend_failed",{error:e}),y("ParentalControls.toast.delete-request-error")}},[g,y,null==d?void 0:d.links]),w=(0,ed.useCallback)(async e=>{try{await v.mutateAsync(e),y("ParentalControls.toast.invitation-cancelled")}catch(e){(0,st.H)("parental_controls_cancel_failed",{error:e}),y("ParentalControls.toast.delete-request-error")}},[v,y]),_=(0,ed.useCallback)(async()=>{if(!r||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){s(n("ParentalControls.invalid-email"));return}try{await f.mutateAsync({parent_email_address:r}),so.iN.settingChanged({referrer:"parental_controls_screen",setting:"parent_invitation",value:"sent",type:he._.ParentalControls.InvitationSent}),i(""),s(""),y("ParentalControls.toast.invitation-sent")}catch(e){(0,st.H)("parental_controls_invite_failed",{error:e}),s(n("ParentalControls.add-parent-error"))}},[r,f,n,y]);if(!t)return e.push("/"),null;if(h)return(0,ee.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,ee.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(p)return(0,ee.jsx)("div",{className:"flex flex-col items-center justify-center h-32",children:(0,ee.jsx)("p",{className:"text-red-500",children:n("Common.error-occurred")})});let C=(null==d?void 0:d.links)||[];return(0,ee.jsxs)("div",{className:"flex flex-col flex-auto",children:[(0,ee.jsx)("p",{className:"text-md text-muted-foreground mb-6",children:n("ParentalControls.description")}),(0,ee.jsxs)("div",{className:"space-y-4",children:[(0,ee.jsxs)("div",{className:"space-y-2",children:[(0,ee.jsx)(sG.I,{type:"email",placeholder:n("ParentalControls.email-placeholder"),value:r,onChange:e=>{i(e.target.value),s("")},className:o?"border-red-500":""}),!!o&&(0,ee.jsx)("p",{className:"text-sm text-red-500",children:o})]}),(0,ee.jsx)(sa.zx,{variant:"primary",color:"primary",onPress:_,isDisabled:f.isLoading||m.isLoading||g.isLoading||v.isLoading,className:"w-full",children:n("ParentalControls.invite")}),C.length>0&&(0,ee.jsxs)("div",{className:"mt-6",children:[(0,ee.jsx)("h2",{className:"text-base font-medium mb-6 mt-10",children:n("ParentalControls.parents-and-guardians")}),(0,ee.jsx)("div",{className:"space-y-2",children:C.map(e=>(0,ee.jsx)(hs,{link:e,onRequestRemoval:e=>{u(e),l(!0)},onResendEmail:b,onCancelInvitation:()=>{w(e.parent_email_address)},isLoading:f.isLoading||m.isLoading||g.isLoading||v.isLoading},e.parent_email_address))})]})]}),(0,ee.jsx)(d5,{isOpen:a,onClose:()=>l(!1),email:c,onConfirm:async()=>{await m.mutateAsync(c),so.iN.settingChanged({referrer:"parental_controls_screen",setting:"parent_supervision",value:"removed",type:he._.ParentalControls.RemovalRequested}),l(!1)},isLoading:m.isLoading})]})};function hl(){let{t:e}=(0,eh.$G)();return(0,ee.jsxs)("div",{className:"flex pb-6 md:gap-2",children:[(0,ee.jsx)("div",{className:"mx-auto md:mx-0 text-2xl font-medium",children:e("ParentalControls.title")}),(0,ee.jsx)(sa.zx,{variant:"ghost",onPress:()=>window.open(eD.Ew.parentalInsights,"_blank"),className:"h-8 w-8 p-0",isIconOnly:!0,size:"sm","aria-label":e("ParentalControls.help-center"),children:(0,ee.jsx)(sg.F3p,{className:"h-5 w-5"})})]})}var hc=n(80729),hu=n(70677),hd=n(35981);let hh=e=>{let{handleExport:t}=e,{t:n}=(0,eh.$G)();return(0,ee.jsx)(sa.zx,{variant:"ghost",className:"w-full flex justify-between text-muted-foreground rounded-spacing-0",onPress:t,endContent:(0,ee.jsx)(sg.$Sf,{height:"16px"}),children:n("Common.export-data")})},hp=e=>{let{onPress:t}=e,{t:n}=(0,eh.$G)();return(0,ee.jsx)(sa.zx,{variant:"ghost",className:"w-full flex justify-between text-error rounded-spacing-0",onPress:t,endContent:(0,ee.jsx)(sg.avX,{height:"16px"}),children:n("Common.delete-account")})};function hf(e){var t;let{user:n,handleDeleteAccount:r,isLoadingDeleteAccount:i}=e,{t:o}=(0,eh.$G)(),[s,a]=(0,ed.useState)(!1),l=(0,sR.Vt)(null==n?void 0:n.user),[c,u]=(0,ed.useState)("");return(0,ee.jsxs)(sl.Vq,{open:s,onOpenChange:a,analyticsProps:{referrer:"Profile",type:"DeleteAccountDialog"},children:[(0,ee.jsx)(sl.hg,{className:"w-full",children:(0,ee.jsx)(hp,{onPress:()=>a(!s)})}),(0,ee.jsxs)(sl.cZ,{className:"w-96 p-0 flex flex-col",hideClose:!0,children:[(0,ee.jsxs)(sl.fK,{className:"w-full flex flex-row justify-between items-center px-5 py-4 border-b-1 border-b-accent",children:[(0,ee.jsxs)("div",{className:"flex flex-row gap-4 text-md items-center",children:[(0,ee.jsxs)(sl.GG,{children:[(0,ee.jsx)(hr.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,ee.jsx)("span",{className:"sr-only",children:o("Common.close")})]}),o("Common.delete-account")]}),(0,ee.jsx)(sg.avX,{height:"24px",className:"text-error"})]}),(0,ee.jsxs)("div",{className:"h-full flex flex-col justify-center py-2 px-1 gap-4",children:[(0,ee.jsxs)("div",{className:"w-full flex flex-col gap-3 justify-start items-start px-4",children:[!!l&&(0,ee.jsx)("div",{className:"text-sm bg-accent p-2 opacity-500 text-error rounded-spacing-xs",children:o("DeleteAccount.remove-your-subscription")}),(0,ee.jsx)("p",{children:o("DeleteAccount.this-action-cannot-be-undone")}),(0,ee.jsx)("p",{className:"text-sm text-muted-foreground",children:o("DeleteAccount.things-will-be-lost")}),(0,ee.jsx)(sG.I,{className:"bg-surface-elevation-2 p-4",value:c,onChange:e=>u(e.target.value),placeholder:o("DeleteAccount.enter-username-to-confirm")})]}),(0,ee.jsxs)("div",{className:"w-full flex justify-end gap-2 my-1 px-4 py-2",children:[(0,ee.jsx)(sa.zx,{variant:"ghost",onPress:()=>a(!1),children:o("Common.cancel")}),(0,ee.jsx)(sa.zx,{variant:"primary",color:"danger",isDisabled:c!==(null===(t=n.user)||void 0===t?void 0:t.username),onPress:r,isLoading:i,children:o("Common.delete-account")})]})]})]})]})}let hm=e=>{let{isPlus:t}=e,{t:n}=(0,dU.$G)();return(0,ee.jsxs)("div",{className:"w-full flex flex-row justify-between p-3 border-1 border-accent rounded-spacing-xs",children:[(0,ee.jsxs)("div",{className:"flex flex-col",children:[(0,ee.jsx)("p",{className:"text-sm text-muted-foreground",children:n("Subscription.your-current-plan")}),t?(0,ee.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,ee.jsx)(dU.cC,{i18nKey:"Subscription.price-per-month",values:{price:sI.VL},components:{price:(0,ee.jsx)("span",{className:"text-primary text-lg"}),perMonth:(0,ee.jsx)("span",{})}})}):(0,ee.jsx)("p",{children:n("Subscription.free")})]}),t?(0,ee.jsx)(sa.zx,{variant:"ghost",className:"bg-accent",analytics:{name:"linkOpened",properties:{referrer:"ManageSubscription",link:eD.aN,type:"manage"}},children:(0,ee.jsx)("a",{href:eD.aN,target:"_blank",children:n("Common.manage")})}):(0,ee.jsx)(sa.zx,{className:"text-white mb-2 bg-gradient-to-r from-[#1BA5FB] to-[#004CB0] font-sans",onPress:()=>{eI.Um.value={referrer:"AccountOptions"}},children:n("Subscription.upgrade")})]})},hg=e=>{let{user:t}=e,n=(0,td.E)(),{t:r}=(0,eh.$G)(),[i,o]=(0,ed.useState)(!1),s=ec.h.useUtils(),a=(0,ed.useCallback)(()=>{i||((0,el.K)(r("Common.generic-error"),void 0,"destructive"),o(!0))},[i,r]),l=ec.h.auth.logout.useMutation(),c=(0,ed.useCallback)(async()=>{so.iN.logout({referrer:"AccountOptions"}),await l.mutateAsync(),await s.invalidate(),setTimeout(()=>{window.location.href="/"},100)},[l,s]),{mutate:u,isLoading:d}=(0,sP.s)(),h=(0,ed.useCallback)(()=>{u(void 0,{onSuccess:async()=>{try{await (0,uQ.m)().deleteAccount()}catch(e){(0,st.H)("Failed to delete user in NEO",{error:e,type:st.NI.Auth})}finally{await c()}},onError:async e=>{a()}})},[u,c,a]),{mutate:p,isLoading:f}=(0,sP.DA)(),m=(0,ed.useMemo)(()=>d||f,[d,f]),g=(0,ed.useCallback)(e=>{p({status:hu.nm.PENDING,actionParams:{dry_run:n,need_exported_data:"export"===e,need_deleted_account:"delete"===e}},{onSuccess:()=>{so.iN.elementClicked({referrer:"AccountOptions",type:"data_actions",action:e}),"delete"===e?((0,el.K)(r("Common.success-request-initiated")),h()):(0,el.K)(r("DeleteAccount.export-data-success"))},onError:e=>{(0,st.H)("Failed to export/delete data",{error:e}),a()}})},[p,h,a,r,n]),[v,y]=(0,ed.useState)(!1),b=[{content:(0,ee.jsx)(hh,{handleExport:()=>{g("export"),y(!1)}}),asChild:!0,key:"export"},{content:(0,ee.jsx)(hf,{user:t,handleDeleteAccount:()=>{g("delete"),y(!1)},isLoadingDeleteAccount:m}),asChild:!0,key:"delete"}];return(0,ee.jsxs)("div",{className:"h-full w-full flex flex-col justify-between pb-2",children:[(0,ee.jsx)(hm,{isPlus:(0,sR.Vt)(null==t?void 0:t.user)}),(0,ee.jsx)("div",{className:"flex justify-between gap-2",children:(0,ee.jsx)(hd.C,{options:b,setIsOpen:y,isOpen:v,triggerClassName:"opacity-100",side:"top",contentClassName:"border-accent",children:(0,ee.jsx)(sa.zx,{variant:"ghost",color:"secondary",className:"bg-surface-elevation-3",onPress:()=>{so.iN.elementClicked({referrer:"AccountOptions",action:"manage_account_and_data"}),y(!v)},children:r("DeleteAccount.manage-account-and-data")})})})]})};var hv=n(39452),hy=n(54972),hb=n(34581),hw=n(88883),h_=n(63955),hC=n(30195);let hx=(e,t,n)=>hC.z.object({newWord:hC.z.string().trim().min(1).max(20).refine(e=>!e.includes(" "),t("Settings.blocked-words.errors.must-be-single-word")).refine(t=>!e.includes(t.toLowerCase()),t("Settings.blocked-words.errors.already-blocked")).refine(t=>e.length<n,t("Settings.blocked-words.errors.max-words-v2",{maxWords:n})).transform(e=>e.toLowerCase().trim())}),hk=e=>{let{word:t,onClick:n,type:r="normal"}=e;return(0,ee.jsxs)("div",{className:(0,eR.cn)("inline-flex items-center px-3 py-2 text-sm rounded-full ","error"===r?"bg-error-container":"bg-surface-elevation-3 border border-accent"),children:[(0,ee.jsx)("span",{className:(0,eR.cn)("error"===r?"opacity-35":""),children:t}),(0,ee.jsx)("button",{type:"button",onClick:n,className:"ml-2 p-0.5 rounded-full hover:bg-secondary-hover focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Remove ".concat(t),children:(0,ee.jsx)(hr.Z,{size:14,className:"text-muted-foreground hover:text-foreground transition-colors","aria-hidden":"true"})})]},t)},hS=e=>{let{showUpgradeUpsell:t,showReupgradeUpsell:n,numWordsOverLimit:r}=e;return n?(0,ee.jsx)("div",{className:"flex font-normal text-m flex-row gap-1",children:(0,ee.jsx)(dU.cC,{i18nKey:1===r?"Monetization.mutedwords-recover-words":"Monetization.mutedwords-recover-words-plural",values:{numWords:r},children:(0,ee.jsx)("div",{onClick:()=>{eI.Um.value={referrer:"MutedWords",trigger:"RecoverUpsellText"}},className:"cursor-pointer bg-gradient-to-r from-[#1BA5FB] to-[#1469d9] bg-clip-text text-transparent",children:"Re-upgrade to c.ai+"})})}):t?(0,ee.jsx)("div",{className:"flex font-normal text-m flex-row gap-1",children:(0,ee.jsx)(dU.cC,{i18nKey:"Monetization.for-20-muted-words",children:(0,ee.jsx)("div",{onClick:()=>{eI.Um.value={referrer:"MutedWords",trigger:"UpgradeUpsellText"}},className:"cursor-pointer bg-gradient-to-r from-[#1BA5FB] to-[#1469d9] bg-clip-text text-transparent",children:"Upgrade to c.ai+"})})}):null};function hE(){let{t:e}=(0,dU.$G)(),{settings:t,isLoading:n}=(0,sP.Fl)(),{mutate:r}=(0,sP.pC)(),[i,o]=(0,ed.useState)([]),s=(0,sq.useGateValue)(sr.F5.MutedWordsUpsell),{isPlusUser:a}=(0,ex.a)(),l=a?20:4,c=i.length-l,u=!a&&s&&i.length>=l,d=!a&&s&&i.length>l,h=hx(i,e,l),p=(0,h_.cI)({resolver:(0,hw.F)(h),defaultValues:{newWord:""},mode:"onChange"});(0,ed.useEffect)(()=>{var e;(null==t?void 0:null===(e=t.outputStylePreferences)||void 0===e?void 0:e.bannedWords)&&o(t.outputStylePreferences.bannedWords)},[t]);let f=async e=>{let n=e.newWord.toLowerCase();if(n&&!i.includes(n)){let e=[...i,n];await r({outputStylePreferences:{...null==t?void 0:t.outputStylePreferences,bannedWords:e}}),so.iN.blockedWordsModified({newWordsList:e,action:"add"}),p.reset()}},m=async e=>{let n=i.filter(t=>t!==e);o(n),r({outputStylePreferences:{...null==t?void 0:t.outputStylePreferences,bannedWords:n}}),so.iN.blockedWordsModified({newWordsList:n,action:"remove"})},[g,v]=(0,ed.useMemo)(()=>[i.slice(0,l),i.slice(l)],[i,l]);return n?(0,ee.jsx)("div",{className:"w-full flex justify-center items-center py-8",children:(0,ee.jsx)(hb.O,{className:"h-4 w-full"})}):(0,ee.jsxs)("div",{className:"w-full",children:[(0,ee.jsx)(hS,{showUpgradeUpsell:u,showReupgradeUpsell:d,numWordsOverLimit:c}),(0,ee.jsx)(hv.l0,{...p,children:(0,ee.jsx)("form",{onSubmit:p.handleSubmit(f),className:"mb-8 mt-5",children:(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("div",{className:(0,eR.cn)("relative flex w-full h-14 items-center bg-surface-elevation-3 rounded-spacing-s border",p.formState.errors.newWord?"focus-within:border-error":"focus-within:border-primary"),children:[(0,ee.jsx)(hy.C,{checks:(0,hv.XF)(h,"newWord"),name:"newWord",label:"",placeholder:"New word",className:"border-0 bg-transparent focus-visible:outline-none focus-visible:border-0",errorClassname:"hidden"}),(0,ee.jsx)("div",{className:"flex gap-2 px-2",children:(0,ee.jsx)(sa.zx,{type:"submit",variant:"primary",size:"sm",className:"h-[34px]",isDisabled:p.formState.isSubmitting||d||u,children:e("Settings.blocked-words.add")})})]}),!!p.formState.errors.newWord&&(0,ee.jsx)("div",{className:"pl-2 mt-2",children:(0,ee.jsx)("p",{className:"text-error text-sm",children:p.formState.errors.newWord.message})})]})})}),(0,ee.jsxs)("div",{className:"flex flex-wrap gap-2",children:[g.map(e=>(0,ee.jsx)(hk,{word:e,onClick:()=>m(e)},e)),v.map(e=>(0,ee.jsx)(hk,{word:e,onClick:()=>m(e),type:"error"},e))]})]})}var hT=n(63881);let hP=()=>{let[e,t]=(0,ed.useState)(eD.Po.DISABLED);(0,ed.useEffect)(()=>{let e=to.Z.get(eD.sw);e&&t(e)},[]);let n=e=>{to.Z.set(eD.sw,e),t(e),eI.wd.value=e,so.iN.settingChanged({referrer:"AnalyticsDebuggingOptionSelection",setting:"analytics_debugging_option",value:e}),e===eD.Po.SKIP_PROXY&&setTimeout(()=>{window.location.reload()},100)},r=[{value:eD.Po.DISABLED,icon:(0,ee.jsx)(hT.rzC,{height:"16px"}),label:"Silent"},{value:eD.Po.TOAST,icon:(0,ee.jsx)(hT.IC0,{height:"16px"}),label:"Toast"},{value:eD.Po.SKIP_PROXY,icon:(0,ee.jsx)(hT.N6x,{height:"16px"}),label:"Skip Proxy"}];return(0,ee.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ee.jsx)("p",{className:"text-sm text-muted-foreground",children:"[Staff only] Analytics debugging options"}),(0,ee.jsx)("div",{className:"flex flex-row gap-4 justify-start",children:r.map(t=>(0,ee.jsxs)(sa.zx,{className:(0,eR.cn)("rounded-spacing-s px-5 w-32",{"border-accent":e===t.value}),variant:e===t.value?"primary":"outline",onPress:()=>n(t.value),children:[t.icon," ",t.label]},t.value))})]})},hI=()=>{let{t:e}=(0,eh.$G)(),[t,n]=(0,ed.useState)(eD.mO.PROD),[r,i]=(0,ed.useState)(!1);(0,ed.useEffect)(()=>{let e=to.Z.get(eD.PJ);e&&n(e)},[]);let o=(0,ed.useCallback)(async e=>{i(!0),to.Z.set(eD.PJ,e),await so.iN.settingChanged({referrer:"DeploymentSelection",setting:"deployment",value:e}),setTimeout(()=>{window.location.reload()},100)},[]);return(0,ee.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ee.jsx)("p",{className:"text-sm text-muted-foreground",children:e("Settings.preview-deployment")}),(0,ee.jsxs)("div",{className:"flex flex-row gap-4 justify-start",children:[(0,ee.jsxs)(sa.zx,{className:(0,eR.cn)("rounded-spacing-s px-5 w-32",{"border-accent":t===eD.mO.PROD}),variant:t===eD.mO.PROD?"primary":"outline",isLoading:r,onPress:()=>o(eD.mO.PROD),children:[(0,ee.jsx)(hT.Siq,{height:"16px"})," ",e("SettingsPreferences.prod")]}),(0,ee.jsxs)(sa.zx,{className:(0,eR.cn)("rounded-spacing-s px-5 w-32",{"border-accent":t===eD.mO.PROD}),variant:t===eD.mO.CANARY?"primary":"outline",isLoading:r,onPress:()=>o(eD.mO.CANARY),children:[(0,ee.jsx)(sp.G7_,{height:"16px"})," ",e("SettingsPreferences.canary")]})]})]})};var hR=n(3617);function hO(e){return(0,hR.w_)({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1h16v2h-16zM0 4h10v2h-10zM0 10h10v2h-10zM0 7h16v2h-16zM0 13h16v2h-16z"},child:[]}]})(e)}function hA(e){return(0,hR.w_)({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1h16v2h-16zM0 4h16v2h-16zM0 7h16v2h-16zM0 10h16v2h-16zM0 13h16v2h-16z"},child:[]}]})(e)}let hN=e=>{let{mode:t}=e;switch(t){case eD.l2.classic:return(0,ee.jsx)(hO,{height:"16px"});case eD.l2.dense:return(0,ee.jsx)(hA,{height:"16px"});default:return(0,ee.jsx)(sg.kBi,{height:"16px"})}},hL=()=>{let{t:e}=(0,eh.$G)(),t=(0,eA.BF)(eI.x6),n=n=>(0,ee.jsxs)(sa.zx,{className:(0,eR.cn)("rounded-spacing-s px-5 w-32",{"border-accent":t===n}),variant:t===n?"primary":"outline",onPress:()=>{to.Z.set(eD.nA,n),eI.x6.value=n,so.iN.settingChanged({referrer:"AlternateChatStyleSelection",setting:"chat_style",value:n})},children:[(0,ee.jsx)(hN,{mode:n})," ",e("SettingsPreferences.".concat(n))]},n);return(0,ee.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ee.jsx)("p",{className:"text-sm text-muted-foreground",children:e("Settings.chat-style")}),(0,ee.jsx)("div",{className:"flex flex-row gap-4 justify-start",children:Object.values(eD.l2).map(e=>n(e))})]})};var hM=n(36449);let hD=()=>{let{isForcedQuotaExceeded:e,setIsForcedQuotaExceeded:t}=(0,hM.pD)(),[n,r]=(0,ed.useState)(e),i=e=>{r(e),t(e)},o=[{value:!1,icon:(0,ee.jsx)(sg.kBi,{height:"16px"}),label:"Off"},{value:!0,icon:(0,ee.jsx)(hT.bcx,{height:"16px"}),label:"Exceeded"}];return(0,ee.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ee.jsx)("p",{className:"text-sm text-muted-foreground",children:"[Staff only] Message quota options"}),(0,ee.jsx)("div",{className:"flex flex-row gap-4 justify-start",children:o.map(e=>(0,ee.jsxs)(sa.zx,{className:(0,eR.cn)("rounded-spacing-s px-5 w-32",{"border-accent":n===e.value}),variant:n===e.value?"primary":"outline",onPress:()=>i(e.value),children:[e.icon," ",e.label]},e.label))})]})};function hj(){var e;let t=(0,td.E)(),{settings:n}=(0,sP.Fl)(),r=!!(null==n?void 0:null===(e=n.discord)||void 0===e?void 0:e.userId),{mutate:i}=(0,sP.pC)(),o=(0,ed.useCallback)(async()=>{i({...n,discord:{}},{onSuccess:()=>{(0,el.K)("Discord unlinked")},onError:()=>{(0,el.K)("Failed to unlink discord account",2e4,"destructive")}})},[n,i]);return t?(0,ee.jsx)("div",{className:"flex flex-col gap-2",children:!!r&&(0,ee.jsxs)(sa.zx,{onPress:o,children:[(0,ee.jsx)(sO.KpZ,{color:"#5865F2",size:"3rem"}),"Unlink Discord"]})}):null}var hU=n(30603),hF=n(71754),hV=n(83379);function hB(){let e=hV.n2,t=e.crypto||e.msCrypto,n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>t.getRandomValues(new Uint8Array(1))[0])}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&n())>>e/4).toString(16))}function hz(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function hH(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function hq(e,t){let n=hz(e);if(!n)return;let r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){let e={...r&&r.data,...t.data};n.mechanism.data=e}}var hK=n(75251);let hG=["debug","info","warn","error","log","assert","trace"],hW={};function h$(e){if(!("console"in hV.n2))return e();let t=hV.n2.console,n={},r=Object.keys(hW);r.forEach(e=>{let r=hW[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}!function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};hG.forEach(e=>{t[e]=()=>void 0})}();let hZ=Object.prototype.toString;function hJ(e){switch(hZ.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return h5(e,Error)}}function hY(e,t){return hZ.call(e)===`[object ${t}]`}function hX(e){return hY(e,"ErrorEvent")}function hQ(e){return hY(e,"DOMError")}function h0(e){return hY(e,"String")}function h1(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function h2(e){return hY(e,"Object")}function h3(e){return"undefined"!=typeof Event&&h5(e,Event)}function h4(e){return!!(e&&e.then&&"function"==typeof e.then)}function h5(e,t){try{return e instanceof t}catch(e){return!1}}function h6(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}(w=X||(X={}))[w.PENDING=0]="PENDING",w[w.RESOLVED=1]="RESOLVED",w[w.REJECTED=2]="REJECTED";class h8{constructor(e){h8.prototype.__init.call(this),h8.prototype.__init2.call(this),h8.prototype.__init3.call(this),h8.prototype.__init4.call(this),this._state=X.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new h8((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new h8((t,n)=>{let r,i;return this.then(t=>{i=!1,r=t,e&&e()},t=>{i=!0,r=t,e&&e()}).then(()=>{if(i){n(r);return}t(r)})})}__init(){this._resolve=e=>{this._setResult(X.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(X.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===X.PENDING){if(h4(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===X.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===X.RESOLVED&&e[1](this._value),this._state===X.REJECTED&&e[2](this._value),e[0]=!0)})}}}let h7=(0,hV.Rf)();function h9(e,t={}){if(!e)return"<unknown>";try{let n,r=e,i=[],o=0,s=0,a=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&o++<5&&(n=function(e,t){let n,r,i,o,s;let a=[];if(!e||!e.tagName)return"";a.push(e.tagName.toLowerCase());let l=t&&t.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(l&&l.length)l.forEach(e=>{a.push(`[${e[0]}="${e[1]}"]`)});else if(e.id&&a.push(`#${e.id}`),(n=e.className)&&h0(n))for(s=0,r=n.split(/\s+/);s<r.length;s++)a.push(`.${r[s]}`);let c=["aria-label","type","name","title","alt"];for(s=0;s<c.length;s++)i=c[s],(o=e.getAttribute(i))&&a.push(`[${i}="${o}"]`);return a.join("")}(r,a),"html"!==n&&(!(o>1)||!(s+3*i.length+n.length>=l)));)i.push(n),s+=n.length,r=r.parentNode;return i.reverse().join(" > ")}catch(e){return"<unknown>"}}function pe(e,t=0){return"string"!=typeof e||0===t?e:e.length<=t?e:`${e.slice(0,t)}...`}function pt(e,t){if(!Array.isArray(e))return"";let n=[];for(let t=0;t<e.length;t++){let r=e[t];try{h6(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function pn(e,t=[],n=!1){return t.some(t=>(function(e,t,n=!1){return!!h0(e)&&(hY(t,"RegExp")?t.test(e):!!h0(t)&&(n?e===t:e.includes(t)))})(e,t,n))}function pr(e,t,n){if(!(t in e))return;let r=e[t],i=n(r);"function"==typeof i&&po(i,r),e[t]=i}function pi(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(e){}}function po(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,pi(e,"__sentry_original__",t)}catch(e){}}function ps(e){return e.__sentry_original__}function pa(e){if(hJ(e))return{message:e.message,name:e.name,stack:e.stack,...pc(e)};if(!h3(e))return e;{let t={type:e.type,target:pl(e.target),currentTarget:pl(e.currentTarget),...pc(e)};return"undefined"!=typeof CustomEvent&&h5(e,CustomEvent)&&(t.detail=e.detail),t}}function pl(e){try{return"undefined"!=typeof Element&&h5(e,Element)?h9(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function pc(e){if("object"!=typeof e||null===e)return{};{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}function pu(e,t={}){if(!t.user||(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,hK.ph)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:hB()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class pd{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=ph()}static clone(e){let t=new pd;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata},t._propagationContext={...e._propagationContext}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&pu(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){let t=e(this);return t instanceof pd?t:this}return e instanceof pd?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):h2(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=ph(),this}addBreadcrumb(e,t){let n="number"==typeof t?t:100;if(n<=0)return this;let r={timestamp:(0,hK.yW)(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={},n){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};let t=this._span.transaction;if(t){e.sdkProcessingMetadata={dynamicSamplingContext:t.getDynamicSamplingContext(),...e.sdkProcessingMetadata};let n=t.name;n&&(e.tags={transaction:n,...e.tags})}}this._applyFingerprint(e);let r=this._getBreadcrumbs(),i=[...e.breadcrumbs||[],...r];return e.breadcrumbs=i.length>0?i:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},function e(t,n,r,i=0){return new h8((o,s)=>{let a=t[i];if(null===n||"function"!=typeof a)o(n);else{let l=a({...n},r);h4(l)?l.then(n=>e(t,n,r,i+1).then(o)).then(null,s):e(t,l,r,i+1).then(o).then(null,s)}})}([...n||[],...(0,hV.YO)("globalEventProcessors",()=>[]),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){var t;e.fingerprint=e.fingerprint?Array.isArray(t=e.fingerprint)?t:[t]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function ph(){return{traceId:hB(),spanId:hB().substring(16)}}let pp=parseFloat("7.86.0");class pf{constructor(e,t=new pd,n=pp){this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=pd.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){let t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){let n=this._lastEventId=t&&t.event_id?t.event_id:hB(),r=Error("Sentry syntheticException");return this._withClient((i,o)=>{i.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},o)}),n}captureMessage(e,t,n){let r=this._lastEventId=n&&n.event_id?n.event_id:hB(),i=Error(e);return this._withClient((o,s)=>{o.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},s)}),r}captureEvent(e,t){let n=t&&t.event_id?t.event_id:hB();return e.type||(this._lastEventId=n),this._withClient((r,i)=>{r.captureEvent(e,{...t,event_id:n},i)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){let{scope:n,client:r}=this.getStackTop();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:o=100}=r.getOptions&&r.getOptions()||{};if(o<=0)return;let s={timestamp:(0,hK.yW)(),...e},a=i?h$(()=>i(s,t)):s;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){let{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){let t=pg(this);try{e(this)}finally{pg(t)}}getIntegration(e){let t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(e){return null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let e=this.getStackTop().scope,t=e.getSession();if(t){let e;e={},"ok"===t.status&&(e={status:"exited"}),pu(t,e)}this._sendSessionUpdate(),e.setSession()}startSession(e){let{scope:t,client:n}=this.getStackTop(),{release:r,environment:i="production"}=n&&n.getOptions()||{},{userAgent:o}=hV.n2.navigator||{},s=function(e){let t=(0,hK.ph)(),n={sid:hB(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(function e(t,n){if(h2(t)){let r=n.get(t);if(void 0!==r)return r;let i={};for(let r of(n.set(t,i),Object.keys(t)))void 0!==t[r]&&(i[r]=e(t[r],n));return i}if(Array.isArray(t)){let r=n.get(t);if(void 0!==r)return r;let i=[];return n.set(t,i),t.forEach(t=>{i.push(e(t,n))}),i}return t})({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:"number"==typeof n.did||"string"==typeof n.did?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}},new Map)};return e&&pu(n,e),n}({release:r,environment:i,user:t.getUser(),...o&&{userAgent:o},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&pu(a,{status:"exited"}),this.endSession(),t.setSession(s),s}shouldSendDefaultPii(){let e=this.getClient(),t=e&&e.getOptions();return!!(t&&t.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){let{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){let n=pm().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t)}}function pm(){return hV.n2.__SENTRY__=hV.n2.__SENTRY__||{extensions:{},hub:void 0},hV.n2}function pg(e){let t=pm(),n=py(t);return pb(t,e),n}function pv(){let e=pm();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=pm()){return(!(e&&e.__SENTRY__&&e.__SENTRY__.hub)||py(e).isOlderThan(pp))&&pb(e,new pf),py(e)}(e)}function py(e){return(0,hV.YO)("hub",()=>new pf,e)}function pb(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}new WeakMap;let pw=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function p_(e,t){return pv().captureException(e,t?t instanceof pd||"function"==typeof t||Object.keys(t).some(e=>pw.includes(e))?{captureContext:t}:t:void 0)}let pC=(0,ed.createContext)({i18n:null,setLanguage:()=>null,getLanguage:()=>"en"}),px=e=>{var t,n,r,i;let{requestedLanguage:o,ssrI18nData:s}=e,a=null===(i=window)||void 0===i?void 0:null===(r=i.navigator)||void 0===r?void 0:null===(n=r.language)||void 0===n?void 0:null===(t=n.split("-"))||void 0===t?void 0:t[0],[{language:l,i18nData:c},u]=(0,ed.useState)({language:null!=o?o:(0,hU.OH)(a),i18nData:s}),d=(0,ed.useCallback)(async e=>{let t=null;try{if(!(t=await (0,hU.YR)(e))||0===Object.keys(t).length)throw Error("No valid translations returned");return t}catch(e){p_(e,{tags:{category:"i18n",action:"fetchI18nBundle"},extra:{translations:t}})}},[]),h=(0,ed.useMemo)(()=>{let e={en:{[hU.QA]:hF}};c&&(e[l]={translations:c});let t=(0,hU.Np)({lng:l,resources:e}),n=t.next().value;return t.next(),n},[l,c]),p=(0,ed.useMemo)(()=>({i18n:h,setLanguage:async e=>{(0,hU.kh)(e);let t=await d(e);await u({language:e,i18nData:t})},getLanguage:()=>l}),[l,h,d]),f=(0,ed.useRef)(e=>{let{children:t}=e;return(0,ee.jsx)(pC.Provider,{value:p,children:t})});return(0,ed.useMemo)(()=>({...p,Provider:f.current}),[p])},pk=()=>{let e=(0,ed.useContext)(pC);return{...e,i18n:e.i18n}},pS=()=>{let{t:e,i18n:t}=(0,eh.$G)(),{setLanguage:n}=pk(),[r,i]=(0,ed.useState)(!1),[o,s]=(0,ed.useState)(t.language),a=(0,hU.lx)(o),l=async e=>{n(e),so.iN.settingChanged({setting:"language",value:e,old_value:o,referrer:"LanguageDropdownSelection"}),s(e)};return(0,ee.jsx)(hd.C,{options:(0,hU.Vb)().map(e=>({content:(0,ee.jsx)(sa.zx,{variant:"ghost",className:"flex justify-start rounded-spacing-xs",onPress:async()=>l(e.value),children:e.label}),asChild:!0,key:e.value})),setIsOpen:i,isOpen:r,triggerClassName:"opacity-100",contentClassName:"overflow-auto max-h-[420px] focus:outline-none",itemClassName:"py-4 first:mt-2 last:mb-2",children:(0,ee.jsxs)("div",{className:"h-fit text-muted-foreground py-3 px-4 border-1 border-accent rounded-spacing-m gap-2 flex flex-row justify-between items-center",onClick:()=>i(!r),children:[(0,ee.jsxs)("div",{className:"flex flex-col items-start",children:[(0,ee.jsx)("p",{className:"text-sm",children:e("SettingsPreferences.language")}),(0,ee.jsx)("p",{className:"text-primary",children:a})]}),(0,ee.jsx)(sg.v4q,{height:"20px"})]})})},pE=e=>{let{mode:t}=e;switch(t){case eD.hY.light:return(0,ee.jsx)(sg.NWY,{height:"16px"});case eD.hY.system:return(0,ee.jsx)(sg.utk,{height:"16px"});default:return(0,ee.jsx)(sg.tQe,{height:"16px"})}},pT=()=>{let{t:e}=(0,eh.$G)(),{theme:t,setTheme:n}=(0,ts.F)();return(0,ee.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ee.jsx)("p",{className:"text-sm text-muted-foreground",children:e("SettingsPreferences.theme")}),(0,ee.jsx)("div",{className:"flex flex-row gap-4",children:Object.values(eD.hY).map(r=>(0,ee.jsxs)(sa.zx,{className:(0,eR.cn)("rounded-spacing-s px-5 w-32",{"border-accent":r!==t}),variant:r===t?"primary":"outline",onPress:()=>{n(r),so.iN.settingChanged({referrer:"ThemeModeSelection",setting:"theme",value:r})},children:[(0,ee.jsx)(pE,{mode:r})," ",e("SettingsPreferences.".concat(r))]},r))})]})},pP=()=>{let e=(0,td.E)();return(0,ee.jsxs)("div",{className:"w-full flex flex-col gap-4",children:[(0,ee.jsx)(pS,{}),(0,ee.jsx)(pT,{}),(0,ee.jsx)(hL,{}),(0,ee.jsx)(hI,{}),!!e&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(hP,{}),(0,ee.jsx)(hD,{}),(0,ee.jsx)(hj,{})]})]})};var pI=n(38513),pR=n(19459);let pO=hC.z.object({username:hC.z.string().min(2).max(20),name:hC.z.string().min(2).max(20),bio:hC.z.string().max(500),avatar_file_name:hC.z.string(),avatar_type:hC.z.string()});function pA(){var e,t,n,r,i,o,s;let a=(0,eu.useRouter)(),{t:l}=(0,eh.$G)(),{user:c}=(0,ex.a)(),u=(0,sP.Sx)(),d=(0,h_.cI)({resolver:(0,hw.F)(pO),mode:"onChange",defaultValues:{username:(null==c?void 0:null===(e=c.user)||void 0===e?void 0:e.username)||"",name:(null==c?void 0:c.name)||"",bio:(null==c?void 0:c.bio)||"",avatar_file_name:(null==c?void 0:null===(n=c.user)||void 0===n?void 0:null===(t=n.account)||void 0===t?void 0:t.avatar_file_name)||"",avatar_type:null==c?void 0:null===(i=c.user)||void 0===i?void 0:null===(r=i.account)||void 0===r?void 0:r.avatar_type}}),h=async e=>{try{var t,n,r;let i=d.getFieldState("avatar_file_name").isDirty?{avatar_rel_path:e.avatar_file_name,avatar_type:eD.GR.UPLOADED}:{},o=await u.mutateAsync({...e,...i});if(o.data.status&&sI.RL.ERROR_TO_TRANSLATION[o.data.status]){(0,el.K)(l("Signup.".concat(sI.RL.ERROR_TO_TRANSLATION[o.data.status])),void 0,"destructive");return}await so.iN.profileUpdated({values:e,referrer:"profile_form"}),(null==c?void 0:null===(t=c.user)||void 0===t?void 0:t.username)!==e.username&&window.location.pathname===sc.nN.profile(null!==(r=null==c?void 0:null===(n=c.user)||void 0===n?void 0:n.username)&&void 0!==r?r:"")&&await a.push(sc.nN.profile(e.username)),window.location.reload()}catch(e){throw(0,el.K)(l("User.profile-update-failed"),void 0,"destructive"),e}},p=d.formState.isDirty&&d.formState.isValid;return(0,ee.jsx)(hv.l0,{...d,children:(0,ee.jsxs)("form",{onSubmit:d.handleSubmit(h),className:"flex flex-col justify-between w-full gap-4 overflow-y-scroll h-fit md:h-full",children:[(0,ee.jsxs)("div",{className:"flex flex-col w-full gap-3",children:[(0,ee.jsx)(pR.d,{name:"avatar_file_name",username:null!==(s=null==c?void 0:null===(o=c.user)||void 0===o?void 0:o.username)&&void 0!==s?s:"",generationLabel:l("Common.describe-your-image"),generationPlaceholder:l("Signup.what-do-you-want-your-profile-image"),referrer:"ProfileForm"}),(0,ee.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,ee.jsx)(hy.C,{name:"username",checks:(0,hv.XF)(pO,"username"),showMaxLengthIndicator:!0}),(0,ee.jsx)(hy.C,{name:"name",checks:(0,hv.XF)(pO,"name"),showMaxLengthIndicator:!0}),(0,ee.jsx)(pI.j,{name:"bio",checks:(0,hv.XF)(pO,"bio"),showMaxLengthIndicator:!0,className:"overflow-auto max-h-40"})]})]}),(0,ee.jsxs)("div",{className:(0,eR.cn)("flex justify-end gap-4 pointer-events-none opacity-0 transition-opacity",{"opacity-100":p,"pointer-events-auto":p}),children:[(0,ee.jsx)(sa.zx,{isDisabled:d.formState.isSubmitting,type:"button",color:"secondary",onPress:()=>d.reset(),children:l("Form.cancel")}),(0,ee.jsx)(sa.zx,{isDisabled:d.formState.isSubmitting,isLoading:d.formState.isSubmitting,type:"submit",children:l("Form.save")})]})]})})}var pN=n(41327);let pL=()=>{var e,t;let n=(0,sP.Fl)(),r=!!(null==n?void 0:null===(t=n.settings)||void 0===t?void 0:null===(e=t.discord)||void 0===e?void 0:e.userId),{t:i}=(0,eh.$G)();return(0,ee.jsx)(pN.l,{highlighted:!0,analytics:{name:"elementClicked",properties:{referrer:"Settings",type:"JoinDiscordButton"}},onPress:()=>{eI.vV.value=!0},icon:(0,ee.jsx)(sO.KpZ,{color:"#5865F2",size:"1.5rem"}),children:i(r?"Settings.discord":"Settings.link-discord")})};var pM=n(75015);let pD=e=>{let{className:t}=e;return(0,ee.jsxs)("div",{className:t,children:[(0,ee.jsx)(pL,{}),(0,ee.jsx)(pM.qE,{})]})},pj=e=>{let{tabValue:t,header:n,subheader:r,children:i,className:o}=e;return(0,ee.jsxs)(hc.nU,{value:t,className:(0,eR.cn)("w-full h-full flex-auto px-5 pt-0 md:pt-8 flex flex-col mt-4 md:mt-0 items-center",o),children:[(0,ee.jsxs)("div",{className:"w-full flex flex-col justify-start ml-4",children:["string"==typeof n?(0,ee.jsx)(sl.fK,{className:(0,eR.cn)("hidden md:flex",r?"mb-2":"mb-10"),children:n}):n,!!r&&(0,ee.jsx)("p",{className:"text-m text-muted-foreground mb-2 hidden md:block",children:r})]}),(0,ee.jsx)("div",{className:"w-96 p-8 md:p-0 md:w-full h-full flex justify-center",children:i})]})};function pU(e){let{user:t}=e,{t:n}=(0,eh.$G)(),r=(0,eA.BF)(eI.bB),i=(0,sq.useGateValue)(sr.F5.BlockedWords),o=(0,sq.useGateValue)(sr.F5.ParentalControls),s=(0,ed.useMemo)(()=>{let e=["profile"];return t&&e.push("account"),e.push("preferences"),i&&e.push("muted-words"),o&&e.push("parental-controls"),e},[t,o,i]);return(0,ee.jsx)(sl.Vq,{open:r,onOpenChange:e=>{eI.bB.value=e},analyticsProps:{referrer:"Settings",type:"SettingsDialog"},children:(0,ee.jsx)(sl.cZ,{className:(0,eR.cn)("p-0 h-full md:h-[624px] md:min-w-[708px] overflow-y-auto overflow-x-hidden flex flex-col justify-between md:flex-row"),children:(0,ee.jsxs)(hc.mQ,{defaultValue:"profile",className:"w-full h-full flex flex-col md:flex-row",tabIndex:-1,children:[(0,ee.jsxs)(hc.dr,{className:(0,eR.cn)("min-h-16 h-fit md:h-full mt-8 md:mt-0 flex flex-col justify-start md:justify-between items-center p-5 md:pt-8 w-full md:max-w-fit md:w-[55%] overflow-hidden border-b-accent border-b-1 md:border-b-none md:border-b-0 md:border-r-1 md:border-r-accent overflow-x-scroll"),children:[(0,ee.jsx)("div",{className:"w-full mb-2 md:mb-0 flex flex-row md:flex-col gap-2 items-start",children:s.map(e=>(0,ee.jsx)(hc.SP,{value:e,className:"py-2 data-[state=active]:bg-accent focus-visible:text-primary rounded-spacing-s w-full flex justify-center md:justify-start outline-none border-b-0 data-[state=active]:border-b-0 data-[state=active]:shadow-none",children:n("Settings.".concat(e))},e))}),(0,ee.jsx)(pD,{className:"hidden w-full md:flex md:flex-col gap-2"})]}),(0,ee.jsx)(pj,{tabValue:"profile",header:n("Settings.profile"),className:"pb-4",children:(0,ee.jsx)(pA,{})}),!!t&&(0,ee.jsx)(pj,{tabValue:"account",header:n("Settings.account"),children:(0,ee.jsx)(hg,{user:t})}),(0,ee.jsx)(pj,{tabValue:"preferences",header:n("Settings.preferences"),children:(0,ee.jsx)(pP,{})}),!!o&&(0,ee.jsx)(pj,{tabValue:"parental-controls",header:(0,ee.jsx)(hl,{}),children:(0,ee.jsx)(ha,{})}),(0,ee.jsx)(pj,{tabValue:"muted-words",header:n("Settings.muted-words"),subheader:n("Settings.blocked-words.description"),children:(0,ee.jsx)(hE,{})}),(0,ee.jsx)("div",{className:(0,eR.cn)("flex md:hidden bottom-0 h-fit justify-center p-4 border-t-accent border-t-1"),children:(0,ee.jsx)(pD,{className:"flex gap-2 items-center"})})]})})})}var pF=n(98178),pV=n(29452),pB=n(84938),pz=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function pH(e){let{voiceId:t}=e,{removeQueryParam:n}=(0,pV.f)(),{voice:r}=(0,pB.Kl)(t,!1);return r?(0,ee.jsx)(pF.V,{voice:r,isOpen:!0,onClose:()=>n("voiceId",!0),referrer:"VoiceDetailPage",action:"view",showSuggestedCharacters:!0}):null}function pq(){let e=(0,ta.useSearchParams)(),t=null==e?void 0:e.get("voiceId");return t&&"string"==typeof t&&pz.test(t)?(0,ee.jsx)(pH,{voiceId:t}):null}let pK=()=>{let{t:e}=(0,eh.$G)(),t=(0,eA.BF)(eI.NL),n=e=>{so.iN.modalClosed({referrer:"VoiceVisibilityModal",type:"voice_visibility_modal",acknowledged:e}),eI.NL.value={...eI.NL.value,visible:!1}};return(0,ee.jsx)(sl.Vq,{open:t.visible,analyticsProps:{referrer:"ChatVoice",type:"ChatVoiceSelection"},children:(0,ee.jsxs)(sl.cZ,{className:"p-0 cursor-default w-full max-w-[360px]",hideClose:!0,children:[(0,ee.jsx)(sl.fK,{className:"px-5 pt-7",children:(0,ee.jsx)(sl.$N,{children:e("VoiceVisibilityModal.title")})}),(0,ee.jsx)(sl.Be,{children:(0,ee.jsx)("div",{className:"px-2 mx-3 mt-2 text-[14px]",children:e("VoiceVisibilityModal.description")})}),t.confirmCallback?(0,ee.jsxs)("div",{className:"flex justify-between mx-4 my-4",children:[(0,ee.jsx)(sa.zx,{type:"submit",variant:"ghost",onPress:()=>n(!1),children:e("Form.cancel")}),(0,ee.jsx)(sa.zx,{type:"submit",onPress:()=>{var e,t;localStorage.setItem(eD.hl.Keys.VoiceVisibilityModalDismissed,"true"),n(!0),null===(e=(t=eI.NL.value).confirmCallback)||void 0===e||e.call(t)},children:e(eI.NL.value.editingVoice?"VoiceVisibilityModal.confirm-save":"VoiceVisibilityModal.confirm")})]}):(0,ee.jsx)("div",{className:"flex justify-end mx-4 my-4",children:(0,ee.jsx)(sa.zx,{type:"submit",onPress:()=>n(!1),children:e("Common.done")})})]})})};function pG(e){let{enableSSR:t,children:n}=e,[r,i]=(0,ed.useState)(!1),o=(0,sV.wz)(sF.b.EnableSSR);return((0,ed.useEffect)(()=>{i(!0)},[]),r||t||o)?n:null}let pW=()=>{let e=(0,eu.useRouter)(),{t}=(0,eh.$G)(),n=(0,ta.usePathname)();(0,ed.useEffect)(()=>{var t;let r=e.query,i=r.notification_id,o=r.utm_campaign,s=(null==n?void 0:n.startsWith("/chat"))?null==n?void 0:null===(t=n.match(/\/chat\/(.+)/))||void 0===t?void 0:t[1]:void 0;"string"==typeof i&&(so.iN.emailOpened({notification_id:i,type:o,character_id:s,location:null!=n?n:void 0}),(()=>{let t={...e.query};delete t.notification_id,delete t.utm_campaign,delete t.utm_content,delete t.utm_medium,delete t.utm_source,e.push({pathname:e.pathname,query:t},void 0,{shallow:!0})})())},[n,e,t])},p$=()=>{let e=(0,eu.useRouter)(),{t}=(0,eh.$G)();(0,ed.useEffect)(()=>{let n=e.query.checkout_success;void 0!==n&&(so.iN.purchaseFlowComplete({referrer:"purchase_hook",type:"purchase_stripe_subscription",success:"true"===n,product_id:eD._0}),"true"===n&&(0,el.K)(t("Monetization.subscription-success"),2e4,"default"),(()=>{let t={...e.query};delete t.checkout_success,delete t.session_id,e.push({pathname:e.pathname,query:t},void 0,{shallow:!0})})())},[e,t])};var pZ=n(2336);function pJ(){return(0,eA.qs)(pY),null}let pY=(0,eA.td)(""),pX="logged-in-mweb-upsell",pQ=e=>{(0,dL.setCookie)("".concat(pX,"-").concat(e),Date.now(),{maxAge:864e3})},p0=e=>{let t=(0,dL.getCookie)("".concat(pX,"-").concat(e));return!t||Date.now()-Number(t)>=864e6},p1=(e,t,n)=>!!e||!n||p0(n)&&t,p2=e=>{let{isSignedOut:t,layerParamData:n,isOnboardingComplete:r=!1,userId:i}=e,o=(0,sq.useLayer)(sr.db.NewLoggedOutHomePage),s=(0,sq.useGateValue)(sr.F5.MobileUpsellOverride),a=(0,eu.useRouter)(),l=a.asPath.includes("/login")||a.asPath.includes("/interests");if(!ck.tq||l)return{isEligible:!1,shouldAllowContinue:!1,isAppUpsellEnabled:!1};if(t&&s)return{isEligible:!0,shouldAllowContinue:!0,isAppUpsellEnabled:!0};let c=o.get(n.layerParam,!1),u=!o.get(n.experienceParam,!1);return{isEligible:p1(t,r,i),shouldAllowContinue:u,isAppUpsellEnabled:c}};var p3={src:"/_next/static/media/download-on-app-store-en.a2e763b8.svg"},p4={src:"/_next/static/media/get-it-on-google-play-en@2x.c1cbdf35.png"},p5=n(70537);(_=Q||(Q={})).CLOSED="closed",_.ENCOURAGED="encouraged";let p6=e=>{let{experience:t}=e,n=so.iN.client.getDeviceId();return"".concat("https://share.character.ai/yxCO/installApp","?af_s_id=").concat(n,"&af_s_exp=").concat(t)},p8=e=>{let{experience:t,referrer:n}=e,r=ck.gn?p3.src:p4.src;return(0,ee.jsx)(sE.Z,{type:"button",href:p6({experience:t}),target:"_blank",rel:"noopener",className:"justify-center flex w-full mt-4",analytics:{name:"linkHandled",properties:{referrer:n,campaign:"mweb-app-upsell",type:t}},children:(0,ee.jsx)(u7(),{src:r,width:216,height:72,alt:""})})},p7=e=>{let{isSignedOut:t,shouldAllowContinue:n}=e,r=(0,eA.BF)(eI.eg),{t:i}=(0,dU.$G)(),{user:o}=(0,ex.a)(),s=(0,p5.E6)(),a=(0,p5.w9)(s.id),l="NewHomeMobileUpsell".concat(t?"SignedOut":"SignedIn");return(0,ed.useEffect)(()=>{eI.eg.value=!0},[]),(0,ee.jsx)(sl.Vq,{open:r,onOpenChange:e=>{eI.eg.value=e},analyticsProps:{referrer:l,type:n?"encouraged":"closed"},children:(0,ee.jsxs)(sl.cZ,{hideClose:!0,className:"w-screen h-screen bg-background px-6 pt-24 pb-6 flex flex-col items-center animate-fade-in",style:{backgroundColor:s.mobileBackgroundBaseColor,backgroundImage:"\n            linear-gradient(\n              to bottom,\n              ".concat(s.mobileBackgroundBaseColor," 0%,\n              ").concat(s.mobileBackgroundBaseColor," 10%,\n              transparent 20%\n            ),\n            url(").concat(a,")\n          "),backgroundSize:"100% auto",backgroundPosition:"bottom",backgroundRepeat:"no-repeat"},children:[(0,ee.jsx)("div",{className:"mb-8",children:(0,ee.jsx)(sM.t,{logoClassName:"text-white",props:{width:116,height:32}})}),(0,ee.jsxs)("div",{className:"space-y-3 text-center",children:[(0,ee.jsx)("h1",{className:"text-[32px] font-medium leading-[34px] text-white",children:(0,ee.jsxs)(dU.cC,{i18nKey:"NewHomeMobileUpsell.heading-1",children:[(0,ee.jsx)("span",{className:"block",children:"Get access to"}),(0,ee.jsxs)("span",{className:"block",children:[(0,ee.jsx)("span",{children:"10M+"})," characters"]})]})}),(0,ee.jsx)("p",{className:"text-white text-[16px] font-normal",children:i("NewHomeMobileUpsell.app-upsell")})]}),(0,ee.jsx)(p8,{experience:n?"encouraged":"closed",referrer:l}),!!n&&(0,ee.jsx)("button",{type:"button",onClick:()=>{var e,r;so.iN.modalClosed({referrer:l,type:n?"encouraged":"closed"}),!t&&(null==o?void 0:null===(e=o.user)||void 0===e?void 0:e.id)&&pQ(null==o?void 0:null===(r=o.user)||void 0===r?void 0:r.id),eI.eg.value=!1},className:"text-white text-[14px] font-medium mt-2 py-[10px]",children:i("NewHomeMobileUpsell.continue-web-button")})]})})};function p9(e){let{name:t,src:n,nameClassname:r,containerClassname:i,onClick:o}=e;return(0,ee.jsxs)(sa.zx,{onPress:o,variant:"ghost",className:(0,eR.cn)("flex flex-row justify-start p-2 gap-3 items-center",i),children:[(0,ee.jsx)(sD.B7,{name:t,src:n,size:16}),(0,ee.jsx)("div",{className:"flex flex-1 flex-col justify-center text-sm",children:(0,ee.jsx)("p",{className:r,children:t})}),(0,ee.jsx)(sg.Two,{height:".75em",color:"var(--icon-secondary)"})]})}var fe=n(19273),ft=n(46503);function fn(e){let{chatRoom:t,placeholder:n}=e,r=(0,eu.useRouter)(),{recentCharacters:i,refetch:o}=(0,c$.Z)(),{mutate:s,isLoading:a}=(0,fe.M2)(),{mutate:l,isLoading:c}=(0,fe.Uo)(),[u,d]=(0,ed.useState)(!1),{t:h}=(0,eh.$G)(),p=n||h("Search.placeholder"),{searchQuery:f,characterResults:m,isSearchLoading:g,clearSearch:v,onChangeSearchText:y,recentResults:b}=(0,sB.HP)(void 0,!1,sB.Sc.characters,"Searchbar",i),w=!t,[_,C]=(0,ed.useState)((null==t?void 0:t.characters)||[]),x=(0,ed.useRef)((null==t?void 0:t.title)||""),[k,S]=(0,ed.useState)(x.current),E=(0,ed.useRef)(null),T=b.filter(e=>!_.map(e=>e.id).includes(e.character_id)&&"PRIVATE"!==e.character_visibility),P=!!(T.length>0||m)&&(null==f?void 0:f.length)>0,I=null==m?void 0:m.filter(e=>!T.map(e=>e.character_id).includes(e.external_id)&&!_.map(e=>e.id).includes(e.external_id)),R=e=>{_.find(t=>t.id===e.id)?C(_.filter(t=>t.id!==e.id)):_.length<sI.jr.MAX_CHARACTERS_LEN&&C([..._,e])},O=_.slice().sort((e,t)=>e.id.localeCompare(t.id)).map(e=>e.id).toString(),A=null==t?void 0:t.characters.slice().sort((e,t)=>e.id.localeCompare(t.id)).map(e=>e.id).toString(),N=k.length>=sI.jr.MIN_NAME_LEN&&k.length<=sI.jr.MAX_NAME_LEN,L=(O!==A||k!==x.current)&&N&&_.length>0,M=w?c:a;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(sl.fK,{children:(0,ee.jsx)(sl.$N,{children:(0,ee.jsxs)("div",{className:"w-full flex-row flex items-center",children:[!u&&(0,ee.jsx)(sg.dY8,{height:"1.5em",className:"mr-2"}),(0,ee.jsx)(sG.I,{type:"text",value:k,onFocus:()=>d(!0),onBlur:()=>d(!1),onChange:e=>S(e.target.value),placeholder:w?h("Chat.enter-group-name"):h("Chat.edit-group-name"),className:"rounded-full rounded-l-none border-none bg-transparent placeholder:text-muted-foreground p-0 relative text-large"}),(0,ee.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ee.jsx)(sa.zx,{isLoading:M,onPress:()=>{if(w)l({characters:_.map(e=>e.id),title:k,settings:{anyone_can_join:!1,require_approval:!0},visibility:"VISIBILITY_UNLISTED"},{onSuccess:e=>{eI.Z6.value=!1,r.push(sc.nN.rooms(e.id)),o()},onError:e=>{(0,el.K)(h("Error.something-went-wrong-creating-your-room"),2e4,"destructive"),(0,st.H)("Failed to create room",{error:e})}});else if(t){let e=(0,ft.dQ)(t.characters,_,t.id);s({id:t.id,updates:[...e,{op:"replace",path:"/muroom/".concat(t.id),value:{title:k}}]},{onSuccess:()=>{t.title!==k&&so.iN.groupChatUpdated({referrer:"ChatRoomManagementHeader",type:"update_title",chat_id:t.id}),O!==A&&so.iN.groupChatUpdated({referrer:"ChatRoomCharacters",type:"add_remove_character",old_count:null==t?void 0:t.characters.length,new_count:_.length,chat_id:t.id}),eI.Z6.value=!1,o()},onError:e=>{(0,el.K)(h("Error.something-went-wrong-updating-your-room"),2e4,"destructive"),(0,st.H)("Failed to create room",{error:e})}})}},isDisabled:!L||M||c,children:w?h("Chat.create"):h("Form.save")}),(0,ee.jsx)(sa.zx,{variant:"ghost",size:"sm",isIconOnly:!0,className:"mr-2 h-fit min-w-fit w-fit",onPress:()=>{eI.Z6.value=!1},children:(0,ee.jsx)(sg.Two,{height:"1.25em",color:"var(--icon-secondary)"})})]})]})})}),(0,ee.jsxs)("div",{className:"flex flex-col justify-start",children:[(0,ee.jsxs)("div",{className:"relative",children:[(0,ee.jsxs)("div",{className:"flex gap-2 w-full border-spacing-1 border-divider flex-row self-center items-center rounded-spacing-xs bg-surface-elevation-1 p-2 placeholder:text-placeholder",children:[(0,ee.jsx)(sa.zx,{"aria-label":h("Common.search"),variant:"ghost",isIconOnly:!0,className:"h-fit min-w-fit w-fit",children:g?(0,ee.jsx)(ss.$,{size:16}):(0,ee.jsx)(sg.W1M,{height:"1.25em",className:"ml-1"})}),(0,ee.jsx)(sG.I,{className:"rounded-full rounded-l-none border-none bg-transparent placeholder:text-muted-foreground p-0 relative",type:"text",ref:E,placeholder:p,onChange:e=>y(e.target.value),value:f}),!!f&&(0,ee.jsx)(sa.zx,{"aria-label":h("Common.clear-search"),variant:"ghost",size:"sm",isIconOnly:!0,className:"mr-2 h-fit min-w-fit w-fit",onPress:v,children:(0,ee.jsx)(sg.Two,{height:"1.25em",color:"var(--icon-secondary)"})})]}),(0,ee.jsx)(sz.Z,{className:"my-2 bg-surface-elevation-3"}),(0,ee.jsx)("div",{className:"text-sm text-secondary-foreground font-thin my-2",children:h("Chat.room-characters-count",{count:_.length,max:sI.jr.MAX_CHARACTERS_LEN})}),(0,ee.jsx)("div",{className:"flex flex-wrap gap-2",children:_.map(e=>(0,ee.jsx)(p9,{src:e.avatar_url,name:e.name,containerClassname:"bg-surface-elevation-3",onClick:()=>C(t=>t.filter(t=>t.id!==e.id))},e.id))}),(0,ee.jsx)(sz.Z,{className:"my-2 bg-surface-elevation-3"})]}),(0,ee.jsxs)("div",{className:"flex max-h-96 w-full overflow-y-scroll rounded-spacing-s flex-col pt-1",children:[!!T&&T.length>0&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("p",{className:"text-sm text-secondary-foreground ml-1 font-thin mb-3",children:h("Guide.recent-chats")}),T.map((e,t)=>(0,ee.jsx)(sj.J,{referrer:"RoomParticipants_SearchResult",containerClassname:(0,eR.cn)("h-12 min-h-10 group",{"opacity-50":_.length>=sI.jr.MAX_CHARACTERS_LEN}),src:e.avatar_file_name,disableLinkNavigation:!0,onClick:()=>R({id:e.character_id,name:e.name,avatar_url:e.avatar_file_name}),name:e.name,nameClassname:"text-md",avatarImageSize:32,id:e.character_id,index:t,rightContent:(0,ee.jsx)(sa.zx,{variant:"ghost",className:"bg-surface-elevation-1 hidden group-hover:block",onPress:()=>R({id:e.character_id,name:e.name,avatar_url:e.avatar_file_name}),children:h("Common.add")})},e.character_id)),(0,ee.jsx)(sz.Z,{className:"my-2 bg-surface-elevation-3"})]}),!!P&&!!I&&I.length>0&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("p",{className:"text-sm text-secondary-foreground ml-3",children:h("Search.search-results")}),I.map((e,t)=>(0,ee.jsx)(sj.J,{referrer:"RoomParticipants_SearchResult",containerClassname:(0,eR.cn)("h-12 min-h-10",{"opacity-50":_.length>=sI.jr.MAX_CHARACTERS_LEN}),src:e.avatar_file_name,disableLinkNavigation:!0,onClick:()=>R({id:e.external_id,name:e.participant__name,avatar_url:e.avatar_file_name}),name:e.participant__name,nameClassname:"text-small",avatarImageSize:32,id:e.external_id,index:t,rightContent:(0,ee.jsx)(sa.zx,{variant:"ghost",className:"bg-surface-elevation-1 hidden group-hover:block",onPress:()=>R({id:e.external_id,name:e.participant__name,avatar_url:e.avatar_file_name}),children:h("Common.add")})},e.external_id))]})]})]})]})}function fr(){let e=(0,eA.BF)(eI.Z6),t=(0,eA.BF)(eI.SF);return(0,ee.jsx)(sl.Vq,{open:e,onOpenChange:e=>{eI.Z6.value=e},children:(0,ee.jsx)(sl.cZ,{hideClose:!0,className:"w-full sm:w-[480px] min-h-96 flex flex-col","aria-describedby":void 0,children:(0,ee.jsx)(fn,{chatRoom:t})})})}var fi=n(82863);let fo=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],fs=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class fa{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=fa.id,this._options=e}setupOnce(e,t){}processEvent(e,t,n){var r,i;let o=n.getOptions();return(r=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:fo],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:fs],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(this._options,o)).ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)||(i=r.ignoreErrors,!e.type&&i&&i.length&&(function(e){let t;let n=[];e.message&&n.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(e){}return t&&t.value&&(n.push(t.value),t.type&&n.push(`${t.type}: ${t.value}`)),n})(e).some(e=>pn(e,i))||function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;let n=e.transaction;return!!n&&pn(n,t)}(e,r.ignoreTransactions)||function(e,t){if(!t||!t.length)return!1;let n=fl(e);return!!n&&pn(n,t)}(e,r.denyUrls))||!function(e,t){if(!t||!t.length)return!0;let n=fl(e);return!n||pn(n,t)}(e,r.allowUrls)?null:e}}function fl(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(e){return null}}fa.__initStatic();class fc{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=fc.id}setupOnce(){i=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=ps(this)||this;return i.apply(t,e)}}catch(e){}}}fc.__initStatic();let fu=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function fd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}let fh=hV.n2,fp=0;function ff(e,t={},n){if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t)return t;if(ps(e))return e}catch(t){return e}let r=function(){let r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);let i=r.map(e=>ff(e,t));return e.apply(this,i)}catch(e){var i;throw fp++,setTimeout(()=>{fp--}),i=n=>{n.addEventProcessor(e=>(t.mechanism&&(hH(e,void 0,void 0),hq(e,t.mechanism)),e.extra={...e.extra,arguments:r},e)),p_(e)},pv().withScope(i),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}po(r,e),pi(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}let fm="<anonymous>";function fg(e){try{if(!e||"function"!=typeof e)return fm;return e.name||fm}catch(e){return fm}}let fv={},fy={};function fb(e,t){fv[e]=fv[e]||[],fv[e].push(t)}function fw(e,t){fy[e]||(t(),fy[e]=!0)}function f_(e,t){let n=e&&fv[e];if(n)for(let e of n)try{e(t)}catch(e){}}let fC=null;function fx(){fC=hV.n2.onerror,hV.n2.onerror=function(e,t,n,r,i){return f_("error",{column:r,error:i,line:n,msg:e,url:t}),!!fC&&!fC.__SENTRY_LOADER__&&fC.apply(this,arguments)},hV.n2.onerror.__SENTRY_INSTRUMENTED__=!0}let fk=null;function fS(){fk=hV.n2.onunhandledrejection,hV.n2.onunhandledrejection=function(e){return f_("unhandledrejection",e),!fk||!!fk.__SENTRY_LOADER__||fk.apply(this,arguments)},hV.n2.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function fE(e,t){let n=fP(e,t),r={type:t&&t.name,value:function(e){let t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function fT(e,t){return{exception:{values:[fE(e,t)]}}}function fP(e,t){let n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(fI.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}let fI=/Minified React error #\d+;/i;function fR(e,t,r,i,o){let s;if(hX(t)&&t.error)return fT(e,t.error);if(hQ(t)||hY(t,"DOMException")){if("stack"in t)s=fT(e,t);else{let n=t.name||(hQ(t)?"DOMError":"DOMException"),o=t.message?`${n}: ${t.message}`:n;hH(s=fO(e,o,r,i),o)}return"code"in t&&(s.tags={...s.tags,"DOMException.code":`${t.code}`}),s}return hJ(t)?fT(e,t):(h2(t)||h3(t)?hq(s=function(e,t,r,i){let o=pv().getClient(),s=o&&o.getOptions().normalizeDepth,a={exception:{values:[{type:h3(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:function(e,{isUnhandledRejection:t}){let n=function(e,t=40){let n=Object.keys(pa(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return pe(n[0],t);for(let e=n.length;e>0;e--){let r=n.slice(0,e).join(", ");if(!(r.length>t)){if(e===n.length)return r;return pe(r,t)}}return""}(e),r=t?"promise rejection":"exception";if(hX(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(h3(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}(t,{isUnhandledRejection:i})}]},extra:{__serialized__:function e(t,r=3,i=102400){let o=function(e,t=100,r=Infinity){try{return function e(t,r,i=Infinity,o=Infinity,s=function(){let e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){let[a,l]=s;if(null==r||["number","boolean","string"].includes(typeof r)&&!("number"==typeof r&&r!=r))return r;let c=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==n.g&&t===n.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(h6(t))return"[VueViewModel]";if(h2(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${fg(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let r=function(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);if(/^HTML(\w*)Element$/.test(r))return`[HTMLElement: ${r}]`;return`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}}(t,r);if(!c.startsWith("[object "))return c;if(r.__sentry_skip_normalization__)return r;let u="number"==typeof r.__sentry_override_normalization_depth__?r.__sentry_override_normalization_depth__:i;if(0===u)return c.replace("object ","");if(a(r))return"[Circular ~]";if(r&&"function"==typeof r.toJSON)try{let t=r.toJSON();return e("",t,u-1,o,s)}catch(e){}let d=Array.isArray(r)?[]:{},h=0,p=pa(r);for(let t in p){if(!Object.prototype.hasOwnProperty.call(p,t))continue;if(h>=o){d[t]="[MaxProperties ~]";break}let n=p[t];d[t]=e(t,n,u-1,o,s),h++}return l(r),d}("",e,t,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}(t,r);return~-encodeURI(JSON.stringify(o)).split(/%..|./).length>i?e(t,r-1,i):o}(t,s)}};if(r){let t=fP(e,r);t.length&&(a.exception.values[0].stacktrace={frames:t})}return a}(e,t,r,o),{synthetic:!0}):(hH(s=fO(e,t,r,i),`${t}`,void 0),hq(s,{synthetic:!0})),s)}function fO(e,t,n,r){let i={message:t};if(r&&n){let r=fP(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}return i}class fA{static __initStatic(){this.id="GlobalHandlers"}constructor(e){this.name=fA.id,this._options={onerror:!0,onunhandledrejection:!0,...e},this._installFunc={onerror:fN,onunhandledrejection:fL}}setupOnce(){Error.stackTraceLimit=50;let e=this._options;for(let t in e){let n=this._installFunc[t];n&&e[t]&&(n(),this._installFunc[t]=void 0)}}}function fN(){!function(e){let t="error";fb(t,e),fw(t,fx)}(e=>{let[t,n,r]=fD();if(!t.getIntegration(fA))return;let{msg:i,url:o,line:s,column:a,error:l}=e;if(fp>0)return;let c=void 0===l&&h0(i)?function(e,t,n,r){let i=hX(e)?e.message:e,o="Error",s=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return s&&(o=s[1],i=s[2]),fM({exception:{values:[{type:o,value:i}]}},t,n,r)}(i,o,s,a):fM(fR(n,l||i,void 0,r,!1),o,s,a);c.level="error",t.captureEvent(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function fL(){!function(e){let t="unhandledrejection";fb(t,e),fw(t,fS)}(e=>{let[t,n,r]=fD();if(!t.getIntegration(fA))return;if(fp>0)return!0;let i=function(e){if(h1(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(e),o=h1(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:fR(n,i,void 0,r,!0);o.level="error",t.captureEvent(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function fM(e,t,n,r){let i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=h0(t)&&t.length>0?t:function(){try{return h7.document.location.href}catch(e){return""}}();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function fD(){let e=pv(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}fA.__initStatic();let fj=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class fU{static __initStatic(){this.id="TryCatch"}constructor(e){this.name=fU.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&pr(fh,"setTimeout",fF),this._options.setInterval&&pr(fh,"setInterval",fF),this._options.requestAnimationFrame&&pr(fh,"requestAnimationFrame",fV),this._options.XMLHttpRequest&&"XMLHttpRequest"in fh&&pr(XMLHttpRequest.prototype,"send",fB);let e=this._options.eventTarget;e&&(Array.isArray(e)?e:fj).forEach(fz)}}function fF(e){return function(...t){let n=t[0];return t[0]=ff(n,{mechanism:{data:{function:fg(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function fV(e){return function(t){return e.apply(this,[ff(t,{mechanism:{data:{function:"requestAnimationFrame",handler:fg(e)},handled:!1,type:"instrument"}})])}}function fB(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&pr(n,e,function(t){let n={mechanism:{data:{function:e,handler:fg(t)},handled:!1,type:"instrument"}},r=ps(t);return r&&(n.mechanism.data.handler=fg(r)),ff(t,n)})}),e.apply(this,t)}}function fz(e){let t=fh[e]&&fh[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(pr(t,"addEventListener",function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=ff(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:fg(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,ff(r,{mechanism:{data:{function:"addEventListener",handler:fg(r),target:e},handled:!1,type:"instrument"}}),i])}}),pr(t,"removeEventListener",function(e){return function(t,n,r){try{let i=n&&n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}}))}function fH(){"console"in hV.n2&&hG.forEach(function(e){e in hV.n2.console&&pr(hV.n2.console,e,function(t){return hW[e]=t,function(...t){f_("console",{args:t,level:e});let n=hW[e];n&&n.apply(hV.n2.console,t)}})})}fU.__initStatic();let fq=hV.n2;function fK(){if(!fq.document)return;let e=f_.bind(null,"dom"),t=fG(e,!0);fq.document.addEventListener("click",t,!1),fq.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let n=fq[t]&&fq[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(pr(n,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{let r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){let r=fG(e);o.handler=r,t.call(this,n,r,i)}o.refCount++}catch(e){}return t.call(this,n,r,i)}}),pr(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{let n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}}))})}function fG(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=function(e){try{return e.target}catch(e){return null}}(n);if("keypress"===n.type&&(!r||!r.tagName||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName&&!r.isContentEditable))return;pi(n,"_sentryCaptured",!0),r&&!r._sentryId&&pi(r,"_sentryId",hB());let i="keypress"===n.type?"input":n.type;!function(e){if(e.type!==s)return!1;try{if(!e.target||e.target._sentryId!==a)return!1}catch(e){}return!0}(n)&&(e({event:n,name:i,global:t}),s=n.type,a=r?r._sentryId:void 0),clearTimeout(o),o=fq.setTimeout(()=>{a=void 0,s=void 0},1e3)}}let fW=hV.n2,f$="__sentry_xhr_v3__";function fZ(){if(!fW.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;pr(e,"open",function(e){return function(...t){let n=Date.now(),r=h0(t[0])?t[0].toUpperCase():void 0,i=function(e){if(h0(e))return e;try{return e.toString()}catch(e){}}(t[1]);if(!r||!i)return e.apply(this,t);this[f$]={method:r,url:i,request_headers:{}},"POST"===r&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let o=()=>{let e=this[f$];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}f_("xhr",{args:[r,i],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?pr(this,"onreadystatechange",function(e){return function(...t){return o(),e.apply(this,t)}}):this.addEventListener("readystatechange",o),pr(this,"setRequestHeader",function(e){return function(...t){let[n,r]=t,i=this[f$];return i&&h0(n)&&h0(r)&&(i.request_headers[n.toLowerCase()]=r),e.apply(this,t)}}),e.apply(this,t)}}),pr(e,"send",function(e){return function(...t){let n=this[f$];return n&&(void 0!==t[0]&&(n.body=t[0]),f_("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this})),e.apply(this,t)}})}let fJ=(0,hV.Rf)();function fY(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function fX(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in fJ))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(fY(fJ.fetch))return!0;let e=!1,t=fJ.document;if(t&&"function"==typeof t.createElement)try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=fY(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){}return e})()&&pr(hV.n2,"fetch",function(e){return function(...t){let{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,n]=e;return{url:f0(t),method:fQ(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:f0(t),method:fQ(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return f_("fetch",{...i}),e.apply(hV.n2,t).then(e=>(f_("fetch",{...i,endTimestamp:Date.now(),response:e}),e),e=>{throw f_("fetch",{...i,endTimestamp:Date.now(),error:e}),e})}})}function fQ(e,t){return!!e&&"object"==typeof e&&!!e[t]}function f0(e){return"string"==typeof e?e:e?fQ(e,"url")?e.url:e.toString?e.toString():"":""}let f1=(0,hV.Rf)(),f2=hV.n2;function f3(){if(!function(){let e=f1.chrome,t=e&&e.app&&e.app.runtime,n="history"in f1&&!!f1.history.pushState&&!!f1.history.replaceState;return!t&&n}())return;let e=f2.onpopstate;function t(e){return function(...t){let n=t.length>2?t[2]:void 0;if(n){let e=l,t=String(n);l=t,f_("history",{from:e,to:t})}return e.apply(this,t)}}f2.onpopstate=function(...t){let n=f2.location.href,r=l;if(l=n,f_("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},pr(f2.history,"pushState",t),pr(f2.history,"replaceState",t)}let f4=["fatal","error","warning","log","info","debug"];function f5(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}class f6{static __initStatic(){this.id="Breadcrumbs"}constructor(e){this.name=f6.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){if(this.options.console&&function(e){let t="console";fb(t,e),fw(t,fH)}(f7),this.options.dom){var e;fb("dom",(e=this.options.dom,function(t){let n;let r="object"==typeof e?e.serializeAttribute:void 0,i="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;i&&i>1024&&(i=1024),"string"==typeof r&&(r=[r]);try{let e=t.event;n=e&&e.target?h9(e.target,{keyAttrs:r,maxStringLength:i}):h9(e,{keyAttrs:r,maxStringLength:i})}catch(e){n="<unknown>"}0!==n.length&&pv().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})})),fw("dom",fK)}if(this.options.xhr&&(fb("xhr",f9),fw("xhr",fZ)),this.options.fetch&&function(e){let t="fetch";fb(t,e),fw(t,fX)}(me),this.options.history&&function(e){let t="history";fb(t,e),fw(t,f3)}(mt),this.options.sentry){let e=pv().getClient();e&&e.on&&e.on("beforeSendEvent",f8)}}}function f8(e){pv().addBreadcrumb({category:`sentry.${"transaction"===e.type?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:function(e){let{message:t,event_id:n}=e;if(t)return t;let r=hz(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}(e)},{event:e})}function f7(e){var t;let n={category:"console",data:{arguments:e.args,logger:"console"},level:"warn"===(t=e.level)?"warning":f4.includes(t)?t:"log",message:pt(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message=`Assertion failed: ${pt(e.args.slice(1)," ")||"console.assert"}`,n.data.arguments=e.args.slice(1)}pv().addBreadcrumb(n,{input:e.args,level:e.level})}function f9(e){let{startTimestamp:t,endTimestamp:n}=e,r=e.xhr[f$];if(!t||!n||!r)return;let{method:i,url:o,status_code:s,body:a}=r,l={xhr:e.xhr,input:a,startTimestamp:t,endTimestamp:n};pv().addBreadcrumb({category:"xhr",data:{method:i,url:o,status_code:s},type:"http"},l)}function me(e){let{startTimestamp:t,endTimestamp:n}=e;if(!(!n||e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method)){if(e.error){let r=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};pv().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},i)}else{let r=e.response,i={...e.fetchData,status_code:r&&r.status},o={input:e.args,response:r,startTimestamp:t,endTimestamp:n};pv().addBreadcrumb({category:"fetch",data:i,type:"http"},o)}}}function mt(e){let t=e.from,n=e.to,r=f5(fh.location.href),i=t?f5(t):void 0,o=f5(n);i&&i.path||(i=r),r.protocol===o.protocol&&r.host===o.host&&(n=o.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),pv().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}function mn(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function mr(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}f6.__initStatic();class mi{static __initStatic(){this.id="LinkedErrors"}constructor(e={}){this.name=mi.id,this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){}preprocessEvent(e,t,n){let r=n.getOptions();!function(e,t,n=250,r,i,o,s){if(!o.exception||!o.exception.values||!s||!h5(s.originalException,Error))return;let a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=(function e(t,n,r,i,o,s,a,l){if(s.length>=r+1)return s;let c=[...s];if(h5(i[o],Error)){mn(a,l);let s=t(n,i[o]),u=c.length;mr(s,o,u,l),c=e(t,n,r,i[o],o,[s,...c],s,u)}return Array.isArray(i.errors)&&i.errors.forEach((i,s)=>{if(h5(i,Error)){mn(a,l);let u=t(n,i),d=c.length;mr(u,`errors[${s}]`,d,l),c=e(t,n,r,i,o,[u,...c],u,d)}}),c})(e,t,i,s.originalException,r,o.exception.values,a,0).map(e=>(e.value&&(e.value=pe(e.value,n)),e)))}(fE,r.stackParser,r.maxValueLength,this._key,this._limit,e,t)}}mi.__initStatic();class mo{static __initStatic(){this.id="HttpContext"}constructor(){this.name=mo.id}setupOnce(){}preprocessEvent(e){if(!fh.navigator&&!fh.location&&!fh.document)return;let t=e.request&&e.request.url||fh.location&&fh.location.href,{referrer:n}=fh.document||{},{userAgent:r}=fh.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}mo.__initStatic();class ms{static __initStatic(){this.id="Dedupe"}constructor(){this.name=ms.id}setupOnce(e,t){}processEvent(e){if(e.type)return e;try{var t;if((t=this._previousEvent)&&(function(e,t){let n=e.message,r=t.message;return!!((n||r)&&(!n||r)&&(n||!r)&&n===r&&ml(e,t)&&ma(e,t))}(e,t)||function(e,t){let n=mc(t),r=mc(e);return!!(n&&r&&n.type===r.type&&n.value===r.value&&ml(e,t)&&ma(e,t))}(e,t)))return null}catch(e){}return this._previousEvent=e}}function ma(e,t){let n=mu(e),r=mu(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function ml(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function mc(e){return e.exception&&e.exception.values&&e.exception.values[0]}function mu(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){}}function md(e={},t=pv()){if(!fh.document)return;let{client:n,scope:r}=t.getStackTop(),i=e.dsn||n&&n.getDsn();if(!i)return;r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());let o=fh.document.createElement("script");o.async=!0,o.crossOrigin="anonymous",o.src=function(e,t){let n=function(e){let t="string"==typeof e?function(e){let t=fu.exec(e);if(!t){h$(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,i="",o,s="",a]=t.slice(1),l="",c=a,u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){let e=c.match(/^\d+/);e&&(c=e[0])}return fd({host:o,pass:i,path:l,projectId:c,port:s,protocol:n,publicKey:r})}(e):fd(e);if(t)return t}(e);if(!n)return"";let r=`${function(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(n)}embed/error-page/`,i=`dsn=${function(e,t=!1){let{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`}(n)}`;for(let e in t)if("dsn"!==e&&"onClose"!==e){if("user"===e){let e=t.user;if(!e)continue;e.name&&(i+=`&name=${encodeURIComponent(e.name)}`),e.email&&(i+=`&email=${encodeURIComponent(e.email)}`)}else i+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`}return`${r}?${i}`}(i,e),e.onLoad&&(o.onload=e.onLoad);let{onClose:s}=e;if(s){let e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{s()}finally{fh.removeEventListener("message",e)}};fh.addEventListener("message",e)}let a=fh.document.head||fh.document.body;a&&a.appendChild(o)}ms.__initStatic(),new fa,new fc,new fU,new f6,new fA,new mi,new ms,new mo;var mh=n(43052),mp=n(66514),mf=n(44457),mm=function(){return null},mg=n(10186),mv=n(41130);function my(e){let{children:t}=e,n=(0,ta.useSearchParams)(),r=(null==n?void 0:n.get("inviteCode"))||void 0;return(0,ed.useEffect)(()=>{eI.MX.value=r},[r]),t}function mb(e){var t,n,r;let{children:i,token:o,dehydratedState:s,user:a,ipCountry:l,hideGuide:c=!1,enableSSR:u=!1}=e,[d]=(0,ed.useState)(()=>new mh.S(eD.gw));p$(),pW();let h=(0,eA.BF)(eI.zE),p=(0,eT.Ui)(),f="open"===h||"default"===h&&p,{isAppUpsellEnabled:m,shouldAllowContinue:g,isEligible:v}=p2({isSignedOut:!1,layerParamData:{layerParam:"logged-in-mweb",experienceParam:"logged-in-mweb-closed"},isOnboardingComplete:!!((null==a?void 0:null===(n=a.user)||void 0===n?void 0:null===(t=n.account)||void 0===t?void 0:t.onboarding_complete)&&(null==a?void 0:a.date_of_birth)),userId:null==a?void 0:null===(r=a.user)||void 0===r?void 0:r.id});(0,ed.useEffect)(()=>{try{(0,sR.Vt)(null==a?void 0:a.user)?(to.Z.set("caiplus","true",{expires:1}),(0,sR._v)(null==a?void 0:a.user)&&to.Z.set("caiplustrial","true",{expires:1})):(to.Z.remove("caiplus"),to.Z.remove("caiplustrial"))}catch(e){}}),(0,ed.useEffect)(()=>{(0,mg.U2)("error").then(e=>{e&&((0,mg.IV)("error"),md({eventId:e.id}))})},[]);let y=(0,td.E)(),[b]=(0,eA.BF)(eI.Gq),w=(0,ed.useMemo)(()=>({marginTop:"".concat(b,"px")}),[b]),_=(0,eA.BF)(eI.qh);return(0,ee.jsx)(mv.H,{token:o,user:a,isStaff:y,children:(0,ee.jsx)(eS,{children:(0,ee.jsx)(sn,{children:(0,ee.jsx)(mp.aH,{client:d,children:(0,ee.jsxs)(mf.p,{state:s,children:[(0,ee.jsx)(d4,{}),(0,ee.jsx)(pK,{}),(0,ee.jsx)(dK,{}),(0,ee.jsx)(sf,{}),(0,ee.jsx)(pq,{}),(0,ee.jsx)(pU,{user:a}),(0,ee.jsx)(fr,{}),(0,ee.jsx)(sN,{}),(0,ee.jsx)(si.b,{}),!!eM.k.NEXT_PUBLIC_ENABLE_REACT_QUERY_DEV_TOOLS&&(0,ee.jsx)(mm,{initialIsOpen:!1}),(0,ee.jsx)(my,{children:(0,ee.jsxs)(cB.ch,{children:[(0,ee.jsx)(dV,{}),!!v&&!!m&&(0,ee.jsx)(p7,{isSignedOut:!1,shouldAllowContinue:g}),(0,ee.jsxs)("div",{className:"relative",children:[(0,ee.jsx)(pJ,{}),(0,ee.jsxs)("div",{className:"flex min-h-dvh",children:[!c&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("aside",{className:"fixed z-50 h-full",children:(0,ee.jsx)(dA,{})}),(0,ee.jsx)("div",{className:(0,eR.cn)("transition-width w-0",p&&"w-7",f&&"w-64"),children:"\xa0"})]}),(0,ee.jsx)("main",{id:"main-content",className:(0,eR.cn)("flex-1 min-h-dvh max-w-full transition-all mt-0 data-[lightbox=open]:h-dvh data-[lightbox=open]:overflow-hidden",p&&!c&&"ml-7",p&&f&&!c&&"max-w-[calc(100%-256px)]"),style:w,"data-open":!!p&&!!f,"data-lightbox":_,children:(0,ee.jsx)(pG,{enableSSR:u,children:i})})]})]})]})}),(0,ee.jsx)(sS,{country:l})]})})})})})}function mw(e){let{children:t,dehydratedState:n,ipCountry:r,extraProps:i,enableSSR:o=!1}=e,s=(0,ed.useRef)(null),a=(0,eA.BF)(eI.Ib);(0,eT.Jg)(s),(0,ed.useEffect)(()=>{(0,mg.U2)("error").then(e=>{e&&((0,mg.IV)("error"),md({eventId:e.id}))})},[]),(0,ed.useMemo)(()=>{(0,pZ.C)()},[]);let l=(0,sq.useStatsigClient)(),c=l.getExperiment(sr.F5.PromoteEmailSignin,{disableExposureLog:!0}).get("enabled",!1),u=(null==i?void 0:i.loggedOutHomePageRecommendationsVariant)==="control",{isAppUpsellEnabled:d,shouldAllowContinue:h}=p2({isSignedOut:!0,layerParamData:{layerParam:"logged-out-mweb",experienceParam:"logged-out-mweb-closed"}});(0,ed.useEffect)(()=>{a&&l.getExperiment(sr.F5.PromoteEmailSignin)},[a,l]);let p=(0,eA.BF)(eI.qh),[f]=(0,ed.useState)(()=>new mh.S(eD.gw));return(0,ee.jsx)(sn,{children:(0,ee.jsx)(fi.rg,{clientId:eD.Rl,children:(0,ee.jsxs)(mp.aH,{client:f,children:[!!eM.k.NEXT_PUBLIC_ENABLE_REACT_QUERY_DEV_TOOLS&&(0,ee.jsx)(mm,{initialIsOpen:!1}),(0,ee.jsx)(mf.p,{state:n,children:(0,ee.jsxs)(my,{children:[(0,ee.jsx)(d4,{}),(0,ee.jsx)(dK,{}),!u&&(c?(0,ee.jsx)(sC,{}):(0,ee.jsx)(sx,{})),!!d&&(0,ee.jsx)(p7,{isSignedOut:!0,shouldAllowContinue:h}),(0,ee.jsx)(pq,{}),(0,ee.jsx)("div",{className:"relative",children:(0,ee.jsx)("div",{className:"flex",children:(0,ee.jsx)("main",{id:"main-content",className:"flex-1 max-w-full min-h-dvh data-[lightbox=open]:h-dvh data-[lightbox=open]:overflow-hidden",ref:s,"data-lightbox":p,children:(0,ee.jsx)(pG,{enableSSR:o,children:t})})})})]})}),(0,ee.jsx)(sS,{country:r})]})})})}function m_(e){let{children:t}=e,n=(0,eA.BF)(eI.qh);return(0,ee.jsx)(ts.f,{attribute:"class",disableTransitionOnChange:!0,defaultTheme:"system",enableSystem:!0,enableColorScheme:!0,children:(0,ee.jsx)("div",{className:"relative",children:(0,ee.jsx)("main",{id:"main-content",className:"flex-1 max-w-full overflow-x-hidden min-h-dvh data-[lightbox=open]:h-dvh data-[lightbox=open]:overflow-hidden","data-lightbox":n,children:t})})})}var mC=n(16941),mx=n(47016),mk=n(57933),mS=n(24991);hC.z.setErrorMap((e,t)=>{var n;let r=null!==(n=e.path[e.path.length-1])&&void 0!==n?n:"";return(r=(0,mS.t)("Form.labels.".concat(r),{defaultValue:(0,mk.k)(r)}),e.code===hC.z.ZodIssueCode.too_small)?0===t.data.length?{message:(0,mS.t)("Error.required",{name:r})}:{message:(0,mS.t)("Error.minLength",{name:r,minLength:e.minimum})}:e.code===hC.z.ZodIssueCode.too_big?{message:(0,mS.t)("Error.maxLength",{name:r,maxLength:e.maximum})}:{message:t.defaultError}}),n(90134),n(7550),n(50169),n(8498),n(97929),n(62424),n(98527),n(54939),n(15102),n(23644),n(76460);let mE=e=>{let{children:t}=e;return(0,ee.jsxs)("div",{className:"relative size-14",children:[(0,ee.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-b from-secondary to-transparent shadow-xs"}),(0,ee.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:t})]})};var mT=n(63458);let mP=e=>{var t;let{setValue:n,setError:r,locale:i}=e,{t:o}=(0,eh.$G)(),s=(0,hv.YV)();return(0,ee.jsx)(mT.W,{locale:i,setValue:n,error:null===(t=s.error)||void 0===t?void 0:t.message,setError:(e,t)=>{"day"===e?r("date_of_birth",{type:"custom",message:o("Form.date-day-range-error")}):"year"===e&&t&&r("date_of_birth",{type:"custom",message:o("Form.date-year-range-error",{minYear:t.minYear,maxYear:t.maxYear})})}})};var mI=n(28830),mR=n(9365),mO=n(96445),mA=n(27122);let mN=()=>{let e=(0,sd.NL)(),{data:t}=(0,sd.aM)(["birthdayStatus"],async()=>(await (0,mA.U)().fetchBirthdayStatus()).data,{onError:e=>{th.$G.logError("Failed to fetch birthday status",{error:e})},staleTime:1/0}),n=(0,sd.Db)(async e=>(await (0,mA.U)().updateUserBirthday(e)).data,{onSuccess:()=>{e.invalidateQueries(["birthdayStatus"])},onError:e=>{th.$G.logError("Failed to update birthday",{error:e})}});return{isAgeRestricted:!!t&&t.date_of_birth_collected&&!t.meets_age_requirements,showAgePicker:!!t&&!t.date_of_birth_collected,updateBirthday:n}},mL=e=>{let{defaultUsernameInputBehavior:t}=e,{t:n}=(0,dU.$G)();return{formSchema:hC.z.object({username:t?hC.z.string().min(2).max(20):hC.z.string(),date_of_birth:hC.z.date({errorMap:(e,t)=>{let{defaultError:r}=t;return{message:["invalid_date","required"].includes(e.code)?n("Form.date-required-error"):r}},coerce:!0}).min(new Date(1900,0,1),n("Form.date-min-error")).max(new Date,n("Form.date-max-error")),userInEEA:hC.z.boolean(),userInUK:hC.z.boolean(),avatar_file_name:hC.z.string(),inviteCode:hC.z.string().optional()})}},mM=e=>{var t,n;let{onCallback:r,locale:i}=e,{t:o}=(0,dU.$G)(),[s,a]=(0,ed.useState)(!1),[l,c]=(0,ed.useState)(!1),u=!!s,{formSchema:d}=mL({defaultUsernameInputBehavior:s}),h=(0,eu.useRouter)(),p=(0,sP.kM)(),f=(0,eA.BF)(eI.MX),m=ec.h.auth.logout.useMutation(),g=(0,ed.useCallback)(()=>{try{if(so.iN.isLoaded&&so.iN.client)return String(so.iN.client.getSessionId())}catch(e){(0,st.H)("Failed to get Amplitude session ID",{error:e,type:st.NI.Auth})}},[]),v=(0,h_.cI)({resolver:(0,hw.F)(d),defaultValues:{username:"",userInEEA:!0,userInUK:!0,avatar_file_name:""}}),{updateBirthday:y}=mN(),{user:b,setUser:w}=(0,ex.a)();(0,sV.Xu)((null==b?void 0:null===(n=b.user)||void 0===n?void 0:null===(t=n.account)||void 0===t?void 0:t.onboarding_complete)?"UpdateBirthday":"Signup");let _=(0,sq.useStatsigClient)();(0,ed.useEffect)(()=>{(async()=>{let e=await (0,sR.F$)();v.setValue("userInEEA",e.inEEA,{shouldValidate:!0}),v.setValue("userInUK",e.inUK,{shouldValidate:!0}),f&&v.setValue("inviteCode",f,{shouldValidate:!1})})()},[v,f]),(0,ed.useEffect)(()=>{v.resetField("username",{defaultValue:""})},[v]);let C=async e=>{var t,n,i;if(await v.trigger(),!v.formState.isValid)return;let l=e=>{localStorage.setItem(eD.SA,new Date().toISOString()),(0,el.K)(o("Signup.error-general"),2500,"destructive"),so.iN.signupRejected({type:"user_age_issue",referrer:e}),setTimeout(async()=>{await m.mutateAsync(),null==r||r(),h.reload()},2500)};if(c(!0),null==b?void 0:null===(n=b.user)||void 0===n?void 0:null===(t=n.account)||void 0===t?void 0:t.onboarding_complete){so.iN.elementClicked({action:"birthday_update_submitted",referrer:"UpdateBirthday"});let t=await y.mutateAsync(e.date_of_birth.toISOString());if(t.date_of_birth_collected){t.meets_age_requirements?(so.iN.elementClicked({action:"birthday_update_accepted",referrer:"UpdateBirthday"}),h.reload()):(so.iN.elementClicked({action:"birthday_update_rejected",referrer:"UpdateBirthday"}),l("UpdateBirthday"));return}(0,el.K)(o("Birthdate.error-general"),void 0,"destructive"),c(!1);return}let{status:u,needs_exit_signup:d,username:C}=await p.mutateAsync({...e,date_of_birth_collected:!0,acknowledgement:!0,date_of_birth:e.date_of_birth.toISOString(),avatar_type:e.avatar_file_name?eD.GR.UPLOADED:"DEFAULT",auto_username:!s,signup_code:f,useNewEndpoint:!0,session_id:g(),referrer_url:document.referrer,amplitude_device_id:so.iN.client.getDeviceId()});if("Error: Provide username"===u)a(!0),(0,el.K)(o("Signup.error-general"),2500,"destructive"),(0,st.H)("Failed to generate unique username",{type:st.NI.Auth});else if("Error: Username already exists"===u)v.setError("username",{type:"manual",message:o("Signup.username-exists-error")});else if(d)l("Signup");else if("OK"===u){so.iN.signupCompleted({referrer:"Signup",invite_code:f}),w(t=>({...t,name:t.name||C,user:{...t.user,username:C},date_of_birth:e.date_of_birth})),null==r||r(),_.getExperiment(sr.F5.NuxTopicPicker).get("enabled",!1)?(null===(i=sessionStorage)||void 0===i||i.setItem(eD.pT,h.asPath),h.push("/interests")):h.reload();return}else{let e=sI.RL.ERROR_TO_TRANSLATION[u];so.iN.signupRejected({errorKey:e,status:u,referrer:"Signup"}),e?((0,el.K)(o("Signup.".concat(e)),2500,"destructive"),"error-signup-already-complete"===e&&_.checkGate(sr.F5.SignupReload)&&h.reload()):(0,el.K)(o("Signup.error-general"),2e3,"destructive")}c(!1)};return(0,ee.jsx)(hv.l0,{...v,children:(0,ee.jsxs)("form",{onSubmit:v.handleSubmit(C),className:"flex flex-col w-80 gap-2",children:[!!u&&(0,ee.jsx)(hy.C,{label:"",placeholder:o("Signup.username-placeholder"),name:"username",checks:(0,hv.XF)(d,"username"),showMaxLengthIndicator:!0}),(0,ee.jsxs)("div",{className:"w-full",children:[(0,ee.jsx)("div",{className:(0,eR.cn)({"text-error":!!v.formState.errors.date_of_birth}),children:o("Form.labels.date")}),(0,ee.jsx)(hv.Wi,{name:"date_of_birth",rules:(0,hv.Of)((0,hv.XF)(d,"date_of_birth")),render:()=>(0,ee.jsx)(mP,{locale:i,setError:v.setError,setValue:e=>{e?v.setValue("date_of_birth",e,{shouldValidate:!0}):v.resetField("date_of_birth")}})}),!!v.formState.errors.date_of_birth&&(0,ee.jsx)("p",{className:"text-error text-sm -mt-1",children:v.formState.errors.date_of_birth.message})]}),(0,ee.jsx)("p",{className:"mt-2 mb-6 text-center text-md text-placeholder",children:o("Signup.your-birthday-is-not-public")}),(0,ee.jsx)(sa.zx,{type:"submit",isDisabled:l||(0,mO.Z)(),children:o("Common.continue")}),(0,ee.jsx)("div",{className:"pt-2",children:(0,ee.jsx)(sw.R,{})})]})})},mD=e=>{let{loading:t=!1,children:n,error:r}=e,{t:i}=(0,dU.$G)();return(0,ee.jsxs)("div",{className:"flex flex-col items-center h-full p-12",children:[(0,ee.jsx)(sM.t,{}),r?(0,ee.jsxs)("div",{className:"h-full w-full flex flex-col gap-4 justify-center items-center",children:[(0,ee.jsx)("p",{className:"text-center text-error",children:i("Signup.Error.login-error",{error:r})}),(0,ee.jsx)("p",{className:"text-center text-muted-foreground",children:(0,ee.jsxs)(dU.cC,{i18nKey:"Error.email-verification-help",children:["Need help with email verification?"," ",(0,ee.jsx)(u4(),{href:eD.Ew.troubleshootingEmails,target:"_blank",rel:"noopener noreferrer",className:"text-link hover:underline",children:"Visit our help center"})]})}),(0,ee.jsx)(sa.zx,{as:u4(),href:"/",children:i("Common.try-again")})]}):(0,ee.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-3",children:t?(0,ee.jsx)(mI.Z,{}):n})]})},mj=e=>{let{locale:t}=e;(0,mR.O)({disabled:!0});let{t:n}=(0,dU.$G)();return(0,ee.jsx)(mD,{children:(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(mE,{children:(0,ee.jsx)(sg.aj$,{className:"size-10 text-placeholder"})}),(0,ee.jsx)("p",{className:"text-display text-center mb-3",children:n("Signup.when-is-your-birthday")}),(0,ee.jsx)(mM,{locale:t})]})})};var mU=n(97729),mF=n.n(mU),mV=n(45847),mB=n.n(mV),mz=n(7375),mH=n.n(mz),mq=n(59218);let mK="experimental-edge",mG=()=>{let{t:e}=(0,mq.$G)(),t=(0,sc.C3)();return(0,ee.jsxs)(mF(),{children:[(0,ee.jsx)("title",{children:t}),(0,ee.jsx)("meta",{name:"description",content:e("Pages.descriptions.default")},"description"),(0,ee.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,ee.jsx)("meta",{property:"og:title",content:t},"og:title"),(0,ee.jsx)("meta",{property:"og:image",content:sc.Wj.defaultOGImage},"og:image"),(0,ee.jsx)("meta",{property:"og:description",content:e("Pages.descriptions.default")},"og:description"),(0,ee.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"},"viewport"),(0,ee.jsx)("meta",{name:"apple-itunes-app",content:"app-id=1671705818"},"apple-itunes-app")]})};var mW=ec.h.withTRPC(function(e){var t,n,r,i,o,s;let{Component:a,pageProps:l}=e,c=(0,eu.useRouter)(),u=(0,eT.Dv)(),{i18n:d,Provider:h}=px({requestedLanguage:l.lang,ssrI18nData:l.i18n}),p=(0,ed.useRef)(),f=(0,ed.useMemo)(()=>{var e,t,n,r,i,o,s,a,c;if(p.current)return p.current;let u=null!==(s=null===(e=l.statsigProps)||void 0===e?void 0:e.key)&&void 0!==s?s:eM.k.NEXT_PUBLIC_STATSIG_CLIENT_KEY,d=null!==(c=null===(t=l.statsigProps)||void 0===t?void 0:t.user)&&void 0!==c?c:{userID:null!==(a=null===(i=l.user)||void 0===i?void 0:null===(r=i.user)||void 0===r?void 0:null===(n=r.id)||void 0===n?void 0:n.toString())&&void 0!==a?a:void 0,customIDs:{}},h=new sq.StatsigClient(u,d,{disableStableID:!0});return p.current=h,(null===(o=l.statsigProps)||void 0===o?void 0:o.data)&&h.dataAdapter.setDataLegacy(l.statsigProps.data,d),h.initializeSync(),h},[l.statsigProps,l.user]),m=!!l.user,g=(null==l?void 0:l.extraProps)||{};(0,ed.useEffect)(()=>{let e=async e=>{u&&(eI.zE.value="default"),(0,mx.l3)();let t=await fetch("/api/ping",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(e=>e.json());t.status&&"OK"===t.status||window.location.reload()};return c.events.on("routeChangeComplete",e),setTimeout(()=>{let e=atob("YWlmYW50YXN5");void 0!==window[e]&&to.Z.set("4bad9620-6a5e-4614-bbc2-7a7786a3d5ff","true",{expires:3650,secure:!1})},1e4),()=>{c.events.off("routeChangeComplete",e)}},[u,c.events]);let v=(0,ee.jsx)(es(),{id:"9483455c28bf9eef",dynamic:[ei().style.fontFamily,en().style.fontFamily],children:":root{--font-inter:".concat(ei().style.fontFamily,";--font-onest:").concat(en().style.fontFamily,"}")}),y=(0,ed.useMemo)(()=>function(e){var t;let n=m?mb:mw,{requiresPhoneVerification:r}=(0,mC.w)({user:null===(t=l.user)||void 0===t?void 0:t.user}),{children:i,hideGuide:o,...s}=e;return(0,ee.jsx)(n,{...s,hideGuide:o||r,children:i})},[m,null===(t=l.user)||void 0===t?void 0:t.user]);if(l.error)return(0,ee.jsx)(mq.a3,{i18n:d,children:(0,ee.jsx)(h,{children:(0,ee.jsxs)(m_,{children:[v,(0,ee.jsx)(em.m,{})]})})});let b=null!==(s=a.getLayout)&&void 0!==s?s:e=>e;if(a.isStaticRoute)return(0,ee.jsx)(mq.a3,{i18n:d,children:(0,ee.jsx)(h,{children:(0,ee.jsxs)("main",{className:"h-full",children:[(0,ee.jsx)(ef,{accountIneligible:l.accountIneligible}),(0,ee.jsx)(ey,{isAuthed:l.isAuthed}),v,(0,ee.jsx)(mG,{}),(0,ee.jsx)(mH(),{height:2,options:{showSpinner:!1},showOnShallow:!1}),(0,ee.jsx)(m_,{...l,children:b((0,ee.jsx)(a,{...l}),d.t,g)})]})})});let w=null,_=m&&(!(null===(i=l.user)||void 0===i?void 0:null===(r=i.user)||void 0===r?void 0:null===(n=r.account)||void 0===n?void 0:n.onboarding_complete)||!(null===(o=l.user)||void 0===o?void 0:o.date_of_birth));if(m)w=_?(0,ee.jsx)(mj,{...l}):b((0,ee.jsx)(a,{...l}),d.t,g);else{let e=a.SignedOut;w=e?b((0,ee.jsx)(e,{...l}),d.t,g):(0,ee.jsx)(eg,{...l})}return(0,ee.jsx)(mq.a3,{i18n:d,children:(0,ee.jsxs)(h,{children:[(0,ee.jsx)(ef,{accountIneligible:l.accountIneligible}),(0,ee.jsx)(ey,{isAuthed:l.isAuthed}),(0,ee.jsx)(ea.R,{ampVariants:l.ampVariants,children:(0,ee.jsx)(sq.StatsigProvider,{client:f,children:(0,ee.jsx)(eS,{children:(0,ee.jsxs)(tl,{children:[(0,ee.jsx)(mB(),{id:"google-tag-manager-script",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n                (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n                })(window,document,'script','dataLayer','GTM-TSNPJZ8Q');\n              "}}),(0,ee.jsx)(mB(),{id:"google-ads-script",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n                window.dataLayer = window.dataLayer || [];\n                function gtag(){dataLayer.push(arguments);}\n              "}}),(0,ee.jsx)(mB(),{id:"recaptcha-enterprise-script",strategy:"afterInteractive",src:"https://www.google.com/recaptcha/enterprise.js?render=".concat(dY.OL)}),v,(0,ee.jsx)(mG,{}),(0,ee.jsxs)("main",{className:"h-full",children:[(0,ee.jsx)(mH(),{height:2,options:{showSpinner:!1},showOnShallow:!1}),(0,ee.jsx)(y,{hideGuide:a.hideGuide||_,...l,children:w})]})]})})})})]})})})},57960:function(e,t,n){"use strict";var r,i,o,s,a,l,c,u,d,h;n.d(t,{Fe:function(){return s},PO:function(){return o},Td:function(){return r},aB:function(){return i},sF:function(){return a}}),(l=r||(r={})).Initializing="initializing",l.Client="client",l.Backend="backend",(c=i||(i={})).Unmuted="unmuted",c.SystemMuted="system_muted",c.UserMuted="user_muted",(u=o||(o={})).NotPlaying="not_playing",u.Loading="loading",u.Playing="playing",(d=s||(s={}))[d.unconnected=0]="unconnected",d[d.connecting=1]="connecting",d[d.disconnecting=2]="disconnecting",d[d.connected=3]="connected",d[d.failed=4]="failed",(h=a||(a={})).Creator="creator",h.System="system"},34318:function(e,t,n){"use strict";function r(e){let t={subscribe(t){let n=null,r=!1,i=!1,o=!1;function s(){if(null===n){o=!0;return}!i&&(i=!0,"function"==typeof n?n():n&&n.unsubscribe())}return n=e({next(e){r||t.next?.(e)},error(e){r||(r=!0,t.error?.(e),s())},complete(){r||(r=!0,t.complete?.(),s())}}),o&&s(),{unsubscribe:s}},pipe:(...e)=>(0===e.length?function(e){return e}:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)})(t)};return t}n.d(t,{h:function(){return te}});class i extends Error{constructor(e){super(e),this.name="ObservableAbortError",Object.setPrototypeOf(this,i.prototype)}}function o(e){let t=Object.create(null);for(let n in e)t[e[n]]=n;return t}let s={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};o(s),o(s);let a=()=>{},l=e=>(function e(t,n){return new Proxy(a,{get(r,i){if("string"==typeof i&&"then"!==i)return e(t,[...n,i])},apply(e,r,i){let o="apply"===n[n.length-1];return t({args:o?i.length>=2?i[1]:[]:i,path:o?n.slice(0,-1):n})}})})(e,[]),c=e=>new Proxy(a,{get(t,n){if("string"==typeof n&&"then"!==n)return e(n)}});class u extends Error{}function d(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}class h extends Error{constructor(){super("Unable to transform response from server")}}function p(e,t){let n;try{n=function(e,t){if("error"in e){let n=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:n}}}return{ok:!0,result:{...e.result,...(!e.result.type||"data"===e.result.type)&&{type:"data",data:t.transformer.deserialize(e.result.data)}}}}(e,t)}catch(e){throw new h}if(!n.ok&&(!d(n.error.error)||"number"!=typeof n.error.error.code)||n.ok&&!d(n.result))throw new h;return n}class f extends Error{static from(e,t={}){return e instanceof f||e instanceof Error&&"TRPCClientError"===e.name?(t.meta&&(e.meta={...e.meta,...t.meta}),e):d(e)&&d(e.error)&&"number"==typeof e.error.code&&"string"==typeof e.error.message?new f(e.error.message,{...t,result:e}):e instanceof Error?new f(e.message,{...t,cause:function(e){if(e instanceof Error)return e;let t=typeof e;if("undefined"!==t&&"function"!==t&&null!==e){if("object"!==t)return Error(String(e));if(e&&!Array.isArray(e)&&"object"==typeof e){let t=new u;for(let n in e)t[n]=e[n];return t}}}(e)}):new f("Unknown error",{...t,cause:e})}constructor(e,t){let n=t?.cause;super(e,{cause:n}),this.meta=t?.meta,this.cause=n,this.shape=t?.result?.error,this.data=t?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,f.prototype)}}let m=e=>"function"==typeof e;function g(e){var t;return{url:e.url.toString().replace(/\/$/,""),fetch:e.fetch,AbortController:(t=e.AbortController)?t:"undefined"!=typeof window&&window.AbortController?window.AbortController:"undefined"!=typeof globalThis&&globalThis.AbortController?globalThis.AbortController:null}}let v={query:"GET",mutation:"POST"};function y(e){return"input"in e?e.runtime.transformer.serialize(e.input):function(e){let t={};for(let n=0;n<e.length;n++){let r=e[n];t[n]=r}return t}(e.inputs.map(t=>e.runtime.transformer.serialize(t)))}let b=e=>{let t=e.url+"/"+e.path,n=[];if("inputs"in e&&n.push("batch=1"),"query"===e.type){let t=y(e);void 0!==t&&n.push(`input=${encodeURIComponent(JSON.stringify(t))}`)}return n.length&&(t+="?"+n.join("&")),t},w=e=>{if("query"===e.type)return;let t=y(e);return void 0!==t?JSON.stringify(t):void 0},_=e=>x({...e,contentTypeHeader:"application/json",getUrl:b,getBody:w});async function C(e,t){let n=e.getUrl(e),r=e.getBody(e),{type:i}=e,o=await e.headers();if("subscription"===i)throw Error("Subscriptions should use wsLink");let s={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.batchModeHeader?{"trpc-batch-mode":e.batchModeHeader}:{},...o};return(function(e){if(e)return e;if("undefined"!=typeof window&&m(window.fetch))return window.fetch;if("undefined"!=typeof globalThis&&m(globalThis.fetch))return globalThis.fetch;throw Error("No fetch implementation found")})(e.fetch)(n,{method:v[i],signal:t?.signal,body:r,headers:s})}function x(e){let t=e.AbortController?new e.AbortController:null,n={},r=!1;return{promise:new Promise((i,o)=>{C(e,t).then(e=>(n.response=e,r=!0,e.json())).then(e=>{n.responseJSON=e,i({json:e,meta:n})}).catch(e=>{r=!0,o(f.from(e,{meta:n}))})}),cancel:()=>{r||t?.abort()}}}let k=()=>{throw Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function S(e){let t=null,n=null,r=()=>{clearTimeout(n),n=null,t=null};function i(){let n=function(t){let n=[[]],r=0;for(;;){let i=t[r];if(!i)break;let o=n[n.length-1];if(i.aborted){i.reject?.(Error("Aborted")),r++;continue}if(e.validate(o.concat(i).map(e=>e.key))){o.push(i),r++;continue}if(0===o.length){i.reject?.(Error("Input is too big for a single dispatch")),r++;continue}n.push([])}return n}(t);for(let t of(r(),n)){if(!t.length)continue;let n={items:t,cancel:k};for(let e of t)e.batch=n;let r=(e,t)=>{let r=n.items[e];r.resolve?.(t),r.batch=null,r.reject=null,r.resolve=null},{promise:i,cancel:o}=e.fetch(n.items.map(e=>e.key),r);n.cancel=o,i.then(e=>{for(let t=0;t<e.length;t++){let n=e[t];r(t,n)}for(let e of n.items)e.reject?.(Error("Missing result")),e.batch=null}).catch(e=>{for(let t of n.items)t.reject?.(e),t.batch=null})}}return{load:function(e){let r={aborted:!1,key:e,batch:null,resolve:k,reject:k},o=new Promise((e,n)=>{r.reject=n,r.resolve=e,t||(t=[]),t.push(r)});return n||(n=setTimeout(i)),{promise:o,cancel:()=>{r.aborted=!0,r.batch?.items.every(e=>e.aborted)&&(r.batch.cancel(),r.batch=null)}}}}}function E(e){return function(t){let n=g(t),i=t.maxURLLength??1/0;return o=>{let s=r=>({validate:e=>{if(i===1/0)return!0;let t=e.map(e=>e.path).join(","),s=e.map(e=>e.input);return b({...n,runtime:o,type:r,path:t,inputs:s}).length<=i},fetch:e({...n,runtime:o,type:r,opts:t})}),a=S(s("query")),l=S(s("mutation")),c={query:a,subscription:S(s("subscription")),mutation:l};return({op:e})=>r(t=>{let n;let{promise:r,cancel:i}=c[e.type].load(e);return r.then(e=>{n=e;let r=p(e.json,o);if(!r.ok){t.error(f.from(r.error,{meta:e.meta}));return}t.next({context:e.meta,result:r.result}),t.complete()}).catch(e=>{t.error(f.from(e,{meta:n?.meta}))}),()=>{i()}})}}}let T=E(e=>t=>{let n=t.map(e=>e.path).join(","),r=t.map(e=>e.input),{promise:i,cancel:o}=_({...e,path:n,inputs:r,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:t}):e.opts.headers:{}});return{promise:i.then(e=>(Array.isArray(e.json)?e.json:t.map(()=>e.json)).map(t=>({meta:e.meta,json:t}))),cancel:o}});function P(e){return t=>{let n=g(t);return i=>({op:o})=>r(r=>{let s;let{path:a,input:l,type:c}=o,{promise:u,cancel:d}=e.requester({...n,runtime:i,type:c,path:a,input:l,headers:()=>t.headers?"function"==typeof t.headers?t.headers({op:o}):t.headers:{}});return u.then(e=>{s=e.meta;let t=p(e.json,i);if(!t.ok){r.error(f.from(t.error,{meta:s}));return}r.next({context:e.meta,result:t.result}),r.complete()}).catch(e=>{r.error(f.from(e,{meta:s}))}),()=>{d()}})}}P({requester:_});let I={css:{query:["72e3ff","3fb0d8"],mutation:["c5a3fc","904dfc"],subscription:["ff49e1","d83fbe"]},ansi:{regular:{query:["\x1b[30;46m","\x1b[97;46m"],mutation:["\x1b[30;45m","\x1b[97;45m"],subscription:["\x1b[30;42m","\x1b[97;42m"]},bold:{query:["\x1b[1;30;46m","\x1b[1;97;46m"],mutation:["\x1b[1;30;45m","\x1b[1;97;45m"],subscription:["\x1b[1;30;42m","\x1b[1;97;42m"]}}},R=({c:e=console,colorMode:t="css"})=>n=>{let r=n.input,i="undefined"!=typeof FormData&&r instanceof FormData?Object.fromEntries(r):r,{parts:o,args:s}=function(e){let{direction:t,type:n,path:r,id:i,input:o}=e,s=[],a=[];if("ansi"===e.colorMode){let[o,l]=I.ansi.regular[n],[c,u]=I.ansi.bold[n];return s.push("up"===t?o:l,"up"===t?">>":"<<",n,"up"===t?c:u,`#${i}`,r,"\x1b[0m"),"up"===t?a.push({input:e.input}):a.push({input:e.input,result:"result"in e.result?e.result.result:e.result,elapsedMs:e.elapsedMs}),{parts:s,args:a}}let[l,c]=I.css[n],u=`
    background-color: #${"up"===t?l:c}; 
    color: ${"up"===t?"black":"white"};
    padding: 2px;
  `;return s.push("%c","up"===t?">>":"<<",n,`#${i}`,`%c${r}%c`,"%O"),a.push(u,`${u}; font-weight: bold;`,`${u}; font-weight: normal;`),"up"===t?a.push({input:o,context:e.context}):a.push({input:o,result:e.result,elapsedMs:e.elapsedMs,context:e.context}),{parts:s,args:a}}({...n,colorMode:t,input:i});e["down"===n.direction&&n.result&&(n.result instanceof Error||"error"in n.result.result)?"error":"log"].apply(null,[o.join(" ")].concat(s))};class O{$request({type:e,input:t,path:n,context:i={}}){var o;return(o={links:this.links,op:{id:++this.requestId,type:e,path:n,input:t,context:i}},r(e=>(function e(t=0,n=o.op){let r=o.links[t];if(!r)throw Error("No more links to execute - did you forget to add an ending link?");return r({op:n,next:n=>e(t+1,n)})})().subscribe(e))).pipe(e=>{let t=0,n=null,r=[];return{subscribe:i=>(t++,r.push(i),n||(n=e.subscribe({next(e){for(let t of r)t.next?.(e)},error(e){for(let t of r)t.error?.(e)},complete(){for(let e of r)e.complete?.()}})),{unsubscribe(){t--,function(){if(0===t&&n){let e=n;n=null,e.unsubscribe()}}();let e=r.findIndex(e=>e===i);e>-1&&r.splice(e,1)}})}})}requestAsPromise(e){var t;let n;let{promise:r,abort:o}=(t=this.$request(e),{promise:new Promise((e,r)=>{let o=!1;function s(){o||(o=!0,r(new i("This operation was aborted.")),a.unsubscribe())}let a=t.subscribe({next(t){o=!0,e(t),s()},error(e){o=!0,r(e),s()},complete(){o=!0,s()}});n=s}),abort:n});return new Promise((t,n)=>{e.signal?.addEventListener("abort",o),r.then(e=>{t(e.result.data)}).catch(e=>{n(f.from(e))})})}query(e,t,n){return this.requestAsPromise({type:"query",path:e,input:t,context:n?.context,signal:n?.signal})}mutation(e,t,n){return this.requestAsPromise({type:"mutation",path:e,input:t,context:n?.context,signal:n?.signal})}subscription(e,t,n){return this.$request({type:"subscription",path:e,input:t,context:n?.context}).subscribe({next(e){"started"===e.result.type?n.onStarted?.():"stopped"===e.result.type?n.onStopped?.():n.onData?.(e.result.data)},error(e){n.onError?.(e)},complete(){n.onComplete?.()}})}constructor(e){this.requestId=0;let t=(()=>{let t=e.transformer;return t?"input"in t?e.transformer:{input:t,output:t}:{input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}}})();this.runtime={transformer:{serialize:e=>t.input.serialize(e),deserialize:e=>t.output.deserialize(e)},combinedTransformer:t},this.links=e.links.map(e=>e(this.runtime))}}let A={query:"query",mutate:"mutation",subscribe:"subscription"},N=e=>A[e];async function L(e){let t=e.parse??JSON.parse;await M(e.readableStream,n=>{if(e.signal?.aborted||!n||"}"===n)return;let r=n.indexOf(":"),i=n.substring(2,r-1),o=n.substring(r+1);e.onSingle(Number(i),t(o))},e.textDecoder)}async function M(e,t,n){let r="",i=e=>{let i=n.decode(e).split("\n");if(1===i.length)r+=i[0];else if(i.length>1){t(r+i[0]);for(let e=1;e<i.length-1;e++)t(i[e]);r=i[i.length-1]}};"getReader"in e?await D(e,i):await new Promise(t=>{e.on("data",i),e.on("end",t)}),t(r)}async function D(e,t){let n=e.getReader(),r=await n.read();for(;!r.done;)t(r.value),r=await n.read()}let j=(e,t)=>{let n=e.AbortController?new e.AbortController:null;return{cancel:()=>n?.abort(),promise:C({...e,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:b,getBody:w},n).then(async r=>{if(!r.body)throw Error("Received response without body");let i={response:r};return L({readableStream:r.body,onSingle:t,parse:e=>({json:JSON.parse(e),meta:i}),signal:n?.signal,textDecoder:e.textDecoder})})}};E(e=>{let t=function(e){if(e)return e;if("undefined"!=typeof window&&window.TextDecoder)return new window.TextDecoder;if("undefined"!=typeof globalThis&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw Error("No TextDecoder implementation found")}(e.opts.textDecoder);return(n,r)=>{let i=n.map(e=>e.path).join(","),o=n.map(e=>e.input),{cancel:s,promise:a}=j({...e,textDecoder:t,path:i,inputs:o,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:n}):e.opts.headers:{}},(e,t)=>{r(e,t)});return{promise:a.then(()=>[]),cancel:s}}});let U=e=>{if("input"in e){if(!(e.input instanceof FormData))throw Error("Input is not FormData");return e.input}};P({requester:e=>{if("mutation"!==e.type)throw Error("We only handle mutations with formdata");return x({...e,getUrl:()=>`${e.url}/${e.path}`,getBody:U})}});var F,V,B=n(66514),z=n(44457),H=n(78914);function q(e,t){let[n,r]=Array.isArray(e)?e:[e],i="string"!=typeof n||""===n?[]:n.split(".");return r||t&&"any"!==t?[i,{...void 0!==r&&{input:r},...t&&"any"!==t&&{type:t}}]:i.length?[i]:[]}var K=n(85108),G=n(75919),W=n(36370),$=n(34121),Z=n(2784),J=n(3709),Y=n(91578),X=n(22436);class Q extends X.l{constructor(e,t){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},t&&this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.observers.forEach(e=>{e.subscribe(t=>{this.onUpdate(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,t){this.queries=e,J.V.batch(()=>{let e=this.observers,n=this.findMatchingObservers(this.queries);n.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions,t));let r=n.map(e=>e.observer),i=Object.fromEntries(r.map(e=>[e.options.queryHash,e])),o=r.map(e=>e.getCurrentResult()),s=r.some((t,n)=>t!==e[n]);(e.length!==r.length||s)&&(this.observers=r,this.observersMap=i,this.result=o,this.hasListeners()&&((0,W.e5)(e,r).forEach(e=>{e.destroy()}),(0,W.e5)(r,e).forEach(e=>{e.subscribe(t=>{this.onUpdate(e,t)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions))}findMatchingObservers(e){let t=this.observers,n=new Map(t.map(e=>[e.options.queryHash,e])),r=e.map(e=>this.client.defaultQueryOptions(e)),i=r.flatMap(e=>{let t=n.get(e.queryHash);return null!=t?[{defaultedQueryOptions:e,observer:t}]:[]}),o=new Set(i.map(e=>e.defaultedQueryOptions.queryHash)),s=r.filter(e=>!o.has(e.queryHash)),a=new Set(i.map(e=>e.observer)),l=t.filter(e=>!a.has(e)),c=e=>{let t=this.client.defaultQueryOptions(e),n=this.observersMap[t.queryHash];return null!=n?n:new Y.z(this.client,t)},u=s.map((e,t)=>{if(e.keepPreviousData){let n=l[t];if(void 0!==n)return{defaultedQueryOptions:e,observer:n}}return{defaultedQueryOptions:e,observer:c(e)}});return i.concat(u).sort((e,t)=>r.indexOf(e.defaultedQueryOptions)-r.indexOf(t.defaultedQueryOptions))}onUpdate(e,t){let n=this.observers.indexOf(e);-1!==n&&(this.result=(0,W.Rc)(this.result,n,t),this.notify())}notify(){J.V.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}var ee=n(85648),et=n(15971),en=n(80605),er=n(98147),ei=n(726);function eo(e,t){return e.length?void 0===t?[e]:[e,t]:[]}function es(e,t){return l(n=>{let r=n.args,i=[e,...n.path],o=i.pop(),s=i.join(".");if("useMutation"===o)return t[o](s,...r);let[a,...l]=r,c=eo(s,a);if("getQueryKey"===o)return q(c,l[0]??"any");if("_def"===o)return{path:i};if(o.startsWith("useSuspense")){let e=l[0]||{},n=t["useSuspenseQuery"===o?"useQuery":"useInfiniteQuery"](c,{...e,suspense:!0,enabled:!0});return[n.data,n]}return t[o](c,...l)})}let ea=["client","ssrContext","ssrState","abortOnUnmount"],el=(0,Z.createContext)(null);function ec(e){return c(t=>{if("client"===t){var n;return n=e.client,c(e=>n.hasOwnProperty(e)?n[e]:"__untypedClient"===e?n:l(({path:t,args:r})=>{let i=[e,...t],o=N(i.pop()),s=i.join(".");return n[o](s,...r)}))}return ea.includes(t)?e[t]:l(({path:n,args:r})=>{let i=[t,...n],o=i.pop(),s=i.join("."),{queryKey:a,rest:l,updater:c}=(e=>{if(["setData","setInfiniteData"].includes(e)){let[e,t,...n]=r;return{queryKey:eo(s,e),updater:t,rest:n}}let[t,...n]=r;return{queryKey:eo(s,t),rest:n}})(o);return({fetch:()=>e.fetchQuery(a,...l),fetchInfinite:()=>e.fetchInfiniteQuery(a,...l),prefetch:()=>e.prefetchQuery(a,...l),prefetchInfinite:()=>e.prefetchInfiniteQuery(a,...l),ensureData:()=>e.ensureQueryData(a,...l),invalidate:()=>e.invalidateQueries(a,...l),reset:()=>e.resetQueries(a,...l),refetch:()=>e.refetchQueries(a,...l),cancel:()=>e.cancelQuery(a,...l),setData:()=>{e.setQueryData(a,c,...l)},setInfiniteData:()=>{e.setInfiniteQueryData(a,c,...l)},getData:()=>e.getQueryData(a),getInfiniteData:()=>e.getInfiniteQueryData(a)})[o]()})})}function eu(e,t){let[n,r]=e;return[n,r,t?.trpc]}function ed(e){let{path:t}=e;return(0,Z.useMemo)(()=>({path:t}),[t])}function eh(e){return function(e){let t=(e?.overrides??e?.unstable_overrides)?.useMutation?.onSuccess??(e=>e.originalFn()),n=e?.context??el,r=e?.reactQueryContext;function i(){return Z.useContext(n)}function o(e,t,n){let{queryClient:r,ssrState:o}=i();return o&&"mounted"!==o&&r.getQueryCache().find(q(e,t))?.state.status==="error"?{retryOnMount:!1,...n}:n}return{Provider:e=>{let{abortOnUnmount:t=!1,client:r,queryClient:i,ssrContext:o}=e,[s,a]=(0,Z.useState)(e.ssrState??!1);return(0,Z.useEffect)(()=>{a(e=>!!e&&"mounted")},[]),Z.createElement(n.Provider,{value:{abortOnUnmount:t,queryClient:i,client:r,ssrContext:o??null,ssrState:s,fetchQuery:(0,Z.useCallback)((e,t)=>i.fetchQuery({...t,queryKey:q(e,"query"),queryFn:()=>r.query(...eu(e,t))}),[r,i]),fetchInfiniteQuery:(0,Z.useCallback)((e,t)=>i.fetchInfiniteQuery({...t,queryKey:q(e,"infinite"),queryFn:({pageParam:n})=>{let[i,o]=e,s={...o,cursor:n};return r.query(...eu([i,s],t))}}),[r,i]),prefetchQuery:(0,Z.useCallback)((e,t)=>i.prefetchQuery({...t,queryKey:q(e,"query"),queryFn:()=>r.query(...eu(e,t))}),[r,i]),prefetchInfiniteQuery:(0,Z.useCallback)((e,t)=>i.prefetchInfiniteQuery({...t,queryKey:q(e,"infinite"),queryFn:({pageParam:n})=>{let[i,o]=e,s={...o,cursor:n};return r.query(...eu([i,s],t))}}),[r,i]),ensureQueryData:(0,Z.useCallback)((e,t)=>i.ensureQueryData({...t,queryKey:q(e,"query"),queryFn:()=>r.query(...eu(e,t))}),[r,i]),invalidateQueries:(0,Z.useCallback)((e,t,n)=>i.invalidateQueries({...t,queryKey:q(e,"any")},n),[i]),resetQueries:(0,Z.useCallback)((...e)=>{let[t,n,r]=e;return i.resetQueries({...n,queryKey:q(t,"any")},r)},[i]),refetchQueries:(0,Z.useCallback)((...e)=>{let[t,n,r]=e;return i.refetchQueries({...n,queryKey:q(t,"any")},r)},[i]),cancelQuery:(0,Z.useCallback)(e=>i.cancelQueries({queryKey:q(e,"any")}),[i]),setQueryData:(0,Z.useCallback)((...e)=>{let[t,...n]=e;return i.setQueryData(q(t,"query"),...n)},[i]),getQueryData:(0,Z.useCallback)((...e)=>{let[t,...n]=e;return i.getQueryData(q(t,"query"),...n)},[i]),setInfiniteQueryData:(0,Z.useCallback)((...e)=>{let[t,...n]=e;return i.setQueryData(q(t,"infinite"),...n)},[i]),getInfiniteQueryData:(0,Z.useCallback)((...e)=>{let[t,...n]=e;return i.getQueryData(q(t,"infinite"),...n)},[i])}},e.children)},createClient:e=>new O(e),useContext:i,useUtils:i,useQuery:function(t,n){let s=i();if(!s)throw Error("Unable to retrieve application context. Did you forget to wrap your App inside `withTRPC` HoC?");let{abortOnUnmount:a,client:l,ssrState:c,queryClient:u,prefetchQuery:d}=s,h=u.getQueryDefaults(q(t,"query"));"undefined"!=typeof window||"prepass"!==c||n?.trpc?.ssr===!1||(n?.enabled??h?.enabled)===!1||u.getQueryCache().find(q(t,"query"))||d(t,n);let p=o(t,"query",{...h,...n}),f=n?.trpc?.abortOnUnmount??e?.abortOnUnmount??a,m=(0,K.a)({...p,queryKey:q(t,"query"),queryFn:e=>{let n={...p,trpc:{...p?.trpc,...f?{signal:e.signal}:{}}};return l.query(...eu(t,n))},context:r});return m.trpc=ed({path:t[0]}),m},useQueries:(e,t)=>{let{ssrState:n,queryClient:r,prefetchQuery:o,client:s}=i(),a=e(l(e=>{let t=e.path.join("."),[n,r]=e.args;return{queryKey:eo(t,n),queryFn:()=>s.query(t,n,r?.trpc),...r}}));if("undefined"==typeof window&&"prepass"===n)for(let e of a)e.trpc?.ssr===!1||r.getQueryCache().find(q(e.queryKey,"query"))||o(e.queryKey,e);return function(e){let{queries:t,context:n}=e,r=(0,B.NL)({context:n}),i=(0,et.S)(),o=(0,en._)(),s=Z.useMemo(()=>t.map(e=>{let t=r.defaultQueryOptions(e);return t._optimisticResults=i?"isRestoring":"optimistic",t}),[t,r,i]);s.forEach(e=>{(0,ei.Fb)(e),(0,er.pf)(e,o)}),(0,er.JN)(o);let[a]=Z.useState(()=>new Q(r,s)),l=a.getOptimisticResult(s);(0,ee.$)(Z.useCallback(e=>i?()=>void 0:a.subscribe(J.V.batchCalls(e)),[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),Z.useEffect(()=>{a.setQueries(s,{listeners:!1})},[s,a]);let c=l.some((e,t)=>(0,ei.SB)(s[t],e,i))?l.flatMap((e,t)=>{let n=s[t],r=a.getObservers()[t];if(n&&r){if((0,ei.SB)(n,e,i))return(0,ei.j8)(n,r,o);(0,ei.Z$)(e,i)&&(0,ei.j8)(n,r,o)}return[]}):[];if(c.length>0)throw Promise.all(c);let u=a.getQueries(),d=l.find((e,t)=>{var n,r;return(0,er.KJ)({result:e,errorResetBoundary:o,useErrorBoundary:null!=(n=null==(r=s[t])?void 0:r.useErrorBoundary)&&n,query:u[t]})});if(null!=d&&d.error)throw d.error;return l}({queries:a.map(e=>({...e,queryKey:q(e.queryKey,"query")})),context:t})},useMutation:function(e,n){let{client:o}=i(),s=(0,B.NL)({context:r}),a=Array.isArray(e)?e[0]:e,l=s.getMutationDefaults([a.split(".")]),c=(0,G.D)({...n,mutationKey:[a.split(".")],mutationFn:e=>o.mutation(...eu([a,e],n)),context:r,onSuccess:(...e)=>t({originalFn:()=>n?.onSuccess?.(...e)??l?.onSuccess?.(...e),queryClient:s,meta:n?.meta??l?.meta??{}})});return c.trpc=ed({path:a}),c},useSubscription:function(e,t){let n=t?.enabled??!0,r=(0,W.yF)(e),{client:o}=i(),s=(0,Z.useRef)(t);s.current=t,(0,Z.useEffect)(()=>{if(!n)return;let[t,r]=e,i=!1,a=o.subscription(t,r??void 0,{onStarted:()=>{i||s.current.onStarted?.()},onData:e=>{i||s.current.onData(e)},onError:e=>{i||s.current.onError?.(e)}});return()=>{i=!0,a.unsubscribe()}},[r,n])},useDehydratedState:(e,t)=>(0,Z.useMemo)(()=>t?e.runtime.transformer.deserialize(t):t,[t,e]),useInfiniteQuery:function(e,t){let[n,s]=e,{client:a,ssrState:l,prefetchInfiniteQuery:c,queryClient:u,abortOnUnmount:d}=i(),h=u.getQueryDefaults(q(e,"infinite"));"undefined"!=typeof window||"prepass"!==l||t?.trpc?.ssr===!1||(t?.enabled??h?.enabled)===!1||u.getQueryCache().find(q(e,"infinite"))||c(e,{...h,...t});let p=o(e,"infinite",{...h,...t}),f=t?.trpc?.abortOnUnmount??d,m=(0,$.N)({...p,queryKey:q(e,"infinite"),queryFn:e=>{let r={...p,trpc:{...p?.trpc,...f?{signal:e.signal}:{}}},i={...s??{},cursor:e.pageParam??t?.initialCursor};return a.query(...eu([n,i],r))},context:r});return m.trpc=ed({path:n}),m}}}(e)}var ep=n(43052);let ef=e=>e.queryClient??new ep.S(e.queryClientConfig);function em(e){let t=e.state.error;if(t instanceof Error&&"TRPCClientError"===t.name){let n={message:t.message,data:t.data,shape:t.shape};return{...e,state:{...e.state,error:n}}}return e}class eg{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class ev{constructor(e){this.generateIdentifier=e,this.kv=new eg}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class ey extends ev{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){"object"==typeof t?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function eb(e,t){Object.entries(e).forEach(([e,n])=>t(n,e))}function ew(e,t){return -1!==e.indexOf(t)}function e_(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(t(r))return r}}class eC{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return function(e,t){let n=function(e){if("values"in Object)return Object.values(e);let t=[];for(let n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}(e);if("find"in n)return n.find(t);for(let e=0;e<n.length;e++){let r=n[e];if(t(r))return r}}(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}}let ex=e=>Object.prototype.toString.call(e).slice(8,-1),ek=e=>void 0===e,eS=e=>null===e,eE=e=>"object"==typeof e&&null!==e&&e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype),eT=e=>eE(e)&&0===Object.keys(e).length,eP=e=>Array.isArray(e),eI=e=>"string"==typeof e,eR=e=>"number"==typeof e&&!isNaN(e),eO=e=>"boolean"==typeof e,eA=e=>e instanceof Map,eN=e=>e instanceof Set,eL=e=>"Symbol"===ex(e),eM=e=>"number"==typeof e&&isNaN(e),eD=e=>eO(e)||eS(e)||ek(e)||eR(e)||eI(e)||eL(e),ej=e=>e===1/0||e===-1/0,eU=e=>e.replace(/\./g,"\\."),eF=e=>e.map(String).map(eU).join("."),eV=e=>{let t=[],n="";for(let r=0;r<e.length;r++){let i=e.charAt(r);if("\\"===i&&"."===e.charAt(r+1)){n+=".",r++;continue}if("."===i){t.push(n),n="";continue}n+=i}let r=n;return t.push(r),t};function eB(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}let ez=[eB(ek,"undefined",()=>null,()=>void 0),eB(e=>"bigint"==typeof e,"bigint",e=>e.toString(),e=>"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),eB(e=>e instanceof Date&&!isNaN(e.valueOf()),"Date",e=>e.toISOString(),e=>new Date(e)),eB(e=>e instanceof Error,"Error",(e,t)=>{let n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(t=>{n[t]=e[t]}),n},(e,t)=>{let n=Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(t=>{n[t]=e[t]}),n}),eB(e=>e instanceof RegExp,"regexp",e=>""+e,e=>new RegExp(e.slice(1,e.lastIndexOf("/")),e.slice(e.lastIndexOf("/")+1))),eB(eN,"set",e=>[...e.values()],e=>new Set(e)),eB(eA,"map",e=>[...e.entries()],e=>new Map(e)),eB(e=>eM(e)||ej(e),"number",e=>eM(e)?"NaN":e>0?"Infinity":"-Infinity",Number),eB(e=>0===e&&1/e==-1/0,"number",()=>"-0",Number),eB(e=>e instanceof URL,"URL",e=>e.toString(),e=>new URL(e))];function eH(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}let eq=eH((e,t)=>!!eL(e)&&!!t.symbolRegistry.getIdentifier(e),(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,n)=>{let r=n.symbolRegistry.getValue(t[1]);if(!r)throw Error("Trying to deserialize unknown symbol");return r}),eK=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),eG=eH(e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{let n=eK[t[1]];if(!n)throw Error("Trying to deserialize unknown typed array");return new n(e)});function eW(e,t){return!!e?.constructor&&!!t.classRegistry.getIdentifier(e.constructor)}let e$=eH(eW,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{let n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return{...e};let r={};return n.forEach(t=>{r[t]=e[t]}),r},(e,t,n)=>{let r=n.classRegistry.getValue(t[1]);if(!r)throw Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(r.prototype),e)}),eZ=eH((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,n)=>{let r=n.customTransformerRegistry.findByName(t[1]);if(!r)throw Error("Trying to deserialize unknown custom value");return r.deserialize(e)}),eJ=[e$,eq,eZ,eG],eY=(e,t)=>{let n=e_(eJ,n=>n.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};let r=e_(ez,n=>n.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation}},eX={};ez.forEach(e=>{eX[e.annotation]=e});let eQ=(e,t,n)=>{if(eP(t))switch(t[0]){case"symbol":return eq.untransform(e,t,n);case"class":return e$.untransform(e,t,n);case"custom":return eZ.untransform(e,t,n);case"typed-array":return eG.untransform(e,t,n);default:throw Error("Unknown transformation: "+t)}else{let r=eX[t];if(!r)throw Error("Unknown transformation: "+t);return r.untransform(e,n)}},e0=(e,t)=>{let n=e.keys();for(;t>0;)n.next(),t--;return n.next().value};function e1(e){if(ew(e,"__proto__"))throw Error("__proto__ is not allowed as a property");if(ew(e,"prototype"))throw Error("prototype is not allowed as a property");if(ew(e,"constructor"))throw Error("constructor is not allowed as a property")}let e2=(e,t)=>{e1(t);for(let n=0;n<t.length;n++){let r=t[n];if(eN(e))e=e0(e,+r);else if(eA(e)){let i=+r,o=0==+t[++n]?"key":"value",s=e0(e,i);switch(o){case"key":e=s;break;case"value":e=e.get(s)}}else e=e[r]}return e},e3=(e,t,n)=>{if(e1(t),0===t.length)return n(e);let r=e;for(let e=0;e<t.length-1;e++){let n=t[e];if(eP(r))r=r[+n];else if(eE(r))r=r[n];else if(eN(r))r=e0(r,+n);else if(eA(r)){if(e===t.length-2)break;let i=+n,o=0==+t[++e]?"key":"value",s=e0(r,i);switch(o){case"key":r=s;break;case"value":r=r.get(s)}}}let i=t[t.length-1];if(eP(r)?r[+i]=n(r[+i]):eE(r)&&(r[i]=n(r[i])),eN(r)){let e=e0(r,+i),t=n(e);e!==t&&(r.delete(e),r.add(t))}if(eA(r)){let e=e0(r,+t[t.length-2]);switch(0==+i?"key":"value"){case"key":{let t=n(e);r.set(t,r.get(e)),t!==e&&r.delete(e);break}case"value":r.set(e,n(r.get(e)))}}return e},e4=(e,t)=>eE(e)||eP(e)||eA(e)||eN(e)||eW(e,t),e5=(e,t,n,r,i=[],o=[],s=new Map)=>{let a=eD(e);if(!a){!function(e,t,n){let r=n.get(e);r?r.push(t):n.set(e,[t])}(e,i,t);let n=s.get(e);if(n)return r?{transformedValue:null}:n}if(!e4(e,n)){let t=eY(e,n),r=t?{transformedValue:t.value,annotations:[t.type]}:{transformedValue:e};return a||s.set(e,r),r}if(ew(o,e))return{transformedValue:null};let l=eY(e,n),c=l?.value??e,u=eP(c)?[]:{},d={};eb(c,(a,l)=>{if("__proto__"===l||"constructor"===l||"prototype"===l)throw Error(`Detected property ${l}. This is a prototype pollution risk, please remove it from your object.`);let c=e5(a,t,n,r,[...i,l],[...o,e],s);u[l]=c.transformedValue,eP(c.annotations)?d[l]=c.annotations:eE(c.annotations)&&eb(c.annotations,(e,t)=>{d[eU(l)+"."+t]=e})});let h=eT(d)?{transformedValue:u,annotations:l?[l.type]:void 0}:{transformedValue:u,annotations:l?[l.type,d]:d};return a||s.set(e,h),h};function e6(e){return Object.prototype.toString.call(e).slice(8,-1)}function e8(e){return"Array"===e6(e)}F=function(e){return"Null"===e6(e)},V=function(e){return"Undefined"===e6(e)},e=>F(e)||V(e)||!1;class e7{constructor({dedupe:e=!1}={}){this.classRegistry=new ey,this.symbolRegistry=new ev(e=>e.description??""),this.customTransformerRegistry=new eC,this.allowedErrorProps=[],this.dedupe=e}serialize(e){let t=new Map,n=e5(e,t,this,this.dedupe),r={json:n.transformedValue};n.annotations&&(r.meta={...r.meta,values:n.annotations});let i=function(e,t){let n;let r={};return(e.forEach(e=>{if(e.length<=1)return;t||(e=e.map(e=>e.map(String)).sort((e,t)=>e.length-t.length));let[i,...o]=e;0===i.length?n=o.map(eF):r[eF(i)]=o.map(eF)}),n)?eT(r)?[n]:[n,r]:eT(r)?void 0:r}(t,this.dedupe);return i&&(r.meta={...r.meta,referentialEqualities:i}),r}deserialize(e){let{json:t,meta:n}=e,r=function e(t,n={}){return e8(t)?t.map(t=>e(t,n)):!function(e){if("Object"!==e6(e))return!1;let t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}(t)?t:[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)].reduce((r,i)=>{if(e8(n.props)&&!n.props.includes(i))return r;let o=e(t[i],n);return!function(e,t,n,r,i){let o=({}).propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";"enumerable"===o&&(e[t]=n),i&&"nonenumerable"===o&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}(r,i,o,t,n.nonenumerable),r},{})}(t);if(n?.values){var i,o,s;i=r,o=n.values,s=this,function e(t,n,r=[]){if(!t)return;if(!eP(t)){eb(t,(t,i)=>e(t,n,[...r,...eV(i)]));return}let[i,o]=t;o&&eb(o,(t,i)=>{e(t,n,[...r,...eV(i)])}),n(i,r)}(o,(e,t)=>{i=e3(i,t,t=>eQ(t,e,s))}),r=i}return n?.referentialEqualities&&(r=function(e,t){function n(t,n){let r=e2(e,eV(n));t.map(eV).forEach(t=>{e=e3(e,t,()=>r)})}if(eP(t)){let[r,i]=t;r.forEach(t=>{e=e3(e,eV(t),()=>e)}),i&&eb(i,n)}else eb(t,n);return e}(r,n.referentialEqualities)),r}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}e7.defaultInstance=new e7,e7.serialize=e7.defaultInstance.serialize.bind(e7.defaultInstance),e7.deserialize=e7.defaultInstance.deserialize.bind(e7.defaultInstance),e7.stringify=e7.defaultInstance.stringify.bind(e7.defaultInstance),e7.parse=e7.defaultInstance.parse.bind(e7.defaultInstance),e7.registerClass=e7.defaultInstance.registerClass.bind(e7.defaultInstance),e7.registerSymbol=e7.defaultInstance.registerSymbol.bind(e7.defaultInstance),e7.registerCustom=e7.defaultInstance.registerCustom.bind(e7.defaultInstance),e7.allowErrorProps=e7.defaultInstance.allowErrorProps.bind(e7.defaultInstance),e7.serialize,e7.deserialize,e7.stringify,e7.parse,e7.registerClass,e7.registerCustom,e7.registerSymbol,e7.allowErrorProps;var e9=n(15030);let te=function(e){let t=eh(e),r=function(e){let{config:t}=e;return r=>{let i=function(e){let t=eh(e),n=c(e=>"useContext"===e||"useUtils"===e?()=>{let e=t.useUtils();return(0,Z.useMemo)(()=>ec(e),[e])}:t.hasOwnProperty(e)?t[e]:es(e,t));return{...t,proxy:n}}(e),o=n=>{let[o]=(0,Z.useState)(()=>{if(n.trpc)return n.trpc;let r=t({}),o=ef(r),s=i.createClient(r);return{abortOnUnmount:r.abortOnUnmount,queryClient:o,trpcClient:s,ssrState:!!e.ssr&&"mounting",ssrContext:null}}),{queryClient:s,trpcClient:a,ssrState:l,ssrContext:c}=o,u=i.useDehydratedState(a,n.pageProps?.trpcState);return Z.createElement(i.Provider,{abortOnUnmount:o.abortOnUnmount??!1,client:a,queryClient:s,ssrState:l,ssrContext:c},Z.createElement(B.aH,{client:s},Z.createElement(z.p,{state:u},Z.createElement(r,Object.assign({},n)))))};(r.getInitialProps??e.ssr)&&(o.getInitialProps=async i=>{let o=async()=>{if("function"==typeof e.ssr){if("undefined"!=typeof window)return!1;try{return await e.ssr({ctx:i.ctx})}catch(e){return!1}}return e.ssr},s=await o(),a=i.AppTree,l=!!i.Component,c=l?i.ctx:i,u={};if(r.getInitialProps){let e=await r.getInitialProps(i);u={...l?e.pageProps??{}:e,...u}}let d=e=>l?{pageProps:e}:e;if("undefined"!=typeof window||!s)return d(u);let h=t({ctx:c}),p=new O(h),f=ef(h),m={pageProps:u,trpc:{config:h,trpcClient:p,queryClient:f,ssrState:"prepass",ssrContext:c}},g=await n.e(9774).then(n.t.bind(n,48090,19));for(;g.renderToString((0,Z.createElement)(a,m)),f.isFetching();)await new Promise(e=>{let t=f.getQueryCache().subscribe(n=>{n?.query.getObserversCount()===0&&(e(),t())})});let v=(0,H.D)(f,{shouldDehydrateQuery:e=>!("idle"===e.state.fetchStatus&&"loading"===e.state.status)}),y={...v,queries:v.queries.map(em),mutations:v.mutations.map(em)};u.trpcState=p.runtime.combinedTransformer.output.serialize(y);let b=d(u);if("responseMeta"in e){let t=e.responseMeta?.({ctx:c,clientErrors:[...v.queries,...v.mutations].map(e=>e.state.error).flatMap(e=>e instanceof Error&&"TRPCClientError"===e.name?[e]:[])})??{};for(let[e,n]of Object.entries(t.headers??{}))"string"==typeof n&&c.res?.setHeader(e,n);t.status&&c.res&&(c.res.statusCode=t.status)}return b});let s=r.displayName??r.name??"Component";return o.displayName=`withTRPC(${s})`,o}}(e);return c(e=>"useContext"===e||"useUtils"===e?()=>{let e=t.useUtils();return(0,Z.useMemo)(()=>ec(e),[e])}:"useQueries"===e?t.useQueries:"withTRPC"===e?r:es(e,t))}({config(e){let{ctx:t}=e;return{transformer:e7,queryClientConfig:e9.gw,links:[function(e={}){let{enabled:t=()=>!0}=e,n=e.colorMode??("undefined"==typeof window?"ansi":"css"),{logger:i=R({c:e.console,colorMode:n})}=e;return()=>({op:e,next:n})=>r(r=>{var o;t({...e,direction:"up"})&&i({...e,direction:"up"});let s=Date.now();function a(n){let r=Date.now()-s;t({...e,direction:"down",result:n})&&i({...e,direction:"down",elapsedMs:r,result:n})}return n(e).pipe((o={next(e){a(e)},error(e){a(e)}},e=>({subscribe:t=>e.subscribe({next(e){o.next?.(e),t.next?.(e)},error(e){o.error?.(e),t.error?.(e)},complete(){o.complete?.(),t.complete?.()}})}))).subscribe(r)})}({enabled:e=>"down"===e.direction&&e.result instanceof Error}),T({url:"/api/trpc",headers(){var e;return(null==t?void 0:null===(e=t.req)||void 0===e?void 0:e.headers)?{cookie:t.req.headers.cookie}:{}}})]}},ssr:!1})},55264:function(e,t,n){"use strict";n.d(t,{C3:function(){return x},Fy:function(){return b},HN:function(){return w},Sy:function(){return C},Wj:function(){return p},hQ:function(){return y},nN:function(){return f},oE:function(){return E},qL:function(){return m},t7:function(){return i},vn:function(){return v},ws:function(){return k},yC:function(){return g}});var r,i,o=n(21236),s=n(48364),a=n(2608),l=n(95518),c=n(1246),u=n.n(c),d=n(10386),h=n(15030);(r=i||(i={}))[r.SMALL80=0]="SMALL80",r[r.MEDIUM200=1]="MEDIUM200",r[r.LARGE400=2]="LARGE400";let p={defaultOGImage:"https://character.ai/character-ai.jpg",emptyCharacterOGImage:"https://character.ai/empty-character.jpg",getHref:e=>e.startsWith("http")?e:window.location.origin+e,getStaticImageSource:e=>"https://characterai.io/static/".concat(e,".png"),getCDNImageSource:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=h.g_.CDN_200_URL;switch(t){case 0:n=h.g_.CDN_80_URL;break;case 2:n=h.g_.CDN_400_URL}return"".concat(n,"/static/avatars/").concat(e)},getCDNSize:e=>e>200?2:e>80?1:0,formatNumber:e=>e>=1e6?"".concat((e/1e6).toFixed(1),"m"):e>=1e4?"".concat((e/1e3).toFixed(1),"k"):e.toLocaleString(),writeBit:(e,t,n)=>(t>=0&&t<64&&(e?n|=1<<t:n&=~(1<<t)),n),readBit:(e,t)=>e>>t&1,readBitarray(e,t){let n=[];for(let r=0;r<t;r++)n.push(e>>r&1);return n.reverse()},copyTextToClipboard(e,t,n){if(!navigator.clipboard){(0,a.K)("Error: Your browser doesnt support copying text");return}navigator.clipboard.writeText(e).then(()=>{(0,a.K)(null!=t?t:"Copied to clipboard"),o.iN.messageCopied({referrer:n||"appUtils"})},e=>{(0,a.K)("Could not copy to clipboard")})},slugToString(e){var t;return null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:""}},f={home:e=>"/".concat(e?"?".concat(e):""),chat:(e,t)=>"/chat/".concat(e).concat(t?"?".concat(t):""),chatOGImage:e=>"/api/og/chat/".concat(e,".png"),rooms:(e,t)=>"/rooms/".concat(e).concat(t?"?".concat(t):""),search:e=>"/search/?q=".concat(e),characterProfile:e=>"/character/".concat(e),characterProfileRedirectTarget:(e,t)=>"/character/".concat(e).concat(t?"/".concat(t):""),profile:(e,t,n)=>{let r=new URL("".concat(l.k.NEXT_PUBLIC_URL,"/profile/").concat(e));return t&&r.searchParams.set("tab",t),n&&Object.entries(n).forEach(e=>{let[t,n]=e;r.searchParams.set(t,n)}),"".concat(r.pathname).concat(r.search)},profileOGImage:e=>"/api/og/profile/".concat(e,".png"),character:e=>e?"/character/".concat(e,"/edit"):"/character/new",voice:e=>e?"/voice/".concat(e,"/edit"):"/voice/new",sceneDetails:e=>"/scene/".concat(e),invite:e=>"/invite/".concat(e)},m={voice:e=>e?"?voiceId=".concat(e):""};function g(e){let t={a:"character-gradient-a",b:"character-gradient-b",c:"character-gradient-c",d:"character-gradient-d",e:"character-gradient-e",f:"character-gradient-f",g:"character-gradient-g",h:"character-gradient-h",i:"character-gradient-i",j:"character-gradient-j",k:"character-gradient-k",l:"character-gradient-l",m:"character-gradient-m",n:"character-gradient-n",o:"character-gradient-o",p:"character-gradient-p",q:"character-gradient-q",r:"character-gradient-r",s:"character-gradient-s",t:"character-gradient-t",u:"character-gradient-u",v:"character-gradient-v",w:"character-gradient-w",x:"character-gradient-x",y:"character-gradient-y",z:"character-gradient-z"};return e&&t[e.toLowerCase().charAt(0)]||t.a}let v=e=>new Promise((t,n)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=n}),y=e=>{let t={author:{author_id:"",avatar_url:"",name:"",is_human:!0},create_time:"",candidates:[],last_update_time:"",state:"STATE_OK",primary_candidate_id:"",turn_key:{chat_id:"",turn_id:""}};return{...t,...e,author:{...t.author,...e.author},turn_key:{...t.turn_key,...e.turn_key}}},b=e=>({candidate_id:"",create_time:"",raw_content:"",is_final:!0,...e}),w=e=>e>1e3?u()(e).format("0.0a"):e,_=e=>()=>{let t=1e4*Math.sin(e++);return t-Math.floor(t)},C=(e,t)=>{let n=t?_(t):Math.random;e=e.slice();for(let t=e.length-1;t>0;t--){let r=Math.floor(n()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e},x=e=>{let{t}=(0,d.$G)(),n="character.ai | ".concat(t("Pages.titles.default"));return e?"".concat(e," | ").concat(n):n},k=()=>(0,s.H)("Context has not been initialized"),S=new Set([...h.t6,h.P5]),E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return S.has(e)}},67899:function(e,t,n){"use strict";n.d(t,{nL:function(){return i},vO:function(){return l}}),new TextEncoder,new TextDecoder;var r,i,o=crypto;o.getRandomValues.bind(o),Symbol(),"undefined"==typeof navigator||navigator.userAgent?.startsWith?.("Mozilla/5.0 ");var s=n(30195);(r=i||(i={})).Success="success",r.ErrorNoCode="error-no-code",r.ErrorBadState="error-bad-state",r.ErrorUser="error-user",r.ErrorAuth="error-auth",r.ErrorAuthUnexpected="error-auth-oops",r.ErrorRoleApi="error-role-api",r.ErrorRoleUnexpected="error-role-oops",r.ErrorUnknown="error-unknown";let a=s.z.nativeEnum(i);s.z.object({token:s.z.string().optional(),status:a.optional().default("error-unknown")});let l=async(e,t)=>{let n=await u(),r=new URL("https://discord.com/api/oauth2/authorize");return r.search=new URLSearchParams({client_id:t,redirect_uri:c(e),response_type:"code",scope:"identify guilds.join",state:n}).toString(),r.toString()},c=e=>{let t=e;if((null==t?void 0:t.endsWith("/"))&&(t=t.slice(0,-1)),!t)throw Error("Base URL is not defined. getDiscordRedirectUrl requires a base URL.");return"".concat(t).concat("/api/discord/callback")},u=async()=>{let e=await fetch("/api/discord/generateStateToken",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to generate state token");return(await e.json()).token}},66149:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(21236),i=n(10386),o=n(55264);let s=()=>{let{t:e}=(0,i.$G)();return async(t,n,i,s)=>{let a=o.Wj.getHref(t),l={title:null!=i?i:n,url:a};try{navigator.canShare&&navigator.canShare(l)?await navigator.share(l):o.Wj.copyTextToClipboard(a,e("Share.share-link-copied",{title:n}),"shareLink")}catch(t){o.Wj.copyTextToClipboard(a,e("Share.share-link-copied",{title:n}),"shareLink")}r.iN.userSocialAction({referrer:s||"browserUtils",type:"share",...l})}}},50413:function(e,t,n){"use strict";n.d(t,{Gd:function(){return u},O7:function(){return l},bW:function(){return a},nx:function(){return c},z4:function(){return o}});var r=n(50926),i=n(70677);let o="creator_attribution",s="scene_info",a=e=>({author:{author_id:e.external_id,is_human:!1,name:e.name,avatar_url:e.avatar_file_name},candidates:[],create_time:new Date().toISOString(),last_update_time:new Date().toISOString(),primary_candidate_id:o,state:"STATE_OK",turn_key:{chat_id:o,turn_id:o},clientSystemMessage:{message:e.title,payload:e.user__username,messageType:i.lo.creator_attribution}}),l=()=>({author:{author_id:"System",is_human:!1,name:"SYSTEM"},candidates:[],create_time:new Date().toISOString(),last_update_time:new Date().toISOString(),primary_candidate_id:s,state:"STATE_OK",turn_key:{chat_id:s,turn_id:s},clientSystemMessage:{message:"",messageType:i.lo.scene_intro}}),c=(e,t)=>{var n;if(0===e.length)return null;let r=t[e[0].turn_key.turn_id];return(null===(n=e[0].candidates)||void 0===n?void 0:n.length)>(null!=r?r:0)?e[0].candidates[null!=r?r:0]:null},u=(e,t)=>!e.author.is_human&&[r.vF,r.gn].includes(t.candidate_id)},15030:function(e,t,n){"use strict";n.d(t,{BB:function(){return _},CC:function(){return E},CL:function(){return p},EG:function(){return T},Ew:function(){return F},GR:function(){return u},Hb:function(){return V},Il:function(){return x},L4:function(){return Z},Ls:function(){return M},Mx:function(){return eo},P5:function(){return ei},PJ:function(){return L},Po:function(){return g},Qn:function(){return C},Rl:function(){return R},Rn:function(){return Q},Rt:function(){return W},SA:function(){return j},SO:function(){return ee},Yx:function(){return X},_0:function(){return O},aN:function(){return A},bp:function(){return J},ee:function(){return H},g_:function(){return w},gw:function(){return Y},hY:function(){return d},hl:function(){return N},k4:function(){return k},l2:function(){return h},mO:function(){return m},mu:function(){return U},n1:function(){return S},nA:function(){return q},nq:function(){return P},ow:function(){return f},pT:function(){return en},sU:function(){return z},sr:function(){return G},sw:function(){return D},t0:function(){return B},t6:function(){return er},w:function(){return I},x4:function(){return et},xC:function(){return $},yV:function(){return K}});var r,i,o,s,a,l,c,u,d,h,p,f,m,g,v=n(67870),y=n(66582);let b="https://characterai.io",w={DEFAULT_TIMEOUT_MS:5e4,LOCAL_SERVER_URL:"http://localhost:8000/",PROD_SERVER_URL:"https://beta.character.ai/",PLUS_SERVER_URL:"https://plus.character.ai/",CDN_URL:b,CHARACTER_TOKEN_KEY:"char_token",CDN_80_URL:"".concat(b,"/i/80"),CDN_200_URL:"".concat(b,"/i/200"),CDN_400_URL:"".concat(b,"/i/400")},_=()=>"character.ai"===window.location.host,C=440,x=640,k=1024,S="39bbdcaee6ca6e36cb5f9b1b7735801c",E="client-WVv19zETpzXjyUbf7CbKs56ovwz8mjAi",T="https://exp.character.ai",P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAAXNSR0IArs4c6QAAAGJlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAABJKGAAcAAAASAAAAUKABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAABBU0NJSQAAAFNjcmVlbnNob3TfSoO6AAAB0mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj44PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjg8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KydqwLAAAABdJREFUGBljVFPX/s+ABzDhkQNLDQ8FAIceAYd1JCH7AAAAAElFTkSuQmCC",I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAGJlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAABJKGAAcAAAASAAAAUKABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAABBU0NJSQAAAFNjcmVlbnNob3RbPqOeAAAB1GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xNjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xNjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlVzZXJDb21tZW50PlNjcmVlbnNob3Q8L2V4aWY6VXNlckNvbW1lbnQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpzPGLtAAAAJElEQVQ4EWN89+7dfwYKABMFesFaRw1gYBgNg9EwAGWGgU8HAJzxA+lbWZCpAAAAAElFTkSuQmCC";(r=u||(u={})).DEFAULT="DEFAULT",r.UPLOADED="UPLOADED",r.GOOGLE="GOOGLE",r.IMAGE="IMAGE";let R="458797720674-iukt283meoagp3k3j6rmcvpvjarddtfv.apps.googleusercontent.com",O=(null===(c=v.Nb.CHAR_SERVER_URL)||void 0===c?void 0:c.includes("stage"))?"price_1N4XuiK6PNmzstE2T1IvXy8Y":"price_1N4XvbK6PNmzstE2MpOstqpU",A="https://pay.character.ai/p/login/dR615p49Jape5Ne288",N={Keys:{Language:"language",ThemeMode:"themeMode",EmailForSignIn:"emailForSignIn",AcceptedVoicePolicy:"acceptedVoicePolicy",AcceptedVideoPolicy:"acceptedVideoPolicy",VoiceVisibilityModalDismissed:"voiceVisibilityModalDismissed",EducationCTAPrefix:"educationCTASeenAt",EducationTooltipPrefix:"educationTooltipSeenAt",CharacterCallsHomeUpsell:"CharacterCallsHomeUpsellDismissed_b",ModelSelectionDialogHidden:"modelSelectionDialogHidden",SafetyTimeout:"safetyTimeout_3",SafetyWarnings:"safetyWarnings_3",BetaEducationShown:"betaEducationShown",RecentlyUsedVoices:"recentlyUsedVoices",DynamicGreetingUsed:"dynamicGreetingUsed"}};(i=d||(d={})).system="system",i.light="light",i.dark="dark",(o=h||(h={})).default="default",o.classic="classic",o.dense="dense";let L="deployment_cookie",M="MODEL_SERVER_URL_OVERRIDE",D="analytics_debugging_option",j="sign_in_issue",U=e=>"typed_chat_input_".concat(e),F={research:"https://research.character.ai/",careers:"https://jobs.ashbyhq.com/character/",parentalInsights:"https://support.character.ai/hc/en-us/articles/34659826266267-Parental-Insights",characterGuide:"https://book.character.ai/character-book/welcome-to-character-book",about:"https://character.ai/about",aboutUs:"https://character.ai/help",support:"https://support.character.ai/hc/en-us",contactUs:"https://support.character.ai/hc/en-us/requests/new",blog:"https://blog.character.ai/",characterBookCreateCharacter:"https://book.character.ai/character-book/how-to-quick-creation",legacySite:"https://beta.character.ai/",oldSite:"https://old.character.ai/",characterBookCreateCharacterDefinition:"https://book.character.ai/character-book/character-attributes/definition",news:"https://blog.character.ai/in-the-news/character-ai-in-the-news/",press:"mailto:press@character.ai",iphoneApp:"https://apps.apple.com/us/app/character-ai-ai-powered-chat/id1671705818",androidApp:"https://play.google.com/store/apps/details?id=ai.character.app&hl=en_US&gl=US",faq:"https://support.character.ai/hc/en-us/categories/15097363725467-FAQs",troubleSigningIn:"https://support.character.ai/hc/en-us/articles/23628361893659-Trouble-logging-in-We-ve-Updated-our-Login-Process",discordServer:"https://discord.com/invite/characterai",status:"https://status.character.ai/",troubleshootingEmails:"https://support.character.ai/hc/en-us/articles/32072006631451-Troubleshooting-Not-Receiving-Login-or-Verification-Emails"},V={homePage:"https://character.ai/",about:"https://character.ai/about",joinUs:"https://character.ai/careers",privacyPolicy:"https://character.ai/privacy",privacyChoices:"https://character.ai/privacy-choices",tos:"https://character.ai/tos",communityGuidelines:"https://character.ai/community-guidelines",charactersSitemap:"https://character.ai/sitemap/characters_a",avatarFxVideoGenerationBlogPost:"https://blog.character.ai/p/8d42d48f-09fe-40bc-bf0e-46d90c8450f8/",safety:"https://character.ai/safety",parentalInsights:"https://character.ai/safety/parental-insights",contentModeration:"https://character.ai/safety/content-moderation",teenSafety:"https://character.ai/safety/teen-safety",reporting:"https://character.ai/safety/reporting"},B="dark",z=3.99,H="cookie_consent_v1",q="cookie_chat_style_v1",K=864e5,G=2592e5,W=432e5,$=3e5,Z=20,J=[".mp3",".wav",".aac",".m4a",".flac",".ogg",".wma"],Y={defaultOptions:{queries:{refetchOnMount:!1,refetchOnWindowFocus:!1,cacheTime:9e5}}},X=5e3,Q=y.tq?280:312,ee=y.tq?170:200;(s=p||(p={})).OpenMobile="open_mobile",s.RedirectTo="redirect_to",(f||(f={})).TIKTOK_ADS="tiktok-ads",(a=m||(m={})).PROD="prod",a.CANARY="canary",(l=g||(g={})).TOAST="toast",l.DISABLED="disabled",l.SKIP_PROXY="skip_proxy";let et="Helpers",en="redirectTo",er=new Set(["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"]),ei="GB",eo=6e4},57933:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});let r=e=>e.charAt(0).toUpperCase()+e.slice(1)},96445:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(79443),i=n(15030);let o=()=>{var e;if("undefined"==typeof localStorage)return!1;let t=null===(e=localStorage)||void 0===e?void 0:e.getItem(i.SA);return!!t&&24>(0,r.A)(new Date,t)}},28450:function(e,t,n){"use strict";n.d(t,{Er:function(){return a},XV:function(){return l},_v:function(){return s},i$:function(){return o}});var r=n(92488),i=n(57960);n(38694);let o=e=>!!e&&[401,403,404,410].includes(null==e?void 0:e.status),s=e=>{r.$s.forEach(t=>{t!==e&&(t.value=!1)}),e.value=!0},a=(e,t)=>e===i.Fe.connecting||e===i.Fe.connected&&t===i.Td.Initializing,l=(e,t)=>e===i.Fe.connected&&t!==i.Td.Initializing},91308:function(e,t,n){"use strict";n.d(t,{ZI:function(){return f},fN:function(){return h}});var r=n(52322),i=n(95856),o=n(92197),s=n(77009),a=n(50090),l=n(34581),c=n(57489),u=n(55264),d=n(10386);let h=(e,t)=>"Feed.ExampleChats.".concat(e,".q").concat(t),p=e=>{let{name:t,src:n,creatorUsername:l,numInteractions:c,questionKey:p,characterId:f,upvotes:m}=e,{t:g}=(0,d.$G)();return(0,r.jsxs)("div",{className:"flex flex-col gap-2 p-4 items-start bg-surface-elevation-1 rounded-spacing-s w-[412px]",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[(0,r.jsx)(i.B7,{name:t,size:48,src:n}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-md-medium",children:t}),(0,r.jsxs)("span",{className:"flex flex-row gap-1 text-muted-foreground text-sm",children:[(0,r.jsx)(o.f,{author:l,createdBy:!1}),(0,r.jsx)(s.k,{type:"interactions",num:c,withPrecedingDot:!0}),!!m&&(0,r.jsx)(s.k,{type:"upvotes",num:m,withPrecedingDot:!0})]})]})]}),(0,r.jsx)("div",{className:"w-full flex flex-col gap-1",children:[...[,,,].keys()].map(e=>g(h(p,e))).map((e,t)=>{let n=u.nN.chat(f,new URLSearchParams({questionKey:p,index:t.toString()}).toString());return(0,r.jsx)(a.Z,{className:"w-full rounded-spacing-s p-3 bg-surface-elevation-2 hover:bg-scrim-8",href:n,analytics:{name:"linkHandled",properties:{link:n,referrer:"ExampleChatsCard",type:e}},children:(0,r.jsx)("p",{className:"line-clamp-1 text-ellipsis text-primary text-md",children:e})},"".concat(f,"-example-").concat(t))})})]})},f=e=>{let{characterId:t,questionKey:n}=e,{info:i}=(0,c.X)(t);if(!i||!i.character||!i.character.name)return(0,r.jsx)(l.O,{className:"h-[230px] w-[412px] rounded-spacing-s"});let{character:o}=i,{name:s,avatar_file_name:a,user__username:u,participant__num_interactions:d,upvotes:h}=o;return(0,r.jsx)(p,{name:s,src:a,creatorUsername:u,numInteractions:d,upvotes:h,questionKey:n,characterId:t})}},70537:function(e,t,n){"use strict";n.d(t,{DJ:function(){return h},E6:function(){return p},w9:function(){return d}});var r=n(52322),i=n(2784),o=n(10386);let s="https://characterai.io/static/logged-out-homepage-character-spotlights",a=[{id:"ellie-williams",colorGradientClassName:"from-[#C2C65A] to-[#65898A]",needsDimming:!0,mobileBackgroundBaseColor:"#51999C"},{id:"basketball-captain",colorGradientClassName:"from-[#E7E59A] to-[#3D272E]",mobileBackgroundBaseColor:"#736327"},{id:"ghost",colorGradientClassName:"from-[#D99D48] to-[#635039]",mobileBackgroundBaseColor:"#635039"},{id:"gojo-satoru",colorGradientClassName:"from-[#FC844B] to-[#9333EA]",mobileBackgroundBaseColor:"#4F4562"},{id:"sherlock-holmes",colorGradientClassName:"from-[#487DCF] to-[#212737]",mobileBackgroundBaseColor:"#202C4F"},{id:"space-adventurer",colorGradientClassName:"from-[#FC844B] to-[#28130C]",mobileBackgroundBaseColor:"#2B211D"},{id:"wizard",colorGradientClassName:"from-[#984E9C] to-[#2D3680]",mobileBackgroundBaseColor:"#23284E"}],l=e=>"".concat(s,"/video/").concat(e,".mp4"),c=e=>"".concat(s,"/img/").concat(e,".jpg"),u=e=>"".concat(s,"/avatar/").concat(e,"-avatar.jpg"),d=e=>"".concat(s,"/mobile-web/").concat(e,".jpg"),h=e=>{let{info:t,className:n,useVideo:s,viewType:a}=e,{id:d,needsDimming:h}=t,p=l(d),f=c(d),{t:m}=(0,o.$G)(),[g,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{v(!0)},[]),s&&!y)?g&&(0,r.jsxs)("div",{className:n,children:[(0,r.jsx)("video",{autoPlay:!0,muted:!0,playsInline:!0,controls:!1,preload:"auto",loop:!0,onError:()=>b(!0),className:"relative w-full h-full object-cover min-w-full min-h-full transition-all duration-300 ease-in-out dark:bg-[#18181B]",id:"character-spotlight-".concat(d),children:(0,r.jsx)("source",{src:p,type:"video/mp4"})}),!!a&&a.includes("large")&&(0,r.jsxs)(r.Fragment,{children:[!!h&&(0,r.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,r.jsxs)("div",{className:"absolute bottom-5 right-6 flex items-center gap-2",children:[(0,r.jsx)("div",{className:"text-white font-normal text-[11px] leading-tight tracking-wide drop-shadow-lg",children:m("CharacterSpotlight.".concat(d,"-caption"))}),(0,r.jsx)("div",{className:"w-6 h-6 rounded-full border border-white overflow-hidden flex items-center justify-center animate-fade-in",children:(0,r.jsx)("div",{style:{backgroundImage:"url(".concat(u(d),")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},className:"w-full h-full object-cover"})})]})]})]}):(0,r.jsx)("div",{className:n,style:{backgroundImage:"url(".concat(f,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})},p=()=>{let e=(0,i.useRef)();return void 0===e.current&&(e.current=Math.floor(Math.random()*a.length)),a[e.current]}},97812:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(52322),i=n(46962),o=n(61676),s=n(2784);let a=()=>{let e=(0,i.G)(),[t,n]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{n(!0)},[]),t)?(0,r.jsx)("div",{className:(0,o.cn)("pt-4 pb-5 px-4 rounded-sm",{"bg-primary":e}),children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"175",height:"25",viewBox:"0 0 175 25",fill:"none","aria-label":"Character.ai Logo",children:[(0,r.jsx)("mask",{id:"mask0_3095_32982",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"175",height:"25",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.215 8.33784C28.2272 7.82162 27.1293 7.55199 26.0146 7.55199C24.9004 7.55199 23.8024 7.82162 22.8147 8.33784C22.3371 8.60644 21.9002 8.94178 21.5176 9.33369V0H17.2165V23.732H21.5176V14.6392C21.505 14.055 21.6462 13.4778 21.927 12.9652C22.1925 12.4945 22.5849 12.108 23.06 11.85C23.5654 11.5817 24.1305 11.446 24.7026 11.4555C25.127 11.4338 25.5513 11.5013 25.9479 11.6535C26.3445 11.8058 26.7049 12.0394 27.0055 12.3394C27.3062 12.6393 27.5408 12.999 27.6937 13.3951C27.847 13.7913 27.9151 14.2151 27.8942 14.6392V23.732H32.1977V13.6881C32.2196 12.5759 31.9475 11.4776 31.4084 10.5044C30.8909 9.59392 30.1318 8.84414 29.215 8.33784ZM10.4959 19.6781C9.87755 19.9374 9.21215 20.0659 8.54164 20.0554C7.79966 20.0679 7.06794 19.8808 6.42308 19.514C5.80154 19.155 5.29028 18.633 4.94463 18.0042C4.57507 17.325 4.38832 16.5616 4.40271 15.7886C4.38332 15.0151 4.57034 14.2503 4.94463 13.573C5.29872 12.9589 5.8087 12.4491 6.42308 12.0952C7.06854 11.7299 7.79998 11.5436 8.54164 11.5557C9.19922 11.5478 9.85183 11.6703 10.4618 11.9161C11.0314 12.1505 11.5416 12.5089 11.9552 12.9652L14.7138 10.176C13.9578 9.33026 13.0276 8.65805 11.9872 8.20563C10.8984 7.73891 9.72411 7.50433 8.53945 7.51686C7.01748 7.49756 5.51696 7.87692 4.18719 8.6172C2.89809 9.32214 1.82663 10.3662 1.08876 11.6363C0.350924 12.9065 -0.0252075 14.3542 0.00131138 15.8227C-0.0205849 17.2817 0.35638 18.719 1.09137 19.9798C1.82635 21.2405 2.89159 22.2766 4.17228 22.977C5.50914 23.7112 7.01428 24.0847 8.53945 24.0604C9.72411 24.0729 10.8984 23.8382 11.9872 23.3717C13.047 22.9049 13.998 22.2231 14.7799 21.3692L11.9872 18.5778C11.5804 19.0533 11.0704 19.4296 10.4959 19.6781ZM45.3546 8.23975C45.9316 8.53153 46.4536 8.92116 46.8971 9.39125V7.87935H51.1641V23.732H46.8971V22.1967C46.4505 22.665 45.9292 23.0562 45.3546 23.3544C44.4096 23.8365 43.3603 24.0791 42.2996 24.0604C40.9208 24.0791 39.5653 23.7032 38.3934 22.977C37.2342 22.2568 36.292 21.236 35.6667 20.0235C35.0182 18.712 34.6807 17.2687 34.6807 15.8057C34.6807 14.3426 35.0182 12.8993 35.6667 11.5877C36.2917 10.3748 37.2339 9.35407 38.3934 8.63424C39.5653 7.90798 40.9208 7.5321 42.2996 7.55098C43.3586 7.53193 44.4065 7.7682 45.3546 8.23975ZM43.0889 20.0898C44.2939 20.0884 45.2681 19.6889 46.0119 18.8913C46.7557 18.0923 47.1275 17.0581 47.1275 15.7886C47.1425 15.0196 46.9684 14.2587 46.6198 13.573C46.2983 12.9484 45.8092 12.4257 45.2076 12.0632C44.5643 11.6921 43.8316 11.5047 43.0889 11.5216C42.3569 11.5069 41.6347 11.6943 41.0025 12.0632C40.4009 12.4252 39.9122 12.9481 39.5921 13.573C39.2421 14.2583 39.0669 15.0194 39.0822 15.7886C39.0648 16.569 39.24 17.3417 39.5921 18.0383C39.9129 18.6628 40.4012 19.1856 41.0025 19.548C41.6347 19.9169 42.3569 20.1044 43.0889 20.0898ZM65.4436 7.92843C64.785 7.6681 64.0819 7.53984 63.3739 7.55098C61.6003 7.55098 60.2434 8.11392 59.3033 9.23987L59.2692 9.28465V7.87938H54.9682V23.732H59.2692V14.9676C59.2692 13.7862 59.5594 12.9055 60.1399 12.3255C60.436 12.0349 60.7881 11.8078 61.1752 11.6582C61.5621 11.5086 61.9757 11.4396 62.3903 11.4555C62.7876 11.4487 63.1828 11.516 63.5553 11.6538C63.8876 11.7799 64.1858 11.9822 64.426 12.2445L67.1182 9.15882C66.6625 8.62494 66.0894 8.20379 65.4436 7.92843ZM77.8988 8.23975C78.4761 8.5315 78.9988 8.92112 79.4434 9.39128L79.4496 7.87938H83.7166V23.732H79.4496V22.1967C79.002 22.665 78.4803 23.0562 77.9051 23.3544C76.9607 23.8365 75.9122 24.0788 74.8521 24.0604C73.4726 24.0791 72.1164 23.7032 70.9434 22.977C69.7847 22.2568 68.8424 21.236 68.2172 20.0235C67.5686 18.712 67.2315 17.2687 67.2315 15.8057C67.2315 14.3426 67.5686 12.8993 68.2172 11.5877C68.84 10.3756 69.7801 9.35497 70.9372 8.63424C72.1102 7.90805 73.466 7.53217 74.8455 7.55098C75.9038 7.53221 76.951 7.76845 77.8988 8.23975ZM75.6331 20.0898C76.8377 20.0884 77.8119 19.6889 78.5557 18.8913C79.2998 18.0923 79.6717 17.0581 79.6717 15.7886C79.6867 15.0196 79.5122 14.2587 79.1639 13.573C78.8431 12.948 78.3538 12.425 77.7514 12.0632C77.1081 11.6921 76.3755 11.5048 75.6331 11.5216C74.9015 11.5072 74.1803 11.6946 73.5487 12.0632C72.9457 12.4244 72.4564 12.9475 72.1363 13.573C71.7863 14.2583 71.6111 15.0194 71.6264 15.7886C71.6087 16.569 71.7838 17.3417 72.1363 18.0383C72.4571 18.6633 72.9461 19.1863 73.5487 19.548C74.1803 19.9166 74.9015 20.104 75.6331 20.0898ZM96.9635 19.6781C96.3449 19.9371 95.6797 20.0659 95.0092 20.0554C94.2672 20.0686 93.5352 19.8815 92.8905 19.514C92.2687 19.1557 91.7571 18.6334 91.412 18.0042C91.0425 17.325 90.8559 16.5616 90.8701 15.7886C90.8507 15.0151 91.038 14.2503 91.412 13.573C91.7658 12.9585 92.2757 12.4486 92.8905 12.0952C93.5359 11.7294 94.2675 11.5431 95.0092 11.5557C95.6668 11.5473 96.3195 11.6698 96.9291 11.9161C97.4991 12.1502 98.0094 12.5087 98.4226 12.9652L101.179 10.176C100.424 9.33029 99.4945 8.65809 98.4546 8.20563C97.3657 7.73933 96.1916 7.50478 95.0068 7.51686C93.4848 7.49756 91.9844 7.87692 90.6546 8.6172C89.3655 9.32214 88.294 10.3662 87.5561 11.6363C86.8183 12.9065 86.4422 14.3542 86.4686 15.8227C86.4471 17.2814 86.8238 18.7183 87.5586 19.9791C88.2929 21.2394 89.3575 22.2762 90.6376 22.977C91.9754 23.7112 93.481 24.0843 95.0068 24.0604C96.1916 24.0725 97.3657 23.8379 98.4546 23.3717C99.5139 22.9055 100.465 22.2235 101.245 21.3692L98.4546 18.5778C98.0476 19.0529 97.5377 19.4293 96.9635 19.6781ZM105.747 1.27947H110.05V7.87723H113.76V11.6516H110.05V23.732H105.747V11.6516H102.037V7.87723H105.747V1.27947ZM127.141 8.55107C125.909 7.84623 124.508 7.48882 123.088 7.51686C121.603 7.4994 120.141 7.87931 118.853 8.6172C117.61 9.32307 116.574 10.3412 115.847 11.5706C115.281 12.5194 114.912 13.5724 114.761 14.6669C114.611 15.7614 114.683 16.8749 114.973 17.941C115.263 19.0071 115.764 20.0041 116.447 20.8722C117.131 21.7403 117.982 22.4619 118.951 22.9941C120.313 23.7223 121.84 24.0892 123.384 24.0604C124.616 24.0715 125.839 23.8372 126.979 23.3717C128.064 22.9264 129.026 22.2287 129.787 21.3373L127.259 18.8081C126.792 19.3446 126.208 19.7663 125.552 20.0405C124.852 20.3217 124.104 20.4609 123.35 20.4501C122.526 20.4675 121.711 20.27 120.986 19.8763C120.311 19.5001 119.765 18.9283 119.42 18.2366C119.274 17.9475 119.159 17.6437 119.077 17.3303L130.668 17.3005C130.747 16.9709 130.808 16.6369 130.849 16.3004C131.032 14.6007 130.7 12.8852 129.896 11.3766C129.249 10.2038 128.298 9.22751 127.141 8.55107ZM119.081 14.1104C119.157 13.8234 119.261 13.5448 119.393 13.2787C119.711 12.6105 120.22 12.0507 120.854 11.6687C121.531 11.2753 122.303 11.0768 123.085 11.0951C123.804 11.0717 124.514 11.2481 125.138 11.6048C125.703 11.9512 126.149 12.4605 126.418 13.0655C126.567 13.3929 126.68 13.7354 126.755 14.0869L119.081 14.1104ZM145.713 9.15882L143.019 12.2445C142.779 11.9823 142.482 11.78 142.15 11.6538C141.777 11.5157 141.381 11.4484 140.983 11.4555C140.569 11.4394 140.156 11.5083 139.769 11.658C139.382 11.8076 139.03 12.0347 138.735 12.3255C138.154 12.9055 137.864 13.7862 137.864 14.9676V23.732H133.561V7.87935H137.864V9.28465L137.896 9.23987C138.839 8.11392 140.197 7.55098 141.969 7.55098C142.677 7.54026 143.38 7.66848 144.039 7.92839C144.684 8.20431 145.257 8.62539 145.713 9.15882ZM144.154 18.6119C143.793 18.5991 143.434 18.6626 143.1 18.7983C142.766 18.9338 142.464 19.1384 142.214 19.3987C141.729 19.9274 141.459 20.6185 141.459 21.3363C141.459 22.0537 141.729 22.7452 142.214 23.2735C142.464 23.5338 142.766 23.7383 143.1 23.874C143.434 24.0097 143.793 24.0732 144.154 24.0604C144.508 24.0701 144.861 24.0052 145.189 23.8698C145.517 23.7341 145.813 23.531 146.057 23.2735C146.542 22.7452 146.812 22.0537 146.812 21.3363C146.812 20.6185 146.542 19.9274 146.057 19.3987C145.813 19.1412 145.517 18.9381 145.189 18.8025C144.861 18.6669 144.508 18.602 144.154 18.6119ZM160.12 8.23975C160.697 8.53153 161.219 8.92116 161.663 9.39125L161.657 7.87935H165.924V23.7383H161.657V22.203C161.21 22.6712 160.689 23.0624 160.114 23.3609C159.169 23.8427 158.12 24.085 157.059 24.0666C155.679 24.0854 154.324 23.7094 153.15 22.9833C151.992 22.263 151.051 21.2425 150.426 20.0301C149.778 18.7184 149.44 17.2751 149.44 15.812C149.44 14.349 149.778 12.9057 150.426 11.5941C151.05 10.3813 151.992 9.36053 153.15 8.64066C154.325 7.91125 155.683 7.53311 157.065 7.55098C158.124 7.53217 159.172 7.76841 160.12 8.23975ZM157.853 20.0898C159.056 20.0884 160.03 19.6889 160.776 18.8913H160.769C161.515 18.0923 161.889 17.0581 161.893 15.7886C161.908 15.0194 161.733 14.2586 161.384 13.573C161.063 12.948 160.574 12.425 159.971 12.0632C159.328 11.6921 158.595 11.5047 157.853 11.5216C157.121 11.5072 156.4 11.6946 155.768 12.0632C155.166 12.425 154.677 12.948 154.356 13.573C154.008 14.2587 153.833 15.0196 153.848 15.7886C153.831 16.5687 154.005 17.3411 154.356 18.0383C154.677 18.6629 155.166 19.1856 155.768 19.548C156.4 19.9166 157.121 20.104 157.853 20.0898ZM174.071 7.87723H169.736V23.732H174.071V7.87723ZM172.858 5.15337C172.555 5.27503 172.23 5.33123 171.904 5.31832C171.581 5.328 171.259 5.27021 170.96 5.14869C170.66 5.02713 170.39 4.84451 170.165 4.61247C169.721 4.13846 169.475 3.51381 169.475 2.86492C169.475 2.21604 169.721 1.59139 170.165 1.11741C170.629 0.654472 171.258 0.394453 171.913 0.394453C172.569 0.394453 173.198 0.654472 173.662 1.11741C174.096 1.59621 174.336 2.21903 174.336 2.86492C174.336 3.51082 174.096 4.13367 173.662 4.61247C173.435 4.8474 173.161 5.03171 172.858 5.15337Z",fill:"#1F1F1F"})}),(0,r.jsx)("g",{mask:"url(#mask0_3095_32982)",children:(0,r.jsx)("rect",{x:"-3.27948",y:"-9.37335",width:"180.438",height:"43.5864",fill:"url(#paint0_linear_3095_32982)"})}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_3095_32982",x1:"-3.27948",y1:"12.4199",x2:"177.159",y2:"12.4199",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#000029"}),(0,r.jsx)("stop",{offset:"0.51",stopColor:"#001F5A"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#145A84"})]})})]})}):(0,r.jsx)("div",{className:"h-16"})}},31139:function(e,t,n){"use strict";let r,i,o,s,a,l,c,u,d,h,p,f,m,g,v,y;var b,w,_={};n.r(_),n.d(_,{FunctionToString:function(){return eo},InboundFilters:function(){return eu},LinkedErrors:function(){return ev}});var C={};n.r(C),n.d(C,{Breadcrumbs:function(){return to},Dedupe:function(){return tf},GlobalHandlers:function(){return ej},HttpContext:function(){return td},LinkedErrors:function(){return tl},TryCatch:function(){return eH}});var x=n(92642),k=n(63699),S=n(58536),E=n(73232),T=n(8589),P=n(66465);let I=[];function R(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function O(e,t,n){if(n[t.name]){E.X&&S.kg.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,-1===I.indexOf(t.name)&&(t.setupOnce(T.cc,P.Gd),I.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if(e.addEventProcessor&&"function"==typeof t.processEvent){let n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}E.X&&S.kg.log(`Integration installed: ${t.name}`)}function A(e,t){return Object.assign(function(...e){return t(...e)},{id:e})}var N=n(90063),L=n(21995),M=n(51982),D=n(69038);let j={},U={};function F(e,t){j[e]=j[e]||[],j[e].push(t)}function V(e,t){U[e]||(t(),U[e]=!0)}function B(e,t){let n=e&&j[e];if(n)for(let r of n)try{r(t)}catch(t){M.X&&S.kg.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,D.$P)(r)}
Error:`,t)}}function z(e){let t="console";F(t,e),V(t,H)}function H(){"console"in N.GLOBAL_OBJ&&S.RU.forEach(function(e){e in N.GLOBAL_OBJ.console&&(0,L.hl)(N.GLOBAL_OBJ.console,e,function(t){return S.LD[e]=t,function(...t){B("console",{args:t,level:e});let n=S.LD[e];n&&n.apply(N.GLOBAL_OBJ.console,t)}})})}let q=["fatal","error","warning","log","info","debug"];function K(e){return"warn"===e?"warning":q.includes(e)?e:"log"}var G=n(39660);let W="CaptureConsole",$=(e={})=>{let t=e.levels||S.RU;return{name:W,setupOnce(){},setup(e){"console"in N.GLOBAL_OBJ&&z(({args:n,level:r})=>{(0,x.s3)()===e&&t.includes(r)&&function(e,t){let n={level:K(t),extra:{arguments:e}};(0,x.$e)(r=>{if(r.addEventProcessor(e=>(e.logger="console",(0,k.EG)(e,{handled:!1,type:"console"}),e)),"assert"===t&&!1===e[0]){let t=`Assertion failed: ${(0,G.nK)(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),(0,x.uT)(t,n);return}let i=e.find(e=>e instanceof Error);if("error"===t&&i){(0,x.Tb)(i,n);return}let o=(0,G.nK)(e," ");(0,x.uT)(o,n)})}(n,r)})}}};A(W,$);var Z=n(81757),J=n(64017);let Y="ExtraErrorData",X=(e={})=>{let t=e.depth||3,n=e.captureErrorCause||!1;return{name:Y,setupOnce(){},processEvent:(e,r)=>(function(e,t={},n,r){if(!t.originalException||!(0,Z.VZ)(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,o=function(e,t){try{let n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(let t of Object.keys(e)){if(-1!==n.indexOf(t))continue;let i=e[t];r[t]=(0,Z.VZ)(i)?i.toString():i}if(t&&void 0!==e.cause&&(r.cause=(0,Z.VZ)(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){let t=e.toJSON();for(let e of Object.keys(t)){let n=t[e];r[e]=(0,Z.VZ)(n)?n.toString():n}}return r}catch(e){}return null}(t.originalException,r);if(o){let t={...e.contexts},r=(0,J.Fv)(o,n);return(0,Z.PO)(r)&&((0,L.xp)(r,"__sentry_skip_normalization__",!0),t[i]=r),{...e,contexts:t}}return e})(e,r,t,n)}};A(Y,X);var Q=n(91476);function ee(e,t,n=[t],r="npm"){let i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:Q.J})),version:Q.J}),e._metadata=i}var et=n(12712);let en="FunctionToString",er=new WeakMap,ei=()=>({name:en,setupOnce(){r=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=(0,L.HK)(this),n=er.has((0,x.s3)())&&void 0!==t?t:this;return r.apply(n,e)}}catch(e){}},setup(e){er.set(e,!0)}}),eo=A(en,ei),es=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],ea=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],el="InboundFilters",ec=(e={})=>({name:el,setupOnce(){},processEvent:(t,n,r)=>{var i,o;return((i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:es],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:ea],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,r.getOptions())).ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(t)?(E.X&&S.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,k.jH)(t)}`),0):(o=i.ignoreErrors,!t.type&&o&&o.length&&(function(e){let t;let n=[];e.message&&n.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(e){}return t&&t.value&&(n.push(t.value),t.type&&n.push(`${t.type}: ${t.value}`)),E.X&&0===n.length&&S.kg.error(`Could not extract message for event ${(0,k.jH)(e)}`),n})(t).some(e=>(0,G.U0)(e,o)))?(E.X&&S.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,k.jH)(t)}`),0):!function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;let n=e.transaction;return!!n&&(0,G.U0)(n,t)}(t,i.ignoreTransactions)?!function(e,t){if(!t||!t.length)return!1;let n=ed(e);return!!n&&(0,G.U0)(n,t)}(t,i.denyUrls)?function(e,t){if(!t||!t.length)return!0;let n=ed(e);return!n||(0,G.U0)(n,t)}(t,i.allowUrls)||(E.X&&S.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,k.jH)(t)}.
Url: ${ed(t)}`),0):(E.X&&S.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,k.jH)(t)}.
Url: ${ed(t)}`),0):(E.X&&S.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,k.jH)(t)}`),0))?t:null}}),eu=A(el,ec);function ed(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return E.X&&S.kg.error(`Cannot extract url for event ${(0,k.jH)(e)}`),null}}function eh(e,t,n=250,r,i,o,s){if(!o.exception||!o.exception.values||!s||!(0,Z.V9)(s.originalException,Error))return;let a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=(function e(t,n,r,i,o,s,a,l){if(s.length>=r+1)return s;let c=[...s];if((0,Z.V9)(i[o],Error)){ep(a,l);let s=t(n,i[o]),u=c.length;ef(s,o,u,l),c=e(t,n,r,i[o],o,[s,...c],s,u)}return Array.isArray(i.errors)&&i.errors.forEach((i,s)=>{if((0,Z.V9)(i,Error)){ep(a,l);let u=t(n,i),d=c.length;ef(u,`errors[${s}]`,d,l),c=e(t,n,r,i,o,[u,...c],u,d)}}),c})(e,t,i,s.originalException,r,o.exception.values,a,0).map(e=>(e.value&&(e.value=(0,G.$G)(e.value,n)),e)))}function ep(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function ef(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function em(e,t){let n={type:t.name||t.constructor.name,value:t.message},r=e(t.stack||"",1);return r.length&&(n.stacktrace={frames:r}),n}let eg="LinkedErrors",ev=A(eg,(e={})=>{let t=e.limit||5,n=e.key||"cause";return{name:eg,setupOnce(){},preprocessEvent(e,r,i){let o=i.getOptions();eh(em,o.stackParser,o.maxValueLength,n,t,e,r)}}}),ey=N.GLOBAL_OBJ,eb=0;function ew(e,t={},n){if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t)return t;if((0,L.HK)(e))return e}catch(t){return e}let r=function(){let r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);let i=r.map(e=>ew(e,t));return e.apply(this,i)}catch(e){throw eb++,setTimeout(()=>{eb--}),(0,x.$e)(n=>{n.addEventProcessor(e=>(t.mechanism&&((0,k.Db)(e,void 0,void 0),(0,k.EG)(e,t.mechanism)),e.extra={...e.extra,arguments:r},e)),(0,x.Tb)(e)}),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}(0,L.$Q)(r,e),(0,L.xp)(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}let e_=null;function eC(e){let t="error";F(t,e),V(t,ex)}function ex(){e_=N.GLOBAL_OBJ.onerror,N.GLOBAL_OBJ.onerror=function(e,t,n,r,i){return B("error",{column:r,error:i,line:n,msg:e,url:t}),!!e_&&!e_.__SENTRY_LOADER__&&e_.apply(this,arguments)},N.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let ek=null;function eS(e){let t="unhandledrejection";F(t,e),V(t,eE)}function eE(){ek=N.GLOBAL_OBJ.onunhandledrejection,N.GLOBAL_OBJ.onunhandledrejection=function(e){return B("unhandledrejection",e),!ek||!!ek.__SENTRY_LOADER__||ek.apply(this,arguments)},N.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var eT=n(54194),eP=n(97946);function eI(e,t){let n=eO(e,t),r={type:t&&t.name,value:function(e){let t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function eR(e,t){return{exception:{values:[eI(e,t)]}}}function eO(e,t){let n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(eA.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}let eA=/Minified React error #\d+;/i;function eN(e,t,n,r,i){let o;if((0,Z.VW)(t)&&t.error)return eR(e,t.error);if((0,Z.TX)(t)||(0,Z.fm)(t)){if("stack"in t)o=eR(e,t);else{let i=t.name||((0,Z.TX)(t)?"DOMError":"DOMException"),s=t.message?`${i}: ${t.message}`:i;o=eL(e,s,n,r),(0,k.Db)(o,s)}return"code"in t&&(o.tags={...o.tags,"DOMException.code":`${t.code}`}),o}return(0,Z.VZ)(t)?eR(e,t):((0,Z.PO)(t)||(0,Z.cO)(t)?o=function(e,t,n,r){let i=(0,x.s3)(),o=i&&i.getOptions().normalizeDepth,s={exception:{values:[{type:(0,Z.cO)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:function(e,{isUnhandledRejection:t}){let n=(0,L.zf)(e),r=t?"promise rejection":"exception";if((0,Z.VW)(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if((0,Z.cO)(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}(t,{isUnhandledRejection:r})}]},extra:{__serialized__:(0,J.Qy)(t,o)}};if(n){let t=eO(e,n);t.length&&(s.exception.values[0].stacktrace={frames:t})}return s}(e,t,n,i):(o=eL(e,t,n,r),(0,k.Db)(o,`${t}`,void 0)),(0,k.EG)(o,{synthetic:!0}),o)}function eL(e,t,n,r){let i={};if(r&&n){let r=eO(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}if((0,Z.Le)(t)){let{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}let eM="GlobalHandlers",eD=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:eM,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&eC(t=>{let{stackParser:n,attachStacktrace:r}=eF();if((0,x.s3)()!==e||eb>0)return;let{msg:i,url:o,line:s,column:a,error:l}=t,c=void 0===l&&(0,Z.HD)(i)?function(e,t,n,r){let i=(0,Z.VW)(e)?e.message:e,o="Error",s=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return s&&(o=s[1],i=s[2]),eU({exception:{values:[{type:o,value:i}]}},t,n,r)}(i,o,s,a):eU(eN(n,l||i,void 0,r,!1),o,s,a);c.level="error",(0,x.eN)(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}),t.onunhandledrejection&&eS(t=>{let{stackParser:n,attachStacktrace:r}=eF();if((0,x.s3)()!==e||eb>0)return;let i=function(e){if((0,Z.pt)(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),o=(0,Z.pt)(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:eN(n,i,void 0,r,!0);o.level="error",(0,x.eN)(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}}},ej=A(eM,eD);function eU(e,t,n,r){let i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=(0,Z.HD)(t)&&t.length>0?t:(0,eT.l4)();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function eF(){let e=(0,x.s3)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let eV=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],eB="TryCatch",ez=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:eB,setupOnce(){t.setTimeout&&(0,L.hl)(ey,"setTimeout",eq),t.setInterval&&(0,L.hl)(ey,"setInterval",eq),t.requestAnimationFrame&&(0,L.hl)(ey,"requestAnimationFrame",eK),t.XMLHttpRequest&&"XMLHttpRequest"in ey&&(0,L.hl)(XMLHttpRequest.prototype,"send",eG);let e=t.eventTarget;e&&(Array.isArray(e)?e:eV).forEach(eW)}}},eH=A(eB,ez);function eq(e){return function(...t){let n=t[0];return t[0]=ew(n,{mechanism:{data:{function:(0,D.$P)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function eK(e){return function(t){return e.apply(this,[ew(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,D.$P)(e)},handled:!1,type:"instrument"}})])}}function eG(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&(0,L.hl)(n,e,function(t){let n={mechanism:{data:{function:e,handler:(0,D.$P)(t)},handled:!1,type:"instrument"}},r=(0,L.HK)(t);return r&&(n.mechanism.data.handler=(0,D.$P)(r)),ew(t,n)})}),e.apply(this,t)}}function eW(e){let t=ey[e]&&ey[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&((0,L.hl)(t,"addEventListener",function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=ew(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,D.$P)(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,ew(r,{mechanism:{data:{function:"addEventListener",handler:(0,D.$P)(r),target:e},handled:!1,type:"instrument"}}),i])}}),(0,L.hl)(t,"removeEventListener",function(e){return function(t,n,r){try{let i=n&&n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}}))}let e$=N.GLOBAL_OBJ;function eZ(){if(!e$.document)return;let e=B.bind(null,"dom"),t=eJ(e,!0);e$.document.addEventListener("click",t,!1),e$.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let n=e$[t]&&e$[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,L.hl)(n,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{let r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){let r=eJ(e);o.handler=r,t.call(this,n,r,i)}o.refCount++}catch(e){}return t.call(this,n,r,i)}}),(0,L.hl)(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{let n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}}))})}function eJ(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=function(e){try{return e.target}catch(e){return null}}(n);if("keypress"===n.type&&(!r||!r.tagName||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName&&!r.isContentEditable))return;(0,L.xp)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,L.xp)(r,"_sentryId",(0,k.DM)());let a="keypress"===n.type?"input":n.type;!function(e){if(e.type!==o)return!1;try{if(!e.target||e.target._sentryId!==s)return!1}catch(e){}return!0}(n)&&(e({event:n,name:a,global:t}),o=n.type,s=r?r._sentryId:void 0),clearTimeout(i),i=e$.setTimeout(()=>{s=void 0,o=void 0},1e3)}}let eY=N.GLOBAL_OBJ,eX="__sentry_xhr_v3__";function eQ(e){F("xhr",e),V("xhr",e0)}function e0(){if(!eY.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;(0,L.hl)(e,"open",function(e){return function(...t){let n=Date.now(),r=(0,Z.HD)(t[0])?t[0].toUpperCase():void 0,i=function(e){if((0,Z.HD)(e))return e;try{return e.toString()}catch(e){}}(t[1]);if(!r||!i)return e.apply(this,t);this[eX]={method:r,url:i,request_headers:{}},"POST"===r&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let o=()=>{let e=this[eX];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}B("xhr",{args:[r,i],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,L.hl)(this,"onreadystatechange",function(e){return function(...t){return o(),e.apply(this,t)}}):this.addEventListener("readystatechange",o),(0,L.hl)(this,"setRequestHeader",function(e){return function(...t){let[n,r]=t,i=this[eX];return i&&(0,Z.HD)(n)&&(0,Z.HD)(r)&&(i.request_headers[n.toLowerCase()]=r),e.apply(this,t)}}),e.apply(this,t)}}),(0,L.hl)(e,"send",function(e){return function(...t){let n=this[eX];return n&&(void 0!==t[0]&&(n.body=t[0]),B("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this})),e.apply(this,t)}})}let e1=(0,N.R)();function e2(){if(!("fetch"in e1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function e3(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function e4(e){let t="fetch";F(t,e),V(t,e5)}function e5(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!e2())return!1;if(e3(e1.fetch))return!0;let e=!1,t=e1.document;if(t&&"function"==typeof t.createElement)try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=e3(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){M.X&&S.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&(0,L.hl)(N.GLOBAL_OBJ,"fetch",function(e){return function(...t){let{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,n]=e;return{url:e8(t),method:e6(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:e8(t),method:e6(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return B("fetch",{...i}),e.apply(N.GLOBAL_OBJ,t).then(e=>(B("fetch",{...i,endTimestamp:Date.now(),response:e}),e),e=>{throw B("fetch",{...i,endTimestamp:Date.now(),error:e}),e})}})}function e6(e,t){return!!e&&"object"==typeof e&&!!e[t]}function e8(e){return"string"==typeof e?e:e?e6(e,"url")?e.url:e.toString?e.toString():"":""}let e7=(0,N.R)(),e9=N.GLOBAL_OBJ;function te(e){let t="history";F(t,e),V(t,tt)}function tt(){if(!function(){let e=e7.chrome,t=e&&e.app&&e.app.runtime,n="history"in e7&&!!e7.history.pushState&&!!e7.history.replaceState;return!t&&n}())return;let e=e9.onpopstate;function t(e){return function(...t){let n=t.length>2?t[2]:void 0;if(n){let e=a,t=String(n);a=t,B("history",{from:e,to:t})}return e.apply(this,t)}}e9.onpopstate=function(...t){let n=e9.location.href,r=a;if(a=n,B("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},(0,L.hl)(e9.history,"pushState",t),(0,L.hl)(e9.history,"replaceState",t)}function tn(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}let tr="Breadcrumbs",ti=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:tr,setupOnce(){},setup(e){var n;t.console&&z(function(t){if((0,x.s3)()!==e)return;let n={category:"console",data:{arguments:t.args,logger:"console"},level:K(t.level),message:(0,G.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${(0,G.nK)(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}(0,x.n_)(n,{input:t.args,level:t.level})}),t.dom&&(F("dom",(n=t.dom,function(t){let r,i;if((0,x.s3)()!==e)return;let o="object"==typeof n?n.serializeAttribute:void 0,s="object"==typeof n&&"number"==typeof n.maxStringLength?n.maxStringLength:void 0;s&&s>1024&&(s=1024),"string"==typeof o&&(o=[o]);try{let e=t.event,n=e&&e.target?e.target:e;r=(0,eT.Rt)(n,{keyAttrs:o,maxStringLength:s}),i=(0,eT.iY)(n)}catch(e){r="<unknown>"}if(0===r.length)return;let a={category:`ui.${t.name}`,message:r};i&&(a.data={"ui.component_name":i}),(0,x.n_)(a,{event:t.event,name:t.name,global:t.global})})),V("dom",eZ)),t.xhr&&eQ(function(t){if((0,x.s3)()!==e)return;let{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[eX];if(!n||!r||!i)return;let{method:o,url:s,status_code:a,body:l}=i,c={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r};(0,x.n_)({category:"xhr",data:{method:o,url:s,status_code:a},type:"http"},c)}),t.fetch&&e4(function(t){if((0,x.s3)()!==e)return;let{startTimestamp:n,endTimestamp:r}=t;if(!(!r||t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method)){if(t.error){let e=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r};(0,x.n_)({category:"fetch",data:e,level:"error",type:"http"},i)}else{let e=t.response,i={...t.fetchData,status_code:e&&e.status},o={input:t.args,response:e,startTimestamp:n,endTimestamp:r};(0,x.n_)({category:"fetch",data:i,type:"http"},o)}}}),t.history&&te(function(t){if((0,x.s3)()!==e)return;let n=t.from,r=t.to,i=tn(ey.location.href),o=n?tn(n):void 0,s=tn(r);o&&o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,x.n_)({category:"navigation",data:{from:n,to:r}})}),t.sentry&&e.on&&e.on("beforeSendEvent",function(t){(0,x.s3)()===e&&(0,x.n_)({category:`sentry.${"transaction"===t.type?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:(0,k.jH)(t)},{event:t})})}}},to=A(tr,ti),ts="LinkedErrors",ta=(e={})=>{let t=e.limit||5,n=e.key||"cause";return{name:ts,setupOnce(){},preprocessEvent(e,r,i){let o=i.getOptions();eh(eI,o.stackParser,o.maxValueLength,n,t,e,r)}}},tl=A(ts,ta),tc="HttpContext",tu=()=>({name:tc,setupOnce(){},preprocessEvent(e){if(!ey.navigator&&!ey.location&&!ey.document)return;let t=e.request&&e.request.url||ey.location&&ey.location.href,{referrer:n}=ey.document||{},{userAgent:r}=ey.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),td=A(tc,tu),th="Dedupe",tp=()=>{let e;return{name:th,setupOnce(){},processEvent(t){if(t.type)return t;try{var n;if((n=e)&&(function(e,t){let n=e.message,r=t.message;return!!((n||r)&&(!n||r)&&(n||!r)&&n===r&&tg(e,t)&&tm(e,t))}(t,n)||function(e,t){let n=tv(t),r=tv(e);return!!(n&&r&&n.type===r.type&&n.value===r.value&&tg(e,t)&&tm(e,t))}(t,n)))return null}catch(e){}return e=t}}},tf=A(th,tp);function tm(e,t){let n=ty(e),r=ty(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function tg(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function tv(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ty(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){}}let tb={};ey.Sentry&&ey.Sentry.Integrations&&(tb=ey.Sentry.Integrations);let tw={...tb,..._,...C},t_=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function tC(e,t=!1){let{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`}function tx(e){let t=t_.exec(e);if(!t){(0,S.Cf)(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,i="",o,s="",a]=t.slice(1),l="",c=a,u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){let e=c.match(/^\d+/);e&&(c=e[0])}return tk({host:o,pass:i,path:l,projectId:c,port:s,protocol:n,publicKey:r})}function tk(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function tS(e,t=[]){return[e,t]}function tE(e,t){for(let n of e[1]){let e=n[0].type;if(t(n,e))return!0}return!1}function tT(e,t){return(t||new TextEncoder).encode(e)}let tP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"unknown"};function tI(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}class tR extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}var tO=n(22592),tA=n(92980),tN=n(48738);let tL="Not capturing exception because it's already been captured.";class tM{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(e){let t="string"==typeof e?tx(e):tk(e);if(t&&function(e){if(!M.X)return!0;let{port:t,projectId:n,protocol:r}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(S.kg.error(`Invalid Sentry Dsn: ${t} missing`),!0))&&(n.match(/^\d+$/)?"http"===r||"https"===r?!(t&&isNaN(parseInt(t,10)))||(S.kg.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(S.kg.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(S.kg.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(t))return t}(e.dsn):E.X&&S.kg.warn("No DSN provided, client will not send events."),this._dsn){let t=function(e,t={}){let n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/?${(0,L._j)({sentry_key:e.publicKey,sentry_version:"7",...r&&{sentry_client:`${r.name}/${r.version}`}})}`}(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if((0,k.YO)(e)){E.X&&S.kg.log(tL);return}let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then(e=>this._captureEvent(e,t,n)).then(e=>{r=e})),r}captureMessage(e,t,n,r){let i=n&&n.event_id,o=(0,Z.Le)(e)?e:String(e),s=(0,Z.pt)(e)?this.eventFromMessage(o,t,n):this.eventFromException(e,n);return this._process(s.then(e=>this._captureEvent(e,n,r)).then(e=>{i=e})),i}captureEvent(e,t,n){if(t&&t.originalException&&(0,k.YO)(t.originalException)){E.X&&S.kg.log(tL);return}let r=t&&t.event_id,i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,i||n).then(e=>{r=e})),r}captureSession(e){"string"!=typeof e.release?E.X&&S.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,tO.CT)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):(0,eP.WD)(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return E.X&&S.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){let t=this._integrations[e.name];O(this,e,this._integrations),t||R(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){var i;let o=tI(n),s=e.type&&"replay_event"!==e.type?e.type:"event";(i=n&&n.sdk)&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||i.name,e.sdk.version=e.sdk.version||i.version,e.sdk.integrations=[...e.sdk.integrations||[],...i.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...i.packages||[]]);let a=function(e,t,n,r){let i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:tC(r)},...i&&{trace:(0,L.Jr)({...i})}}}(e,o,r,t);return delete e.sdkProcessingMetadata,tS(a,[[{type:s},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])n=function(e,t){let[n,r]=e;return[n,[...r,t]]}(n,function(e,t){let n="string"==typeof e.data?tT(e.data,t):e.data;return[(0,L.Jr)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));let r=this._sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){let t=function(e,t,n,r){let i=tI(n);return tS({sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:tC(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){let n=`${e}:${t}`;E.X&&S.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){E.X&&S.kg.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);let t=function(e,t,n,r){let i={sent_at:new Date().toISOString()};return n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(i.dsn=tC(t)),tS(i,[function(e){let t=function(e){let t="";for(let n of e){let e=Object.entries(n.tags),r=e.length>0?`|#${e.map(([e,t])=>`${e}:${t}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}
`}return t}(e);return[{type:"statsd",length:t.length},t]}(e)])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach(e=>e(...t))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=function(e,t){let n={};return t.forEach(t=>{t&&O(e,t,n)}),n}(this,e),R(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1,i=t.exception&&t.exception.values;if(i)for(let e of(r=!0,i)){let t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}let o="ok"===e.status;(o&&0===e.errors||o&&n)&&((0,tO.CT)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new eP.cW(t=>{let n=0,r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=(0,P.aF)()){let i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),(0,tN.R)(i,e,t,n,this,r).then(e=>{if(null===e)return e;let t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){let{traceId:r,spanId:i,parentSpanId:o,dsc:s}=t;e.contexts={trace:{trace_id:r,span_id:i,parent_span_id:o},...e.contexts};let a=s||(0,tA._)(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e})}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then(e=>e.event_id,e=>{E.X&&("log"===e.logLevel?S.kg.log(e.message):S.kg.warn(e))})}_processEvent(e,t,n){let r=this.getOptions(),{sampleRate:i}=r,o=tj(e),s=tD(e),a=e.type||"error",l=`before send for type \`${a}\``;if(s&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),(0,eP.$2)(new tR(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let c="replay_event"===a?"replay":a,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,u).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new tR("An event processor returned `null`, will not send event.","log");return t.data&&!0===t.data.__sentry__?n:function(e,t){let n=`${t} must return \`null\` or a valid event.`;if((0,Z.J8)(e))return e.then(e=>{if(!(0,Z.PO)(e)&&null!==e)throw new tR(n);return e},e=>{throw new tR(`${t} rejected with ${e}`)});if(!(0,Z.PO)(e)&&null!==e)throw new tR(n);return e}(function(e,t,n){let{beforeSend:r,beforeSendTransaction:i}=e;return tD(t)&&r?r(t,n):tj(t)&&i?i(t,n):t}(r,n,t),l)}).then(r=>{if(null===r)throw this.recordDroppedEvent("before_send",c,e),new tR(`${l} returned \`null\`, will not send event.`,"log");let i=n&&n.getSession();!o&&i&&this._updateSessionFromEvent(i,r);let s=r.transaction_info;return o&&s&&r.transaction!==e.transaction&&(r.transaction_info={...s,source:"custom"}),this.sendEvent(r,t),r}).then(null,e=>{if(e instanceof tR)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new tR(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,e=>{E.X&&S.kg.error("Error while sending event:",e)});E.X&&S.kg.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(t=>{let[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}})}}function tD(e){return void 0===e.type}function tj(e){return"transaction"===e.type}var tU=n(7790);class tF extends tM{constructor(e){ee(e,"browser",["browser"],ey.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&ey.document&&ey.document.addEventListener("visibilitychange",()=>{"hidden"===ey.document.visibilityState&&this._flushOutcomes()})}eventFromException(e,t){return function(e,t,n,r){let i=eN(e,t,n&&n.syntheticException||void 0,r);return(0,k.EG)(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),(0,eP.WD)(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){let o=eL(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),(0,eP.WD)(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return;let t=function(e,{metadata:t,tunnel:n,dsn:r}){return tS({event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:tC(r)}},[[{type:"user_report"},e]])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){var e;let t=this._clearOutcomes();if(0===t.length||!this._dsn)return;let n=tS((e=this._options.tunnel&&tC(this._dsn))?{dsn:e}:{},[[{type:"client_report"},{timestamp:(0,tU.yW)(),discarded_events:t}]]);this._sendEnvelope(n)}}function tV(e,t,n,r){let i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}let tB=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tz=/\((\S*)(?::(\d+))(?::(\d+))\)/,tH=[30,e=>{let t=tB.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){let e=tz.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}let[e,n]=tZ(t[1]||"?",t[2]);return tV(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],tq=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tK=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tG=[50,e=>{let t=tq.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let e=tK.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||"?";return[n,e]=tZ(n,e),tV(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],tW=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,t$=(0,D.pE)(tH,tG,[40,e=>{let t=tW.exec(e);return t?tV(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}]),tZ=(e,t)=>{let n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function tJ(e,t,n=function(e){let t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,eP.$2)(new tR("Not adding Promise because buffer limit was reached."));let i=r();return -1===t.indexOf(i)&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(e){return new eP.cW((n,r)=>{let i=t.length;if(!i)return n(!0);let o=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{(0,eP.WD)(e).then(()=>{--i||(clearTimeout(o),n(!0))},r)})})}}}(e.bufferSize||30)){let r={};function i(i){let o=[];if(tE(i,(t,n)=>{let i=tP[n];if(function(e,t,n=Date.now()){return(e[t]||e.all||0)>n}(r,i)){let r=tY(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else o.push(t)}),0===o.length)return(0,eP.WD)();let s=tS(i[0],o),a=t=>{tE(s,(n,r)=>{let i=tY(n,r);e.recordDroppedEvent(t,tP[r],i)})};return n.add(()=>t({body:function(e,t){let[n,r]=e,i=JSON.stringify(n);function o(e){"string"==typeof i?i="string"==typeof e?i+e:[tT(i,t),e]:i.push("string"==typeof e?tT(e,t):e)}for(let e of r){let[t,n]=e;if(o(`
${JSON.stringify(t)}
`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify((0,J.Fv)(n))}o(e)}}return"string"==typeof i?i:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;for(let r of e)t.set(r,n),n+=r.length;return t}(i)}(s,e.textEncoder)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&E.X&&S.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=function(e,{statusCode:t,headers:n},r=Date.now()){let i={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(let e of o.trim().split(",")){let[t,n]=e.split(":",2),o=parseInt(t,10),s=(isNaN(o)?60:o)*1e3;if(n)for(let e of n.split(";"))i[e]=r+s;else i.all=r+s}else s?i.all=r+function(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(i.all=r+6e4);return i}(r,e),e),e=>{throw a("network_error"),e})).then(e=>e,e=>{if(e instanceof tR)return E.X&&S.kg.error("Skipped sending event because buffer is full."),a("queue_overflow"),(0,eP.WD)();throw e})}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>n.drain(e)}}function tY(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function tX(e,t=function(){if(g)return g;if(e3(ey.fetch))return g=ey.fetch.bind(ey);let e=ey.document,t=ey.fetch;if(e&&"function"==typeof e.createElement)try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){}return g=t.bind(ey)}()){let n=0,r=0;return tJ(e,function(i){let o=i.body.length;n+=o,r++;let s={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,s).then(e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return g=void 0,n-=o,r--,(0,eP.$2)(e)}})}function tQ(e){return tJ(e,function(t){return new eP.cW((n,r)=>{let i=new XMLHttpRequest;for(let t in i.onerror=r,i.onreadystatechange=()=>{4===i.readyState&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)})})}let t0=[ec(),ei(),ez(),ti(),eD(),ta(),tp(),tu()];var t1=n(93542);function t2(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):("call"===i||"optionalCall"===i)&&(n=o((...e)=>n.call(t,...e)),t=void 0)}return n}var t3=n(43002);function t4(e){let t=l?l.get(e):void 0;if(!t)return;let n={};for(let[,[e,r]]of t)n[e]||(n[e]=[]),n[e].push((0,L.Jr)(r));return n}let t5="sentry.source",t6="sentry.sample_rate",t8="sentry.op",t7="sentry.origin";var t9=n(85112);function ne(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);let n=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);"unknown_error"!==n&&e.setStatus(n)}(b=w||(w={})).Ok="ok",b.DeadlineExceeded="deadline_exceeded",b.Unauthenticated="unauthenticated",b.PermissionDenied="permission_denied",b.NotFound="not_found",b.ResourceExhausted="resource_exhausted",b.InvalidArgument="invalid_argument",b.Unimplemented="unimplemented",b.Unavailable="unavailable",b.InternalError="internal_error",b.UnknownError="unknown_error",b.Cancelled="cancelled",b.AlreadyExists="already_exists",b.FailedPrecondition="failed_precondition",b.Aborted="aborted",b.OutOfRange="out_of_range",b.DataLoss="data_loss";class nt{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class nn{constructor(e={}){this._traceId=e.traceId||(0,k.DM)(),this._spanId=e.spanId||(0,k.DM)().substring(16),this._startTime=e.startTimestamp||(0,tU.ph)(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[t7]:e.origin||"manual",[t8]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[t8]}set op(e){this.setAttribute(t8,e)}get origin(){return this._attributes[t7]}set origin(e){this.setAttribute(t7,e)}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?t3.i0:t3.ve}}startChild(e){let t=new nn({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);let n=(0,t9.G)(this);if(t.transaction=n,E.X&&n){let r=e&&e.op||"< unknown op >",i=(0,t3.XU)(t).description||"< unknown name >",o=n.spanContext().spanId,s=`[Tracing] Starting '${r}' span on transaction '${i}' (${o}).`;S.kg.log(s),this._logMessage=s}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach(t=>this.setAttribute(t,e[t]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return ne(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;let t=(0,t9.G)(this);if(E.X&&t&&t.spanContext().spanId!==this._spanId){let e=this._logMessage;e&&S.kg.log(e.replace("Starting","Finishing"))}this._endTime=(0,t3.$k)(e)}toTraceparent(){return(0,t3.Hb)(this)}toContext(){return(0,L.Jr)({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return(0,t3.wy)(this)}getSpanJSON(){return(0,L.Jr)({data:this._getData(),description:this._name,op:this._attributes[t8],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[t7],_metrics_summary:t4(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){let{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;return n||r?n&&r?{...e,...t}:n?e:t:void 0}}var nr=n(75657);class ni extends nn{constructor(e,t){super(e),this._contexts={},this._hub=t||(0,P.Gd)(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;let n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[t5]&&{source:this._attributes[t5]},...this._attributes[t6]&&{sampleRate:this._attributes[t6]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(t5,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new nt(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){let t=(0,t3.$k)(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){let e=super.toContext();return(0,L.Jr)({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return(0,tA.j)(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(E.X&&S.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);let t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled){E.X&&S.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","transaction");return}let n=this.spanRecorder?this.spanRecorder.spans.filter(e=>e!==this&&(0,t3.XU)(e).timestamp):[];if(this._trimEnd&&n.length>0){let e=n.map(e=>(0,t3.XU)(e).timestamp).filter(Boolean);this._endTime=e.reduce((e,t)=>e>t?e:t)}let{scope:r,isolationScope:i}=(0,nr.I1)(this),{metadata:o}=this,{source:s}=o,a={contexts:{...this._contexts,trace:(0,t3.wy)(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:r,capturedSpanIsolationScope:i,...(0,L.Jr)({dynamicSamplingContext:(0,tA.j)(this)})},_metrics_summary:t4(this),...s&&{transaction_info:{source:s}}};return Object.keys(this._measurements).length>0&&(E.X&&S.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),a.measurements=this._measurements),E.X&&S.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),a}}let no={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3};class ns extends nt{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){let t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===(0,t3.XU)(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class na extends ni{constructor(e,t,n=no.idleTimeout,r=no.finalTimeout,i=no.heartbeatInterval,o=!1,s=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason="externalFinish",this._autoFinishAllowed=!s,o&&(E.X&&S.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),s||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason="finalTimeout",this.end())},this._finalTimeout)}end(e){let t=(0,t3.$k)(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){for(let e of(E.X&&S.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op),this._beforeFinishCallbacks))e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;!(0,t3.XU)(e).timestamp&&(e.setStatus("cancelled"),e.end(t),E.X&&S.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));let{start_timestamp:n,timestamp:r}=(0,t3.XU)(e),i=n&&n<t,o=(this._finalTimeout+this._idleTimeout)/1e3,s=r&&n&&r-n<o;if(E.X){let t=JSON.stringify(e,void 0,2);i?s||S.kg.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):S.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return i&&s}),E.X&&S.kg.log("[Tracing] flushing IdleTransaction")}else E.X&&S.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){let e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){this.spanRecorder||(this.spanRecorder=new ns(e=>{this._finished||this._pushActivity(e)},e=>{this._finished||this._popActivity(e)},this.spanContext().spanId,e),E.X&&S.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason="cancelled",this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(E.X&&S.kg.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason="idleTimeout",this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),E.X&&S.kg.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,E.X&&S.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(E.X&&S.kg.log(`[Tracing] popActivity ${e}`),delete this.activities[e],E.X&&S.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){let e=(0,tU.ph)();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason="cancelled",this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(E.X&&S.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason="heartbeatFailed",this.end()):this._pingHeartbeat()}_pingHeartbeat(){E.X&&S.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function nl(e){return(e||(0,P.Gd)()).getScope().getTransaction()}let nc=!1;function nu(){let e=nl();if(e){let t="internal_error";E.X&&S.kg.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}function nd(e,t,n){let r;return(0,et.z)(t)?void 0!==e.sampled?e.setAttribute(t6,Number(e.sampled)):("function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(t6,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(t6,Number(r))):(r=1,e.setAttribute(t6,r)),nh(r))?r?(e.sampled=Math.random()<r,e.sampled)?E.X&&S.kg.log(`[Tracing] starting ${e.op} transaction - ${(0,t3.XU)(e).description}`):E.X&&S.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`):(E.X&&S.kg.log(`[Tracing] Discarding transaction because ${"function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1):(E.X&&S.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1):e.sampled=!1,e}function nh(e){return(0,Z.i2)(e)||!("number"==typeof e||"boolean"==typeof e)?(E.X&&S.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0)&&!(e>1)||(E.X&&S.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function np(){let e=this.getScope().getSpan();return e?{"sentry-trace":(0,t3.Hb)(e)}:{}}function nf(e,t){let n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",o=e.instrumenter||"sentry";i!==o&&(E.X&&S.kg.error(`A transaction was started with instrumenter=\`${o}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let s=new ni(e,this);return(s=nd(s,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t})).isRecording()&&s.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",s),s}function nm(e,t,n,r,i,o,s,a=!1){let l=e.getClient(),c=l&&l.getOptions()||{},u=new na(t,e,n,r,s,i,a);return(u=nd(u,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...o})).isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function ng(){let e=(0,P.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=nf),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=np),nc||(nc=!0,eC(nu),eS(nu)))}nu.tag="sentry_tracingErrorCallback";var nv=n(49691);let ny=N.GLOBAL_OBJ;function nb(){ny&&ny.document&&ny.document.addEventListener("visibilitychange",()=>{let e=nl();if(ny.document.hidden&&e){let{op:t,status:n}=(0,t3.XU)(e);n||e.setStatus("cancelled"),e.setTag("visibilitychange","document.hidden"),e.end()}})}function nw(e){return[{type:"span"},e]}let n_=(e,t,n)=>{let r,i;return o=>{t.value>=0&&(o||n)&&((i=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=i,e(t))}},nC=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,nx=()=>{let e=ny.performance.timing,t=ny.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(let t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n},nk=()=>ny.__WEB_VITALS_POLYFILL__?ny.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||nx()):ny.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],nS=()=>{let e=nk();return e&&e.activationStart||0},nE=(e,t)=>{let n=nk(),r="navigate";return n&&(r=ny.document.prerendering||nS()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:nC(),navigationType:r}},nT=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(e=>{t(e.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},nP=(e,t)=>{let n=r=>{("pagehide"===r.type||"hidden"===ny.document.visibilityState)&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},nI=e=>{let t;let n=nE("CLS",0),r=0,i=[],o=e=>{e.forEach(e=>{if(!e.hadRecentInput){let o=i[0],s=i[i.length-1];r&&0!==i.length&&e.startTime-s.startTime<1e3&&e.startTime-o.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e]),r>n.value&&(n.value=r,n.entries=i,t&&t())}})},s=nT("layout-shift",o);if(s){t=n_(e,n);let r=()=>{o(s.takeRecords()),t(!0)};return nP(r),r}},nR=-1,nO=()=>"hidden"!==ny.document.visibilityState||ny.document.prerendering?1/0:0,nA=()=>{nP(({timeStamp:e})=>{nR=e},!0)},nN=()=>(nR<0&&(nR=nO(),nA()),{get firstHiddenTime(){return nR}}),nL=e=>{let t;let n=nN(),r=nE("FID"),i=e=>{e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),t(!0))},o=e=>{e.forEach(i)},s=nT("first-input",o);t=n_(e,r),s&&nP(()=>{o(s.takeRecords()),s.disconnect()},!0)},nM=0,nD=1/0,nj=0,nU=e=>{e.forEach(e=>{e.interactionId&&(nD=Math.min(nD,e.interactionId),nM=(nj=Math.max(nj,e.interactionId))?(nj-nD)/7+1:0)})},nF=()=>c?nM:performance.interactionCount||0,nV=()=>{"interactionCount"in performance||c||(c=nT("event",nU,{type:"event",buffered:!0,durationThreshold:0}))},nB=()=>nF(),nz=[],nH={},nq=e=>{let t=nz[nz.length-1],n=nH[e.interactionId];if(n||nz.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{let t={id:e.interactionId,latency:e.duration,entries:[e]};nH[t.id]=t,nz.push(t)}nz.sort((e,t)=>t.latency-e.latency),nz.splice(10).forEach(e=>{delete nH[e.id]})}},nK=()=>{let e=Math.min(nz.length-1,Math.floor(nB()/50));return nz[e]},nG=(e,t)=>{let n;t=t||{},nV();let r=nE("INP"),i=e=>{e.forEach(e=>{e.interactionId&&nq(e),"first-input"!==e.entryType||nz.some(t=>t.entries.some(t=>e.duration===t.duration&&e.startTime===t.startTime))||nq(e)});let t=nK();t&&t.latency!==r.value&&(r.value=t.latency,r.entries=t.entries,n())},o=nT("event",i,{durationThreshold:t.durationThreshold||40});n=n_(e,r,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),nP(()=>{i(o.takeRecords()),r.value<0&&nB()>0&&(r.value=0,r.entries=[]),n(!0)}))},nW={},n$=e=>{let t;let n=nN(),r=nE("LCP"),i=e=>{let i=e[e.length-1];if(i){let e=Math.max(i.startTime-nS(),0);e<n.firstHiddenTime&&(r.value=e,r.entries=[i],t())}},o=nT("largest-contentful-paint",i);if(o){t=n_(e,r);let n=()=>{nW[r.id]||(i(o.takeRecords()),o.disconnect(),nW[r.id]=!0,t(!0))};return["keydown","click"].forEach(e=>{addEventListener(e,n,{once:!0,capture:!0})}),nP(n,!0),n}},nZ={},nJ={};function nY(e,t){return n4(e,t),nJ[e]||(function(e){let t={};"event"===e&&(t.durationThreshold=0),nT(e,t=>{nX(e,{entries:t})},t)}(e),nJ[e]=!0),n5(e,t)}function nX(e,t){let n=nZ[e];if(n&&n.length)for(let e of n)try{e(t)}catch(e){}}function nQ(){return nI(e=>{nX("cls",{metric:e}),u=e})}function n0(){return nL(e=>{nX("fid",{metric:e}),d=e})}function n1(){return n$(e=>{nX("lcp",{metric:e}),h=e})}function n2(){return nG(e=>{nX("inp",{metric:e}),p=e})}function n3(e,t,n,r,i=!1){let o;return n4(e,t),nJ[e]||(o=n(),nJ[e]=!0),r&&t({metric:r}),n5(e,t,i?o:void 0)}function n4(e,t){nZ[e]=nZ[e]||[],nZ[e].push(t)}function n5(e,t,n){return()=>{n&&n();let r=nZ[e];if(!r)return;let i=r.indexOf(t);-1!==i&&r.splice(i,1)}}function n6(e){return"number"==typeof e&&isFinite(e)}function n8(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function n7(e){return e/1e3}function n9(){return ny&&ny.addEventListener&&ny.performance}let re=0,rt={};function rn(){let e=n9();if(e&&tU.Z1){e.mark&&ny.performance.mark("sentry-tracing-init");let t=n3("fid",({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=n7(tU.Z1),r=n7(t.startTime);rt.fid={value:e.value,unit:"millisecond"},rt["mark.fid"]={value:n+r,unit:"second"}},n0,d),n=function(e,t=!1){return n3("cls",e,nQ,u,t)}(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(rt.cls={value:e.value,unit:""},m=t)},!0),r=function(e,t=!1){return n3("lcp",e,n1,h,t)}(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(rt.lcp={value:e.value,unit:"millisecond"},f=t)},!0);return()=>{t(),n(),r()}}return()=>void 0}function rr(){nY("longtask",({entries:e})=>{for(let t of e){let e=nl();if(!e)return;let n=n7(tU.Z1+t.startTime),r=n7(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})}function ri(){nY("event",({entries:e})=>{for(let t of e){let e=nl();if(!e)return;if("click"===t.name){let n=n7(tU.Z1+t.startTime),r=n7(t.duration),i={description:(0,eT.Rt)(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},o=(0,eT.iY)(t.target);o&&(i.attributes={"ui.component_name":o}),e.startChild(i)}}})}function ro(e){let t,n;let r=n9();if(!r||!ny.performance.getEntries||!tU.Z1)return;let i=n7(tU.Z1),o=r.getEntries(),{op:s,start_timestamp:a}=(0,t3.XU)(e);if(o.slice(re).forEach(r=>{let o=n7(r.startTime),s=n7(r.duration);if("navigation"!==e.op||!a||!(i+o<a))switch(r.entryType){case"navigation":["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(t=>{rs(e,r,t,i)}),rs(e,r,"secureConnection",i,"TLS/SSL","connectEnd"),rs(e,r,"fetch",i,"cache","domainLookupStart"),rs(e,r,"domainLookup",i,"DNS"),r.responseEnd&&(n8(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:i+n7(r.requestStart),endTimestamp:i+n7(r.responseEnd)}),n8(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:i+n7(r.responseStart),endTimestamp:i+n7(r.responseEnd)})),t=i+n7(r.responseStart),n=i+n7(r.requestStart);break;case"mark":case"paint":case"measure":{(function(e,t,n,r,i){let o=i+n;n8(e,{description:t.name,endTimestamp:o+r,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:o})})(e,r,o,s,i);let t=nN(),n=r.startTime<t.firstHiddenTime;"first-paint"===r.name&&n&&(rt.fp={value:r.startTime,unit:"millisecond"}),"first-contentful-paint"===r.name&&n&&(rt.fcp={value:r.startTime,unit:"millisecond"});break}case"resource":(function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;let s=tn(n),a={};ra(a,t,"transferSize","http.response_transfer_size"),ra(a,t,"encodedBodySize","http.response_content_length"),ra(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop()),s.host&&(a["server.address"]=s.host),a["url.same_origin"]=n.includes(ny.location.origin);let l=o+r;n8(e,{description:n.replace(ny.location.origin,""),endTimestamp:l+i,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})})(e,r,r.name,o,s,i)}}),re=Math.max(o.length-1,0),function(e){let t=ny.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),n6(n.rtt)&&(rt["connection.rtt"]={value:n.rtt,unit:"millisecond"})),n6(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),n6(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s){var l,c,u;l=rt,c=t,u=n,"number"==typeof c&&a&&(l.ttfb={value:1e3*Math.max(c-a,0),unit:"millisecond"},"number"==typeof u&&u<=c&&(l["ttfb.requestTime"]={value:(c-u)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(e=>{if(!rt[e]||!a||i>=a)return;let t=Math.abs((i+n7(rt[e].value)-a)*1e3);rt[e].value=t});let r=rt["mark.fid"];r&&rt.fid&&(n8(e,{description:"first input delay",endTimestamp:r.value+n7(rt.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:r.value}),delete rt["mark.fid"]),"fcp"in rt||delete rt.cls,Object.keys(rt).forEach(e=>{!function(e,t,n){let r=nl();r&&r.setMeasurement(e,t,n)}(e,rt[e].value,rt[e].unit)}),f&&(f.element&&e.setTag("lcp.element",(0,eT.Rt)(f.element)),f.id&&e.setTag("lcp.id",f.id),f.url&&e.setTag("lcp.url",f.url.trim().slice(0,200)),e.setTag("lcp.size",f.size)),m&&m.sources&&m.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,(0,eT.Rt)(t.node)))}f=void 0,m=void 0,rt={}}function rs(e,t,n,r,i,o){let s=o?t[o]:t[`${n}End`],a=t[`${n}Start`];a&&s&&n8(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+n7(a),endTimestamp:r+n7(s)})}function ra(e,t,n,r){let i=t[n];null!=i&&i<2147483647&&(e[r]=i)}var rl=n(46990);let rc=["localhost",/^\/(?!\/)/],ru={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:rc,tracePropagationTargets:rc};function rd(e){let{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s}={traceFetch:ru.traceFetch,traceXHR:ru.traceXHR,...e},a="function"==typeof o?o:e=>!0,l=e=>{var t;return t=r||i,(0,G.U0)(e,t||rc)},c={};t&&e4(e=>{let t=function(e,t,n,r,i="auto.http.browser"){if(!(0,et.z)()||!e.fetchData)return;let o=t(e.fetchData.url);if(e.endTimestamp&&o){let t=e.fetchData.__span;if(!t)return;let n=r[t];if(n){if(e.response){ne(n,e.response.status);let t=e.response&&e.response.headers&&e.response.headers.get("content-length");if(t){let e=parseInt(t);e>0&&n.setAttribute("http.response_content_length",e)}}else e.error&&n.setStatus("internal_error");n.end(),delete r[t]}return}let s=(0,x.nZ)(),a=(0,x.s3)(),{method:l,url:c}=e.fetchData,u=o?(0,nr.qp)({name:`${l} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,[t7]:i},op:"http.client"}):void 0;if(u&&(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u),n(e.fetchData.url)&&a){let t=e.args[0];e.args[1]=e.args[1]||{};let n=e.args[1];n.headers=function(e,t,n,r,i){let o=i||n.getSpan(),{traceId:s,spanId:a,sampled:l,dsc:c}={...(0,P.aF)().getPropagationContext(),...n.getPropagationContext()},u=o?(0,t3.Hb)(o):(0,nv.$p)(s,a,l),d=(0,rl.IQ)(c||(o?(0,tA.j)(o):(0,tA._)(s,t,n))),h=r.headers||("undefined"!=typeof Request&&(0,Z.V9)(e,Request)?e.headers:void 0);if(!h)return{"sentry-trace":u,baggage:d};if("undefined"!=typeof Headers&&(0,Z.V9)(h,Headers)){let e=new Headers(h);return e.append("sentry-trace",u),d&&e.append(rl.bU,d),e}if(Array.isArray(h)){let e=[...h,["sentry-trace",u]];return d&&e.push([rl.bU,d]),e}{let e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),d&&t.push(d),{...h,"sentry-trace":u,baggage:t.length>0?t.join(","):void 0}}}(t,a,s,n,u)}return u}(e,a,l,c);s&&t&&rh(t)}),n&&eQ(e=>{let t=function(e,t,n,r){let i=e.xhr,o=i&&i[eX];if(!(0,et.z)()||!i||i.__sentry_own_request__||!o)return;let s=t(o.url);if(e.endTimestamp&&s){let e=i.__sentry_xhr_span_id__;if(!e)return;let t=r[e];t&&void 0!==o.status_code&&(ne(t,o.status_code),t.end(),delete r[e]);return}let a=(0,x.nZ)(),l=(0,P.aF)(),c=s?(0,nr.qp)({name:`${o.method} ${o.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":o.method,url:o.url,[t7]:"auto.http.browser"},op:"http.client"}):void 0;c&&(i.__sentry_xhr_span_id__=c.spanContext().spanId,r[i.__sentry_xhr_span_id__]=c);let u=(0,x.s3)();if(i.setRequestHeader&&n(o.url)&&u){let{traceId:e,spanId:t,sampled:n,dsc:r}={...l.getPropagationContext(),...a.getPropagationContext()};(function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(rl.bU,n)}catch(e){}})(i,c?(0,t3.Hb)(c):(0,nv.$p)(e,t,n),(0,rl.IQ)(r||(c?(0,tA.j)(c):(0,tA._)(e,u,a))))}return c}(e,a,l,c);s&&t&&rh(t)})}function rh(e){let{url:t}=(0,t3.XU)(e).data||{};if(!t||"string"!=typeof t)return;let n=nY("resource",({entries:r})=>{r.forEach(r=>{"resource"===r.entryType&&"initiatorType"in r&&"string"==typeof r.nextHopProtocol&&("fetch"===r.initiatorType||"xmlhttprequest"===r.initiatorType)&&r.name.endsWith(t)&&((function(e){let{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(let i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}(e.nextHopProtocol),r=[];return(r.push(["network.protocol.version",n],["network.protocol.name",t]),tU.Z1)?[...r,["http.request.redirect_start",rp(e.redirectStart)],["http.request.fetch_start",rp(e.fetchStart)],["http.request.domain_lookup_start",rp(e.domainLookupStart)],["http.request.domain_lookup_end",rp(e.domainLookupEnd)],["http.request.connect_start",rp(e.connectStart)],["http.request.secure_connection_start",rp(e.secureConnectionStart)],["http.request.connection_end",rp(e.connectEnd)],["http.request.request_start",rp(e.requestStart)],["http.request.response_start",rp(e.responseStart)],["http.request.response_end",rp(e.responseEnd)]]:r})(r).forEach(t=>e.setAttribute(...t)),setTimeout(n))})})}function rp(e=0){return((tU.Z1||performance.timeOrigin)+e)/1e3}let rf={...no,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){let r;if(!ny||!ny.location)return;let i=ny.location.href;t&&(r=e({name:ny.location.pathname,startTimestamp:tU.Z1?tU.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&te(({to:t,from:n})=>{if(void 0===n&&i&&-1!==i.indexOf(t)){i=void 0;return}n!==t&&(i=void 0,r&&r.end(),r=e({name:ny.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...ru};class rm{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,ng(),this.options={...rf,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=rn(),this.options.enableLongTask&&rr(),this.options._experiments.enableInteractions&&ri()}setupOnce(e,t){this._getCurrentHub=t;let n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:i,startTransactionOnLocationChange:o,startTransactionOnPageLoad:s,markBackgroundTransactions:a,traceFetch:l,traceXHR:c,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:h}=this.options,p=r&&r.tracePropagationTargets||this.options.tracePropagationTargets;i(e=>{let n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n},s,o),a&&nb(),h.enableInteractions&&this._registerInteractionListener(),rd({traceFetch:l,traceXHR:c,tracePropagationTargets:p,shouldCreateSpanForRequest:u,enableHTTPTimings:d})}_createRouteTransaction(e){let t;if(!this._getCurrentHub)return;let n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:i,finalTimeout:o,heartbeatInterval:s}=this.options,a="pageload"===e.op;if(a){let n=a?rg("sentry-trace"):"",r=a?rg("baggage"):void 0,{traceId:i,dsc:o,parentSpanId:s,sampled:l}=(0,nv.pT)(n,r);t={traceId:i,parentSpanId:s,parentSampled:l,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else t={trimEnd:!0,...e};let l="function"==typeof r?r(t):t,c=void 0===l?{...t,sampled:!1}:l;c.metadata=c.name!==t.name?{...c.metadata,source:"custom"}:c.metadata,this._latestRouteName=c.name,this._latestRouteSource=function(e){let t=e.attributes&&e.attributes[t5],n=e.data&&e.data[t5],r=e.metadata&&e.metadata.source;return t||n||r}(c),c.sampled;let{location:u}=ny,d=nm(n,c,i,o,!0,{location:u},s,a);return a&&(ny.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(ny.document.readyState)&&d.sendAutoFinishSignal()}),["interactive","complete"].includes(ny.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback(e=>{this._collectWebVitals(),ro(e)}),d}_registerInteractionListener(){let e;let t=()=>{let{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,i=nl();if(i&&i.op&&["navigation","pageload"].includes(i.op)||(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)||!this._latestRouteName)return;let o=this._getCurrentHub(),{location:s}=ny;e=nm(o,{name:this._latestRouteName,op:"ui.action.click",trimEnd:!0,data:{[t5]:this._latestRouteSource||"url"}},t,n,!0,{location:s},r)};["click"].forEach(e=>{addEventListener(e,t,{once:!1,capture:!0})})}}function rg(e){let t=(0,eT.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}let rv={...no,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,_experiments:{},...ru},ry=(e={})=>{ng(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);let t={...rv,...e},n=rn(),r={};t.enableInp&&function(e){if(n9()&&tU.Z1){let t=n3("inp",({metric:t})=>{var n;let r;let i=t.entries.find(e=>"click"===e.name),o=(0,x.s3)();if(!i||!o)return;let s=o.getOptions(),a=n7(tU.Z1+i.startTime),l=n7(t.value),{routeName:c,parentContext:u,activeTransaction:d,user:h,replayId:p}=void 0!==i.interactionId?e[i.interactionId]:{routeName:void 0,parentContext:void 0,activeTransaction:void 0,user:void 0,replayId:void 0},f=void 0!==h?h.email||h.id||h.ip_address:void 0,m=void 0!==d?d.getProfileId():void 0,g=new nn({startTimestamp:a,endTimestamp:a+l,op:"ui.interaction.click",name:(0,eT.Rt)(i.target),attributes:{release:s.release,environment:s.environment,transaction:c,...void 0!==f&&""!==f?{user:f}:{},...void 0!==m?{profile_id:m}:{},...void 0!==p?{replay_id:p}:{}},exclusiveTime:t.value,measurements:{inp:{value:t.value,unit:"millisecond"}}}),v=!!(0,et.z)(s)&&!!nh(r=void 0!==u&&"function"==typeof s.tracesSampler?s.tracesSampler({transactionContext:u,name:u.name,parentSampled:u.parentSampled,attributes:{...u.data,...u.attributes},location:ny.location}):void 0!==u&&void 0!==u.sampled?u.sampled:void 0!==s.tracesSampleRate?s.tracesSampleRate:1)&&r;if(v&&Math.random()<v){let e=g?(n=[g],tS({sent_at:new Date().toISOString()},n.map(nw))):void 0,t=o&&o.getTransport();t&&e&&t.send(e).then(null,e=>{});return}},n2,p)}}(r),t.enableLongTask&&rr(),t._experiments.enableInteractions&&ri();let i={name:void 0,context:void 0};function o(e){let r;let o=(0,P.Gd)(),{beforeStartSpan:s,idleTimeout:a,finalTimeout:l,heartbeatInterval:c}=t,u="pageload"===e.op;if(u){let t=u?r_("sentry-trace"):"",n=u?r_("baggage"):void 0,{traceId:i,dsc:o,parentSpanId:s,sampled:a}=(0,nv.pT)(t,n);r={traceId:i,parentSpanId:s,parentSampled:a,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else r={trimEnd:!0,...e};let d=s?s(r):r;d.metadata=d.name!==r.name?{...d.metadata,source:"custom"}:d.metadata,i.name=d.name,i.context=d,d.sampled;let{location:h}=ny,p=nm(o,d,a,l,!0,{location:h},c,u);return u&&ny.document&&(ny.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(ny.document.readyState)&&p.sendAutoFinishSignal()}),["interactive","complete"].includes(ny.document.readyState)&&p.sendAutoFinishSignal()),p.registerBeforeFinishCallback(e=>{n(),ro(e)}),p}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){let n;let s=e.getOptions(),{markBackgroundSpan:a,traceFetch:l,traceXHR:c,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:h}=t,p=s&&s.tracePropagationTargets||t.tracePropagationTargets,f=ny.location&&ny.location.href;e.on&&(e.on("startNavigationSpan",e=>{n&&n.end(),n=o({op:"navigation",...e})}),e.on("startPageLoadSpan",e=>{n&&n.end(),n=o({op:"pageload",...e})})),t.instrumentPageLoad&&e.emit&&ny.location&&rb(e,{name:ny.location.pathname,startTimestamp:tU.Z1?tU.Z1/1e3:void 0,origin:"auto.pageload.browser",attributes:{[t5]:"url"}}),t.instrumentNavigation&&e.emit&&ny.location&&te(({to:t,from:n})=>{if(void 0===n&&f&&-1!==f.indexOf(t)){f=void 0;return}n!==t&&(f=void 0,rw(e,{name:ny.location.pathname,origin:"auto.navigation.browser",attributes:{[t5]:"url"}}))}),a&&nb(),h.enableInteractions&&function(e,t){let n;let r=()=>{let{idleTimeout:r,finalTimeout:i,heartbeatInterval:o}=e,s=nl();if(s&&s.op&&["navigation","pageload"].includes(s.op)||(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name))return;let{location:a}=ny,l={name:t.name,op:"ui.action.click",trimEnd:!0,data:{[t5]:t.context?function(e){let t=e.attributes&&e.attributes[t5],n=e.data&&e.data[t5],r=e.metadata&&e.metadata.source;return t||n||r}(t.context):"url"}};n=nm((0,P.Gd)(),l,r,i,!0,{location:a},o)};["click"].forEach(e=>{addEventListener(e,r,{once:!1,capture:!0})})}(t,i),t.enableInp&&nY("event",({entries:e})=>{let t=(0,x.s3)(),n=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,o=void 0!==n?n.getReplayId():void 0,s=nl(),a=(0,x.nZ)(),l=void 0!==a?a.getUser():void 0;for(let t of e)if("duration"in t){let e=t.duration,n=Object.keys(r),a=n.length>0?n.reduce((e,t)=>r[e].duration<r[t].duration?e:t):void 0;if(void 0===a||e>r[a].duration){let n=t.interactionId,c=i.name,u=i.context;n&&c&&u&&(a&&Object.keys(r).length>=10&&delete r[a],r[n]={routeName:c,duration:e,parentContext:u,user:l,activeTransaction:s,replayId:o})}}}),rd({traceFetch:l,traceXHR:c,tracePropagationTargets:p,shouldCreateSpanForRequest:u,enableHTTPTimings:d})},options:t}};function rb(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);let n=(0,nr.HN)();return"pageload"===(n&&(0,t3.XU)(n).op)?n:void 0}function rw(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);let n=(0,nr.HN)();return"navigation"===(n&&(0,t3.XU)(n).op)?n:void 0}function r_(e){let t=(0,eT.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}let rC={"routing.instrumentation":"next-app-router"};var rx=n(5632),rk=n.n(rx);let rS={"routing.instrumentation":"next-pages-router"},rE=(0,x.s3)();function rT(e,t=!0,n=!0,r,i){ey.document.getElementById("__NEXT_DATA__")?function(e,t=!0,n=!0,r,i){let{route:o,params:s,sentryTrace:a,baggage:l}=function(){let e;let t=ey.document.getElementById("__NEXT_DATA__");if(t&&t.innerHTML)try{e=JSON.parse(t.innerHTML)}catch(e){}if(!e)return{};let n={},{page:r,query:i,props:o}=e;return n.route=r,n.params=i,o&&o.pageProps&&(n.sentryTrace=o.pageProps._sentryTraceData,n.baggage=o.pageProps._sentryBaggage),n}(),{traceparentData:c,dynamicSamplingContext:u,propagationContext:d}=(0,nv.KA)(a,l);if((0,x.nZ)().setPropagationContext(d),y=o||ey.location.pathname,t){let t={name:y,op:"pageload",origin:"auto.pageload.nextjs.pages_router_instrumentation",tags:rS,startTimestamp:tU.Z1?tU.Z1/1e3:void 0,...s&&rE&&rE.getOptions().sendDefaultPii&&{data:s},...c,metadata:{source:o?"route":"url",dynamicSamplingContext:c&&!u?{}:u}};v=e(t),r(t)}n&&rk().events.on("routeChangeStart",t=>{let n,r;let o=t.split(/[\?#]/,1)[0],s=function(e){let t=(ey.__BUILD_MANIFEST||{}).sortedPages;if(t)return t.find(t=>{let n=function(e){let t=e.split("/"),n="";t[t.length-1].match(/^\[\[\.\.\..+\]\]$/)&&(t.pop(),n="(?:/(.+?))?");let r=t.map(e=>e.replace(/^\[\.\.\..+\]$/,"(.+?)").replace(/^\[.*\]$/,"([^/]+?)")).join("/");return RegExp(`^${r}${n}(?:/)?$`)}(t);return e.match(n)})}(o);s?(n=s,r="route"):(n=o,r="url");let a={...rS,from:y};y=n,v&&v.end();let l={name:n,op:"navigation",origin:"auto.navigation.nextjs.pages_router_instrumentation",tags:a,metadata:{source:r}},c=e(l);if(i(l),c){let e=c.startChild({op:"ui.nextjs.route-change",origin:"auto.ui.nextjs.pages_router_instrumentation",description:"Next.js Route Change"}),t=()=>{e.end(),rk().events.off("routeChangeComplete",t)};rk().events.on("routeChangeComplete",t)}})}(e,t,n,r||(()=>void 0),i||(()=>void 0)):function(e,t=!0,n=!0,r,i){let o;let s=ey.location.pathname;if(t){let t={name:s,op:"pageload",origin:"auto.pageload.nextjs.app_router_instrumentation",tags:rC,startTimestamp:tU.Z1?tU.Z1/1e3:void 0,metadata:{source:"url"}};o=e(t),r(t)}n&&e4(t=>{if(void 0!==t.endTimestamp||"GET"!==t.fetchData.method)return;let n=function(e){if(!e[0]||"object"!=typeof e[0]||void 0===e[0].searchParams||!e[1]||"object"!=typeof e[1]||!("headers"in e[1]))return null;try{let t=e[0],n=e[1].headers;if("1"!==n.RSC||"1"===n["Next-Router-Prefetch"])return null;return{targetPathname:t.pathname}}catch(e){return null}}(t.args);if(null===n)return;let r=n.targetPathname,a={...rC,from:s};s=r,o&&o.end();let l={name:r,op:"navigation",origin:"auto.navigation.nextjs.app_router_instrumentation",tags:a,metadata:{source:"url"}};e(l),i(l)})}(e,t,n,r||(()=>void 0),i||(()=>void 0))}class rP extends rm{constructor(e){super({tracingOrigins:[...ru.tracingOrigins,/^(api\/)/],routingInstrumentation:rT,...e})}}function rI(e){let t=ry({tracingOrigins:[...ru.tracingOrigins,/^(api\/)/],...e,instrumentNavigation:!1,instrumentPageLoad:!1});return{...t,afterAllSetup(n){let r=e=>{rb(n,e)},i=e=>{rw(n,e)};rT(()=>void 0,!1,t2([e,"optionalAccess",e=>e.instrumentNavigation]),r,i),t.afterAllSetup(n),rT(()=>void 0,t2([e,"optionalAccess",e=>e.instrumentPageLoad]),!1,r,i)}}}let rR=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function rO(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let i=r>=0?e[r]:"/";i&&(t=`${i}/${t}`,n="/"===i.charAt(0))}return t=(function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){let r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e})(t.split("/").filter(e=>!!e),!n).join("/"),(n?"/":"")+t||"."}function rA(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}let rN="RewriteFrames",rL=(e={})=>{let t=e.root,n=e.prefix||"app:///",r=e.iteratee||(e=>{if(!e.filename)return e;let r=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),i=/^\//.test(e.filename);if(r||i){let i;let o=r?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,s=t?function(e,t){e=rO(e).slice(1),t=rO(t).slice(1);let n=rA(e.split("/")),r=rA(t.split("/")),i=Math.min(n.length,r.length),o=i;for(let e=0;e<i;e++)if(n[e]!==r[e]){o=e;break}let s=[];for(let e=o;e<n.length;e++)s.push("..");return(s=s.concat(r.slice(o))).join("/")}(t,o):function(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=rR.exec(t);return n?n.slice(1):[]}(o)[2];e.filename=`${n}${s}`}return e});return{name:rN,setupOnce(){},processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>{var t;return{...e,...e.stacktrace&&{stacktrace:{...t=e.stacktrace,frames:t&&t.frames&&t.frames.map(e=>r(e))}}}})}}}catch(t){return e}}(t)),t}}};A(rN,rL);let rM=N.GLOBAL_OBJ,rD=e=>{let t=rM.__rewriteFramesAssetPrefixPath__||"";return rL({iteratee:e=>{try{let{origin:n}=new URL(e.filename);e.filename=t2([e,"access",e=>e.filename,"optionalAccess",e=>e.replace,"call",e=>e(n,"app://"),"access",e=>e.replace,"call",e=>e(t,"")])}catch(e){}return e.filename&&e.filename.startsWith("app:///_next")&&(e.filename=decodeURI(e.filename)),e.filename&&e.filename.match(/^app:\/\/\/_next\/static\/chunks\/(main-|main-app-|polyfills-|webpack-|framework-|framework\.)[0-9a-f]+\.js$/)&&(e.in_app=!1),e},...e})},rj=N.GLOBAL_OBJ;function rU(e){let t=e.find(e=>"BrowserTracing"===e.name);if(!t)return e;if(t.afterAllSetup&&t.options){let{options:n}=t;e[e.indexOf(t)]=new rP(n)}if(!(t instanceof rP)){let n=t.options;delete n.routingInstrumentation,delete n.tracingOrigins,e[e.indexOf(t)]=new rP(n)}return e}({...tw});var rF=n(66417);let rV=String(0),rB="",rz="",rH="",rq=ey.navigator&&ey.navigator.userAgent||"",rK="",rG=ey.navigator&&ey.navigator.language||ey.navigator&&ey.navigator.languages&&ey.navigator.languages[0]||"",rW=ey.navigator&&ey.navigator.userAgentData;function r$(e){return"pageload"===e.op}"object"==typeof rW&&null!==rW&&"getHighEntropyValues"in rW&&rW.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(rB=e.platform||"",rH=e.architecture||"",rK=e.model||"",rz=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){let t=e.fullVersionList[e.fullVersionList.length-1];rq=`${t.brand} ${t.version}`}}).catch(e=>void 0);let rZ=new WeakMap,rJ=!1;function rY(e){if(rJ||!e.isRecording())return!1;let t=(0,x.s3)(),n=t&&t.getOptions();if(!n)return!1;let r=n.profilesSampleRate;return!("number"!=typeof r&&"boolean"!=typeof r||"number"==typeof r&&isNaN(r))&&(!0===r||!1===r||!(r<0)&&!(r>1))&&!!r&&!!(!0===r||Math.random()<r)}let rX=new Map;function rQ(e){let t;r$(e)&&(t=1e3*(0,tU.ph)());let n=function(){let e=ey.Profiler;if("function"==typeof e)try{return new e({sampleInterval:10,maxBufferSize:Math.floor(3e3)})}catch(e){rJ=!0}}();if(!n)return e;let r=(0,k.DM)();async function i(){return e&&n?n.stop().then(e=>(o&&(ey.clearTimeout(o),o=void 0),e&&function(e,t){if(rX.set(e,t),rX.size>30){let e=rX.keys().next().value;rX.delete(e)}}(r,e),null)).catch(e=>null):null}let o=ey.setTimeout(()=>{i()},3e4),s=e.end.bind(e);return e.end=function(){return e?(i().then(()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),s()},()=>{s()}),e):s()},e}let r0="BrowserProfiling",r1=()=>({name:r0,setupOnce(){},setup(e){let t=(0,x.nZ)().getTransaction();if(t&&r$(t)&&rY(t)&&rQ(t),"function"!=typeof e.on){S.kg.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",e=>{rY(e)&&rQ(e)}),e.on("beforeEnvelope",e=>{if(!rX.size)return;let t=function(e){let t=[];return tE(e,(e,n)=>{if("transaction"===n)for(let n=1;n<e.length;n++){let r=e[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&t.push(e[n])}}),t}(e);if(!t.length)return;let n=[];for(let e of t){var r,i,o,s;let t=e&&e.contexts,a=t&&t.profile&&t.profile.profile_id,l=t&&t.profile&&t.profile.start_timestamp;if("string"!=typeof a||!a)continue;t&&t.profile&&delete t.profile;let c=function(e){let t=rX.get(e);return t&&rX.delete(e),t}(a);if(!c)continue;let u=(r=a,i=l,o=c,s=e,!(o.samples.length<2)&&o.frames.length?function(e,t,n,r){if("transaction"!==r.type)throw TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let i=function(e){let t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return("string"==typeof t&&t.length,"string"!=typeof t)?"":t}(r),o="thread_metadata"in n?n:function(e){let t;let n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[rV]:{name:"main"}}};if(!e.samples.length)return r;let i=e.samples[0].timestamp,o="number"==typeof performance.timeOrigin?performance.timeOrigin:tU.Z1||0,s=o-(tU.Z1||o);for(let o=0;o<e.samples.length;o++){let a=e.samples[o];if(void 0===a.stackId){void 0===t&&(t=n,r.stacks[t]=[],n++),r.samples[o]={elapsed_since_start_ns:((a.timestamp+s-i)*1e6).toFixed(0),stack_id:t,thread_id:rV};continue}let l=e.stacks[a.stackId],c=[];for(;l;){c.push(l.frameId);let t=e.frames[l.frameId];void 0===r.frames[l.frameId]&&(r.frames[l.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),l=void 0===l.parentId?void 0:e.stacks[l.parentId]}let u={elapsed_since_start_ns:((a.timestamp+s-i)*1e6).toFixed(0),stack_id:n,thread_id:rV};r.stacks[n]=c,r.samples[o]=u,n++}return r}(n),s=t||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:Date.now()),a="number"==typeof r.timestamp?1e3*r.timestamp:Date.now();return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||rF.J,runtime:{name:"javascript",version:ey.navigator.userAgent},os:{name:rB,version:rz,build_number:rq},device:{locale:rG,model:rK,manufacturer:rq,architecture:rH,is_emulator:!1},debug_meta:{images:function(e){let t;let n=N.GLOBAL_OBJ._sentryDebugIds;if(!n)return[];let r=(0,x.s3)(),i=r&&r.getOptions(),o=i&&i.stackParser;if(!o)return[];let s=rZ.get(o);s?t=s:(t=new Map,rZ.set(o,t));let a=Object.keys(n).reduce((e,r)=>{let i;let s=t.get(r);s?i=s:(i=o(r),t.set(r,i));for(let t=i.length-1;t>=0;t--){let o=i[t],s=o&&o.filename;if(o&&s){e[s]=n[r];break}}return e},{}),l=[];for(let t of e)t&&a[t]&&l.push({type:"sourcemap",code_file:t,debug_id:a[t]});return l}(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||(0,k.DM)(),trace_id:i,active_thread_id:rV,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}(r,i,o,s):null);u&&n.push(u)}!function(e,t){if(t.length)for(let n of t)e[1].push([{type:"profile"},n])}(e,n)})}});A(r0,r1);var r2=window;r2.__sentryRewritesTunnelPath__=void 0,r2.SENTRY_RELEASE={id:"4f7c9e29984d1436ad68b9e3fcbf398f5fafe4ed"},r2.__sentryBasePath=void 0,r2.__rewriteFramesAssetPrefixPath__="";let r3={auth:.1,"sign-in-email-link":.1};!function(e){let t={environment:function(e){let t=e?t1.env.NEXT_PUBLIC_VERCEL_ENV:t1.env.VERCEL_ENV;return t?`vercel-${t}`:void 0}(!0)||"production",defaultIntegrations:function(e){let t=[...t0,rD()];return("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,et.z)(e)&&t.push(rI()),t}(e),...e};(function(e){let{integrations:t}=e;t&&(Array.isArray(t)?e.integrations=rU(t):e.integrations=e=>rU(t(e)))})(t),function(e){let t=rj.__sentryRewritesTunnelPath__;if(t&&e.dsn){let n=tx(e.dsn);if(!n)return;let r=n.host.match(/^o(\d+)\.ingest(?:\.([a-z]{2}))?\.sentry\.io$/);if(r){let i=r[1],o=r[2],s=`${t}?o=${i}&p=${n.projectId}`;o&&(s+=`&r=${o}`),e.tunnel=s}}}(t),ee(t,"nextjs",["nextjs","react"]),function(e){let t={...e};ee(t,"react"),function(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=[...t0]),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),ey.SENTRY_RELEASE&&ey.SENTRY_RELEASE.id&&(e.release=ey.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0),function(e,t){!0===t.debug&&(E.X?S.kg.enable():(0,S.Cf)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,x.nZ)().update(t.initialScope);let n=new e(t);(function(e){let t=(0,P.Gd)().getStackTop();t.client=e,t.scope.setClient(e)})(n),n.init?n.init():n.setupIntegrations&&n.setupIntegrations()}(tF,{...e,stackParser:(0,D.Sq)(e.stackParser||t$),integrations:function(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(e=>{e.isDefaultInstance=!0});let r=function(e){let t={};return e.forEach(e=>{let{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.keys(t).map(e=>t[e])}(Array.isArray(n)?[...t,...n]:"function"==typeof n?(0,k.lE)(n(t)):t),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return -1}(r,e=>"Debug"===e.name);if(-1!==i){let[e]=r.splice(i,1);r.push(e)}return r}(e),transport:e.transport||(e2()?tX:tQ)}),e.autoSessionTracking&&void 0!==ey.document&&((0,x.yj)({ignoreDuration:!0}),(0,x.cg)(),te(({from:e,to:t})=>{void 0!==e&&e!==t&&((0,x.yj)({ignoreDuration:!0}),(0,x.cg)())}))}(t)}(t);let n=(0,x.nZ)();n.setTag("runtime","browser");let r=e=>"transaction"===e.type&&"/404"===e.transaction?null:e;r.id="NextClient404Filter",n.addEventProcessor(r)}({dsn:"https://ec9642a19be21b8d99b816d70ffad372@o4504695552606208.ingest.sentry.io/4506384249389056",environment:"production",tracesSampleRate:.001,profilesSampleRate:1,normalizeDepth:10,beforeSend(e){var t,n;return"fatal"===e.level?e:Math.random()<(null!==(n=r3[null===(t=e.extra)||void 0===t?void 0:t.type])&&void 0!==n?n:0)?e:null},integrations:[rI(),r1(),$({levels:["error"]}),X({depth:9})],release:"4f7c9e29984d1436ad68b9e3fcbf398f5fafe4ed"})},57033:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(2784),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=(e,t)=>{let n=(0,r.forwardRef)((n,s)=>{let{color:a="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:u,children:d,...h}=n;return(0,r.createElement)("svg",{ref:s,...i,width:l,height:l,stroke:a,strokeWidth:u?24*Number(c)/Number(l):c,className:"lucide lucide-".concat(o(e)),...h},[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...(Array.isArray(d)?d:[d])||[]])});return n.displayName="".concat(e),n}},64253:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(57033).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},83156:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(57033).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},31396:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(57033).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},59131:function(e,t,n){"use strict";n.d(t,{$G:function(){return r.$G},cC:function(){return r.cC}});var r=n(59218)},10386:function(e,t,n){"use strict";n.d(t,{$G:function(){return r.$G}});var r=n(59218)},47250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ReadonlyURLSearchParams:function(){return l.ReadonlyURLSearchParams},RedirectType:function(){return l.RedirectType},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},notFound:function(){return l.notFound},permanentRedirect:function(){return l.permanentRedirect},redirect:function(){return l.redirect},useParams:function(){return p},usePathname:function(){return d},useRouter:function(){return h},useSearchParams:function(){return u},useSelectedLayoutSegment:function(){return m},useSelectedLayoutSegments:function(){return f},useServerInsertedHTML:function(){return c.useServerInsertedHTML}});let r=n(2784),i=n(42806),o=n(43676),s=n(89498),a=n(26196),l=n(61),c=n(97727);function u(){let e=(0,r.useContext)(o.SearchParamsContext);return(0,r.useMemo)(()=>e?new l.ReadonlyURLSearchParams(e):null,[e])}function d(){return(0,r.useContext)(o.PathnameContext)}function h(){let e=(0,r.useContext)(i.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}function p(){return(0,r.useContext)(o.PathParamsContext)}function f(e){void 0===e&&(e="children");let t=(0,r.useContext)(i.LayoutRouterContext);return t?function e(t,n,r,i){let o;if(void 0===r&&(r=!0),void 0===i&&(i=[]),r)o=t[1][n];else{var l;let e=t[1];o=null!=(l=e.children)?l:Object.values(e)[0]}if(!o)return i;let c=o[0],u=(0,s.getSegmentValue)(c);return!u||u.startsWith(a.PAGE_SEGMENT_KEY)?i:(i.push(u),e(o,n,!1,i))}(t.tree,e):null}function m(e){void 0===e&&(e="children");let t=f(e);if(!t||0===t.length)return null;let n="children"===e?t[0]:t[t.length-1];return n===a.DEFAULT_SEGMENT_KEY?null:n}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ReadonlyURLSearchParams:function(){return s},RedirectType:function(){return r.RedirectType},notFound:function(){return i.notFound},permanentRedirect:function(){return r.permanentRedirect},redirect:function(){return r.redirect}});let r=n(98729),i=n(45731);class o extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class s extends URLSearchParams{append(){throw new o}delete(){throw new o}set(){throw new o}sort(){throw new o}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},45731:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{isNotFoundError:function(){return i},notFound:function(){return r}});let n="NEXT_NOT_FOUND";function r(){let e=Error(n);throw e.digest=n,e}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===n}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},82734:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return n}}),(r=n||(n={}))[r.SeeOther=303]="SeeOther",r[r.TemporaryRedirect=307]="TemporaryRedirect",r[r.PermanentRedirect=308]="PermanentRedirect",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},98729:function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{RedirectType:function(){return r},getRedirectError:function(){return c},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return f},getURLFromRedirectError:function(){return p},isRedirectError:function(){return h},permanentRedirect:function(){return d},redirect:function(){return u}});let o=n(82050),s=n(65103),a=n(82734),l="NEXT_REDIRECT";function c(e,t,n){void 0===n&&(n=a.RedirectStatusCode.TemporaryRedirect);let r=Error(l);r.digest=l+";"+t+";"+e+";"+n+";";let i=o.requestAsyncStorage.getStore();return i&&(r.mutableCookies=i.mutableCookies),r}function u(e,t){void 0===t&&(t="replace");let n=s.actionAsyncStorage.getStore();throw c(e,t,(null==n?void 0:n.isAction)?a.RedirectStatusCode.SeeOther:a.RedirectStatusCode.TemporaryRedirect)}function d(e,t){void 0===t&&(t="replace");let n=s.actionAsyncStorage.getStore();throw c(e,t,(null==n?void 0:n.isAction)?a.RedirectStatusCode.SeeOther:a.RedirectStatusCode.PermanentRedirect)}function h(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,n,r,i]=e.digest.split(";",4),o=Number(i);return t===l&&("replace"===n||"push"===n)&&"string"==typeof r&&!isNaN(o)&&o in a.RedirectStatusCode}function p(e){return h(e)?e.digest.split(";",3)[2]:null}function f(e){if(!h(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!h(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(i=r||(r={})).push="push",i.replace="replace",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},89498:function(e,t){"use strict";function n(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},51285:function(e,t){"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ACTION_FAST_REFRESH:function(){return d},ACTION_NAVIGATE:function(){return a},ACTION_PREFETCH:function(){return u},ACTION_REFRESH:function(){return s},ACTION_RESTORE:function(){return l},ACTION_SERVER_ACTION:function(){return h},ACTION_SERVER_PATCH:function(){return c},PrefetchCacheEntryStatus:function(){return r},PrefetchKind:function(){return n},isThenable:function(){return p}});let s="refresh",a="navigate",l="restore",c="server-patch",u="prefetch",d="fast-refresh",h="server-action";function p(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(i=n||(n={})).AUTO="auto",i.FULL="full",i.TEMPORARY="temporary",(o=r||(r={})).fresh="fresh",o.reusable="reusable",o.expired="expired",o.stale="stale",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},80687:function(e,t,n){"use strict";function r(e,t,n,r){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return r}}),n(29503),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return b}});let r=n(17653),i=n(19013),o=n(52322),s=i._(n(2784)),a=r._(n(28316)),l=r._(n(6114)),c=n(79442),u=n(69087),d=n(25867);n(32406);let h=n(10420),p=r._(n(6406)),f={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function m(e,t,n,r,i,o,s){let a=null==e?void 0:e.src;e&&e["data-loaded-src"]!==a&&(e["data-loaded-src"]=a,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),null==n?void 0:n.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,i=!1;n.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}(null==r?void 0:r.current)&&r.current(e)}}))}function g(e){return s.use?{fetchPriority:e}:{fetchpriority:e}}let v=(0,s.forwardRef)((e,t)=>{let{src:n,srcSet:r,sizes:i,height:a,width:l,decoding:c,className:u,style:d,fetchPriority:h,placeholder:p,loading:f,unoptimized:v,fill:y,onLoadRef:b,onLoadingCompleteRef:w,setBlurComplete:_,setShowAltText:C,sizesInput:x,onLoad:k,onError:S,...E}=e;return(0,o.jsx)("img",{...E,...g(h),loading:f,width:l,height:a,decoding:c,"data-nimg":y?"fill":"1",className:u,style:d,sizes:i,srcSet:r,src:n,ref:(0,s.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(S&&(e.src=e.src),e.complete&&m(e,p,b,w,_,v,x))},[n,p,b,w,_,S,v,x,t]),onLoad:e=>{m(e.currentTarget,p,b,w,_,v,x)},onError:e=>{C(!0),"empty"!==p&&_(!0),S&&S(e)}})});function y(e){let{isAppRouter:t,imgAttributes:n}=e,r={as:"image",imageSrcSet:n.srcSet,imageSizes:n.sizes,crossOrigin:n.crossOrigin,referrerPolicy:n.referrerPolicy,...g(n.fetchPriority)};return t&&a.default.preload?(a.default.preload(n.src,r),null):(0,o.jsx)(l.default,{children:(0,o.jsx)("link",{rel:"preload",href:n.srcSet?void 0:n.src,...r},"__nimg-"+n.src+n.srcSet+n.sizes)})}let b=(0,s.forwardRef)((e,t)=>{let n=(0,s.useContext)(h.RouterContext),r=(0,s.useContext)(d.ImageConfigContext),i=(0,s.useMemo)(()=>{var e;let t=f||r||u.imageConfigDefault,n=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),i=t.deviceSizes.sort((e,t)=>e-t),o=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:n,deviceSizes:i,qualities:o}},[r]),{onLoad:a,onLoadingComplete:l}=e,m=(0,s.useRef)(a);(0,s.useEffect)(()=>{m.current=a},[a]);let g=(0,s.useRef)(l);(0,s.useEffect)(()=>{g.current=l},[l]);let[b,w]=(0,s.useState)(!1),[_,C]=(0,s.useState)(!1),{props:x,meta:k}=(0,c.getImgProps)(e,{defaultLoader:p.default,imgConf:i,blurComplete:b,showAltText:_});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v,{...x,unoptimized:k.unoptimized,placeholder:k.placeholder,fill:k.fill,onLoadRef:m,onLoadingCompleteRef:g,setBlurComplete:w,setShowAltText:C,sizesInput:e.sizes,ref:t}),k.priority?(0,o.jsx)(y,{isAppRouter:!n,imgAttributes:x}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},64007:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return w}});let r=n(17653),i=n(52322),o=r._(n(2784)),s=n(42656),a=n(91070),l=n(94186),c=n(74022),u=n(25242),d=n(10420),h=n(42806),p=n(61684),f=n(80687),m=n(89775),g=n(51285),v=new Set;function y(e,t,n,r,i,o){if(o||(0,a.isLocalURL)(t)){if(!r.bypassPrefetchedCheck){let i=t+"%"+n+"%"+(void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0);if(v.has(i))return;v.add(i)}(async()=>o?e.prefetch(t,i):e.prefetch(t,n,r))().catch(e=>{})}}function b(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let w=o.default.forwardRef(function(e,t){let n,r;let{href:l,as:v,children:w,prefetch:_=null,passHref:C,replace:x,shallow:k,scroll:S,locale:E,onClick:T,onMouseEnter:P,onTouchStart:I,legacyBehavior:R=!1,...O}=e;n=w,R&&("string"==typeof n||"number"==typeof n)&&(n=(0,i.jsx)("a",{children:n}));let A=o.default.useContext(d.RouterContext),N=o.default.useContext(h.AppRouterContext),L=null!=A?A:N,M=!A,D=!1!==_,j=null===_?g.PrefetchKind.AUTO:g.PrefetchKind.FULL,{href:U,as:F}=o.default.useMemo(()=>{if(!A){let e=b(l);return{href:e,as:v?b(v):e}}let[e,t]=(0,s.resolveHref)(A,l,!0);return{href:e,as:v?(0,s.resolveHref)(A,v):t||e}},[A,l,v]),V=o.default.useRef(U),B=o.default.useRef(F);R&&(r=o.default.Children.only(n));let z=R?r&&"object"==typeof r&&r.ref:t,[H,q,K]=(0,p.useIntersection)({rootMargin:"200px"}),G=o.default.useCallback(e=>{(B.current!==F||V.current!==U)&&(K(),B.current=F,V.current=U),H(e),z&&("function"==typeof z?z(e):"object"==typeof z&&(z.current=e))},[F,z,U,K,H]);o.default.useEffect(()=>{L&&q&&D&&y(L,U,F,{locale:E},{kind:j},M)},[F,U,q,E,D,null==A?void 0:A.locale,L,M,j]);let W={ref:G,onClick(e){R||"function"!=typeof T||T(e),R&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),L&&!e.defaultPrevented&&function(e,t,n,r,i,s,l,c,u){let{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!u&&!(0,a.isLocalURL)(n)))return;e.preventDefault();let h=()=>{let e=null==l||l;"beforePopState"in t?t[i?"replace":"push"](n,r,{shallow:s,locale:c,scroll:e}):t[i?"replace":"push"](r||n,{scroll:e})};u?o.default.startTransition(h):h()}(e,L,U,F,x,k,S,E,M)},onMouseEnter(e){R||"function"!=typeof P||P(e),R&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),L&&(D||!M)&&y(L,U,F,{locale:E,priority:!0,bypassPrefetchedCheck:!0},{kind:j},M)},onTouchStart:function(e){R||"function"!=typeof I||I(e),R&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),L&&(D||!M)&&y(L,U,F,{locale:E,priority:!0,bypassPrefetchedCheck:!0},{kind:j},M)}};if((0,c.isAbsoluteUrl)(F))W.href=F;else if(!R||C||"a"===r.type&&!("href"in r.props)){let e=void 0!==E?E:null==A?void 0:A.locale,t=(null==A?void 0:A.isLocaleDomain)&&(0,f.getDomainLocale)(F,e,null==A?void 0:A.locales,null==A?void 0:A.domainLocales);W.href=t||(0,m.addBasePath)((0,u.addLocale)(F,e,null==A?void 0:A.defaultLocale))}return R?o.default.cloneElement(r,W):(0,i.jsx)("a",{...O,...W,children:n})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},61684:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let r=n(2784),i=n(58328),o="function"==typeof IntersectionObserver,s=new Map,a=[];function l(e){let{rootRef:t,rootMargin:n,disabled:l}=e,c=l||!o,[u,d]=(0,r.useState)(!1),h=(0,r.useRef)(null),p=(0,r.useCallback)(e=>{h.current=e},[]);return(0,r.useEffect)(()=>{if(o){if(c||u)return;let e=h.current;if(e&&e.tagName)return function(e,t,n){let{id:r,observer:i,elements:o}=function(e){let t;let n={root:e.root||null,margin:e.rootMargin||""},r=a.find(e=>e.root===n.root&&e.margin===n.margin);if(r&&(t=s.get(r)))return t;let i=new Map;return t={id:n,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=i.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e),elements:i},a.push(n),s.set(n,t),t}(n);return o.set(e,t),i.observe(e),function(){if(o.delete(e),i.unobserve(e),0===o.size){i.disconnect(),s.delete(r);let e=a.findIndex(e=>e.root===r.root&&e.margin===r.margin);e>-1&&a.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:n})}else if(!u){let e=(0,i.requestIdleCallback)(()=>d(!0));return()=>(0,i.cancelIdleCallback)(e)}},[c,n,t,u,h.current]),[p,u,(0,r.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return a}}),n(32406);let r=n(28655),i=n(69087);function o(e){return void 0!==e.default}function s(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function a(e,t){var n,a;let l,c,u,{src:d,sizes:h,unoptimized:p=!1,priority:f=!1,loading:m,className:g,quality:v,width:y,height:b,fill:w=!1,style:_,overrideSrc:C,onLoad:x,onLoadingComplete:k,placeholder:S="empty",blurDataURL:E,fetchPriority:T,decoding:P="async",layout:I,objectFit:R,objectPosition:O,lazyBoundary:A,lazyRoot:N,...L}=e,{imgConf:M,showAltText:D,blurComplete:j,defaultLoader:U}=t,F=M||i.imageConfigDefault;if("allSizes"in F)l=F;else{let e=[...F.deviceSizes,...F.imageSizes].sort((e,t)=>e-t),t=F.deviceSizes.sort((e,t)=>e-t),r=null==(n=F.qualities)?void 0:n.sort((e,t)=>e-t);l={...F,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===U)throw Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let V=L.loader||U;delete L.loader,delete L.srcSet;let B="__next_img_default"in V;if(B){if("custom"===l.loader)throw Error('Image with src "'+d+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=V;V=t=>{let{config:n,...r}=t;return e(r)}}if(I){"fill"===I&&(w=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[I];e&&(_={..._,...e});let t={responsive:"100vw",fill:"100vw"}[I];t&&!h&&(h=t)}let z="",H=s(y),q=s(b);if("object"==typeof(a=d)&&(o(a)||void 0!==a.src)){let e=o(d)?d.default:d;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(c=e.blurWidth,u=e.blurHeight,E=E||e.blurDataURL,z=e.src,!w){if(H||q){if(H&&!q){let t=H/e.width;q=Math.round(e.height*t)}else if(!H&&q){let t=q/e.height;H=Math.round(e.width*t)}}else H=e.width,q=e.height}}let K=!f&&("lazy"===m||void 0===m);(!(d="string"==typeof d?d:z)||d.startsWith("data:")||d.startsWith("blob:"))&&(p=!0,K=!1),l.unoptimized&&(p=!0),B&&d.endsWith(".svg")&&!l.dangerouslyAllowSVG&&(p=!0),f&&(T="high");let G=s(v),W=Object.assign(w?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:R,objectPosition:O}:{},D?{}:{color:"transparent"},_),$=j||"empty"===S?null:"blur"===S?'url("data:image/svg+xml;charset=utf-8,'+(0,r.getImageBlurSvg)({widthInt:H,heightInt:q,blurWidth:c,blurHeight:u,blurDataURL:E||"",objectFit:W.objectFit})+'")':'url("'+S+'")',Z=$?{backgroundSize:W.objectFit||"cover",backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:$}:{},J=function(e){let{config:t,src:n,unoptimized:r,width:i,quality:o,sizes:s,loader:a}=e;if(r)return{src:n,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=function(e,t,n){let{deviceSizes:r,allSizes:i}=e;if(n){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let r;r=e.exec(n);r)t.push(parseInt(r[2]));if(t.length){let e=.01*Math.min(...t);return{widths:i.filter(t=>t>=r[0]*e),kind:"w"}}return{widths:i,kind:"w"}}return"number"!=typeof t?{widths:r,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>i.find(t=>t>=e)||i[i.length-1]))],kind:"x"}}(t,i,s),u=l.length-1;return{sizes:s||"w"!==c?s:"100vw",srcSet:l.map((e,r)=>a({config:t,src:n,quality:o,width:e})+" "+("w"===c?e:r+1)+c).join(", "),src:a({config:t,src:n,quality:o,width:l[u]})}}({config:l,src:d,unoptimized:p,width:H,quality:G,sizes:h,loader:V});return{props:{...L,loading:K?"lazy":m,fetchPriority:T,width:H,height:q,decoding:P,className:g,style:{...W,...Z},sizes:J.sizes,srcSet:J.srcSet,src:C||J.src},meta:{unoptimized:p,priority:f,placeholder:S,fill:w}}}},28655:function(e,t){"use strict";function n(e){let{widthInt:t,heightInt:n,blurWidth:r,blurHeight:i,blurDataURL:o,objectFit:s}=e,a=r?40*r:t,l=i?40*i:n,c=a&&l?"viewBox='0 0 "+a+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+c+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(c?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+o+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return n}})},38534:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return l},getImageProps:function(){return a}});let r=n(17653),i=n(79442),o=n(83585),s=r._(n(6406));function a(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let l=o.Image},6406:function(e,t){"use strict";function n(e){var t;let{config:n,src:r,width:i,quality:o}=e,s=o||(null==(t=n.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return n.path+"?url="+encodeURIComponent(r)+"&w="+i+"&q="+s}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),n.__next_img_default=!0;let r=n},97727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ServerInsertedHTMLContext:function(){return i},useServerInsertedHTML:function(){return o}});let r=n(19013)._(n(2784)),i=r.default.createContext(null);function o(e){let t=(0,r.useContext)(i);t&&t(e)}},8661:function(e,t,n){"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}n.d(t,{S1:function(){return i},jU:function(){return o},on:function(){return r}});var o=!0},75257:function(e,t,n){"use strict";var r=n(2784),i=n(8661),o=["mousedown","touchstart"];t.Z=function(e,t,n){void 0===n&&(n=o);var s=(0,r.useRef)(t);(0,r.useEffect)(function(){s.current=t},[t]),(0,r.useEffect)(function(){for(var t=function(t){var n=e.current;n&&!n.contains(t.target)&&s.current(t)},r=0,o=n;r<o.length;r++){var a=o[r];(0,i.on)(document,a,t)}return function(){for(var e=0,r=n;e<r.length;e++){var o=r[e];(0,i.S1)(document,o,t)}}},[n,e])}},51032:function(e,t,n){"use strict";var r=n(2784),i=n(8661);t.Z=function(e,t){var n=(0,r.useState)(void 0!==t?t:!!i.jU&&window.matchMedia(e).matches),o=n[0],s=n[1];return(0,r.useEffect)(function(){var t=!0,n=window.matchMedia(e),r=function(){t&&s(!!n.matches)};return n.addListener(r),s(n.matches),function(){t=!1,n.removeListener(r)}},[e]),o}},79009:function(e,t,n){"use strict";var r=n(93542);n(81633);var i=n(2784),o=i&&"object"==typeof i&&"default"in i?i:{default:i},s=void 0!==r&&r.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,n=t.name,r=void 0===n?"stylesheet":n,i=t.optimizeForSpeed,o=void 0===i?s:i;c(a(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",c("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l=document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){if(c(a(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(e){return -1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},t.replaceRule=function(e,t){if(this._optimizeForSpeed){var n=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(t){n.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];c(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},t.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},t.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},t.cssRules=function(){var e=this;return this._tags.reduce(function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},t.makeStyleTag=function(e,t,n){t&&c(a(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return n?i.insertBefore(r,n):i.appendChild(r),r},function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},d={};function h(e,t){if(!t)return"jsx-"+e;var n=String(t),r=e+n;return d[r]||(d[r]="jsx-"+u(e+"-"+n)),d[r]}function p(e,t){var n=e+t;return d[n]||(d[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[n]}var f=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,r=void 0===n?null:n,i=t.optimizeForSpeed,o=void 0!==i&&i;this._sheet=r||new l({name:"styled-jsx",optimizeForSpeed:o}),this._sheet.inject(),r&&"boolean"==typeof o&&(this._sheet.setOptimizeForSpeed(o),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),r=n.styleId,i=n.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var o=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=o,this._instancesCounts[r]=1},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,n;return t=this.cssRules(),void 0===(n=e)&&(n={}),t.map(function(e){var t=e[0],r=e[1];return o.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:n.nonce?n.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,r=e.id;if(n){var i=h(r,n);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return p(i,e)}):[p(i,t)]}}return{styleId:h(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),m=i.createContext(null);m.displayName="StyleSheetContext";var g=o.default.useInsertionEffect||o.default.useLayoutEffect,v=new f;function y(e){var t=v||i.useContext(m);return t&&g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}y.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},t.style=y},71766:function(e,t,n){"use strict";e.exports=n(79009).style},59887:function(e,t,n){"use strict";var r,i;n.d(t,{$G:function(){return d},BS:function(){return l},Jx:function(){return u},bL:function(){return h},nC:function(){return c}}),(i=r||(r={})).log="log",i.net="net",i.error="err",i.warn="warn",i.special="special";let o=[],s=0,a=e=>{o[s]=e,++s>1e3&&(s=0)},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];a({event:e,type:t,time:Date.now(),additionalData:r})},c=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a({event:e,type:"err",time:Date.now(),additionalData:n})},u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a({event:e,type:"warn",time:Date.now(),additionalData:n})},d={logError:()=>{}},h=e=>{d.logError=e||(()=>{})}},5192:function(e,t,n){"use strict";n.d(t,{s8:function(){return f},dq:function(){return m},ye:function(){return g}});var r,i,o,s,a=n(2784);n(79937);var l=n(59887),c=n(47432);let u=e=>({reward:async(t,n)=>(await e({method:"post",url:"/v1/vc/reward",headers:{"x-user-id":n,"Content-Type":"application/json"},data:t})).data,balances:async(t,n)=>(await e({method:"get",url:"/v1/vc/users/".concat(t,"/balances").concat(n?"?product_types=".concat(n):"")})).data,giveawayEligible:async()=>(await e({method:"get",url:"/v1/cai-plus-giveaway/should-grant"})).data,claimGiveaway:async t=>(await e({method:"post",url:"/v1/cai-plus-giveaway/grant",data:{user_id:t}})).data}),d=e=>({signup:async t=>{let n=await e.post("/external/user/signup",t);if("success"===n.data.status&&t.signup_code)try{await e.post("/chat/user/signup/invite-code/",{invite_code:t.signup_code})}catch(e){}return n},sendSMSVerification:async(t,n)=>(await e.post("/external/verification/sms",t,{headers:n})).data,verifySMSVerification:async t=>(await e.post("/external/verification/sms/validate",t)).data});(r=o||(o={}))[r.NOT_INTERESTED_CONTENT_TYPE_UNSPECIFIED=0]="NOT_INTERESTED_CONTENT_TYPE_UNSPECIFIED",r[r.NOT_INTERESTED_CONTENT_TYPE_CHARACTER=1]="NOT_INTERESTED_CONTENT_TYPE_CHARACTER",r[r.NOT_INTERESTED_CONTENT_TYPE_STORY=2]="NOT_INTERESTED_CONTENT_TYPE_STORY",r[r.NOT_INTERESTED_CONTENT_TYPE_SCENE=3]="NOT_INTERESTED_CONTENT_TYPE_SCENE",r[r.UNRECOGNIZED=-1]="UNRECOGNIZED",(i=s||(s={}))[i.NOT_INTERESTED_REASON_UNSPECIFIED=0]="NOT_INTERESTED_REASON_UNSPECIFIED",i[i.NOT_INTERESTED_REASON_HIDE=1]="NOT_INTERESTED_REASON_HIDE",i[i.NOT_INTERESTED_REASON_DONT_SHOW_SIMILAR=2]="NOT_INTERESTED_REASON_DONT_SHOW_SIMILAR",i[i.UNRECOGNIZED=-1]="UNRECOGNIZED";let h=e=>({submitPost:async t=>{try{let{content:n,...r}=t,i=n;return n&&(i="string"==typeof n?n:JSON.stringify(n)),(await e.post("/v1/engagement_service/posts",{...r,content:i})).data}catch(e){throw e}},submitReaction:async t=>{let{post_id:n,...r}=t;try{return(await e.post("/v1/engagement_service/posts/".concat(n,"/sticker"),r)).data}catch(e){throw e}},removeReaction:async t=>{let{post_id:n,sticker_type:r}=t;try{return(await e.post("/v1/engagement_service/posts/".concat(n,"/sticker/").concat(r,"/delete"))).data}catch(e){throw e}},deletePost:async t=>{let{post_id:n}=t;try{return(await e.post("/v1/engagement_service/posts/".concat(n,"/delete"))).data}catch(e){throw e}},submitNotInterested:async t=>{let{id:n}=t;try{return(await e.post("/v1/engagement_service/characters/".concat(n,"/not_interested"),{content_type:o.NOT_INTERESTED_CONTENT_TYPE_CHARACTER,reason:s.NOT_INTERESTED_REASON_HIDE})).data}catch(e){throw e}}});function p(e,t){let n=(0,a.useContext)(c.ZP),{client:r}=e();return(0,a.useMemo)(()=>{if(!r){let t=Error("No API client for ".concat(e.toString(),". See error log above for details."));throw l.$G.logError("\nNo axios client exists for ".concat(e,'\n\nDid you provide an axios client in your AxiosContext?\nCheck your implementation of <ClientsProvider>\n\nThis error happens when an AxiosContext has provided but no valid client exists in the "client" field in the AxiosContext.\nDid you forget to create a new client?\n\n\n'),{error:t,extra:{clientContext:n}}),t}return t(r)},[r])}let f=()=>p(c.DV,h),m=()=>p(c.__,u),g=()=>p(c.Ug,d)},97271:function(e,t,n){"use strict";n.d(t,{QC:function(){return o},ZC:function(){return i},fw:function(){return r}});let r=5e3,i=2500,o=3e3},54252:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var r=n(2784);let i=function(){let e=new Set;function t(t){e.add(t)}function n(t){e.delete(t)}return{fire:t=>Array.from(e).map(e=>e(t)),useListen:function(e,i){(0,r.useEffect)(()=>(t(e),()=>n(e)),i)},listen:t,unlisten:n}}()},98945:function(e,t,n){"use strict";let r,i,o;n.d(t,{Rv:function(){return eO},Ok:function(){return o},mx:function(){return eA}});var s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,_,C,x,k=n(2784),S=n(59887),E=n(92357),T=n(61346),P=n(6364),I=n(8950);function R(e){let t=Object.entries(e).reduce((e,t)=>{let[n,r]=t;return e[n]={...r,facts:r.facts.sort((e,t)=>e.category.localeCompare(t.category))},e},{});return Object.keys(t).sort().filter(e=>"narrator"!==e).reduce((e,n)=>(e[n]=t[n],e),{})}function O(e){let t=Object.fromEntries(Object.entries(e).map(e=>{let[t,n]=e;return[t,{...n,overrides:Object.fromEntries(Object.entries(n.overrides).sort((e,t)=>e[0].localeCompare(t[0])))}]}));return Object.keys(t).sort().filter(e=>"narrator"!==e).reduce((e,n)=>(e[n]=t[n],e),{})}var A=n(70677),N=n(97271),L=n(50926);let M=e=>{let t=!1,n=!1;return e.map((r,i)=>{let o=e.length-i<=2,s=!t&&r.author.is_human,a=!n&&!r.author.is_human;return t=t||s,n=n||a,{...r,candidates:r.candidates,isGreetingMessage:o,isLastUserMessage:s,isLastAiMessage:a}})},D=e=>{if(e)return null==e?void 0:e.slice(24);throw Error("UUID is undefined")};class j{addSystemTurn(e,t){throw Error("Method not implemented.")}async initialize(e,t,n){await this.fetchInitialData(this.external_id,this.history_external_id,e,t,n)}isInitialized(){return!!this.chatHistory}subscribe(e){this.subscriberCallbacks.push(e)}unsubscribe(e){this.subscriberCallbacks=this.subscriberCallbacks.filter(t=>t!==e)}publishChatMessages(e){let t=null!=e?e:this.turns;t=M(t),this.subscriberCallbacks.forEach(e=>e(t,this.primaryCandidateMap,this.chatHistory)),this.onChatEventCallback(L.qN.messages,{messages:t})}removeClientMessages(e){this.turns=this.turns.filter(t=>!e.includes(t.turn_key.turn_id)),this.publishChatMessages()}async deleteMessages(e,t){(0,S.nC)("implementer must implement this")}async fetchInitialData(e,t,n,r,i){(0,S.nC)("implementer must implement this")}async fetchMessageHistory(e,t){(0,S.nC)("implementer must implement this")}appendTurn(e){if(-1===this.turns.findIndex(t=>t.turn_key.turn_id===e.turn_key.turn_id)){var t;(null===(t=e.candidates[0])||void 0===t?void 0:t.safety_truncated)&&this.onChatEventCallback(L.qN.filter,{turn:e}),this.turns=[e,...this.turns],this.publishChatMessages()}else(0,S.Jx)("duplicate turns detected during add turn")}updateTurn(e,t){let n=this.turns.findIndex(e=>e.turn_key.turn_id===t);n>-1?(this.turns[n]={...e,...this.turns[n]},this.publishChatMessages()):(0,S.Jx)("Couldn't find turn to update")}updateCandidate(e,t,n,r){var i;let o=this.turns.findIndex(e=>e.turn_key.turn_id===t),s=null!==(i=null==r?void 0:r.editedCandidate)&&void 0!==i?i:e.candidates[0];if(s.request_id=n,s.fresh=!0,o>-1&&s){let t=this.turns[o],n=s.candidate_id?t.candidates.findIndex(e=>e.candidate_id===s.candidate_id):-1;if(n>-1?t.candidates[n]=s:t.candidates.push(s),t.create_time=e.create_time,t.last_update_time=e.last_update_time,s.safety_truncated&&this.onChatEventCallback(L.qN.filter,{turn:t}),this.publishChatMessages(),null==r?void 0:r.editedCandidate){let r=n>-1?n:t.candidates.length-1;this.updatePrimaryCandidateMap(e.turn_key.turn_id,r),this.onChatEventCallback(L.qN.message_edited,{turnId:e.turn_key.turn_id,editedIndex:r})}}else(0,S.Jx)("Couldn't find turn to update")}refreshHistory(e){if(this.charData){var t;this.publishChatMessages(),this.fetchInitialData(null===(t=this.charData)||void 0===t?void 0:t.external_id,void 0,e)}}cleanup(){}sendChatMessage(e){throw Error("sendChatMessage must be implemented by extended class")}updatePrimaryCandidateMap(e,t){this.primaryCandidateMap[e]=t}setPrimaryCandidateOfTurn(e,t){}buildRequestId(){return(0,P.Z)().slice(0,24)+this.instanceID}setStatus(e){this.status!==L.HH.dead&&(this.status=e)}getStatus(){return this.status}setUser(e){this.user=e}constructor(e,t,n,r,i,o){this.wsRetryAttemps=0,this.instanceID=t.slice(-12),this.serviceType=e,this.onChatEventCallback=r,this.turns=[],this.external_id=t,this.history_external_id=i,this.subscriberCallbacks=[],this.user=n,this.status=L.HH.none,this.charData=o,this.has_more=!0,this.next_page=-1,this.primaryCandidateMap={}}}var U={exports:{}},F="object"==typeof Reflect?Reflect:null,V=F&&"function"==typeof F.apply?F.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};m=F&&"function"==typeof F.ownKeys?F.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var B=Number.isNaN||function(e){return e!=e};function z(){z.init.call(this)}U.exports=z,U.exports.once=function(e,t){return new Promise(function(n,r){var i;function o(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}X(e,t,s,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&X(e,"error",o,i))})},z.EventEmitter=z,z.prototype._events=void 0,z.prototype._eventsCount=0,z.prototype._maxListeners=void 0;var H=10;function q(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function K(e){return void 0===e._maxListeners?z.defaultMaxListeners:e._maxListeners}function G(e,t,n,r){if(q(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=K(e))>0&&s.length>i&&!s.warned){s.warned=!0;var i,o,s,a=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,console&&console.warn&&console.warn(a)}return e}function W(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function $(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=W.bind(r);return i.listener=n,r.wrapFn=i,i}function Z(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):Y(i,i.length)}function J(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function Y(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function X(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(z,"defaultMaxListeners",{enumerable:!0,get:function(){return H},set:function(e){if("number"!=typeof e||e<0||B(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");H=e}}),z.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},z.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||B(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},z.prototype.getMaxListeners=function(){return K(this)},z.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,s=Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)V(a,this,t);else for(var l=a.length,c=Y(a,l),n=0;n<l;++n)V(c[n],this,t);return!0},z.prototype.addListener=function(e,t){return G(this,e,t,!1)},z.prototype.on=z.prototype.addListener,z.prototype.prependListener=function(e,t){return G(this,e,t,!0)},z.prototype.once=function(e,t){return q(t),this.on(e,$(this,e,t)),this},z.prototype.prependOnceListener=function(e,t){return q(t),this.prependListener(e,$(this,e,t)),this},z.prototype.removeListener=function(e,t){var n,r,i,o,s;if(q(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},z.prototype.off=z.prototype.removeListener,z.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},z.prototype.listeners=function(e){return Z(this,e,!0)},z.prototype.rawListeners=function(e){return Z(this,e,!1)},z.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):J.call(e,t)},z.prototype.listenerCount=J,z.prototype.eventNames=function(){return this._eventsCount>0?m(this._events):[]};var Q=(s=U.exports)&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;function ee(e){return null!=e&&"function"==typeof e}function et(e,t,n){e>31&&(e=31);let r=Math.floor(Math.random()*(Math.min(n,t*Math.pow(2,e))-0+1)+0);return Math.min(n,t+r)}function en(e){return Math.min(1e3*e,2147483647)}(a=g||(g={}))[a.timeout=1]="timeout",a[a.transportClosed=2]="transportClosed",a[a.clientDisconnected=3]="clientDisconnected",a[a.clientClosed=4]="clientClosed",a[a.clientConnectToken=5]="clientConnectToken",a[a.clientRefreshToken=6]="clientRefreshToken",a[a.subscriptionUnsubscribed=7]="subscriptionUnsubscribed",a[a.subscriptionSubscribeToken=8]="subscriptionSubscribeToken",a[a.subscriptionRefreshToken=9]="subscriptionRefreshToken",a[a.transportWriteError=10]="transportWriteError",a[a.connectionClosed=11]="connectionClosed",a[a.badConfiguration=12]="badConfiguration",(l=v||(v={}))[l.connectCalled=0]="connectCalled",l[l.transportClosed=1]="transportClosed",l[l.noPing=2]="noPing",l[l.subscribeTimeout=3]="subscribeTimeout",l[l.unsubscribeError=4]="unsubscribeError",(c=y||(y={}))[c.disconnectCalled=0]="disconnectCalled",c[c.unauthorized=1]="unauthorized",c[c.badProtocol=2]="badProtocol",c[c.messageSizeLimit=3]="messageSizeLimit",(u=b||(b={}))[u.subscribeCalled=0]="subscribeCalled",u[u.transportClosed=1]="transportClosed",(d=w||(w={}))[d.unsubscribeCalled=0]="unsubscribeCalled",d[d.unauthorized=1]="unauthorized",d[d.clientClosed=2]="clientClosed",(h=_||(_={})).Disconnected="disconnected",h.Connecting="connecting",h.Connected="connected",(p=C||(C={})).Unsubscribed="unsubscribed",p.Subscribing="subscribing",p.Subscribed="subscribed";class er extends Q{constructor(e,t,n){super(),this._resubscribeTimeout=null,this._refreshTimeout=null,this.channel=t,this.state=C.Unsubscribed,this._centrifuge=e,this._token="",this._getToken=null,this._data=null,this._getData=null,this._recover=!1,this._offset=null,this._epoch=null,this._recoverable=!1,this._positioned=!1,this._joinLeave=!1,this._minResubscribeDelay=500,this._maxResubscribeDelay=2e4,this._resubscribeTimeout=null,this._resubscribeAttempts=0,this._promises={},this._promiseId=0,this._inflight=!1,this._refreshTimeout=null,this._setOptions(n),this._centrifuge._debugEnabled?(this.on("state",e=>{this._centrifuge._debug("subscription state",t,e.oldState,"->",e.newState)}),this.on("error",e=>{this._centrifuge._debug("subscription error",t,e)})):this.on("error",function(){Function.prototype()})}ready(e){return this.state===C.Unsubscribed?Promise.reject({code:g.subscriptionUnsubscribed,message:this.state}):this.state===C.Subscribed?Promise.resolve():new Promise((t,n)=>{let r={resolve:t,reject:n};e&&(r.timeout=setTimeout(function(){n({code:g.timeout,message:"timeout"})},e)),this._promises[this._nextPromiseId()]=r})}subscribe(){this._isSubscribed()||(this._resubscribeAttempts=0,this._setSubscribing(b.subscribeCalled,"subscribe called"))}unsubscribe(){this._setUnsubscribed(w.unsubscribeCalled,"unsubscribe called",!0)}publish(e){let t=this;return this._methodCall().then(function(){return t._centrifuge.publish(t.channel,e)})}presence(){let e=this;return this._methodCall().then(function(){return e._centrifuge.presence(e.channel)})}presenceStats(){let e=this;return this._methodCall().then(function(){return e._centrifuge.presenceStats(e.channel)})}history(e){let t=this;return this._methodCall().then(function(){return t._centrifuge.history(t.channel,e)})}_methodCall(){return this._isSubscribed()?Promise.resolve():this._isUnsubscribed()?Promise.reject({code:g.subscriptionUnsubscribed,message:this.state}):new Promise((e,t)=>{let n=setTimeout(function(){t({code:g.timeout,message:"timeout"})},this._centrifuge._config.timeout);this._promises[this._nextPromiseId()]={timeout:n,resolve:e,reject:t}})}_nextPromiseId(){return++this._promiseId}_needRecover(){return!0===this._recover}_isUnsubscribed(){return this.state===C.Unsubscribed}_isSubscribing(){return this.state===C.Subscribing}_isSubscribed(){return this.state===C.Subscribed}_setState(e){if(this.state!==e){let t=this.state;return this.state=e,this.emit("state",{newState:e,oldState:t,channel:this.channel}),!0}return!1}_usesToken(){return""!==this._token||null!==this._getToken}_clearSubscribingState(){this._resubscribeAttempts=0,this._clearResubscribeTimeout()}_clearSubscribedState(){this._clearRefreshTimeout()}_setSubscribed(e){if(!this._isSubscribing())return;this._clearSubscribingState(),e.recoverable&&(this._recover=!0,this._offset=e.offset||0,this._epoch=e.epoch||""),this._setState(C.Subscribed);let t=this._centrifuge._getSubscribeContext(this.channel,e);this.emit("subscribed",t),this._resolvePromises();let n=e.publications;if(n&&n.length>0)for(let e in n)n.hasOwnProperty(e)&&this._handlePublication(n[e]);!0===e.expires&&(this._refreshTimeout=setTimeout(()=>this._refresh(),en(e.ttl)))}_setSubscribing(e,t){this._isSubscribing()||(this._isSubscribed()&&this._clearSubscribedState(),this._setState(C.Subscribing)&&this.emit("subscribing",{channel:this.channel,code:e,reason:t}),this._subscribe(!1,!1))}_subscribe(e,t){if(this._centrifuge._debug("subscribing on",this.channel),this._centrifuge.state!==_.Connected&&!e)return this._centrifuge._debug("delay subscribe on",this.channel,"till connected"),null;let n=this,r={channel:n.channel};return!this._usesToken()||this._token?n._getData?(n._getData(r).then(function(e){n._isSubscribing()&&(n._data=e,n._sendSubscribe(n._token,!1))}),null):n._sendSubscribe(n._token,t):(e||this._getSubscriptionToken().then(function(e){if(n._isSubscribing()){if(!e){n._failUnauthorized();return}n._token=e,n._getData?n._getData(r).then(function(t){n._isSubscribing()&&(n._data=t,n._sendSubscribe(e,!1))}):n._sendSubscribe(e,!1)}}).catch(function(e){if(n._isSubscribing()){if(e instanceof eh){n._failUnauthorized();return}n.emit("error",{type:"subscribeToken",channel:n.channel,error:{code:g.subscriptionSubscribeToken,message:void 0!==e?e.toString():""}}),n._scheduleResubscribe()}}),null)}_sendSubscribe(e,t){let n={channel:this.channel};if(e&&(n.token=e),this._data&&(n.data=this._data),this._positioned&&(n.positioned=!0),this._recoverable&&(n.recoverable=!0),this._joinLeave&&(n.join_leave=!0),this._needRecover()){n.recover=!0;let e=this._getOffset();e&&(n.offset=e);let t=this._getEpoch();t&&(n.epoch=t)}let r={subscribe:n};return this._inflight=!0,this._centrifuge._call(r,t).then(e=>{this._inflight=!1;let t=e.reply.subscribe;this._handleSubscribeResponse(t),e.next&&e.next()},e=>{this._inflight=!1,this._handleSubscribeError(e.error),e.next&&e.next()}),r}_handleSubscribeError(e){if(this._isSubscribing()){if(e.code===g.timeout){this._centrifuge._disconnect(v.subscribeTimeout,"subscribe timeout",!0);return}this._subscribeError(e)}}_handleSubscribeResponse(e){this._isSubscribing()&&this._setSubscribed(e)}_setUnsubscribed(e,t,n){this._isUnsubscribed()||(this._isSubscribed()&&(n&&this._centrifuge._unsubscribe(this),this._clearSubscribedState()),this._isSubscribing()&&(this._inflight&&n&&this._centrifuge._unsubscribe(this),this._clearSubscribingState()),this._setState(C.Unsubscribed)&&this.emit("unsubscribed",{channel:this.channel,code:e,reason:t}),this._rejectPromises({code:g.subscriptionUnsubscribed,message:this.state}))}_handlePublication(e){let t=this._centrifuge._getPublicationContext(this.channel,e);this.emit("publication",t),e.offset&&(this._offset=e.offset)}_handleJoin(e){let t=this._centrifuge._getJoinLeaveContext(e.info);this.emit("join",{channel:this.channel,info:t})}_handleLeave(e){let t=this._centrifuge._getJoinLeaveContext(e.info);this.emit("leave",{channel:this.channel,info:t})}_resolvePromises(){for(let e in this._promises)this._promises.hasOwnProperty(e)&&(this._promises[e].timeout&&clearTimeout(this._promises[e].timeout),this._promises[e].resolve(),delete this._promises[e])}_rejectPromises(e){for(let t in this._promises)this._promises.hasOwnProperty(t)&&(this._promises[t].timeout&&clearTimeout(this._promises[t].timeout),this._promises[t].reject(e),delete this._promises[t])}_scheduleResubscribe(){let e=this,t=this._getResubscribeDelay();this._resubscribeTimeout=setTimeout(function(){e._isSubscribing()&&e._subscribe(!1,!1)},t)}_subscribeError(e){if(this._isSubscribing()){if(e.code<100||109===e.code||!0===e.temporary){109===e.code&&(this._token="");let t={channel:this.channel,type:"subscribe",error:e};this._centrifuge.state===_.Connected&&this.emit("error",t),this._scheduleResubscribe()}else this._setUnsubscribed(e.code,e.message,!1)}}_getResubscribeDelay(){let e=et(this._resubscribeAttempts,this._minResubscribeDelay,this._maxResubscribeDelay);return this._resubscribeAttempts++,e}_setOptions(e){e&&(e.since&&(this._offset=e.since.offset,this._epoch=e.since.epoch,this._recover=!0),e.data&&(this._data=e.data),e.getData&&(this._getData=e.getData),void 0!==e.minResubscribeDelay&&(this._minResubscribeDelay=e.minResubscribeDelay),void 0!==e.maxResubscribeDelay&&(this._maxResubscribeDelay=e.maxResubscribeDelay),e.token&&(this._token=e.token),e.getToken&&(this._getToken=e.getToken),!0===e.positioned&&(this._positioned=!0),!0===e.recoverable&&(this._recoverable=!0),!0===e.joinLeave&&(this._joinLeave=!0))}_getOffset(){let e=this._offset;return null!==e?e:0}_getEpoch(){let e=this._epoch;return null!==e?e:""}_clearRefreshTimeout(){null!==this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null)}_clearResubscribeTimeout(){null!==this._resubscribeTimeout&&(clearTimeout(this._resubscribeTimeout),this._resubscribeTimeout=null)}_getSubscriptionToken(){this._centrifuge._debug("get subscription token for channel",this.channel);let e={channel:this.channel},t=this._getToken;if(null===t)throw this.emit("error",{type:"configuration",channel:this.channel,error:{code:g.badConfiguration,message:"provide a function to get channel subscription token"}}),new eh("");return t(e)}_refresh(){this._clearRefreshTimeout();let e=this;this._getSubscriptionToken().then(function(t){if(!e._isSubscribed())return;if(!t){e._failUnauthorized();return}e._token=t;let n={channel:e.channel,token:t};e._centrifuge._call({sub_refresh:n}).then(t=>{let n=t.reply.sub_refresh;e._refreshResponse(n),t.next&&t.next()},t=>{e._refreshError(t.error),t.next&&t.next()})}).catch(function(t){if(t instanceof eh){e._failUnauthorized();return}e.emit("error",{type:"refreshToken",channel:e.channel,error:{code:g.subscriptionRefreshToken,message:void 0!==t?t.toString():""}}),e._refreshTimeout=setTimeout(()=>e._refresh(),e._getRefreshRetryDelay())})}_refreshResponse(e){this._isSubscribed()&&(this._centrifuge._debug("subscription token refreshed, channel",this.channel),this._clearRefreshTimeout(),!0===e.expires&&(this._refreshTimeout=setTimeout(()=>this._refresh(),en(e.ttl))))}_refreshError(e){this._isSubscribed()&&(e.code<100||!0===e.temporary?(this.emit("error",{type:"refresh",channel:this.channel,error:e}),this._refreshTimeout=setTimeout(()=>this._refresh(),this._getRefreshRetryDelay())):this._setUnsubscribed(e.code,e.message,!0))}_getRefreshRetryDelay(){return et(0,1e4,2e4)}_failUnauthorized(){this._setUnsubscribed(w.unauthorized,"unauthorized",!0)}}class ei{constructor(e,t){this.endpoint=e,this.options=t,this._transport=null}name(){return"sockjs"}subName(){return"sockjs-"+this._transport.transport}emulation(){return!1}supported(){return null!==this.options.sockjs}initialize(e,t){this._transport=new this.options.sockjs(this.endpoint,null,this.options.sockjsOptions),this._transport.onopen=()=>{t.onOpen()},this._transport.onerror=e=>{t.onError(e)},this._transport.onclose=e=>{t.onClose(e)},this._transport.onmessage=e=>{t.onMessage(e.data)}}close(){this._transport.close()}send(e){this._transport.send(e)}}class eo{constructor(e,t){this.endpoint=e,this.options=t,this._transport=null}name(){return"websocket"}subName(){return"websocket"}emulation(){return!1}supported(){return void 0!==this.options.websocket&&null!==this.options.websocket}initialize(e,t){let n="";"protobuf"===e&&(n="centrifuge-protobuf"),""!==n?this._transport=new this.options.websocket(this.endpoint,n):this._transport=new this.options.websocket(this.endpoint),"protobuf"===e&&(this._transport.binaryType="arraybuffer"),this._transport.onopen=()=>{t.onOpen()},this._transport.onerror=e=>{t.onError(e)},this._transport.onclose=e=>{t.onClose(e)},this._transport.onmessage=e=>{t.onMessage(e.data)}}close(){this._transport.close()}send(e){this._transport.send(e)}}class es{constructor(e,t){this.endpoint=e,this.options=t,this._abortController=null,this._utf8decoder=new TextDecoder,this._protocol="json"}name(){return"http_stream"}subName(){return"http_stream"}emulation(){return!0}_handleErrors(e){if(!e.ok)throw Error(e.status);return e}_fetchEventTarget(e,t,n){let r=new EventTarget;return(0,e.options.fetch)(t,n).then(e._handleErrors).then(t=>{r.dispatchEvent(new Event("open"));let n="",i=0,o=new Uint8Array,s=t.body.getReader();return new e.options.readableStream({start:t=>(function a(){return s.read().then(({done:s,value:l})=>{if(s){r.dispatchEvent(new Event("close")),t.close();return}try{if("json"===e._protocol)for(n+=e._utf8decoder.decode(l);i<n.length;)if("\n"===n[i]){let e=n.substring(0,i);r.dispatchEvent(new MessageEvent("message",{data:e})),n=n.substring(i+1),i=0}else++i;else{let t=new Uint8Array(o.length+l.length);for(t.set(o),t.set(l,o.length),o=t;;){let t=e.options.decoder.decodeReply(o);if(t.ok){let e=o.slice(0,t.pos);r.dispatchEvent(new MessageEvent("message",{data:e})),o=o.slice(t.pos);continue}break}}}catch(e){r.dispatchEvent(new Event("error",{detail:e})),r.dispatchEvent(new Event("close")),t.close();return}a()}).catch(function(e){r.dispatchEvent(new Event("error",{detail:e})),r.dispatchEvent(new Event("close")),t.close()})})()})}).catch(e=>{r.dispatchEvent(new Event("error",{detail:e})),r.dispatchEvent(new Event("close"))}),r}supported(){return null!==this.options.fetch&&null!==this.options.readableStream&&"undefined"!=typeof TextDecoder&&"undefined"!=typeof AbortController&&"undefined"!=typeof EventTarget&&"undefined"!=typeof Event&&"undefined"!=typeof MessageEvent&&"undefined"!=typeof Error}initialize(e,t,n){this._protocol=e,this._abortController=new AbortController;let r={method:"POST",headers:"json"===e?{Accept:"application/json","Content-Type":"application/json"}:{Accept:"application/octet-stream","Content-Type":"application/octet-stream"},body:n,mode:"cors",credentials:"same-origin",cache:"no-cache",signal:this._abortController.signal},i=this._fetchEventTarget(this,this.endpoint,r);i.addEventListener("open",()=>{t.onOpen()}),i.addEventListener("error",e=>{this._abortController.abort(),t.onError(e)}),i.addEventListener("close",()=>{this._abortController.abort(),t.onClose({code:4,reason:"connection closed"})}),i.addEventListener("message",e=>{t.onMessage(e.data)})}close(){this._abortController.abort()}send(e,t,n){let r,i;let o={session:t,node:n,data:e};"json"===this._protocol?(r={"Content-Type":"application/json"},i=JSON.stringify(o)):(r={"Content-Type":"application/octet-stream"},i=this.options.encoder.encodeEmulationRequest(o));let s=this.options.fetch,a={method:"POST",headers:r,body:i,mode:"cors",credentials:"same-origin",cache:"no-cache"};s(this.options.emulationEndpoint,a)}}class ea{constructor(e,t){this.endpoint=e,this.options=t,this._protocol="json",this._transport=null,this._onClose=null}name(){return"sse"}subName(){return"sse"}emulation(){return!0}supported(){return null!==this.options.eventsource&&null!==this.options.fetch}initialize(e,t,n){let r;(r=globalThis&&globalThis.document&&globalThis.document.baseURI?new URL(this.endpoint,globalThis.document.baseURI):new URL(this.endpoint)).searchParams.append("cf_connect",n);let i=new this.options.eventsource(r.toString(),{});this._transport=i,i.onopen=function(){t.onOpen()},i.onerror=function(e){i.close(),t.onError(e),t.onClose({code:4,reason:"connection closed"})},i.onmessage=function(e){t.onMessage(e.data)},this._onClose=function(){t.onClose({code:4,reason:"connection closed"})}}close(){this._transport.close(),null!==this._onClose&&this._onClose()}send(e,t,n){let r=JSON.stringify({session:t,node:n,data:e});(0,this.options.fetch)(this.options.emulationEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:r,mode:"cors",credentials:"same-origin",cache:"no-cache"})}}function el(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;class ec{constructor(e,t){this.endpoint=e,this.options=t,this._transport=null,this._stream=null,this._writer=null,this._utf8decoder=new TextDecoder,this._protocol="json"}name(){return"webtransport"}subName(){return"webtransport"}emulation(){return!1}supported(){return void 0!==this.options.webtransport&&null!==this.options.webtransport}initialize(e,t){return el(this,void 0,void 0,function*(){let n,r;n=globalThis&&globalThis.document&&globalThis.document.baseURI?new URL(this.endpoint,globalThis.document.baseURI):new URL(this.endpoint),"protobuf"===e&&n.searchParams.append("cf_protocol","protobuf"),this._protocol=e;let i=new EventTarget;this._transport=new this.options.webtransport(n.toString()),this._transport.closed.then(()=>{t.onClose({code:4,reason:"connection closed"})}).catch(()=>{t.onClose({code:4,reason:"connection closed"})});try{yield this._transport.ready}catch(e){this.close();return}try{r=yield this._transport.createBidirectionalStream()}catch(e){this.close();return}this._stream=r,this._writer=this._stream.writable.getWriter(),i.addEventListener("close",()=>{t.onClose({code:4,reason:"connection closed"})}),i.addEventListener("message",e=>{t.onMessage(e.data)}),this._startReading(i),t.onOpen()})}_startReading(e){return el(this,void 0,void 0,function*(){let t=this._stream.readable.getReader(),n="",r=0,i=new Uint8Array;try{for(;;){let{done:o,value:s}=yield t.read();if(s.length>0){if("json"===this._protocol)for(n+=this._utf8decoder.decode(s);r<n.length;)if("\n"===n[r]){let t=n.substring(0,r);e.dispatchEvent(new MessageEvent("message",{data:t})),n=n.substring(r+1),r=0}else++r;else{let t=new Uint8Array(i.length+s.length);for(t.set(i),t.set(s,i.length),i=t;;){let t=this.options.decoder.decodeReply(i);if(t.ok){let n=i.slice(0,t.pos);e.dispatchEvent(new MessageEvent("message",{data:n})),i=i.slice(t.pos);continue}break}}}if(o)break}}catch(t){e.dispatchEvent(new Event("close"))}})}close(){return el(this,void 0,void 0,function*(){try{this._writer&&(yield this._writer.close()),this._transport.close()}catch(e){}})}send(e){return el(this,void 0,void 0,function*(){let t;t="json"===this._protocol?new TextEncoder().encode(e+"\n"):e;try{yield this._writer.write(t)}catch(e){this.close()}})}}class eu{name(){return"json"}encodeCommands(e){return e.map(e=>JSON.stringify(e)).join("\n")}decodeReplies(e){return e.trim().split("\n").map(e=>JSON.parse(e))}}let ed={token:"",getToken:null,data:null,getData:null,debug:!1,name:"js",version:"",fetch:null,readableStream:null,websocket:null,eventsource:null,sockjs:null,sockjsOptions:{},emulationEndpoint:"/emulation",minReconnectDelay:500,maxReconnectDelay:2e4,timeout:5e3,maxServerPingDelay:1e4,networkEventTarget:null};class eh extends Error{constructor(e){super(e),this.name=this.constructor.name}}class ep extends Q{constructor(e,t){super(),this._reconnectTimeout=null,this._refreshTimeout=null,this._serverPingTimeout=null,this.state=_.Disconnected,this._endpoint=e,this._emulation=!1,this._transports=[],this._currentTransportIndex=0,this._triedAllTransports=!1,this._transportWasOpen=!1,this._transport=null,this._transportId=0,this._deviceWentOffline=!1,this._transportClosed=!0,this._codec=new eu,this._reconnecting=!1,this._reconnectTimeout=null,this._reconnectAttempts=0,this._client=null,this._session="",this._node="",this._subs={},this._serverSubs={},this._commandId=0,this._commands=[],this._batching=!1,this._refreshRequired=!1,this._refreshTimeout=null,this._callbacks={},this._token="",this._data=null,this._dispatchPromise=Promise.resolve(),this._serverPing=0,this._serverPingTimeout=null,this._sendPong=!1,this._promises={},this._promiseId=0,this._debugEnabled=!1,this._networkEventsSet=!1,this._config=Object.assign(Object.assign({},ed),t),this._configure(),this._debugEnabled?(this.on("state",e=>{this._debug("client state",e.oldState,"->",e.newState)}),this.on("error",e=>{this._debug("client error",e)})):this.on("error",function(){Function.prototype()})}newSubscription(e,t){if(null!==this.getSubscription(e))throw Error("Subscription to the channel "+e+" already exists");let n=new er(this,e,t);return this._subs[e]=n,n}getSubscription(e){return this._getSub(e)}removeSubscription(e){e&&(e.state!==C.Unsubscribed&&e.unsubscribe(),this._removeSubscription(e))}subscriptions(){return this._subs}ready(e){return this.state===_.Disconnected?Promise.reject({code:g.clientDisconnected,message:"client disconnected"}):this.state===_.Connected?Promise.resolve():new Promise((t,n)=>{let r={resolve:t,reject:n};e&&(r.timeout=setTimeout(function(){n({code:g.timeout,message:"timeout"})},e)),this._promises[this._nextPromiseId()]=r})}connect(){if(this._isConnected()){this._debug("connect called when already connected");return}if(this._isConnecting()){this._debug("connect called when already connecting");return}this._debug("connect called"),this._reconnectAttempts=0,this._startConnecting()}disconnect(){this._disconnect(y.disconnectCalled,"disconnect called",!1)}setToken(e){this._token=e}send(e){let t={send:{data:e}},n=this;return this._methodCall().then(function(){return n._transportSendCommands([t])?Promise.resolve():Promise.reject(n._createErrorObject(g.transportWriteError,"transport write error"))})}rpc(e,t){let n={rpc:{method:e,data:t}},r=this;return this._methodCall().then(function(){return r._callPromise(n,function(e){return{data:e.rpc.data}})})}publish(e,t){let n={publish:{channel:e,data:t}},r=this;return this._methodCall().then(function(){return r._callPromise(n,function(){return{}})})}history(e,t){let n={history:this._getHistoryRequest(e,t)},r=this;return this._methodCall().then(function(){return r._callPromise(n,function(t){let n=t.history,i=[];if(n.publications)for(let t=0;t<n.publications.length;t++)i.push(r._getPublicationContext(e,n.publications[t]));return{publications:i,epoch:n.epoch||"",offset:n.offset||0}})})}presence(e){let t={presence:{channel:e}},n=this;return this._methodCall().then(function(){return n._callPromise(t,function(e){let t=e.presence.presence;for(let e in t)if(t.hasOwnProperty(e)){let n=t[e].conn_info,r=t[e].chan_info;n&&(t[e].connInfo=n),r&&(t[e].chanInfo=r)}return{clients:t}})})}presenceStats(e){let t={presence_stats:{channel:e}},n=this;return this._methodCall().then(function(){return n._callPromise(t,function(e){let t=e.presence_stats;return{numUsers:t.num_users,numClients:t.num_clients}})})}startBatching(){this._batching=!0}stopBatching(){let e=this;Promise.resolve().then(function(){Promise.resolve().then(function(){e._batching=!1,e._flush()})})}_debug(...e){this._debugEnabled&&function(e,t){if(globalThis.console){let n=globalThis.console[e];ee(n)&&n.apply(globalThis.console,t)}}("debug",e)}_formatOverride(){}_configure(){if(!("Promise"in globalThis))throw Error("Promise polyfill required");if(!this._endpoint)throw Error("endpoint configuration required");if(null!==this._config.token&&(this._token=this._config.token),null!==this._config.data&&(this._data=this._config.data),this._codec=new eu,this._formatOverride(),(!0===this._config.debug||"undefined"!=typeof localStorage&&localStorage.getItem("centrifuge.debug"))&&(this._debugEnabled=!0),this._debug("config",this._config),"string"==typeof this._endpoint);else if("object"==typeof this._endpoint&&this._endpoint instanceof Array){for(let e in this._transports=this._endpoint,this._emulation=!0,this._transports)if(this._transports.hasOwnProperty(e)){let t=this._transports[e];if(!t.endpoint||!t.transport)throw Error("malformed transport configuration");let n=t.transport;if(0>["websocket","http_stream","sse","sockjs","webtransport"].indexOf(n))throw Error("unsupported transport name: "+n)}}else throw Error("unsupported url configuration type: only string or array of objects are supported")}_setState(e){if(this.state!==e){this._reconnecting=!1;let t=this.state;return this.state=e,this.emit("state",{newState:e,oldState:t}),!0}return!1}_isDisconnected(){return this.state===_.Disconnected}_isConnecting(){return this.state===_.Connecting}_isConnected(){return this.state===_.Connected}_nextCommandId(){return++this._commandId}_setNetworkEvents(){if(this._networkEventsSet)return;let e=null;null!==this._config.networkEventTarget?e=this._config.networkEventTarget:void 0!==globalThis.addEventListener&&(e=globalThis),e&&(e.addEventListener("offline",()=>{this._debug("offline event triggered"),(this.state===_.Connected||this.state===_.Connecting)&&(this._disconnect(v.transportClosed,"transport closed",!0),this._deviceWentOffline=!0)}),e.addEventListener("online",()=>{this._debug("online event triggered"),this.state===_.Connecting&&(this._deviceWentOffline&&!this._transportClosed&&(this._deviceWentOffline=!1,this._transportClosed=!0),this._clearReconnectTimeout(),this._startReconnecting())}),this._networkEventsSet=!0)}_getReconnectDelay(){let e=et(this._reconnectAttempts,this._config.minReconnectDelay,this._config.maxReconnectDelay);return this._reconnectAttempts+=1,e}_clearOutgoingRequests(){for(let e in this._callbacks)if(this._callbacks.hasOwnProperty(e)){let t=this._callbacks[e];clearTimeout(t.timeout);let n=t.errback;if(!n)continue;n({error:this._createErrorObject(g.connectionClosed,"connection closed")})}this._callbacks={}}_clearConnectedState(){for(let e in this._client=null,this._clearServerPingTimeout(),this._clearRefreshTimeout(),this._subs){if(!this._subs.hasOwnProperty(e))continue;let t=this._subs[e];t.state===C.Subscribed&&t._setSubscribing(b.transportClosed,"transport closed")}for(let e in this._serverSubs)this._serverSubs.hasOwnProperty(e)&&this.emit("subscribing",{channel:e})}_handleWriteError(e){for(let t of e){let e=t.id;if(!(e in this._callbacks))continue;let n=this._callbacks[e];clearTimeout(this._callbacks[e].timeout),delete this._callbacks[e],(0,n.errback)({error:this._createErrorObject(g.transportWriteError,"transport write error")})}}_transportSendCommands(e){if(!e.length)return!0;if(!this._transport)return!1;try{this._transport.send(this._codec.encodeCommands(e),this._session,this._node)}catch(t){return this._debug("error writing commands",t),this._handleWriteError(e),!1}return!0}_initializeTransport(){let e,t;null!==this._config.websocket?e=this._config.websocket:"function"!=typeof globalThis.WebSocket&&"object"!=typeof globalThis.WebSocket||(e=globalThis.WebSocket);let n=null;null!==this._config.sockjs?n=this._config.sockjs:void 0!==globalThis.SockJS&&(n=globalThis.SockJS);let r=null;null!==this._config.eventsource?r=this._config.eventsource:void 0!==globalThis.EventSource&&(r=globalThis.EventSource);let i=null;null!==this._config.fetch?i=this._config.fetch:void 0!==globalThis.fetch&&(i=globalThis.fetch);let o=null;if(null!==this._config.readableStream?o=this._config.readableStream:void 0!==globalThis.ReadableStream&&(o=globalThis.ReadableStream),this._emulation){this._currentTransportIndex>=this._transports.length&&(this._triedAllTransports=!0,this._currentTransportIndex=0);let t=0;for(;;){if(t>=this._transports.length)throw Error("no supported transport found");let s=this._transports[this._currentTransportIndex],a=s.transport,l=s.endpoint;if("websocket"===a){if(this._debug("trying websocket transport"),this._transport=new eo(l,{websocket:e}),!this._transport.supported()){this._debug("websocket transport not available"),this._currentTransportIndex++,t++;continue}}else if("webtransport"===a){if(this._debug("trying webtransport transport"),this._transport=new ec(l,{webtransport:globalThis.WebTransport,decoder:this._codec,encoder:this._codec}),!this._transport.supported()){this._debug("webtransport transport not available"),this._currentTransportIndex++,t++;continue}}else if("http_stream"===a){if(this._debug("trying http_stream transport"),this._transport=new es(l,{fetch:i,readableStream:o,emulationEndpoint:this._config.emulationEndpoint,decoder:this._codec,encoder:this._codec}),!this._transport.supported()){this._debug("http_stream transport not available"),this._currentTransportIndex++,t++;continue}}else if("sse"===a){if(this._debug("trying sse transport"),this._transport=new ea(l,{eventsource:r,fetch:i,emulationEndpoint:this._config.emulationEndpoint}),!this._transport.supported()){this._debug("sse transport not available"),this._currentTransportIndex++,t++;continue}}else if("sockjs"===a){if(this._debug("trying sockjs"),this._transport=new ei(l,{sockjs:n,sockjsOptions:this._config.sockjsOptions}),!this._transport.supported()){this._debug("sockjs transport not available"),this._currentTransportIndex++,t++;continue}}else throw Error("unknown transport "+a);break}}else{var s,a;if(s=this._endpoint,a="http",0===s.lastIndexOf(a,0))throw Error("Provide explicit transport endpoints configuration in case of using HTTP (i.e. using array of TransportEndpoint instead of a single string), or use ws(s):// scheme in an endpoint if you aimed using WebSocket transport");if(this._debug("client will use websocket"),this._transport=new eo(this._endpoint,{websocket:e}),!this._transport.supported())throw Error("WebSocket not available")}let l=this,c=this._transport,u=this._nextTransportId();l._debug("id of transport",u);let d=!1,h=!0;"sse"===this._transport.name()&&(h=!1);let p=[];if(this._transport.emulation()){let e=l._sendConnect(!0);if(p.push(e),h){let e=l._sendSubscribeCommands(!0,!0);for(let t in e)e.hasOwnProperty(t)&&p.push(e[t])}}this._setNetworkEvents();let f=this._codec.encodeCommands(p);this._transportClosed=!1,t=setTimeout(function(){c.close()},this._config.timeout),this._transport.initialize(this._codec.name(),{onOpen:function(){if(t&&(clearTimeout(t),t=null),l._transportId!=u){l._debug("open callback from non-actual transport"),c.close();return}d=!0,l._debug(c.subName(),"transport open"),l._transportWasOpen=!0,c.emulation()||(l.startBatching(),l._sendConnect(!1),h&&l._sendSubscribeCommands(!0,!1),l.stopBatching())},onError:function(e){if(l._transportId!=u){l._debug("error callback from non-actual transport");return}l._debug("transport level error",e)},onClose:function(e){if(t&&(clearTimeout(t),t=null),l._transportId!=u){l._debug("close callback from non-actual transport");return}l._debug(c.subName(),"transport closed"),l._transportClosed=!0;let n="connection closed",r=!0,i=0;if(e&&"code"in e&&e.code&&(i=e.code),e&&e.reason)try{let t=JSON.parse(e.reason);n=t.reason,r=t.reconnect}catch(t){n=e.reason,(i>=3500&&i<4e3||i>=4500&&i<5e3)&&(r=!1)}i<3e3?(1009===i?(i=y.messageSizeLimit,n="message size limit exceeded",r=!1):(i=v.transportClosed,n="transport closed"),l._emulation&&!l._transportWasOpen&&(l._currentTransportIndex++,l._currentTransportIndex>=l._transports.length&&(l._triedAllTransports=!0,l._currentTransportIndex=0))):l._transportWasOpen=!0,l._isConnecting()&&!d&&l.emit("error",{type:"transport",error:{code:g.transportClosed,message:"transport closed"},transport:c.name()}),l._reconnecting=!1,l._disconnect(i,n,r)},onMessage:function(e){l._dataReceived(e)}},f)}_sendConnect(e){let t=this._constructConnectCommand(),n=this;return this._call(t,e).then(e=>{let t=e.reply.connect;n._connectResponse(t),e.next&&e.next()},e=>{n._connectError(e.error),e.next&&e.next()}),t}_startReconnecting(){if(this._debug("start reconnecting"),!this._isConnecting()){this._debug("stop reconnecting: client not in connecting state");return}if(this._reconnecting){this._debug("reconnect already in progress, return from reconnect routine");return}if(!1===this._transportClosed){this._debug("waiting for transport close");return}this._reconnecting=!0;let e=this,t=""===this._token;if(!(this._refreshRequired||t&&null!==this._config.getToken)){this._config.getData?this._config.getData().then(function(t){e._isConnecting()&&(e._data=t,e._initializeTransport())}):this._initializeTransport();return}this._getToken().then(function(t){if(e._isConnecting()){if(null==t||void 0==t){e._failUnauthorized();return}e._token=t,e._debug("connection token refreshed"),e._config.getData?e._config.getData().then(function(t){e._isConnecting()&&(e._data=t,e._initializeTransport())}):e._initializeTransport()}}).catch(function(t){if(!e._isConnecting())return;if(t instanceof eh){e._failUnauthorized();return}e.emit("error",{type:"connectToken",error:{code:g.clientConnectToken,message:void 0!==t?t.toString():""}});let n=e._getReconnectDelay();e._debug("error on connection token refresh, reconnect after "+n+" milliseconds",t),e._reconnecting=!1,e._reconnectTimeout=setTimeout(()=>{e._startReconnecting()},n)})}_connectError(e){this.state===_.Connecting&&(109===e.code&&(this._refreshRequired=!0),e.code<100||!0===e.temporary||109===e.code?(this.emit("error",{type:"connect",error:e}),this._debug("closing transport due to connect error"),this._reconnecting=!1,this._disconnect(e.code,e.message,!0)):this._disconnect(e.code,e.message,!1))}_scheduleReconnect(){if(!this._isConnecting())return;let e=!1;!this._emulation||this._transportWasOpen||this._triedAllTransports||(e=!0);let t=this._getReconnectDelay();e&&(t=0),this._debug("reconnect after "+t+" milliseconds"),this._reconnectTimeout=setTimeout(()=>{this._startReconnecting()},t)}_constructConnectCommand(){let e={};this._token&&(e.token=this._token),this._data&&(e.data=this._data),this._config.name&&(e.name=this._config.name),this._config.version&&(e.version=this._config.version);let t={},n=!1;for(let e in this._serverSubs)if(this._serverSubs.hasOwnProperty(e)&&this._serverSubs[e].recoverable){n=!0;let r={recover:!0};this._serverSubs[e].offset&&(r.offset=this._serverSubs[e].offset),this._serverSubs[e].epoch&&(r.epoch=this._serverSubs[e].epoch),t[e]=r}return n&&(e.subs=t),{connect:e}}_getHistoryRequest(e,t){let n={channel:e};return void 0!==t&&(t.since&&(n.since={offset:t.since.offset},t.since.epoch&&(n.since.epoch=t.since.epoch)),void 0!==t.limit&&(n.limit=t.limit),!0===t.reverse&&(n.reverse=!0)),n}_methodCall(){return this._isConnected()?Promise.resolve():new Promise((e,t)=>{let n=setTimeout(function(){t({code:g.timeout,message:"timeout"})},this._config.timeout);this._promises[this._nextPromiseId()]={timeout:n,resolve:e,reject:t}})}_callPromise(e,t){return new Promise((n,r)=>{this._call(e,!1).then(e=>{n(t(e.reply)),e.next&&e.next()},e=>{r(e.error),e.next&&e.next()})})}_dataReceived(e){this._serverPing>0&&this._waitServerPing();let t=this._codec.decodeReplies(e);this._dispatchPromise=this._dispatchPromise.then(()=>{let e;this._dispatchPromise=new Promise(t=>{e=t}),this._dispatchSynchronized(t,e)})}_dispatchSynchronized(e,t){let n=Promise.resolve();for(let t in e)e.hasOwnProperty(t)&&(n=n.then(()=>this._dispatchReply(e[t])));n.then(()=>{t()})}_dispatchReply(e){let t;let n=new Promise(e=>{t=e});if(null==e)return this._debug("dispatch: got undefined or null reply"),t(),n;let r=e.id;return r&&r>0?this._handleReply(e,t):e.push?this._handlePush(e.push,t):this._handleServerPing(t),n}_call(e,t){return new Promise((n,r)=>{e.id=this._nextCommandId(),this._registerCall(e.id,n,r),t||this._addCommand(e)})}_startConnecting(){this._debug("start connecting"),this._setState(_.Connecting)&&this.emit("connecting",{code:v.connectCalled,reason:"connect called"}),this._client=null,this._startReconnecting()}_disconnect(e,t,n){if(this._isDisconnected())return;let r=this.state,i={code:e,reason:t},o=!1;if(n?o=this._setState(_.Connecting):(o=this._setState(_.Disconnected),this._rejectPromises({code:g.clientDisconnected,message:"disconnected"})),this._clearOutgoingRequests(),r===_.Connecting&&this._clearReconnectTimeout(),r===_.Connected&&this._clearConnectedState(),o&&(this._isConnecting()?this.emit("connecting",i):this.emit("disconnected",i)),this._transport){this._debug("closing existing transport");let e=this._transport;this._transport=null,e.close(),this._transportClosed=!0,this._nextTransportId()}else this._debug("no transport to close");this._scheduleReconnect()}_failUnauthorized(){this._disconnect(y.unauthorized,"unauthorized",!1)}_getToken(){if(this._debug("get connection token"),!this._config.getToken)throw this.emit("error",{type:"configuration",error:{code:g.badConfiguration,message:"token expired but no getToken function set in the configuration"}}),new eh("");return this._config.getToken({})}_refresh(){let e=this._client,t=this;this._getToken().then(function(n){if(e!==t._client)return;if(!n){t._failUnauthorized();return}if(t._token=n,t._debug("connection token refreshed"),!t._isConnected())return;let r={refresh:{token:t._token}};t._call(r,!1).then(e=>{let n=e.reply.refresh;t._refreshResponse(n),e.next&&e.next()},e=>{t._refreshError(e.error),e.next&&e.next()})}).catch(function(e){if(t._isConnected()){if(e instanceof eh){t._failUnauthorized();return}t.emit("error",{type:"refreshToken",error:{code:g.clientRefreshToken,message:void 0!==e?e.toString():""}}),t._refreshTimeout=setTimeout(()=>t._refresh(),t._getRefreshRetryDelay())}})}_refreshError(e){e.code<100||!0===e.temporary?(this.emit("error",{type:"refresh",error:e}),this._refreshTimeout=setTimeout(()=>this._refresh(),this._getRefreshRetryDelay())):this._disconnect(e.code,e.message,!1)}_getRefreshRetryDelay(){return et(0,5e3,1e4)}_refreshResponse(e){this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null),e.expires&&(this._client=e.client,this._refreshTimeout=setTimeout(()=>this._refresh(),en(e.ttl)))}_removeSubscription(e){null!==e&&delete this._subs[e.channel]}_unsubscribe(e){if(!this._isConnected())return;let t={channel:e.channel},n=this;this._call({unsubscribe:t},!1).then(e=>{e.next&&e.next()},e=>{e.next&&e.next(),n._disconnect(v.unsubscribeError,"unsubscribe error",!0)})}_getSub(e){return this._subs[e]||null}_isServerSub(e){return void 0!==this._serverSubs[e]}_sendSubscribeCommands(e,t){let n=[];for(let r in this._subs){if(!this._subs.hasOwnProperty(r))continue;let i=this._subs[r];if(!0!==i._inflight&&i.state===C.Subscribing){let r=i._subscribe(e,t);r&&n.push(r)}}return n}_connectResponse(e){if(this._transportWasOpen=!0,this._reconnectAttempts=0,this._refreshRequired=!1,this._isConnected())return;this._client=e.client,this._setState(_.Connected),this._refreshTimeout&&clearTimeout(this._refreshTimeout),e.expires&&(this._refreshTimeout=setTimeout(()=>this._refresh(),en(e.ttl))),this._session=e.session,this._node=e.node,this.startBatching(),this._sendSubscribeCommands(!1,!1),this.stopBatching();let t={client:e.client,transport:this._transport.subName()};e.data&&(t.data=e.data),this.emit("connected",t),this._resolvePromises(),this._processServerSubs(e.subs||{}),e.ping&&e.ping>0?(this._serverPing=1e3*e.ping,this._sendPong=!0===e.pong,this._waitServerPing()):this._serverPing=0}_processServerSubs(e){for(let t in e){if(!e.hasOwnProperty(t))continue;let n=e[t];this._serverSubs[t]={offset:n.offset,epoch:n.epoch,recoverable:n.recoverable||!1};let r=this._getSubscribeContext(t,n);this.emit("subscribed",r)}for(let t in e){if(!e.hasOwnProperty(t))continue;let n=e[t];if(n.recovered){let e=n.publications;if(e&&e.length>0)for(let n in e)e.hasOwnProperty(n)&&this._handlePublication(t,e[n])}}for(let t in this._serverSubs)this._serverSubs.hasOwnProperty(t)&&(e[t]||(this.emit("unsubscribed",{channel:t}),delete this._serverSubs[t]))}_clearRefreshTimeout(){null!==this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null)}_clearReconnectTimeout(){null!==this._reconnectTimeout&&(clearTimeout(this._reconnectTimeout),this._reconnectTimeout=null)}_clearServerPingTimeout(){null!==this._serverPingTimeout&&(clearTimeout(this._serverPingTimeout),this._serverPingTimeout=null)}_waitServerPing(){0!==this._config.maxServerPingDelay&&this._isConnected()&&(this._clearServerPingTimeout(),this._serverPingTimeout=setTimeout(()=>{this._isConnected()&&this._disconnect(v.noPing,"no ping",!0)},this._serverPing+this._config.maxServerPingDelay))}_getSubscribeContext(e,t){let n={channel:e,positioned:!1,recoverable:!1,wasRecovering:!1,recovered:!1};t.recovered&&(n.recovered=!0),t.positioned&&(n.positioned=!0),t.recoverable&&(n.recoverable=!0),t.was_recovering&&(n.wasRecovering=!0);let r="";"epoch"in t&&(r=t.epoch);let i=0;return"offset"in t&&(i=t.offset),(n.positioned||n.recoverable)&&(n.streamPosition={offset:i,epoch:r}),t.data&&(n.data=t.data),n}_handleReply(e,t){let n=e.id;if(!(n in this._callbacks)){t();return}let r=this._callbacks[n];if(clearTimeout(this._callbacks[n].timeout),delete this._callbacks[n],"error"in e&&null!==e.error){let n=r.errback;if(!n){t();return}n({error:e.error,next:t})}else{let n=r.callback;if(!n)return;n({reply:e,next:t})}}_handleJoin(e,t){let n=this._getSub(e);if(!n){if(this._isServerSub(e)){let n={channel:e,info:this._getJoinLeaveContext(t.info)};this.emit("join",n)}return}n._handleJoin(t)}_handleLeave(e,t){let n=this._getSub(e);if(!n){if(this._isServerSub(e)){let n={channel:e,info:this._getJoinLeaveContext(t.info)};this.emit("leave",n)}return}n._handleLeave(t)}_handleUnsubscribe(e,t){let n=this._getSub(e);if(!n){this._isServerSub(e)&&(delete this._serverSubs[e],this.emit("unsubscribed",{channel:e}));return}t.code<2500?n._setUnsubscribed(t.code,t.reason,!1):n._setSubscribing(t.code,t.reason)}_handleSubscribe(e,t){this._serverSubs[e]={offset:t.offset,epoch:t.epoch,recoverable:t.recoverable||!1},this.emit("subscribed",this._getSubscribeContext(e,t))}_handleDisconnect(e){let t=e.code,n=!0;(t>=3500&&t<4e3||t>=4500&&t<5e3)&&(n=!1),this._disconnect(t,e.reason,n)}_getPublicationContext(e,t){let n={channel:e,data:t.data};return t.offset&&(n.offset=t.offset),t.info&&(n.info=this._getJoinLeaveContext(t.info)),t.tags&&(n.tags=t.tags),n}_getJoinLeaveContext(e){let t={client:e.client,user:e.user};return e.conn_info&&(t.connInfo=e.conn_info),e.chan_info&&(t.chanInfo=e.chan_info),t}_handlePublication(e,t){let n=this._getSub(e);if(!n){if(this._isServerSub(e)){let n=this._getPublicationContext(e,t);this.emit("publication",n),void 0!==t.offset&&(this._serverSubs[e].offset=t.offset)}return}n._handlePublication(t)}_handleMessage(e){this.emit("message",{data:e.data})}_handleServerPing(e){this._sendPong&&this._transportSendCommands([{}]),e()}_handlePush(e,t){let n=e.channel;e.pub?this._handlePublication(n,e.pub):e.message?this._handleMessage(e.message):e.join?this._handleJoin(n,e.join):e.leave?this._handleLeave(n,e.leave):e.unsubscribe?this._handleUnsubscribe(n,e.unsubscribe):e.subscribe?this._handleSubscribe(n,e.subscribe):e.disconnect&&this._handleDisconnect(e.disconnect),t()}_flush(){let e=this._commands.slice(0);this._commands=[],this._transportSendCommands(e)}_createErrorObject(e,t,n){let r={code:e,message:t};return n&&(r.temporary=!0),r}_registerCall(e,t,n){this._callbacks[e]={callback:t,errback:n,timeout:null},this._callbacks[e].timeout=setTimeout(()=>{delete this._callbacks[e],ee(n)&&n({error:this._createErrorObject(g.timeout,"timeout")})},this._config.timeout)}_addCommand(e){this._batching?this._commands.push(e):this._transportSendCommands([e])}_nextPromiseId(){return++this._promiseId}_nextTransportId(){return++this._transportId}_resolvePromises(){for(let e in this._promises)this._promises.hasOwnProperty(e)&&(this._promises[e].timeout&&clearTimeout(this._promises[e].timeout),this._promises[e].resolve(),delete this._promises[e])}_rejectPromises(e){for(let t in this._promises)this._promises.hasOwnProperty(t)&&(this._promises[t].timeout&&clearTimeout(this._promises[t].timeout),this._promises[t].reject(e),delete this._promises[t])}}ep.SubscriptionState=C,ep.State=_,ep.UnauthorizedError=eh;var ef=n(79937);class em{async authenticate(){if("unauthenticated"===this.authState)try{this.authState="authenticating",await (0,ef.m)().ping(),this.authState="authenticated"}catch(e){S.$G.logError("Failed to authenticate websocket",{error:e}),this.authState="unauthenticated"}}disconnectWebsocket(){}checkAuthentication(e){let{message:t,code:n}=e;(403===n||401===n||(null==t?void 0:t.includes("403"))||(null==t?void 0:t.includes("401"))||(null==t?void 0:t.toLowerCase().includes("unauthorized")))&&(this.authState="unauthenticated")}restartTTLTimer(){clearTimeout(this.ttlTimer);let e=(0,T.cD)();e>0&&(this.ttlTimer=setTimeout(()=>{this.disconnectWebsocket()},e))}augmentDebugPayload(e){let{debugModeEnabled:t,hermesGenerationEnabled:n,hermesGenerationTemplate:r,modelServerURLOverride:i,modelServerStreamParamsOverride:o,globalInstruction:s,safetyInstruction:a,chatstackParams:l,debugWSPayload:c,useExtModelServer:u}=(0,T.$K)();e.payload&&(t&&(e.payload.debug_info=t),i&&(e.payload.model_server_url=i),o&&(e.payload.model_server_stream_params=o),s&&(e.payload.nextTurnInstructions?e.payload.nextTurnInstructions.push(s):e.payload.nextTurnInstructions=[s]),u&&(e.payload.enable_external_model_server=!0),a&&(e.payload.safety_instructions=a),l&&(e.payload.chatstack_params=l),n&&(e.payload.use_hermes_generation=n),r&&(e.payload.hermes_generation_template=r),c&&(e.payload={...e.payload,...c}))}constructor(e){this.ttlTimer=0,this.authState="unauthenticated",this.onChatEventCallback=e,this.restartTTLTimer()}}class eg{subscribe(e,t,n,r){this.subscribers[e]={onMessageCallback:t,onErrorCallback:n,onSocketConnected:r}}unsubscribe(e){delete this.subscribers[e]}publish(e,t){var n;null===(n=this.subscribers[t])||void 0===n||n.onMessageCallback(e)}raiseError(e){var t;null===(t=this.subscribers[e])||void 0===t||t.onErrorCallback()}socketConnected(e){var t,n;null===(n=this.subscribers[e])||void 0===n||null===(t=n.onSocketConnected)||void 0===t||t.call(n)}constructor(){this.subscribers={}}}let ev=new eg;class ey extends em{subscribeToRoom(e,t){var n;let r=null===(n=this.roomSubscriptions[e])||void 0===n?void 0:n.subscription,i=this.buildChannelName(e);r||(r=this.centrifuge.newSubscription(i)).on("publication",e=>this.handlePublication(e)),this.roomSubscriptions[e]={subscription:r,instanceId:t},r.subscribe()}unsubscribeFromRoom(e){var t,n;null===(n=this.roomSubscriptions[e])||void 0===n||null===(t=n.subscription)||void 0===t||t.unsubscribe()}async send(e,t){this.restartTTLTimer(),await this.reconnectWebsocket(),this.augmentDebugPayload(e),e.origin_id=(0,T.g1)();try{if(t){await this.centrifuge.publish(this.buildChannelName(t),e);return}let n=await this.centrifuge.rpc("unused_command",e);this.publishRpcResponses&&this.publishResponseData(n.data)}catch(n){S.$G.logError("centrifuge send error",{error:n,extra:{code:n.code,message:n.message}});let t=D(e.request_id);if(n.message)try{let e=JSON.parse(n.message);(null==e?void 0:e.command)===I.zd.neo_error?ev.publish(e,t):ev.raiseError(t);return}catch(e){ev.raiseError(t)}ev.raiseError(t)}}async setupWebsocket(){await this.authenticate(),this.centrifuge.connect()}disconnectWebsocket(){this.centrifuge.disconnect()}async reconnectWebsocket(){await this.setupWebsocket()}buildChannelName(e){return"room:".concat(e)}handlePublication(e){this.restartTTLTimer(),this.publishResponseData(e.data)}publishResponseData(e){var t;let n=null!==(t=null==e?void 0:e.request_id)&&void 0!==t?t:null==e?void 0:e.id;if(n)try{let t=D(n);ev.publish(e,t)}catch(e){S.$G.logError("centrifuge publication error",{error:e})}}constructor(e,t,n){super(e),this.publishRpcResponses=t;let r=[{transport:"websocket",endpoint:(0,T.VX)()},{transport:"sse",endpoint:(0,T.s7)()}],i=(0,T.m3)();this.centrifuge=new ep(r,{timeout:(0,T.iY)(),eventsource:i,emulationEndpoint:(0,T.h$)()}),this.centrifuge.on("connected",e=>{Object.values(this.roomSubscriptions).forEach(e=>{ev.socketConnected(e.instanceId)}),this.onChatEventCallback(L.qN.websocket_status,{status:L.$3.open})}),this.centrifuge.on("disconnected",e=>{this.checkAuthentication({message:e.reason,code:e.code}),this.onChatEventCallback(L.qN.websocket_status,{status:L.$3.closed})}),this.centrifuge.on("error",e=>{this.onChatEventCallback(L.qN.websocket_status,{status:L.$3.error}),this.onChatEventCallback(L.qN.websocket_error,{comment:e.error.message,error_code:e.error.code})}),n&&(this.userSubscription=this.centrifuge.newSubscription("user#".concat(n)),this.userSubscription.on("publication",e=>this.handlePublication(e)),this.userSubscription.subscribe()),this.roomSubscriptions={}}}(f=x||(x={}))[f.CONNECTING=0]="CONNECTING",f[f.OPEN=1]="OPEN",f[f.CLOSING=2]="CLOSING",f[f.CLOSED=3]="CLOSED";class eb extends em{isConnected(){var e;return(null===(e=this.socket)||void 0===e?void 0:e.readyState)===1}isConnectedOrConnecting(){var e,t;return"authenticating"===this.authState||(null===(e=this.socket)||void 0===e?void 0:e.readyState)===1||(null===(t=this.socket)||void 0===t?void 0:t.readyState)===0}send(e){this.isConnected()?this.sendInternal(e):(this.sendQueue.push(e),this.reconnectWebsocket())}disconnectWebsocket(){this.socket&&(clearInterval(this.heartbeatInterval),clearTimeout(this.wsRetryTimeout),clearTimeout(this.ttlTimer),this.socket.onopen=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.onclose=null,this.socket.close(),this.socket=null)}reconnectWebsocket(){this.wsRetryAttemps=0,this.isConnectedOrConnecting()||this.setupWebsocket()}subscribeToRoom(e){throw Error("Not implemented: Trying to use native websockets with rooms")}unsubscribeFromRoom(e){throw Error("Not implemented: Trying to use native websockets with rooms")}async setupWebsocket(){await this.authenticate(),this.createWebsocket()}createWebsocket(){this.disconnectWebsocket(),this.socket=new WebSocket((0,T.ti)()),this.socket.onopen=()=>{this.onChatEventCallback(L.qN.websocket_status,{status:L.$3.open}),this.sendQueue.forEach(e=>{this.sendInternal(e)}),this.sendQueue=[];let e=(0,T.YW)();e>0&&(this.heartbeatInterval=setInterval(()=>{this.sendInternal({command:I.OY.ping})},e))},this.socket.onerror=e=>{this.checkAuthentication(e),this.onChatEventCallback(L.qN.websocket_status,{status:L.$3.error}),this.onChatEventCallback(L.qN.websocket_error,{comment:e.message,error_code:""}),this.raiseErrorCallbacksForPendingRequests(e.message)},this.socket.onclose=e=>{this.checkAuthentication(e),this.disconnectWebsocket(),this.raiseErrorCallbacksForPendingRequests(e.reason),this.wsRetryAttemps<5?(this.onChatEventCallback(L.qN.websocket_status,{status:L.$3.reconnecting}),this.wsRetryTimeout=setTimeout(()=>{this.wsRetryAttemps++,this.setupWebsocket()},500*2**this.wsRetryAttemps)):this.onChatEventCallback(L.qN.websocket_status,{status:L.$3.closed})},this.socket.onmessage=e=>{this.wsRetryAttemps=0,this.restartTTLTimer();let t=JSON.parse(e.data);if(t.request_id){let e=this.removeInflightRequest(t.request_id);if(!this.retryIfNecessary(e,t)){delete this.messageRetryCounts[t.request_id];let e=D(t.request_id);ev.publish(t,e)}}}}sendInternal(e){try{this.restartTTLTimer(),this.socket?(this.addInflightRequest(e),this.augmentDebugPayload(e),this.socket.send(JSON.stringify({...e,origin_id:(0,T.g1)()}))):S.$G.logError("no native websocket while sending message")}catch(e){S.$G.logError("error sending message to native websocket",{error:e})}}raiseErrorCallbacksForPendingRequests(e){this.inflightRequests.length+this.sendQueue.length>0&&S.$G.logError("Failed to send over native websocket",{extra:{reason:e}}),this.inflightRequests.forEach(e=>{let t=D(e.request_id);ev.raiseError(t)}),this.inflightRequests=[],this.sendQueue.forEach(e=>{let t=D(e.request_id);ev.raiseError(t)}),this.sendQueue=[]}addInflightRequest(e){e.request_id&&this.inflightRequests.push(e)}removeInflightRequest(e){let t=this.inflightRequests.findIndex(t=>t.request_id===e);if(-1===t)return;let[n]=this.inflightRequests.splice(t,1);return n}retryIfNecessary(e,t){var n,r;let i=null==t?void 0:t.command,o=null!==(n=null==t?void 0:t.error_code)&&void 0!==n?n:200,s=null!==(r=this.messageRetryCounts[null==e?void 0:e.request_id])&&void 0!==r?r:0;return!!e&&i===I.zd.neo_error&&!(o<500)&&!(o>=600)&&!(s>=this.messageRetryLimit)&&(setTimeout(()=>{this.messageRetryCounts[e.request_id]=s+1,this.send(e)},500*2**s),!0)}constructor(e,t=0){super(e),this.socket=null,this.wsRetryAttemps=0,this.wsRetryTimeout=0,this.heartbeatInterval=0,this.inflightRequests=[],this.sendQueue=[],this.messageRetryLimit=0,this.messageRetryCounts={},this.messageRetryLimit=t,this.setupWebsocket()}}let ew=(e,t,n,o,s)=>{null==r||r.disconnectWebsocket(),r=o?void 0:new eb(e,s),(n||o)&&(null==i||i.disconnectWebsocket(),i=new ey(e,!!o,t))},e_=()=>{null==r||r.reconnectWebsocket()},eC=()=>{let e=null!=r?r:i;if(!e)throw S.$G.logError("Trying to use chat socket before it has been initialized"),Error("Chat socket uninitialized");return e};class ex extends j{async initialize(e,t,n){await super.initialize(e,t,n),this.setupWebsocket()}replaceOrRemoveDummyTurn(e,t){let n=this.turns.findIndex(t=>t.primary_candidate_id===L.gn&&t.turn_key.turn_id==="".concat(e,"_").concat(L.gn));if(-1==n)return;let r=this.turns[n];return t?(this.transferAttachmentLocalOverrides(this.turns[n],t),this.turns[n]=t):this.turns.splice(n,1),r}removeAllTypingTurns(){this.typingIndicatorMessaages.forEach(e=>clearTimeout(e.errorTimeout)),this.typingIndicatorMessaages=[]}removeTypingTurn(e,t){if(e){let n=this.typingIndicatorMessaages.findIndex(n=>n.primary_candidate_id===L.vF&&(n.author.author_id===e.author.author_id||n.turn_key.turn_id==="".concat(t,"_").concat(L.vF)));n>-1&&clearTimeout(this.typingIndicatorMessaages.splice(n,1)[0].errorTimeout)}}removeTurn(e){let t;if(!e)return;let n=this.turns.findIndex(t=>t.turn_key.turn_id===e);return n>-1&&(t=this.turns[n],this.turns.splice(n,1)),t}async _handleConversationFactsUpdate(e){var t,n,r;try{let r=R(null!==(t=this.previousAppliedConversationFacts)&&void 0!==t?t:{}),i=R(e);if(JSON.stringify(i)!==JSON.stringify(r)&&this.chatHistory){let t=await (0,ef.m)().getConversationFacts(this.chatHistory.chat_id);if(t.conversation_fact_overrides){let r=O(t.conversation_fact_overrides),i=O(null!==(n=this.previousConversationFactOverrides)&&void 0!==n?n:{});JSON.stringify(r)===JSON.stringify(i)&&this.onChatEventCallback(L.qN.conversation_facts_updated,e)}else this.onChatEventCallback(L.qN.conversation_facts_updated,e);this.previousAppliedConversationFacts=e,this.previousConversationFactOverrides=t.conversation_fact_overrides}}catch(e){S.$G.logError("Failed to process conversation facts update",{error:e,extra:{chatId:null===(r=this.chatHistory)||void 0===r?void 0:r.chat_id}})}}setupWebsocket(){ev.subscribe(this.instanceID,this.onMessageReceived,this.onMessageError)}async deleteMessages(e,t){if(null==this.chatHistory||0===e.length)return t(!1);try{var n;await (0,ef.m)().removeTurns(null===(n=this.chatHistory)||void 0===n?void 0:n.chat_id,e),t(!0),this.fetchMessageHistory(void 0,!0)}catch(n){S.$G.logError("Failed to remove turns",{error:n,extra:{uuids:e}}),t(!1)}}async editMessage(e,t,n){let r={command:I.OY.edit_turn_candidate,request_id:this.buildRequestId(),payload:{turn_key:e,current_candidate_id:t,new_candidate_raw_content:n}};this.lastEditRequestId=r.request_id,this.lastEditTurnId=r.payload.turn_key.turn_id,this.sendSocketMessage(r)}setTurnPin(e,t){let n={command:I.OY.set_turn_pin,request_id:this.buildRequestId(),payload:{turn_key:e,is_pinned:t}};this.lastPinRequestId=n.request_id,this.lastPinTurnId=n.payload.turn_key.turn_id,this.sendSocketMessage(n);let r=this.turns.findIndex(e=>e.turn_key.turn_id===this.lastPinTurnId);r>-1&&(this.turns[r].is_pinned=t)}createNewChat(e){var t,n,r;this.generateTurnAfterCreate=!!(null==e?void 0:e.generateTurnAfterCreate);let i={command:I.OY.create_chat,request_id:this.buildRequestId(),payload:{chat:{chat_id:(0,P.Z)(),creator_id:null===(t=this.user.user)||void 0===t?void 0:t.id.toString(),visibility:I.I9.private,character_id:null===(n=this.charData)||void 0===n?void 0:n.external_id,type:I.MW.direct,...(null==e?void 0:e.preferredModel)&&{preferred_model_type:e.preferredModel},scene_id:null==e?void 0:null===(r=e.scene)||void 0===r?void 0:r.scene_id},with_greeting:!(null==e?void 0:e.disableGreeting)}};this.turns=[],this.publishChatMessages(),this.sendSocketMessage(i)}publishChatMessages(){var e,t,n;((null===(e=this.charData)||void 0===e?void 0:e.avatar_file_name)||(null===(n=this.user.user)||void 0===n?void 0:null===(t=n.account)||void 0===t?void 0:t.avatar_file_name))&&this.turns.map(e=>{var t,n,r;!e.author.is_human&&!e.author.avatar_url&&(null===(t=this.charData)||void 0===t?void 0:t.avatar_file_name)&&(e.author.avatar_url=this.charData.avatar_file_name),e.author.is_human&&!e.author.avatar_url&&(null===(r=this.user.user)||void 0===r?void 0:null===(n=r.account)||void 0===n?void 0:n.avatar_file_name)&&(e.author.avatar_url=this.user.user.account.avatar_file_name)}),super.publishChatMessages([...this.typingIndicatorMessaages,...this.turns])}async fetchInitialData(e,t,n,r,i){try{var o,s,a,l,c;if(this.getStatus()!==L.HH.none)return;if(this.setStatus(L.HH.fetchingHistory),!this.charData){let t=await (0,ef.m)().fetchCharacterInfo(e);t&&(this.charData=t.character)}if(!(null===(o=this.charData)||void 0===o?void 0:o.external_id))throw Error("Failed to fetch character info for websocket");if(n)this.createNewChat(i);else if(null!=t){let e=await (0,ef.m)().fetchChat(t);if((null==e?void 0:e.data.chat)!=null)this.chatHistory=null==e?void 0:e.data.chat;else throw Error("expected a valid chat response from the server")}else{let e=await (0,ef.m)().fetchRecentChat(this.charData.external_id);(null!==(l=null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(s=a.chats)||void 0===s?void 0:s.length)&&void 0!==l?l:0)>0?this.chatHistory=e.data.chats[0]:this.createNewChat(i)}if(null!=this.chatHistory){await this.fetchMessageHistory(this.chatHistory.chat_id,void 0,r?{candidate_filter:"all"}:void 0);try{let e=await (0,ef.m)().getConversationFacts(this.chatHistory.chat_id);if(null==e?void 0:e.conversation_facts){let t=function(e,t){let n=Object.entries(e).reduce((e,n)=>{var r;let[i,o]=n,s=(null===(r=t[i])||void 0===r?void 0:r.overrides)||{};return e[i]={...o,facts:o.facts.map(e=>{let t=s[e.category];return t?t.operation===I.PD.IGNORE?null:t.operation===I.PD.SET?{...e,value:t.value}:e:e}).filter(e=>null!==e)},e},{});return Object.entries(t).forEach(t=>{let[r,i]=t;if(!e[r]){let e=Object.entries(i.overrides).map(e=>{let[t,n]=e;return n.operation===I.PD.SET?{category:t,value:n.value}:null}).filter(e=>null!==e);e.length>0&&(n[r]={facts:e})}}),n}(e.conversation_facts,null!==(c=e.conversation_fact_overrides)&&void 0!==c?c:{});this.previousAppliedConversationFacts=t,this.previousConversationFactOverrides=e.conversation_fact_overrides}else this.previousAppliedConversationFacts={},this.previousConversationFactOverrides={}}catch(e){S.$G.logError("Failed to fetch or process conversation facts",{error:e,extra:{chatId:this.chatHistory.chat_id}}),this.previousAppliedConversationFacts={},this.previousConversationFactOverrides={}}}}catch(n){S.$G.logError("Failed to fetch initial chat data",{error:n}),this.onChatEventCallback(L.qN.unrecoverable_error,{comment:"failed to fetch initial chat data",external_id:e,history_external_id:t,event_time:Date.now(),type:L.DE.UnexpectedError}),this.setStatus(L.HH.dead)}}async fetchMessageHistory(e,t,n){var r,i,o,s,a;if(!this.chatHistory){this.onChatEventCallback(L.qN.unrecoverable_error,{comment:"chat history doesnt exist",external_id:this.external_id,event_time:Date.now(),type:L.DE.UnexpectedError}),this.setStatus(L.HH.dead);return}if(this.getStatus()===L.HH.fetchMessages)return;let l=null===(r=this.chatHistory)||void 0===r?void 0:r.chat_id,c=null!=n?n:{},u=!1;this.setStatus(L.HH.fetchMessages),t&&(this.nextToken=void 0),this.nextToken&&(c.next_token=this.nextToken,u=!0);try{let e=await (0,ef.m)().fetchTurns(l,c);this.nextToken=null===(o=e.data)||void 0===o?void 0:null===(i=o.meta)||void 0===i?void 0:i.next_token,this.has_more=!!this.nextToken;let t=(null!==(a=null===(s=e.data)||void 0===s?void 0:s.turns)&&void 0!==a?a:[]).map(e=>{let t=[...e.candidates].sort((e,t)=>{let n=Date.parse(e.create_time),r=Date.parse(t.create_time);return n===r?0:n<r?-1:1});return{...e,candidates:t}});u?this.turns=[...this.turns,...t]:(this.turns=[...t],this.updatePrimaryCandidateMapForTurn(this.turns[0])),this.publishChatMessages(),this.setStatus(L.HH.none)}catch(e){S.$G.logError("Failed to get chat instance message history",{error:e}),this.onChatEventCallback(L.qN.unrecoverable_error,{comment:"failed to list turns",external_id:this.external_id,event_time:Date.now(),type:L.DE.UnexpectedError}),this.setStatus(L.HH.dead)}}resetFeedbackLabels(e){let t=Object.fromEntries(Object.values(I.KW).map(e=>[e,0]));this.lastGenerateMetadata={turnKey:e,feedbackMap:t},this.stagedFeedbackMap={}}stageFeedbackLabel(e,t){this.stagedFeedbackMap[e]=t}commitFeedbackLabels(){if(!this.lastGenerateMetadata)return;let e=Object.fromEntries(Object.values(I.KW).map(e=>{var t;return[e,this.stagedFeedbackMap[e]||(null===(t=this.lastGenerateMetadata)||void 0===t?void 0:t.feedbackMap[e])?1:0]}));this.lastGenerateMetadata={...this.lastGenerateMetadata,feedbackMap:e},this.stagedFeedbackMap={}}generateTurn(){var e,t;let n={command:I.OY.generate_turn,request_id:this.buildRequestId(),payload:{chat_id:null===(e=this.chatHistory)||void 0===e?void 0:e.chat_id,character_id:this.external_id,scene_id:null===(t=this.chatHistory)||void 0===t?void 0:t.scene_id}};this.sendSocketMessage(n)}generateCandidate(e,t,n,r){var i,s,a,l,c,u;if(0===this.turns.length){S.$G.logError("No turns to generate candidate for");return}let d=this.turns[0].turn_key;(d.turn_id===(null===(i=this.lastGenerateMetadata)||void 0===i?void 0:i.turnKey.turn_id)||d.chat_id===(null===(s=this.lastGenerateMetadata)||void 0===s?void 0:s.turnKey.chat_id))&&(null===(a=this.lastGenerateMetadata)||void 0===a?void 0:a.feedbackMap)?this.commitFeedbackLabels():this.resetFeedbackLabels(d);let h={command:I.OY.generate_turn_candidate,request_id:this.buildRequestId(),payload:{tts_enabled:null!=e&&e,selected_language:null!=o?o:"",character_id:null===(l=this.charData)||void 0===l?void 0:l.external_id,scene_id:null===(c=this.chatHistory)||void 0===c?void 0:c.scene_id,user_name:this.user.name,turn_key:{turn_id:d.turn_id,chat_id:d.chat_id},previous_annotations:null===(u=this.lastGenerateMetadata)||void 0===u?void 0:u.feedbackMap,...t&&{next_turn_instructions:[t]},...n&&{super_swipe:{intent:n.intent,candidate_id:n.candidateId}},...r&&{generation_preferences:[r]}}};this.turns[0].state="STATE_INFLIGHT",this.sendSocketMessage(h)}createTurn(e,t,n){var r,i,o,s,a,l,c,u,d;let h=(0,P.Z)(),p=(0,P.Z)(),f={turn_id:h,chat_id:null!==(l=null===(r=this.chatHistory)||void 0===r?void 0:r.chat_id)&&void 0!==l?l:""},m=t?{author_id:null!==(c=null===(i=this.charData)||void 0===i?void 0:i.external_id)&&void 0!==c?c:"",is_human:!1,name:null!==(u=null===(o=this.charData)||void 0===o?void 0:o.name)&&void 0!==u?u:""}:{author_id:null!==(d=null===(s=this.user.user)||void 0===s?void 0:s.id.toString())&&void 0!==d?d:"",is_human:!0,name:this.user.name},g={command:I.OY.create_turn,request_id:this.buildRequestId(),payload:{character_id:null===(a=this.charData)||void 0===a?void 0:a.external_id,user_name:this.user.name,turn:{turn_key:f,author:m,candidates:[{candidate_id:p,raw_content:e}],primary_candidate_id:p},...n&&{nextTurnInstructions:[n]}}};e&&this.addDummyMessage(e,g.request_id,m),this.publishChatMessages(),this.sendSocketMessage(g),this.resetFeedbackLabels(f)}sendCreateAndGenerateTurn(e){var t,n,r,i,s,a,l,c,u,d,h,p,f,m,g;let{message:v,ttsEnabled:y,nextTurnInstructions:b,attachments:w}=e,_=null===(t=this.turns[0])||void 0===t?void 0:t.turn_key;_&&_.turn_id!==(null===(n=this.lastGenerateMetadata)||void 0===n?void 0:n.turnKey.turn_id)&&_.chat_id!==(null===(r=this.lastGenerateMetadata)||void 0===r?void 0:r.turnKey.chat_id)?this.resetFeedbackLabels(_):this.commitFeedbackLabels();let C=(0,P.Z)(),x=(0,P.Z)(),k={turn_id:C,chat_id:null!==(p=null===(i=this.chatHistory)||void 0===i?void 0:i.chat_id)&&void 0!==p?p:""},S={author_id:null!==(f=null===(s=this.user.user)||void 0===s?void 0:s.id.toString())&&void 0!==f?f:"",is_human:!0,name:this.user.name},E={command:I.OY.create_and_generate_turn,request_id:this.buildRequestId(),payload:{num_candidates:1,tts_enabled:null!=y&&y,selected_language:null!=o?o:"",character_id:null===(a=this.charData)||void 0===a?void 0:a.external_id,scene_id:null===(l=this.chatHistory)||void 0===l?void 0:l.scene_id,user_name:this.user.name,turn:{turn_key:k,author:S,candidates:[{candidate_id:x,raw_content:v}],primary_candidate_id:x},attachments:null==w?void 0:w.map(e=>{let{localOverrideUrl:t,...n}=e;return n}),previous_annotations:null===(c=this.lastGenerateMetadata)||void 0===c?void 0:c.feedbackMap,...b&&{nextTurnInstructions:[b]}}};(v||w)&&this.addDummyMessage(v,E.request_id,S,w),this.addTypingMessage(null!==(m=null===(u=this.charData)||void 0===u?void 0:u.external_id)&&void 0!==m?m:"",null!==(g=null===(d=this.charData)||void 0===d?void 0:d.name)&&void 0!==g?g:"",!1,E.request_id,null===(h=this.charData)||void 0===h?void 0:h.avatar_file_name),w&&(0,T.yi)({hermesGenerationEnabled:!0}),this.publishChatMessages(),this.sendSocketMessage(E),this.resetFeedbackLabels(k)}sendChatMessage(e){switch(e.type){case"create":this.createTurn(e.message,e.on_behalf_of_character,e.nextTurnInstructions);break;case"generate_candidate":this.generateCandidate(e.ttsEnabled,e.nextTurnInstructions,e.superSwipesMetadata,e.generationPref);break;case"generate_greeting":this.generateGreeting(e.ttsEnabled,e.turn_key);break;case"stage_feedback_label":this.stageFeedbackLabel(e.feedbackLabel,e.addOrRemove);break;case"abort":this.abortCandidateGeneration();break;case"create_and_generate":this.sendCreateAndGenerateTurn(e);break;case"edit_turn_candidate":this.editMessage(e.turnKey,e.candidateId,e.newRawContent);break;case"set_turn_pin":this.setTurnPin(e.turnKey,e.isPinned)}}updatePrimaryCandidateMap(e,t){var n;super.updatePrimaryCandidateMap(e,t);let r=null===(n=this.turns[0])||void 0===n?void 0:n.turn_key.turn_id;r&&this.setPrimaryCandidateOfTurn(r,t)}updatePrimaryCandidateMapForTurn(e){if(e&&e.candidates.length>1){let t=e.primary_candidate_id,n=e.candidates.findIndex(e=>e.candidate_id===t);n>-1&&super.updatePrimaryCandidateMap(e.turn_key.turn_id,n)}}setPrimaryCandidateOfTurn(e,t){let n=this.turns.find(t=>t.turn_key.turn_id===e);if(!n)return;let r=n.candidates[t];if(!r)return;let i=r.candidate_id;i&&i!==L.vF&&i!==L.gn&&r.is_final&&(n.primary_candidate_id=i,this.sendSocketMessage({command:I.OY.update_primary_candidate,payload:{candidate_id:i,turn_key:n.turn_key}}))}abortCandidateGeneration(){if(this.lastRequestId){let e={command:I.OY.abort_generation,request_id:this.lastRequestId};this.abortRequestId=this.lastRequestId,this.lastRequestId=null,this.sendSocketMessage(e)}}sendSocketMessage(e){var t,n;eC().send(e),!this.hasResurrectedChat&&(null===(t=this.chatHistory)||void 0===t?void 0:t.chat_id)&&(this.hasResurrectedChat=!0,(0,ef.m)().resurrectChat(null===(n=this.chatHistory)||void 0===n?void 0:n.chat_id).catch(e=>S.$G.logError("Failed to resurrect chat",{error:e})))}cleanup(){super.cleanup(),ev.unsubscribe(this.instanceID)}handleAddSystemTurn(e,t,n){e===I.zd.filter_user_input_self_harm||t==L.Aj?(n&&this.onChatEventCallback(L.qN.self_harm_detected,{filteredText:n.candidates[0].raw_content}),this.addSystemTurn(L.Aj,A.lo.self_harm_detected)):(e===I.zd.filter_user_input||t==L.P$)&&(n&&this.onChatEventCallback(L.qN.user_input_filtered,{filteredText:n.candidates[0].raw_content}),this.addSystemTurn(L.P$,A.lo.user_input_filtered)),this.publishChatMessages()}addSystemTurn(e,t){var n,r;if(!(this.turns[0].candidates[0].raw_content!==e))return;let i=(0,P.Z)(),o={turn_key:{turn_id:(0,P.Z)(),chat_id:null!==(r=null===(n=this.chatHistory)||void 0===n?void 0:n.chat_id)&&void 0!==r?r:""},author:{author_id:L.B8,is_human:!1,name:L.B8,avatar_url:""},candidates:[{candidate_id:i,raw_content:e,create_time:new Date().toISOString(),fresh:!1,is_final:!0}],create_time:new Date().toISOString(),last_update_time:new Date().toISOString(),state:"STATE_INFLIGHT",primary_candidate_id:i,clientSystemMessage:{messageType:t,message:t===A.lo.game_message?e:""}};this.turns=[o,...this.turns]}addDummyMessage(e,t,n,r){var i,o;this.hasTypingMessage(n.author_id.toString())||(this.turns=[{turn_key:{turn_id:"".concat(t,"_").concat(L.gn),chat_id:null!==(o=null===(i=this.chatHistory)||void 0===i?void 0:i.chat_id)&&void 0!==o?o:""},author:n,candidates:[{candidate_id:L.gn,raw_content:e,create_time:new Date().toISOString(),fresh:!1,is_final:!0,attachments:r}],create_time:new Date().toISOString(),last_update_time:new Date().toISOString(),state:"STATE_INFLIGHT",primary_candidate_id:L.gn},...this.turns])}addTypingMessage(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"typing",s=this.typingIndicatorMessaages.findIndex(t=>t.primary_candidate_id===L.vF&&t.author.author_id===e);if(s>-1){let e=this.typingIndicatorMessaages[s];this.resetTypingTurnTimeout(e,r)}else{var a,l;if((null===(a=this.user.user)||void 0===a?void 0:a.id.toString())&&this.hasTypingMessage(null===(l=this.user.user)||void 0===l?void 0:l.id.toString()))return;this.addTypingTurn(e,t,n,r,i,o)}}createNewTypingTurn(e,t,n,r,i){var o,s;let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"typing",l={turn_key:{turn_id:"".concat(r,"_").concat(L.vF),chat_id:null!==(s=null===(o=this.chatHistory)||void 0===o?void 0:o.chat_id)&&void 0!==s?s:""},author:{author_id:e,is_human:n,name:t,avatar_url:null!=i?i:""},candidates:[{candidate_id:L.vF,raw_content:"",create_time:new Date().toISOString(),fresh:!0,is_final:!0}],create_time:new Date().toISOString(),last_update_time:n?new Date().toISOString():new Date(Date.now()+1e4).toISOString(),state:"STATE_INFLIGHT",primary_candidate_id:L.vF,errorTimeout:-1,type:a};return this.setTypingTurnTimeout(l,r),l}resetTypingTurnTimeout(e,t){clearTimeout(e.errorTimeout),this.setTypingTurnTimeout(e,t),e.last_update_time=new Date().toISOString()}setTypingTurnTimeout(e,t){"processing"===e.type&&(e.errorTimeout=setTimeout(()=>this.onLongProcesingIndicator(e,t),N.QC))}addTypingTurn(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"typing",s=this.createNewTypingTurn(e,t,n,r,i,o);this.typingIndicatorMessaages=[s,...this.typingIndicatorMessaages]}onLongProcesingIndicator(e,t){this.removeTypingTurn(e,t),this.publishChatMessages()}transferAttachmentLocalOverrides(e,t){var n;null===(n=t.candidates)||void 0===n||n.forEach((t,n)=>{var r;null===(r=t.attachments)||void 0===r||r.forEach((t,r)=>{var i,o,s,a;t.localOverrideUrl=null===(a=e.candidates)||void 0===a?void 0:null===(s=a[n])||void 0===s?void 0:null===(o=s.attachments)||void 0===o?void 0:null===(i=o[r])||void 0===i?void 0:i.localOverrideUrl})})}generateGreeting(e,t){var n,r;if(!t.chat_id||!t.turn_id){S.$G.logError("Invalid turn_key for generate_greeting",{extra:{turnKey:t}});return}let i={command:I.OY.generate_greeting,request_id:this.buildRequestId(),payload:{tts_enabled:null!=e&&e,selected_language:null!=o?o:"",character_id:null===(n=this.charData)||void 0===n?void 0:n.external_id,scene_id:null===(r=this.chatHistory)||void 0===r?void 0:r.scene_id,user_name:this.user.name,turn_key:{chat_id:t.chat_id,turn_id:t.turn_id}}};this.sendSocketMessage(i)}constructor(e,t,n,r,i,o){super(e,t,n,r,i,o),this.lastRequestId=null,this.abortRequestId=null,this.lastEditRequestId=null,this.lastEditTurnId=null,this.lastPinRequestId=null,this.lastPinTurnId=null,this.stagedFeedbackMap={},this.lastGenerateMetadata=null,this.typingIndicatorMessaages=[],this.hasResurrectedChat=!1,this.generateTurnAfterCreate=!1,this.previousAppliedConversationFacts=null,this.previousConversationFactOverrides=null,this.onMessageReceived=e=>{var t,n,r,i,o,s,a,l;e.request_id&&(this.lastRequestId=e.request_id);let c=e.request_id===this.lastEditRequestId,u=c&&e.command===I.zd.update_turn?e.turn.candidates.findIndex(t=>t.candidate_id===e.turn.primary_candidate_id):-1,d=e.request_id===this.lastPinRequestId,h=d&&this.lastPinTurnId?this.turns.findIndex(e=>e.turn_key.turn_id===this.lastPinTurnId):-1;switch(e.command){case I.zd.add_turn:let p=e.turn;this.replaceOrRemoveDummyTurn(e.request_id,p)?this.publishChatMessages():(this.removeTypingTurn(p,e.request_id),this.appendTurn(p));break;case I.zd.update_turn:e.generation_mode&&this.onChatEventCallback(L.qN.generation_mode_update,e.generation_mode),(null===(t=e.generation_metadata)||void 0===t?void 0:t.conversation_facts)&&this._handleConversationFactsUpdate(e.generation_metadata.conversation_facts),d&&h>-1?this.updateCandidate(this.turns[h],this.turns[h].turn_key.turn_id,e.request_id):c&&-1!==u?this.updateCandidate(e.turn,e.turn.turn_key.turn_id,e.request_id,{editedCandidate:e.turn.candidates[u]}):this.updateCandidate(e.turn,e.turn.turn_key.turn_id,e.request_id);break;case I.zd.create_chat_response:this.chatHistory=e.chat,this.generateTurnAfterCreate&&this.generateTurn();break;case I.zd.filter_user_input_self_harm:case I.zd.filter_user_input:this.removeAllTypingTurns();let f=this.replaceOrRemoveDummyTurn(e.request_id);this.handleAddSystemTurn(e.command,e.comment,e.is_warning?void 0:f),e.is_warning&&(this.addTypingMessage(null!==(o=null===(n=this.charData)||void 0===n?void 0:n.external_id)&&void 0!==o?o:"",null!==(s=null===(r=this.charData)||void 0===r?void 0:r.name)&&void 0!==s?s:"",!1,e.request_id,null===(i=this.charData)||void 0===i?void 0:i.avatar_file_name),this.publishChatMessages());break;case I.zd.neo_error:if(S.$G.logError("Neo error from websocket: ".concat(e.error_code),{extra:{data:e}}),e.error_code===I.dw.MultiGeneration.errorCode&&e.sub_code===I.dw.MultiGeneration.subCode);else if(this.chatHistory){if(e.sub_code===I.dw.ImageFailedContentPolicy.subCode)this.removeAllTypingTurns(),this.replaceOrRemoveDummyTurn(e.request_id),this.onChatEventCallback(L.qN.image_failed_content_policy),this.publishChatMessages();else{let t=c?this.turns.findIndex(e=>e.turn_key.turn_id===this.lastEditTurnId):-1;c&&-1!==t?this.onMessageError([t]):(Number(e.error_code)===I.dw.TooManyPins.errorCode&&Number(e.sub_code)===I.dw.TooManyPins.subCode&&d&&h>-1&&(this.turns[h].is_pinned=!1),this.onMessageError()),this.onChatEventCallback(L.qN.websocket_error,{comment:e.comment,error_code:e.error_code,sub_code:e.sub_code,event_time:Date.now()})}}else{let t=e.comment===L.rf?L.DE.CharacterNotAvailable:L.DE.UnexpectedError;this.onChatEventCallback(L.qN.unrecoverable_error,{comment:"failed to initialize chat",external_id:this.external_id,event_time:Date.now(),type:t}),this.setStatus(L.HH.dead)}break;case I.zd.remove_turn:this.removeTurn(e.turn_key.turn_id),this.useDeleteCallback(!0),this.publishChatMessages();break;case I.zd.update_mu_room_response:this.onChatEventCallback(L.qN.updated,{updates:e});break;case I.zd.delete_mu_room:this.onChatEventCallback(L.qN.deleted,{id:e.id});break;case I.zd.mu_state_update:(null===(a=e.payload)||void 0===a?void 0:a.type)&&e.payload.participant!==(null===(l=this.user.user)||void 0===l?void 0:l.id.toString())&&(this.addTypingMessage(e.payload.participant,e.payload.participantName,e.payload.isHuman,e.request_id,e.payload.participantAvatar,e.payload.type),this.publishChatMessages())}},this.onMessageError=e=>{for(let e=0;e<this.turns.length;e++)if("STATE_INFLIGHT"===this.turns[e].state)this.turns[e].state="STATE_ERROR",this.removeAllTypingTurns();else break;for(let t of null!=e?e:[])this.turns[t].state="STATE_ERROR";this.publishChatMessages()},this.hasTypingMessage=e=>this.turns.findIndex(t=>t.author.author_id===e&&t.primary_candidate_id===L.vF)>-1,this.deleteCallback=()=>{},this.useDeleteCallback=e=>{this.deleteCallback(e),this.deleteCallback=()=>{}}}}class ek extends ex{setupTypingIndicatorInterval(){this.typingInterval=setInterval(()=>{let e=!1;for(let t=this.typingIndicatorMessaages.length-1;t>=0;t--){let n=this.typingIndicatorMessaages[t];n.primary_candidate_id===L.vF&&Date.now()-new Date(n.last_update_time).getTime()>N.fw&&(this.removeTypingTurn(n),e=!0)}e&&this.publishChatMessages()},3e3)}isInitialized(){return!0}setupWebsocket(){ev.subscribe(this.instanceID,this.onMessageReceived,this.onMessageError,()=>{this.fetchMessageHistory()}),i.reconnectWebsocket(),i.subscribeToRoom(this.external_id,this.instanceID)}async fetchInitialData(){this.getStatus()===L.HH.none&&(this.setStatus(L.HH.fetchingHistory),this.fetchMessageHistory())}async fetchMessageHistory(){if(this.getStatus()===L.HH.fetchMessages)return;this.setStatus(L.HH.fetchMessages);let e={},t=!1;this.nextToken&&(e.next_token=this.nextToken,t=!0);try{var n,r,i,o,s,a;let l=await (0,ef.m)().fetchTurns(this.external_id,e);this.nextToken=null===(r=l.data)||void 0===r?void 0:null===(n=r.meta)||void 0===n?void 0:n.next_token,this.has_more=(null===(o=l.data)||void 0===o?void 0:null===(i=o.turns)||void 0===i?void 0:i.length)>0;let c=null!==(a=null===(s=l.data)||void 0===s?void 0:s.turns)&&void 0!==a?a:[];c.forEach(e=>{e.candidates.sort((e,t)=>new Date(e.create_time)>new Date(t.create_time)?1:-1)}),t?this.turns=[...this.turns,...c]:this.turns=[...c],this.publishChatMessages(),this.setStatus(L.HH.none)}catch(e){S.$G.logError("Failed to get room message history",{error:e}),this.onChatEventCallback(L.qN.unrecoverable_error,{comment:"failed to get room",external_id:this.external_id,event_time:Date.now(),type:L.DE.UnexpectedError}),this.setStatus(L.HH.dead)}}async deleteMessages(e,t){if(0===e.length)return;e.length;let n={command:I.OY.remove_turn,request_id:this.buildRequestId(),payload:{turn_key:{chat_id:this.external_id,turn_id:e[0]}}};this.deleteCallback=t,this.sendSocketMessage(n)}sendChatMessage(e){switch(e.type){case"create":this.sendCreateCommand({messageText:e.message,context_reset:e.context_reset,smart_reply:e.smart_reply});break;case"generate":this.sendGenerateCommand(e.characterId,e.characterName);break;case"generate_room_candidate":this.sendGenerateRoomCandidateCommand(e.turnId,e.characterId);break;case"smart_turn":this.sendSmartGenerateTurn(e.smart_reply);break;case"state_update":this.sendStateUpdateCommand(e);break;case"edit_turn_candidate":this.editMessage(e.turnKey,e.candidateId,e.newRawContent)}}subscribe(e){super.subscribe(e),1===this.subscriberCallbacks.length&&this.setupWebsocket()}unsubscribe(e){super.unsubscribe(e),0===this.subscriberCallbacks.length&&this.cleanup()}cleanup(){clearInterval(this.typingInterval),ev.unsubscribe(this.instanceID),i.unsubscribeFromRoom(this.external_id)}sendCreateCommand(e){var t,n;let r=(0,P.Z)(),o={author_id:null!==(n=null===(t=this.user.user)||void 0===t?void 0:t.id.toString())&&void 0!==n?n:"",is_human:!0,name:this.user.name},s={command:e.smart_reply?I.OY.create_and_generate_turn:I.OY.create_turn,request_id:this.buildRequestId(),payload:{smart_reply:e.smart_reply,chat_type:I.Y6.TYPE_MU_ROOM,num_candidates:1,user_name:this.user.name,turn:{context_reset:e.context_reset,turn_key:{turn_id:r,chat_id:this.external_id},author:o,candidates:[{candidate_id:r,raw_content:e.messageText}],primary_candidate_id:r}}};e.messageText&&this.addDummyMessage(e.messageText,s.request_id,o),this.publishChatMessages(),i.send(s)}sendGenerateCommand(e,t){let n={command:I.OY.generate_turn,request_id:this.buildRequestId(),payload:{chat_type:I.Y6.TYPE_MU_ROOM,character_id:e,chat_id:this.external_id}};this.publishChatMessages(),i.send(n)}sendGenerateRoomCandidateCommand(e,t){let n={command:I.OY.generate_turn_candidate,request_id:this.buildRequestId(),payload:{chat_type:I.Y6.TYPE_MU_ROOM,character_id:t,user_name:this.user.name,turn_key:{turn_id:e,chat_id:this.external_id}}},r=this.turns.findIndex(t=>t.turn_key.turn_id===e);r>-1&&(this.turns[r].state="STATE_INFLIGHT",this.publishChatMessages()),i.send(n)}sendSmartGenerateTurn(e){var t;let n={command:I.OY.generate_turn,request_id:this.buildRequestId(),payload:{chat_type:I.Y6.TYPE_MU_ROOM,chat_id:this.external_id,user_name:null===(t=this.user.user)||void 0===t?void 0:t.username,smart_reply:e,smart_reply_delay:0}};this.publishChatMessages(),i.send(n)}sendStateUpdateCommand(e){let t={command:I.OY.mu_state_update,request_id:this.buildRequestId(),payload:{chat_type:I.Y6.TYPE_MU_ROOM,author:e.author,participant:e.participant,type:e.updateType,participantName:e.participantName,participantAvatar:e.participantAvatar,isHuman:e.isHuman}};i.send(t,this.external_id)}constructor(e,t,n,r,i){super(e,t,n,r,i),this.typingInterval=0,this.setupTypingIndicatorInterval()}}var eS=n(54252),eE=n(52905);let eT=()=>console.error("Context has not been initialized"),eP={subscribe:(e,t,n,r,i)=>(eT(),{currentStatus:L.HH.none,unsubscribe:()=>{}}),publish:(e,t)=>eT,refresh:(e,t,n,r)=>eT,refreshUser:e=>eT,subscribeChatEvents:(e,t)=>eT,removeUnfocusedInstances:e=>eT,removeClientMessages:(e,t)=>eT,deleteMessages:(e,t,n)=>eT,deleteInstance:e=>eT,getChatMessages:e=>Promise.resolve(null),setupAxios:e=>eT,updatePrimaryCandidateMap:(e,t,n)=>eT,setPrimaryCandidateOfTurn:(e,t,n)=>eT,reconnect:()=>eT,updateConfiguration:()=>eT,chatManagerInitialized:!1,isRoom:!1,addSystemTurn:(e,t,n)=>eT,generationMode:{mode:I.AR.NORMAL,remainingQuotaFrac:void 0,remainingSeconds:void 0,isSlowMode:!1},updateGenerationMode:e=>eT},eI=k.createContext(eP),eR=e=>{o=e},eO=e=>{let{children:t,getAxiosInstance:n,originId:r,userId:i,useCentrifuge:o,useCentrifugeByDefault:s,errorLogger:a,isRoom:l,socketMessageRetryLimit:c}=e,u=k.useRef({}),[d,h]=k.useState(!1),p=(0,k.useRef)({}),f=(0,k.useRef)(!1),[m,g]=(0,k.useState)({mode:I.AR.NORMAL,remainingQuotaFrac:void 0,remainingSeconds:void 0,isSlowMode:!1});f.current||((0,E.C7)(n),f.current=!0),(0,k.useEffect)(()=>{(0,T.qA)(r)},[r]),(0,k.useEffect)(()=>{(0,S.bL)(a)},[a]),(0,k.useEffect)(()=>()=>{for(let e in u.current)u.current[e]&&w(e)},[]);let v=(0,k.useCallback)((e,t)=>{if(p.current[e])for(let n in p.current[e])p.current[e][n]&&p.current[e][n](e,t)},[]);(0,k.useEffect)(()=>{(0,E.C7)(n),ew(v,i,o,s,c),h(!0)},[v,n,i,o,s]);let y=(0,k.useCallback)(e=>{let{neoHost:t,selectedLanguage:n}=e;t&&((0,T.e3)(t),ew(v,i,o,s,c)),eR(n)},[i,o,s]),b=(0,k.useCallback)((e,t)=>(p.current[e]||(p.current[e]=[]),p.current[e].push(t),()=>{p.current[e]=p.current[e].filter(e=>e!==t)}),[]);(0,k.useEffect)(()=>{let e=b(L.qN.generation_mode_update,(e,t)=>{let n=t.remaining_seconds?new Date(Date.now()+1e3*t.remaining_seconds):void 0;g({mode:t.mode,remainingQuotaFrac:t.remaining_quota_frac,remainingSeconds:t.remaining_seconds,isSlowMode:t.mode===I.AR.SLOW,expiryTimestamp:n})});return()=>e()},[b]);let w=(0,k.useCallback)(e=>{u.current[e]&&(u.current[e].cleanup(),delete u.current[e])},[]),_=(0,k.useCallback)((e,t,n,r,i)=>{var o,s,a,l;let c=null==r?void 0:r.externalHistoryId,d=null==r?void 0:r.forceRefresh;if(u.current[e]){if(c&&(null===(o=u.current[e])||void 0===o?void 0:o.chatHistory)&&(null===(a=u.current[e])||void 0===a?void 0:null===(s=a.chatHistory)||void 0===s?void 0:s.chat_id)!==c||d||(null===(l=u.current[e])||void 0===l?void 0:l.getStatus())===L.HH.dead){let t=u.current[e].subscriberCallbacks;w(e),u.current[e]=eN(n,e,eE.a,v,r,i),u.current[e].subscriberCallbacks=t}}else u.current[e]=eN(n,e,eE.a,v,r,i);return u.current[e].subscribe(t),u.current[e].publishChatMessages(),{currentStatus:u.current[e].getStatus(),unsubscribe:()=>{var n;null===(n=u.current[e])||void 0===n||n.unsubscribe(t)}}},[w]),C=(0,k.useCallback)(e=>{for(let t of Object.keys(u.current))u.current[t].setUser(e),u.current[t].refreshHistory()},[]),x=(0,k.useCallback)((e,t,n,r)=>{if(u.current[e]){if(t&&(u.current[e].turns=[],u.current[e].publishChatMessages()),n){let n=u.current[e].subscriberCallbacks,i=u.current[e].onChatEventCallback,o=t?L.Em.Neo:u.current[e].serviceType;w(e),u.current[e]=eN(o,e,eE.a,v,{newHistory:t},r),u.current[e].subscriberCallbacks=n,u.current[e].onChatEventCallback=i,u.current[e].publishChatMessages()}else u.current[e].refreshHistory(t)}},[w]),P=(0,k.useCallback)(e=>{for(let t in u.current)u.current[t]&&t!==e&&w(t)},[w]),R=(0,k.useCallback)((e,t)=>{u.current[e]&&u.current[e].sendChatMessage(t),eS.M.fire()},[]),O=(0,k.useCallback)((e,t,n)=>{u.current[e]&&u.current[e].updatePrimaryCandidateMap(t,n)},[]),A=(0,k.useCallback)((e,t,n)=>{u.current[e]&&u.current[e].setPrimaryCandidateOfTurn(t,n)},[]),N=(0,k.useCallback)((e,t,n)=>{u.current[e]&&u.current[e].addSystemTurn(t,n)},[]),M=(0,k.useCallback)((e,t)=>{u.current[e]&&u.current[e].removeClientMessages(t)},[]),D=(0,k.useCallback)((e,t,n)=>{u.current[e]&&u.current[e].deleteMessages(t,n)},[]),j=(0,k.useCallback)(async e=>{var t,n;return(null===(t=u.current[e])||void 0===t?void 0:t.isInitialized())?(await u.current[e].fetchMessageHistory(),!!(null===(n=u.current[e])||void 0===n?void 0:n.has_more)):null},[]),U=(0,k.useCallback)(e=>{g(e)},[]);return k.createElement(eI.Provider,{value:{subscribe:_,publish:R,refresh:x,refreshUser:C,subscribeChatEvents:b,removeUnfocusedInstances:P,deleteMessages:D,removeClientMessages:M,getChatMessages:j,setupAxios:E.C7,updatePrimaryCandidateMap:O,setPrimaryCandidateOfTurn:A,reconnect:e_,updateConfiguration:y,deleteInstance:w,chatManagerInitialized:d,isRoom:!!l,addSystemTurn:N,generationMode:m,updateGenerationMode:U},children:t})},eA=()=>(0,k.useContext)(eI),eN=(e,t,n,r,i,o)=>{let s;switch(e){case L.Em.Neo:s=new ex(e,t,n,r,null==i?void 0:i.externalHistoryId,null==i?void 0:i.character);break;case L.Em.Room:s=new ek(e,t,n,r,null==i?void 0:i.externalHistoryId)}return null==s||s.initialize(null==i?void 0:i.newHistory,null==i?void 0:i.fetchAllCandidates,o),s}},50926:function(e,t,n){"use strict";var r,i,o,s,a,l,c,u,d,h;n.d(t,{$3:function(){return a},Aj:function(){return g},B8:function(){return b},CX:function(){return f},DE:function(){return o},Em:function(){return s},HH:function(){return i},P$:function(){return v},gn:function(){return p},qN:function(){return r},rf:function(){return y},vF:function(){return m}}),(l=r||(r={}))[l.messages=0]="messages",l[l.error=1]="error",l[l.filter=2]="filter",l[l.abort=3]="abort",l[l.receive_fail=4]="receive_fail",l[l.message_finished=5]="message_finished",l[l.message_edited=6]="message_edited",l[l.websocket_status=7]="websocket_status",l[l.websocket_error=8]="websocket_error",l[l.unrecoverable_error=9]="unrecoverable_error",l[l.updated=10]="updated",l[l.deleted=11]="deleted",l[l.state_update=12]="state_update",l[l.self_harm_detected=13]="self_harm_detected",l[l.user_input_filtered=14]="user_input_filtered",l[l.image_failed_content_policy=15]="image_failed_content_policy",l[l.generation_mode_update=16]="generation_mode_update",l[l.conversation_facts_updated=17]="conversation_facts_updated",(c=i||(i={})).none="none",c.sending="sending",c.fetchingHistory="fetchingHistory",c.fetchMessages="fetchMessages",c.cancelling="cancelling",c.dead="dead";let p="dummy_msg",f="upsell_candidate",m="typing_msg",g="Self harm message detected",v="User input filtered",y="Character no longer available.",b="client_system";(u=o||(o={})).CharacterNotAvailable="character_not_available",u.UnexpectedError="unexpected_error",(d=s||(s={})).Neo="neo",d.Room="room",(h=a||(a={})).open="open",h.closed="closed",h.error="error",h.reconnecting="reconnecting"},52905:function(e,t,n){"use strict";let r;n.d(t,{J:function(){return i},a:function(){return r}});let i=e=>{r=e}},8950:function(e,t,n){"use strict";var r,i,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,_,C,x,k,S,E,T;n.d(t,{AR:function(){return o},Cr:function(){return d},I9:function(){return l},KW:function(){return f},MW:function(){return c},OY:function(){return a},PD:function(){return i},Y6:function(){return p},Yn:function(){return m},dw:function(){return P},sh:function(){return u},zd:function(){return s}}),(g=r||(r={})).LONGER="LONGER",g.SHORTER="SHORTER",(v=i||(i={})).SET="SET",v.IGNORE="IGNORE",(y=o||(o={})).NORMAL="MODE_NORMAL",y.SLOW="MODE_SLOW",y.UNSPECIFIED="MODE_UNSPECIFIED",(b=s||(s={})).add_turn="add_turn",b.update_turn="update_turn",b.create_chat_response="create_chat_response",b.neo_error="neo_error",b.filter_user_input="filter_user_input",b.filter_user_input_self_harm="filter_user_input_self_harm",b.remove_turns_response="remove_turns_response",b.remove_turn="remove_turn",b.update_mu_room_response="update_mu_room_response",b.delete_mu_room="delete_mu_room",b.mu_state_update="state_update",b.ok_response="ok";let P={TooManyMessagesToCopy:{errorCode:412},MultiGeneration:{errorCode:429,subCode:1},TooManyPins:{errorCode:429,subCode:16},ImageFailedContentPolicy:{subCode:1e4},TooManyModelChanges:{errorCode:429}};(w=a||(a={})).create_chat="create_chat",w.create_turn="create_turn",w.create_and_generate_turn="create_and_generate_turn",w.generate_turn="generate_turn",w.generate_turn_candidate="generate_turn_candidate",w.generate_greeting="generate_greeting",w.remove_turn="remove_turn",w.set_turn_pin="set_turn_pin",w.abort_generation="abort_generation",w.ping="ping",w.edit_turn_candidate="edit_turn_candidate",w.mu_state_update="state_update",w.update_primary_candidate="update_primary_candidate",(_=l||(l={})).private="VISIBILITY_PRIVATE",_.public="VISIBILITY_PUBLIC",_.unlisted="VISIBILITY_UNLISTED",(C=c||(c={})).unspecified="TYPE_UNSPECIFIED",C.direct="TYPE_ONE_ON_ONE",C.room="TYPE_ROOM",C.multiuser="TYPE_MU_ROOM",(x=u||(u={})).unspecified="STATE_UNSPECIFIED",x.active="STATE_ACTIVE",x.locked="STATE_LOCKED",x.removed="STATE_REMOVED",x.archived="STATE_ARCHIVED",(k=d||(d={})).fast="MODEL_TYPE_FAST",k.smart="MODEL_TYPE_SMART",k.balanced="MODEL_TYPE_BALANCED",k.family_friendly="MODEL_TYPE_FAMILY_FRIENDLY",k.memory_optimized="MODEL_TYPE_MEMORY_OPTIMIZED",k.multilingual="MODEL_TYPE_MULTILINGUAL",k.dynamic="MODEL_TYPE_DYNAMIC",k.thinking="MODEL_TYPE_THINKING",k.romantic="MODEL_TYPE_ROMANTIC",k.french="MODEL_TYPE_FRENCH",k.chinese="MODEL_TYPE_CHINESE",(S=h||(h={})).shorter="SHORTER",S.normal="NORMAL",S.longer="LONGER",(p||(p={})).TYPE_MU_ROOM="TYPE_MU_ROOM",(E=f||(f={})).boring="boring",E.not_boring="not_boring",E.inaccurate="inaccurate",E.not_inaccurate="not_inaccurate",E.repetitive="repetitive",E.not_repetitive="not_repetitive",E.out_of_character="out_of_character",E.not_out_of_character="not_out_of_character",E.bad_memory="bad_memory",E.not_bad_memory="not_bad_memory",E.long="long",E.not_long="not_long",E.short="short",E.not_short="not_short",E.ends_chat_early="ends_chat_early",E.not_ends_chat_early="not_ends_chat_early",E.funny="funny",E.not_funny="not_funny",E.interesting="interesting",E.not_interesting="not_interesting",E.helpful="helpful",E.not_helpful="not_helpful",(T=m||(m={})).PROCESSING="PROCESSING",T.COMPLETED="COMPLETED",T.ERRORED="ERRORED",T.QUEUED="QUEUED"},47022:function(e,t,n){"use strict";n.d(t,{R:function(){return r.Rv},m:function(){return r.mx}});var r=n(98945)},27122:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(92357);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.od)();return{hideCharacter:async t=>{let n=await e({method:"post",url:"/chat/character/hide/",data:{external_id:t}});if("OK"!==n.data.status)throw Error("Failed to hide character ".concat(t,": ").concat(n.status))},fetchBirthdayStatus:async()=>e.get("/chat/user/get-user-birthday-status/",{validateStatus:e=>[200,400].includes(e)}),updateUserBirthday:async t=>await e.put("/chat/user/update-user-birthday/",{date_of_birth:t},{validateStatus:e=>[200,400].includes(e)})}}},79937:function(e,t,n){"use strict";n.d(t,{m:function(){return l}});var r=n(59887),i=n(92357),o=n(61346),s=n(48374),a=n(8950);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.od)();return{fetchCombinedRecentChats:async t=>{let[n,r]=await Promise.all([l(e).fetchRecentChats(),t?l(e).fetchRooms():void 0]),i=[];return i.push(...n.map(e=>{var t;return{id:e.chat_id,character_id:e.character_id,name:null!==(t=e.character_name)&&void 0!==t?t:"Unknown",avatar_file_name:e.character_avatar_uri,date:e.create_time,character_visibility:e.character_visibility,isNeo:!0,unread_count:e.unread_count,streak:e.streak,scene_id:e.scene_id}})),r&&i.push(...r),i.sort((e,t)=>(0,s.iH)(t)-(0,s.iH)(e)),i},fetchMergedRecentChats:t=>l(e).fetchCombinedRecentChats(t),fetchMergedHistories:async t=>(await l(e).fetchCombinedHistories(t)).map(e=>({...e,isNeo:!0})),fetchCombinedHistories:async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=await l(e).fetchChats(t,n),i=null==r?void 0:r.data.chats;if(i)for(let e of i){var o;if(null===(o=e.preview_turns)||void 0===o?void 0:o.length){let t=e.preview_turns[e.preview_turns.length-1];e.last_interaction=t.create_time}}let a=null!=i?i:[];return a.sort((e,t)=>(0,s.Kp)(t)-(0,s.Kp)(e)),a},fetchRecentChat:async t=>{let n=encodeURIComponent(t),r=await e({baseURL:(0,o.tU)(),method:"get",url:"/chats/recent/".concat(n)});if(r)return r;throw Error("No response from server")},fetchRecentChats:async()=>{let t=await e({baseURL:(0,o.tU)(),method:"get",url:"chats/recent/"});if(t)return l(e).fetchRecentChatsUnreadCount(t.data.chats);throw Error("No response from server")},fetchRecentChatsUnreadCount:async t=>{let n=(null!=t?t:[]).filter(e=>e.state!==a.sh.archived);if(!(null==n?void 0:n.length))return n;try{let t=new Date().toISOString(),r=n.map(e=>({chat_id:e.chat_id,timestamp:t})),i=await e({baseURL:(0,o.tU)(),method:"post",url:"/turns/count",data:{chat_markers:r}});i.data.turn_counts&&i.data.turn_counts.forEach(e=>{let t=n.find(t=>t.chat_id===e.chat_id);if(t){var r;t.unread_count=Number(null!==(r=e.count)&&void 0!==r?r:0)}})}catch(e){r.$G.logError("Failed to fetch recent chats unread counts",{error:e})}return n},fetchChat:(t,n)=>{let r=encodeURIComponent(t);return e({baseURL:(0,o.tU)(),method:"get",url:"chat/".concat(r,"/"),params:n})},fetchChats:(t,n)=>e({baseURL:(0,o.tU)(),method:"get",url:"chats/",params:{character_ids:t,num_preview_turns:n}}),fetchRooms:async()=>{let t=await e({baseURL:(0,o.tU)(),method:"get",url:"murooms/",params:{include_turns:!1}});if(t)return t.data.rooms},fetchUser:()=>e({baseURL:(0,o.tU)(),method:"get",url:"user/","axios-retry":i.Dj.Enabled}),fetchUserPublic:t=>e({baseURL:(0,o.tU)(),method:"get",url:"user/public",params:{username:t},"axios-retry":i.Dj.Enabled}),fetchUserAnon:t=>e({baseURL:(0,o.tU)(),method:"get",url:"public/user/anon",params:{username:t},"axios-retry":i.Dj.Enabled}),fetchUserNuxStatus:async()=>{let t=await e({baseURL:(0,o.tU)(),method:"get",url:"user/nux_status/"});return null==t?void 0:t.data},upsertUserNuxStatus:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"user/upsert_nux_status/",data:t});return null==n?void 0:n.data},fetchNuxTopics:async()=>{let t=await e({baseURL:(0,o.tU)(),method:"get",url:"/user/nux_topics/"});return null==t?void 0:t.data},upsertNuxCharacterIds:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/user/nux_character_ids/",data:{character_ids:t}});return null==n?void 0:n.data},fetchTurns:async(t,n)=>{let r=await e({baseURL:(0,o.tU)(),method:"get",url:"turns/".concat(t,"/"),params:n});if(r)return r;throw Error("No turns response from server")},resurrectChat:t=>e({baseURL:(0,o.tU)(),method:"get",url:"chat/".concat(t,"/resurrect")}),hideCharacterChat:async t=>{let n=!1;try{await e({baseURL:(0,o.tU)(),method:"put",url:"chats/recent/".concat(t,"/hide")}),n=!0}catch(e){}try{let r=await e.post("/chat/history/hide/",{character_external_id:t});n=n||"OK"===r.data.status}catch(e){}return n},healthCheck:async()=>{await e({baseURL:(0,o.tU)(),method:"get",url:"health/"})},ping:()=>e({baseURL:(0,o.tU)(),method:"get",url:"ping/",withCredentials:!0}),createAnnotation:(t,n,r)=>e({baseURL:(0,o.tU)(),method:"post",url:"annotation/create",data:{turn_key:t,candidate_id:n,annotation:r}}),removeAnnotation:(t,n,r)=>e({baseURL:(0,o.tU)(),method:"post",url:"annotation/remove",data:{turn_key:t,candidate_id:n,annotation_id:r}}),fetchAnnotations:(t,n)=>e({baseURL:(0,o.tU)(),method:"post",url:"annotations/".concat(t.chat_id,"/").concat(t.turn_id,"/").concat(n)}),notificationsRegister:t=>e({baseURL:(0,o.tU)(),method:"put",url:"device_register/",data:t}),notificationsTokenRemove:t=>e({baseURL:(0,o.tU)(),method:"delete",url:"remove_device/",data:t}),notificationModeUpdate:t=>e({baseURL:(0,o.tU)(),method:"put",url:"/notifications?mode=".concat(t.mode)}),getNotificationMode:()=>e({baseURL:(0,o.tU)(),method:"get",url:"/notifications/mode"}),getNotificationHistory:()=>e({baseURL:(0,o.tU)(),method:"get",url:"/notifications/history"}),deleteAccount:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e({baseURL:(0,o.tU)(),method:"delete",url:"/account",data:{export_data:t}})},renameChat:t=>{let{chatId:n,name:r}=t;return e({baseURL:(0,o.tU)(),method:"patch",url:"chat/".concat(n,"/update_name"),data:{name:r}})},updateChatPreferredModelType:t=>{let{chatId:n,model:r}=t;return e({baseURL:(0,o.tU)(),method:"patch",url:"chat/".concat(n,"/preferred-model-type"),data:{preferred_model_type:r}})},updateChatResponseLength:t=>{let{chatId:n,length:r}=t;return e({baseURL:(0,o.tU)(),method:"patch",url:"chat/".concat(n,"/update-response-length"),data:{response_length:r}})},copyChat:t=>{let{chatId:n,endTurnId:r,overrides:i}=t;return e({baseURL:(0,o.tU)(),method:"post",url:"chat/".concat(n,"/copy"),data:{end_turn_id:r,overrides:i}})},archiveChat:t=>{let{chatId:n}=t;return e({baseURL:(0,o.tU)(),method:"patch",url:"chat/".concat(n,"/archive")})},unarchiveChat:t=>{let{chatId:n}=t;return e({baseURL:(0,o.tU)(),method:"patch",url:"chat/".concat(n,"/unarchive")})},fetchUsageQuota:()=>e({baseURL:(0,o.tU)(),method:"get",url:"/usage",params:{function:"generate_turn",intervals:"MONTH"}}),generateImage:async t=>(await e({baseURL:(0,o.tU)(),method:"post",url:"/multimodal/api/v1/media/generation/generateImage",data:t})).data.imageURLs,imagineChat:async t=>(await e({baseURL:(0,o.tU)(),method:"post",url:"/image/in_chat_imagine",data:t})).data,updateChatMetadata:async t=>{var n,r,i;return(await e({baseURL:(0,o.tU)(),method:"put",url:"/chat/".concat(t.chat_id,"/update_metadata"),data:{metadata:{chat_id:t.chat_id,metadata_id:null!==(n=t.metadata_id)&&void 0!==n?n:"",background_image_url:null!==(r=t.background_image_url)&&void 0!==r?r:"",color_scheme_id:null!==(i=t.color_scheme_id)&&void 0!==i?i:""}}})).data.metadata},searchCharacters:async(t,n,r)=>{var i;let{data:s}=await e({baseURL:(0,o.tU)(),method:"get",url:"/search/v1/character",params:{query:t,tagId:n,sortedBy:r}});return{characters:s.characters,uuid:s.uuid,tags:null!==(i=s.tags)&&void 0!==i?i:[],safetyFiltered:s.safety_filtered}},getTrendingSearches:async()=>{let{data:{trending_search_queries:t}}=await e({baseURL:(0,o.tU)(),method:"get",url:"/search/v1/query/trending"});return{trending_search_queries:t}},searchCreators:async(t,n)=>{let r=await e({baseURL:(0,o.tU)(),method:"get",url:"/search/v1/creator",params:{query:t,sortedBy:n}});return{creators:null==r?void 0:r.data.creators,uuid:null==r?void 0:r.data.uuid}},getAutocompleteSearch:async(t,n)=>(await e({baseURL:(0,o.tU)(),method:"get",url:"/search/v1/query/autocomplete",params:{query_prefix:t},signal:null==n?void 0:n.signal})).data,getPopularSearches:async()=>(await e({baseURL:(0,o.tU)(),method:"get",url:"/search/v1/query/popular"})).data,moderateCharacter:async(t,n,r)=>{let i={action:n,...r&&{char_prev_user_id:r}},s=await e({baseURL:(0,o.tU)(),method:"post",url:"moderation/v1/entities/characters/".concat(t,"/moderate"),data:i});return null==s?void 0:s.data.success},getCharacterSafety:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"get",url:"/moderation/v1/entities/characters/".concat(t)});return null==n?void 0:n.data},getAvailableModels:async()=>{let t=await e({baseURL:(0,o.tU)(),method:"get",url:"/get-available-models"});return null==t?void 0:t.data.available_models},removeTurns:(t,n)=>e({baseURL:(0,o.tU)(),method:"post",url:"turns/".concat(t,"/remove"),data:{turn_ids:n}}),getUserPersonas:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"get",url:"/character/v1/get_user_personas?force_refresh=".concat(t?1:0)});return null==n?void 0:n.data.personas},getPersona:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"get",url:"/character/v1/get_persona/".concat(t)});return null==n?void 0:n.data.persona},createPersona:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/character/v1/create_persona",data:t});return null==n?void 0:n.data},updatePersona:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/character/v1/update_persona",data:{...t.changes,external_id:t.external_id}});return null==n?void 0:n.data},getVotedFor:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"get",url:"/character/v1/character_voted/".concat(t,"/voted")});return null==n?void 0:n.data},getCharacterVotes:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"get",url:"/character/v1/get_character_votes/".concat(t)});return null==n?void 0:n.data},getCharactersVotes:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/character/v1/get_characters_votes",data:{character_ids:t}});return null==n?void 0:n.data},getUpvotedCharacters:async()=>{let t=await e({baseURL:(0,o.tU)(),method:"get",url:"/character/v1/upvoted_characters"});return null==t?void 0:t.data.characters},voteCharacter:async(t,n)=>{let r=await e({baseURL:(0,o.tU)(),method:"post",url:"/character/v1/vote_character",data:{external_id:t,vote:n}});return null==r?void 0:r.data},fetchCharacterInfo:async(t,n)=>(await e({baseURL:(0,o.tU)(),method:"post",url:"/character/v1/get_character_info",data:{external_id:t,lang:n}})).data,fetchCharactersCreatedByUser:async()=>{let t=await e({baseURL:(0,o.tU)(),method:"get",url:"/character/v1/get_characters_created_by_user"});return null==t?void 0:t.data},createCharacter:async t=>{let{data:n,headers:r}=t,i=await e({baseURL:(0,o.tU)(),method:"post",url:"/character/v1/create_character",data:{...n},headers:r});return null==i?void 0:i.data},updateCharacter:async t=>{let{data:n,headers:r}=t,i=await e({baseURL:(0,o.tU)(),method:"post",url:"/character/v1/update_character",data:{...n},headers:r});return null==i?void 0:i.data},uploadPrivateImage:async t=>{let{formData:n,abortSignal:r}=t,i=await e({baseURL:(0,o.tU)(),method:"post",signal:r,url:"/image/upload_private_image",data:n,headers:{"Content-Type":"multipart/form-data"}}),s=null==i?void 0:i.data.value;if(!s)throw Error("Private image upload failed to return url");return s},generateImageDescription:async t=>(await e({baseURL:(0,o.tU)(),method:"post",url:"/studio-labs/v1/generate_image_description",data:t})).data,getParentalLinks:async()=>{let t=await e({baseURL:(0,o.tU)(),method:"get",url:"/moderation/v1/parental/links"});return null==t?void 0:t.data},createParentalLink:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/moderation/v1/parental/links",data:t});return null==n?void 0:n.data},unlinkParentalAccount:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/moderation/v1/parental/requests/unlink",data:t});return null==n?void 0:n.data},resendParentalRequest:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/moderation/v1/parental/requests/resend",data:t});return null==n?void 0:n.data},cancelParentalRequest:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/moderation/v1/parental/requests/cancel",data:t});return null==n?void 0:n.data},confirmParentalRequest:async(t,n)=>{let r=await e({baseURL:(0,o.tU)(),method:"post",url:"/moderation/v1/parental/requests/".concat(t,"/confirm"),data:{secret:n}});return null==r?void 0:r.data},sendIncentivizedInviteClaimRewardLink:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/invite/send_claim_reward_notification",data:{invite_code:t}});return null==n?void 0:n.data.success},getUserRecommendations:async()=>{let t=await e({baseURL:(0,o.tU)(),method:"get",url:"/recommendation/v1/user"});return null==t?void 0:t.data},getConversationFacts:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"get",url:"/chat/".concat(t,"/conversation-facts/")});return null==n?void 0:n.data},updateConversationFacts:async(t,n)=>await e({baseURL:(0,o.tU)(),method:"put",url:"/chat/".concat(t,"/conversation-facts/"),data:{overrides:n}}),checkImageSafety:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/image/character_avatar_safety_check",data:{image_url:t}});return null==n?void 0:n.data},uploadStudioAudio:async t=>{let n=new FormData;n.append("audio_file",t);let r=await e({baseURL:(0,o.tU)(),method:"post",url:"/studio-labs/v1/upload_audio",data:n,headers:{"Content-Type":"multipart/form-data"}});return null==r?void 0:r.data},getVoiceOver:async(t,n)=>{let r=await e({baseURL:(0,o.tU)(),method:"post",url:"/studio-labs/v1/voice_over",data:{voice_id:t,text:n}});return null==r?void 0:r.data},generateVideo:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/studio-labs/v1/video_generation",data:t});return{data:null==n?void 0:n.data,headers:null==n?void 0:n.headers}},transformImage:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/studio-labs/v1/transform_image",data:t});return{data:null==n?void 0:n.data,headers:null==n?void 0:n.headers}},getVideoStatus:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"get",url:"/studio-labs/v1/video_generation_status/".concat(t,"?video_type=avatar_fx")});return null==n?void 0:n.data.data},getVideoGenerationHistory:async()=>{let t=await e({baseURL:(0,o.tU)(),method:"get",url:"/studio-labs/v1/video_generation/history"});return null==t?void 0:t.data},postPublicVideo:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/studio-labs/v1/share_video",data:t});return{data:null==n?void 0:n.data,headers:null==n?void 0:n.headers}},getPublicVideo:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"get",url:"/studio-labs/v1/shared_video_info/".concat(t)});return null==n?void 0:n.data},getCharacterTagsOptions:async()=>{let t=await e({baseURL:(0,o.tU)(),method:"get",url:"/character/v1/character_tag_options"});return null==t?void 0:t.data},getCharacterTagsObjects:async t=>{let n=await e("".concat((0,o.tU)(),"/character/v1/character_tags/").concat(t));return null==n?void 0:n.data},getCharactersTagsInfo:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/character/v1/characters_tags_info",data:{external_ids:t}});return null==n?void 0:n.data},suggestCharacterTag:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/character/v1/character_tag_proposal",data:{tag:t}});return null==n?void 0:n.data},imagineChatSnippet:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"post",url:"/chat/imagine/snippet_video",data:t});return null==n?void 0:n.data},pollImagineGeneration:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"get",url:"/chat/imagine/snippet_video/".concat(t)});return null==n?void 0:n.data},fetchStickers:async t=>{let n=await e({baseURL:(0,o.tU)(),method:"get",url:"/stickers",params:{sticker_pack_ids:t},paramsSerializer:e=>e.sticker_pack_ids?e.sticker_pack_ids.map(e=>"sticker_pack_ids=".concat(encodeURIComponent(e))).join("&"):""});return null==n?void 0:n.data},generateSuggestedReplies:async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2?arguments[2]:void 0,i=await e.post("/turns/suggested-replies/",{chat_id:t,num_replies:n},{signal:null==r?void 0:r.signal,baseURL:(0,o.tU)()});return null==i?void 0:i.data}}}},30970:function(e,t,n){"use strict";n.d(t,{AA:function(){return a},JY:function(){return s},Kj:function(){return l}});var r=n(6364),i=n(5192),o=n(13789);let s=e=>{let{userId:t,enabled:n}=e,r=(0,i.dq)();return(0,o.aM)({queryKey:["balances"],queryFn:()=>r.balances(t),staleTime:3e5,enabled:n})},a=e=>{let{userId:t,rewardType:n}=e,o=(0,i.dq)(),s={transaction_id:(0,r.Z)(),user_id:t,type:n,caller:"client"};return{queryKey:["reward",n],queryFn:()=>o.reward(s,t)}},l=e=>{let{enabled:t}=e,n=(0,i.dq)();return(0,o.aM)({queryKey:["giveaway-eligibility"],queryFn:()=>n.giveawayEligible(),staleTime:3e5,enabled:t})}},3963:function(e,t,n){"use strict";n.d(t,{Hc:function(){return s},Ph:function(){return a},Rv:function(){return d},Vq:function(){return l},b4:function(){return c},tl:function(){return u}});var r=n(79937),i=n(92357),o=n(61346);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.od)();return{character:{keys:["character"]},info:{keys:e=>[...s().character.keys,"info",e],queryFn:(t,n)=>e.post("".concat((0,o.tU)(),"character/v1/get_character_info"),{external_id:t,lang:n})},infos:{keys:e=>[...s().character.keys,"info",...e],queryFn:t=>e.post("".concat((0,o.tU)(),"character/v1/get_character_infos"),{external_ids:t})},detailed:{keys:e=>[...s().character.keys,"detailed",e],queryFn:t=>e.post("".concat((0,o.tU)(),"character/v1/get_character"),{external_id:t})},recommended:{keys:e=>[...s().character.keys,"recommended",e],queryFn:t=>e.get("".concat((0,o.tU)(),"recommendation/v1/character/").concat(t))},similar:{keys:e=>[...s().character.keys,"similar",e],queryFn:t=>e.get("".concat((0,o.tU)(),"recommendation/v1/character/similar/").concat(t))},about:{keys:e=>[...s().character.keys,"about",e],queryFn:t=>e.get("".concat((0,o.tU)(),"character/v1/character/about/").concat(t))}}},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.od)();return{characters:{keys:["characters"]},following:{keys:()=>[...a().characters.keys,"following"],queryFn:()=>e.get("".concat((0,o.tU)(),"recommendation/v1/following"))},featured:{keys:()=>[...a().characters.keys,"featured"],queryFn:()=>e.get("".concat((0,o.tU)(),"recommendation/v1/featured"))},recent:{keys:e=>[...a().characters.keys,"recent",e],queryFn:t=>(0,r.m)(e).fetchMergedRecentChats(t)},trending:{keys:()=>[...a().characters.keys,"trending"],queryFn:()=>e.get("".concat((0,o.tU)(),"recommendation/v1/trending"))},recommended:{keys:()=>[...a().characters.keys,"recommended"],queryFn:async t=>e.get("".concat((0,o.tU)(),"recommendation/v1/user"),{params:t})},recommendedSignedOut:{keys:()=>[...a().characters.keys,"recommended-signed-out"],queryFn:async()=>e.get("".concat((0,o.tU)(),"recommendation/v1/anon"))},recommendedSignedOutNux:{keys:()=>[...a().characters.keys,"recommended-signed-out-nux"],queryFn:async()=>e.get("".concat((0,o.tU)(),"recommendation/v1/anon_nux"))},curatedLists:{keys:e=>[...a().characters.keys,"curated-lists",...e],queryFn:t=>{let n=new URL("".concat((0,o.tU)(),"recommendation/v1/curated_character_lists"));return t.forEach(e=>{n.searchParams.append("list_id",e)}),e.get(n.toString())}},curated:{keys:()=>[...a().characters.keys,"curated"],queryFn:()=>e.get("/chat/curated_categories/characters/")},categories:{keys:()=>[...a().characters.keys,"categories"],queryFn:()=>e.get("/chat/character/categories/")},discoveryTags:{keys:()=>[...a().characters.keys,"discoveryTags"],queryFn:()=>e.get("".concat((0,o.tU)(),"recommendation/v1/discovery_tags"))},charactersWithSelectedTag:{keys:e=>[...a().characters.keys,"charactersWithSelectedTag",e],queryFn:t=>e.get("".concat((0,o.tU)(),"recommendation/v1/characters_with_tag/").concat(t))},characterFeed:{keys:()=>[...a().characters.keys,"characterFeed"],queryFn:()=>e.get("".concat((0,o.tU)(),"recommendation/v1/feed"))},characterFeedSignedOut:{keys:()=>[...a().characters.keys,"characterFeed"],queryFn:()=>e.get("".concat((0,o.tU)(),"recommendation/v1/feed_anon"))}}},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.od)();return{user:{keys:["user"],queryFn:()=>(0,r.m)(e).fetchUser()},settings:{keys:()=>[...l().user.keys,"user-settings"],queryFn:()=>e.get("/chat/user/settings/")},characters:{keys:()=>[...l().user.keys,"characters"],queryFn:()=>(0,r.m)(e).fetchCharactersCreatedByUser()},public:{keys:e=>[...l().user.keys,"public",e]}}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.od)();return{voice:{keys:["voice"]},voiceOverride:{keys:e=>[...c().voice.keys,"voice-override",e],queryFn:t=>e.get("/chat/character/".concat(t,"/voice_override/"))},userVoices:{keys:()=>[...c().voice.keys,"user-voices"],queryFn:()=>e.get("".concat((0,o.$n)(),"/v1/voices/user"))},systemVoices:{keys:()=>[...c().voice.keys,"system"],queryFn:()=>e.get("".concat((0,o.$n)(),"/v1/voices/system"))},featuredVoices:{keys:()=>[...c().voice.keys,"featured"],queryFn:()=>e.get("".concat((0,o.$n)(),"/v1/voices/featured"))},singleVoice:{keys:(e,t)=>[...c().voice.keys,"single-voice-".concat(e,"-").concat(t?"search":"")],queryFn:(t,n)=>e.get("".concat((0,o.$n)(),"/v1/voices/").concat(t).concat(n?"?useSearch=true":""))},searchVoice:{keys:(e,t)=>["search-voices",e,t],queryFn:(t,n)=>e.get("".concat((0,o.$n)(),"/v1/voices/search?").concat(n?"characterName":"query","=").concat(encodeURIComponent(t)))},voicesByCreator:{keys:e=>["voices-by-creator",e],queryFn:t=>e.get("".concat((0,o.$n)(),"/v1/voices/search?creatorInfo.username=").concat(encodeURIComponent(t)))},voiceMemo:{keys:(e,t,n,r,i)=>["voiceMemo",e,t,n,r,i],queryFn:(t,n,r,i,s)=>e.post("".concat((0,o.$n)(),"/v1/memo/replay"),{roomId:t,turnId:n,candidateId:r,voiceId:i,voiceQuery:s})}}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.od)();return{scene:{keys:e=>["scene",e],queryFn:t=>e.get("".concat((0,o.tU)(),"scene/v1/scene/").concat(t))},scenes:{keys:e=>["scenes",e]},curated:{keys:()=>["scenes","curated"],queryFn:()=>e.get("".concat((0,o.tU)(),"scene/v1/scenes?curated=true"))}}},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.od)();return{usage:()=>({keys:()=>["usage"],queryFn:async()=>{var t,n;let i=await (0,r.m)(e).fetchUsageQuota();return null!==(n=null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.MONTH)&&void 0!==n?n:0}}),usageQuota:(e,t)=>({keys:()=>["usage","quota",e],queryFn:()=>({quotaExceeded:t>e,approachingQuota:t>.9*e})}),usageQuotaAllKeys:()=>["usage","quota"],featureLimits:()=>({baseKey:()=>["feature-limits"],keys:e=>["feature-limits",e],queryFn:t=>e.get("".concat((0,o.tU)(),"feature_limits/").concat(t))})}}},38978:function(e,t,n){"use strict";n.d(t,{HT:function(){return v},Kz:function(){return b},NU:function(){return f},XS:function(){return g},bA:function(){return y},c6:function(){return m},gV:function(){return _},j8:function(){return p},kI:function(){return h},mL:function(){return x},ph:function(){return C},rA:function(){return d},uQ:function(){return w}});var r=n(2784);n(68765);var i=n(27122),o=n(79937),s=n(92357),a=n(22738),l=n(3963),c=n(13789);let u=e=>e.map(e=>{let{text:t}=e;return'"'===t[0]&&'"'===t[t.length-1]?{...e,text:t.slice(1,-1)}:e}),d=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(0,c.Db)(async t=>{var n;let r=Array.from({length:null!==(n=t.num_candidates)&&void 0!==n?n:1},()=>{var e;return(0,s.od)().post("chat/character/generate/field",{field_to_generate:t.field_to_generate,num_candidates:null!==(e=t.num_candidates)&&void 0!==e?e:1,metadata:t.metadata})});return(await Promise.all(r)).filter(e=>e.data.result).map(t=>e?u(t.data.result):t.data.result).flat()})},h=()=>(0,c.Db)(async e=>(await (0,s.od)().post("chat/character/generate-avatar-options",e)).data),p="Character is blocked",f=()=>{let e=(0,c.NL)();return(0,c.Db)(async e=>{let{data:t,headers:n}=e,r=await (0,o.m)().createCharacter({data:t,headers:n});if(!r.character)throw Error(r.status);return r.character},{onSuccess:()=>{e.invalidateQueries((0,l.Vq)().characters.keys())}})},m=()=>{let e=(0,c.NL)();return(0,c.Db)(async e=>{let{data:t,headers:n}=e,r=await (0,o.m)().updateCharacter({data:t,headers:n});if(!r.character)throw Error(r.status);return r.character},{onSuccess:t=>{e.invalidateQueries((0,l.Vq)().characters.keys()),e.invalidateQueries((0,l.Hc)().detailed.keys(t.external_id)),e.invalidateQueries((0,l.Hc)().info.keys(t.external_id))}})},g=(e,t)=>{var n,r;let i=(0,c.aM)({enabled:!!e,queryKey:(0,l.Hc)().info.keys(null!=e?e:""),queryFn:()=>(0,l.Hc)().info.queryFn(e,t),staleTime:1/0});return{...i,character:null===(r=i.data)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.character}},v=function(e){var t,n;let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=(0,c.aM)({enabled:r&&e.length>0,queryKey:(0,l.Hc)().infos.keys(e),queryFn:()=>(0,l.Hc)().infos.queryFn(e)});return{...i,characters:null===(n=i.data)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.characters}},y=e=>{let t=(0,c.NL)();return(0,r.useCallback)(async()=>{await (0,i.U)().hideCharacter(e),a.Y.value=a.Y.value.concat(e)},[e,t])},b=()=>{let e=(0,c.NL)();return(0,c.Db)(async e=>{let{externalId:t}=e;return await (0,o.m)().hideCharacterChat(t)},{onSuccess:()=>{e.invalidateQueries((0,l.Ph)().recent.keys(!1))}})},w=e=>{var t,n;let r=(0,c.aM)({queryKey:(0,l.Hc)().similar.keys(null!=e?e:""),queryFn:async()=>(0,l.Hc)().similar.queryFn(e),staleTime:9e5,enabled:!!e});return{...r,similarCharacters:null!==(n=null===(t=r.data)||void 0===t?void 0:t.data.characters)&&void 0!==n?n:[]}},_=()=>{let e=(0,c.aM)({queryFn:async()=>(await (0,o.m)().getCharacterTagsOptions()).tags});return{...e,tags:e.data}},C=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,c.aM)({queryKey:["charactersTagsInfo",e],enabled:t&&!!e,queryFn:()=>(0,o.m)().getCharactersTagsInfo(null!=e?e:[])});return{...n,tags_info:n.data}},x=()=>(0,c.Db)(async e=>(await (0,o.m)().suggestCharacterTag(e)).message)},91503:function(e,t,n){"use strict";n.d(t,{Ao:function(){return h},Bx:function(){return b},I0:function(){return g},Mk:function(){return c},O2:function(){return u},RJ:function(){return l},S_:function(){return a},Us:function(){return y},b3:function(){return m},e7:function(){return v},ew:function(){return p},gL:function(){return d},os:function(){return f}});var r=n(2784),i=n(8950),o=n(79937);n(92357),n(61346);var s=n(13789);let a={chat:e=>["chat",e],pinnedTurns:e=>["pinned-turns",e],character:["character"],history:e=>[...a.character,"history",e],availableModels:["availableModels"],suggestedReplies:(e,t)=>["suggested-replies",e,t]},l=e=>{let t=(0,s.aM)({queryKey:a.chat(e),queryFn:async()=>{if(e){let t=await (0,o.m)().fetchChat(e,{load_metadata:!0});return null==t?void 0:t.data}},staleTime:1/0,enabled:!!e});return{...t,chat:t.data}},c=()=>{let e=(0,s.NL)();return(0,s.Db)(async e=>await (0,o.m)().updateChatMetadata(e),{onSuccess:t=>{(null==t?void 0:t.chat_id)&&e.setQueryData(a.chat(t.chat_id),e=>e?{...e,metadata:t}:e)}})},u=(e,t)=>{let[n,i]=(0,r.useState)({}),a=(0,s.Db)(async()=>{var n,r;let i=await (0,o.m)().fetchAnnotations(e,t);return null!==(r=null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.annotations)&&void 0!==r?r:[]},{onSuccess:e=>{let t={};e.forEach(e=>{let{annotation_type:n,removed:r}=e;r||(t[n]=e)}),i(t)}});(0,r.useEffect)(()=>a.mutate(),[t]);let l=async n=>{var r;let{annotation_type:i,annotation_value:s,annotation_raw_content:a}=n,l={annotation_type:i,annotation_value:null!=s?s:1,...a&&{annotation_raw_content:a}},c=await (0,o.m)().createAnnotation(e,t,l);return null==c?void 0:null===(r=c.data)||void 0===r?void 0:r.annotation},c=e=>{if(!e)return;let{annotation_type:t}=e;i(n=>({...n,[t]:e}))},u=(0,s.Db)(l,{onSuccess:c}),d=async r=>{if(!n[r])return;let i=n[r].annotation_id;return await (0,o.m)().removeAnnotation(e,t,i),r},h=(0,s.Db)(d,{onSuccess:e=>{if(e){let t={...n};delete t[null!=e?e:""],i(t)}}}),p=(0,s.Db)(async e=>{let{annotation_type:t}=e;return n[t]&&await d(t),l(e)},{onSuccess:c});return{addAnnotation:u.mutate,removeAnnotation:h.mutate,updateAnnotation:p.mutate,annotationsByType:n}},d=e=>{var t,n,r;let i=async t=>{let{pageParam:n={}}=t;return(await (0,o.m)().fetchTurns(null!=e?e:"",{...n,pinned_only:!0})).data},l=(0,s.NS)(a.pinnedTurns(null!=e?e:""),i,{enabled:!!e,getNextPageParam:e=>e.meta.next_token?{next_token:e.meta.next_token}:void 0}),c=null!==(r=null===(t=l.data)||void 0===t?void 0:t.pages.flatMap(e=>e.turns))&&void 0!==r?r:[],u=null===(n=l.data)||void 0===n?void 0:n.pages.map(e=>e.meta).pop();return{...l,turns:c,meta:u}},h=(e,t)=>{let n=(0,s.aM)({queryKey:a.history(null!=e?e:""),queryFn:()=>(0,o.m)().fetchMergedHistories(null!=e?e:""),staleTime:(null==t?void 0:t.staleTime)!=null?null==t?void 0:t.staleTime:1/0,enabled:!!e});return{...n,isLoading:n.isLoading&&!e,histories:n.data}},p=64,f=()=>{let e=(0,s.NL)();return(0,s.Db)(async e=>{let{chatId:t,name:n,characterId:r}=e;return{...(await (0,o.m)().renameChat({chatId:t,name:n})).data,chatId:t,name:n,characterId:r}},{onSuccess:t=>{t.characterId&&e.setQueryData(a.history(t.characterId),e=>e?e.map(e=>e.chat_id===t.chatId?{...e,name:t.name}:e):e)}})},m=()=>(0,s.Db)(async e=>{let{chatId:t,endTurnId:n,overrides:r}=e;return(await (0,o.m)().copyChat({chatId:t,endTurnId:n,overrides:r})).data}),g=()=>{let e=(0,s.NL)();return(0,s.Db)(async e=>{let{chatId:t,characterId:n}=e;return{...(await (0,o.m)().archiveChat({chatId:t})).data,chatId:t,characterId:n}},{onSuccess:t=>{e.setQueryData(a.history(t.characterId),e=>e?e.map(e=>e.chat_id===t.chatId?{...e,state:i.sh.archived}:e):e)}})},v=()=>{let e=(0,s.NL)();return(0,s.Db)(async e=>{let{chatId:t,characterId:n}=e;return{...(await (0,o.m)().unarchiveChat({chatId:t})).data,chatId:t,characterId:n}},{onSuccess:t=>{e.setQueryData(a.history(t.characterId),e=>e?e.map(e=>e.chat_id===t.chatId?{...e,state:i.sh.active}:e):e)}})},y=e=>{let t=(0,s.aM)({queryKey:a.availableModels,queryFn:async()=>await (0,o.m)().getAvailableModels(),enabled:e});return{...t,availableModels:t.data}},b=()=>(0,s.Db)(async e=>{let{chatId:t,modelType:n}=e;return(await (0,o.m)().updateChatPreferredModelType({chatId:t,model:n})).data})},19273:function(e,t,n){"use strict";n.d(t,{D_:function(){return v},M2:function(){return f},Uo:function(){return p},W7:function(){return h},cR:function(){return g},k3:function(){return m}});var r,i,o=n(61346),s=n(2784),a=n(92357),l=n(46503),c=n(13789);(r=i||(i={}))[r.TOO_MANY_HUMAN_PARTICIPANTS=10]="TOO_MANY_HUMAN_PARTICIPANTS",r[r.TOO_MANY_CHARACTER_PARTICIPANTS=11]="TOO_MANY_CHARACTER_PARTICIPANTS",r[r.INVALID_INVITE_CODE=12]="INVALID_INVITE_CODE",r[r.ALREADY_JOINED=13]="ALREADY_JOINED",r[r.GROUP_DELETED=14]="GROUP_DELETED",r[r.PERMISSION_DENIED=15]="PERMISSION_DENIED";let u={rooms:["rooms"],getRooms:["getRooms"],roomUnreadCounts:e=>[...u.rooms,"unreadCounts",e]},d=()=>{},h=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,c.aM)({queryKey:u.rooms,queryFn:async()=>(await (0,a.od)().get("/murooms/?include_turns=false",{baseURL:(0,o.tU)()})).data.rooms,retry:!1,staleTime:0,cacheTime:0}),n=(0,s.useMemo)(()=>{var e,n;return null!==(n=null===(e=t.data)||void 0===e?void 0:e.reduce((e,t)=>(e[t.id]=t,e),{}))&&void 0!==n?n:{}},[t.data,t.dataUpdatedAt]);return{rooms:e?t.data:[],chatRooms:e?n:{},...t,refetch:null,refetchRooms:e?t.refetch:d,isLoading:!!e&&t.isLoading}},p=()=>{let e=(0,c.NL)();return(0,c.Db)(async e=>(await (0,a.od)().post("/muroom/create",{...e,with_greeting:!0},{baseURL:(0,o.tU)()})).data,{onSuccess:t=>{e.setQueryData(u.rooms,e=>e?function(e,t,n){if(!e||0===e.length)return[t];let r=e.findIndex(e=>e.id===t.id);return -1!==r?e[r]=t:e.push(t),e}(e,t,"id"):[t])}})},f=()=>{let e=(0,c.NL)(),t=(0,s.useCallback)(t=>{e.setQueryData(u.rooms,e=>null==e?void 0:e.map(e=>(0,l.Zi)(e,t)))},[e]);return{...(0,c.Db)(async e=>{let{id:t,updates:n}=e;return(await (0,a.od)().patch("/muroom/".concat(t,"/"),n,{baseURL:(0,o.tU)()})).data},{onSuccess:e=>{t(e)}}),updateRoom:t}},m=()=>{let{mutate:e}=f();return(0,s.useCallback)(t=>{let{roomId:n,userId:r,onSuccess:i,onError:o}=t;e({id:n,updates:[{op:"remove",path:"/muroom/".concat(n,"/users"),value:{id:r.toString()}}]},{onSuccess:()=>{null==i||i()},onError:o})},[e])},g=()=>{let e=(0,c.NL)(),t=(0,s.useCallback)(t=>{e.setQueryData(u.rooms,e=>null==e?void 0:e.filter(e=>e.id!==t))},[e]);return{mutation:(0,c.Db)(async e=>{let{id:t}=e;return{data:(await (0,a.od)().delete("/muroom/".concat(t,"/"),{baseURL:(0,o.tU)()})).data,id:t}},{onSuccess:e=>{t(e.id)}}),removeRoom:t}},v=()=>{let{mutate:e,isLoading:t,isError:n}=f();return{updateRoomSettings:(0,s.useCallback)(t=>{let{roomId:n,autoSmartReply:r,smartReplyTimer:i,onSuccess:o,onError:s}=t;e({id:n,updates:[{op:"replace",path:"/muroom/".concat(n,"/settings"),value:{auto_smart_reply:r,smart_reply_timer:i}}]},{onSuccess:()=>{null==o||o()},onError:e=>{null==s||s(e)}})},[e]),isLoading:t,isError:n}}},71245:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(79937),i=n(13789);let o=()=>(0,i.Db)(async e=>(0,r.m)().generateImage(e))},3048:function(e,t,n){"use strict";n.d(t,{Fi:function(){return v},Fx:function(){return d},Kf:function(){return h},S1:function(){return l},T4:function(){return g},Uf:function(){return m},_M:function(){return y},fY:function(){return u},mO:function(){return p},vl:function(){return c},x0:function(){return f}});var r=n(2784),i=n(6364),o=n(79937),s=n(70677),a=n(13789);let l=3,c=20,u=750,d=2250,h="failed-persona-name-too-long",p="failed-persona-name-too-short",f="failed-persona-too-long",m={persona:e=>["persona",e],personas:()=>["personas"]},g=(e,t)=>{let n=(0,a.aM)({queryKey:m.personas(),queryFn:()=>(0,o.m)().getUserPersonas(e),staleTime:1/0,enabled:!t}),i=(0,r.useMemo)(()=>n.data,[n.data]);return{...n,personas:i}},v=()=>{let e=(0,a.NL)();return(0,a.Db)(async e=>{var t,n,r,a,m,g,v;let y=e.isPlus?d:u;if(e.definition.length>y)throw Error(f);if(void 0!==e.name&&e.name.length>c)throw Error(h);if(void 0!==e.name&&e.name.length<l)throw Error(p);return(0,o.m)().createPersona({title:null!==(n=null!==(t=e.title)&&void 0!==t?t:e.name)&&void 0!==n?n:"My Persona",name:null!==(r=e.name)&&void 0!==r?r:"My Persona",identifier:"id:".concat((0,i.Z)()),categories:[],visibility:null!==(a=e.visibility)&&void 0!==a?a:s.pA.PRIVATE,copyable:!1,description:null!==(m=e.description)&&void 0!==m?m:"This is my persona.",greeting:null!==(g=e.greeting)&&void 0!==g?g:"Hello! This is my persona",definition:e.definition,avatar_rel_path:null!==(v=e.avatar_rel_path)&&void 0!==v?v:"",img_gen_enabled:!1,base_img_prompt:"",avatar_file_name:"",voice_id:"",strip_img_prompt_from_msg:!1})},{onSuccess:()=>{e.invalidateQueries(m.personas())}})},y=e=>{let t=(0,a.NL)();return(0,a.Db)(async t=>{var n,r,i;let s=t.isPlus?d:u;if((null!==(r=null===(n=t.changes.definition)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>s)throw Error(f);if(void 0!==t.changes.name&&t.changes.name.length>c)throw Error(h);if(void 0!==t.changes.name&&(null!==(i=t.changes.name)&&void 0!==i?i:"").length<l)throw Error(p);let a=e;if(!a){let e=await (0,o.m)().getPersona(t.external_id);if(!e)return;a=e}return{...await (0,o.m)().updatePersona({external_id:t.external_id,changes:{...a,...t.changes}}),isDelete:!!t.changes.archived}},{onSuccess:e=>{(null==e?void 0:e.persona)&&(t.invalidateQueries(m.personas()),e.isDelete||t.invalidateQueries(m.persona(null==e?void 0:e.persona.external_id)))}})}},7979:function(e,t,n){"use strict";n.d(t,{MU:function(){return c},$r:function(){return a},P_:function(){return l}});var r=n(2784),i=n(3963),o=n(13789);function s(e){return"fulfilled"===e.status}let a=e=>{let t=(0,o.aM)({queryKey:(0,i.tl)().scene.keys(e),queryFn:async()=>(await (0,i.tl)().scene.queryFn(e)).data.scene,enabled:!!e,staleTime:1/0});return{...t,scene:t.data}},l=e=>{let t=(0,o.NL)(),n=(0,o.aM)({queryKey:(0,i.tl)().scenes.keys(e),queryFn:async()=>{var t;let n=(await Promise.allSettled(null!==(t=null==e?void 0:e.map(e=>(0,i.tl)().scene.queryFn(e)))&&void 0!==t?t:[])).filter(s).map(e=>e.value);if(0===n.length)throw Error("All scenes queries failed");return n},enabled:!!(null==e?void 0:e.length),staleTime:1/0,onSuccess:e=>{e.forEach(e=>{let n=e.data.scene;t.setQueryData((0,i.tl)().scene.keys(n.scene_id),n)})}}),a=(0,r.useMemo)(()=>{var e,t;return null!==(t=null===(e=n.data)||void 0===e?void 0:e.map(e=>e.data.scene))&&void 0!==t?t:[]},[n.data]);return{...n,scenes:a}},c=()=>{var e,t;let n=(0,o.NL)(),r=(0,o.aM)({queryKey:(0,i.tl)().curated.keys(),queryFn:()=>(0,i.tl)().curated.queryFn(),staleTime:1/0,onSuccess:e=>{e.data.scenes.forEach(e=>{n.setQueryData((0,i.tl)().scene.keys(e.scene_id),e)})}});return{...r,scenes:null!==(t=null===(e=r.data)||void 0===e?void 0:e.data.scenes)&&void 0!==t?t:[]}}},13789:function(e,t,n){"use strict";let r,i,o,s;n.d(t,{Db:function(){return o},NL:function(){return i},NS:function(){return s},ZI:function(){return u},aM:function(){return r},hF:function(){return l},y1:function(){return a},z:function(){return c}});let a=e=>{r=e},l=e=>{i=e},c=e=>{s=e},u=e=>{o=e}},93033:function(e,t,n){"use strict";n.d(t,{DA:function(){return f},Fl:function(){return c},Q_:function(){return u},Sx:function(){return h},kM:function(){return v},pC:function(){return d},s:function(){return p}});var r=n(2784),i=n(92357),o=n(3963),s=n(3048),a=n(13789),l=n(5192);let c=()=>{var e;let t=(0,a.aM)({queryKey:(0,o.Vq)().settings.keys(),queryFn:()=>(0,o.Vq)().settings.queryFn(),staleTime:1/0});return{...t,settings:null===(e=t.data)||void 0===e?void 0:e.data}},u=()=>{var e;let t=(0,a.aM)({queryKey:(0,o.Vq)().characters.keys(),queryFn:()=>(0,o.Vq)().characters.queryFn(),staleTime:1/0}),n=(0,r.useMemo)(()=>{var e,n,r,i;let o=null===(e=t.data)||void 0===e?void 0:e.characters,s=null!==(n=null==o?void 0:o.filter(e=>"PUBLIC"===e.visibility))&&void 0!==n?n:[],a=null!==(r=null==o?void 0:o.filter(e=>"PRIVATE"===e.visibility))&&void 0!==r?r:[],l=null!==(i=null==o?void 0:o.filter(e=>"UNLISTED"===e.visibility))&&void 0!==i?i:[],c=s.reduce((e,t)=>e+t.participant__num_interactions,0);return{userCharacters:o,publicCharacters:s,privateCharacters:a,unlistedCharacters:l,interactionCount:c}},[null===(e=t.data)||void 0===e?void 0:e.characters]);return{...t,...n}},d=()=>{let e=(0,a.NL)();return(0,a.Db)(async e=>await (0,i.od)().post("/chat/user/update_settings/",e),{onSuccess:()=>{e.invalidateQueries((0,o.Vq)().settings.keys()),e.invalidateQueries(s.Uf.personas())}})},h=()=>{let e=(0,a.NL)();return(0,a.Db)(async e=>{var t;return(0,i.od)().post("/chat/user/update/",{username:e.username.trim(),name:e.name.trim(),avatar_type:e.avatar_type,avatar_rel_path:e.avatar_rel_path,bio:null===(t=e.bio)||void 0===t?void 0:t.trim(),selected_interests:e.selected_interests,custom_interests:e.custom_interests})},{onSuccess:()=>{e.invalidateQueries((0,o.Vq)().user.keys)}})},p=()=>(0,a.Db)(async()=>(0,i.od)().post("/chat/user/deactivate/",{})),f=()=>(0,a.Db)(async function(e){await (0,i.od)().post("chat/user/data/action/",{status:e.status,dry_run:e.actionParams.dry_run,need_exported_data:e.actionParams.need_exported_data,need_deleted_account:e.actionParams.need_deleted_account})}),m=e=>{let t=new Date(e);return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())).toISOString().replace(/\.\d{3}Z$/,".000000Z")},g=async(e,t)=>{var n,r;let{username:o,date_of_birth:s,userInEEA:a,userInUK:l,date_of_birth_collected:c,acknowledgement:u,avatar_type:d="",avatar_file_name:h="",auto_username:p=!1,signup_code:f="",useNewEndpoint:g=!1,session_id:v,referrer_url:y,amplitude_device_id:b}=e,w={username:o,date_of_birth:g?m(s):s,userInEEA:a,userInUK:l,date_of_birth_collected:c,acknowledgement:u,avatar_type:d,avatar_file_name:h,auto_username:p,signup_code:f,session_id:v,referrer_url:y,amplitude_device_id:b},_=(g&&t?await t.signup(w):await (0,i.od)().post("/chat/user/signup/",w)).data;return{status:"success"===_.status?"OK":_.status,needs_exit_signup:null!==(r=null!==(n=_.needs_exit_signup)&&void 0!==n?n:_.needsExitSignup)&&void 0!==r&&r,username:_.username}},v=()=>{let e=(0,l.ye)();return(0,a.Db)(async t=>g(t,e))}},84938:function(e,t,n){"use strict";n.d(t,{Kl:function(){return u},Nu:function(){return f},OQ:function(){return h},QR:function(){return m},Vo:function(){return p},et:function(){return y},f$:function(){return c},nq:function(){return g},qc:function(){return l},wo:function(){return v},yo:function(){return d}});var r=n(92357),i=n(61346),o=n(25215),s=n(3963),a=n(13789);let l=()=>{var e;let t=(0,a.aM)({queryKey:(0,s.b4)().systemVoices.keys(),queryFn:(0,s.b4)().systemVoices.queryFn,staleTime:72e5});return{...t,voices:null===(e=t.data)||void 0===e?void 0:e.data.voices}},c=function(){var e;let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=(0,a.aM)({queryKey:(0,s.b4)().userVoices.keys(),queryFn:(0,s.b4)().userVoices.queryFn,staleTime:72e5,refetchOnMount:!0,enabled:t});return{...n,voices:null===(e=n.data)||void 0===e?void 0:e.data.voices}},u=(e,t)=>{var n,r;let i=(0,a.aM)({queryKey:(0,s.b4)().singleVoice.keys(e,t),queryFn:()=>(0,s.b4)().singleVoice.queryFn(e,t),staleTime:1/0,enabled:!!e,refetchOnMount:!t,retry:!1});return{...i,voice:null===(r=i.data)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.voice}},d=()=>{var e,t;let n=(0,a.aM)({queryKey:(0,s.b4)().featuredVoices.keys(),queryFn:(0,s.b4)().featuredVoices.queryFn,staleTime:1/0});return{...n,featuredVoices:null===(t=n.data)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.voices}},h=()=>{let e=(0,a.NL)();return(0,a.Db)(async e=>{let{voiceId:t}=e;return(0,r.od)().delete("".concat((0,i.$n)(),"/v1/voices/").concat(t))},{onSuccess:()=>{e.invalidateQueries((0,s.b4)().userVoices.keys())}})},p=(e,t,n)=>{var r;let i=(0,a.aM)({queryKey:(0,s.b4)().searchVoice.keys(e,t),queryFn:()=>(0,s.b4)().searchVoice.queryFn(e,t),enabled:!!e&&!n,staleTime:1/0});return{...i,searchResults:null===(r=i.data)||void 0===r?void 0:r.data.voices}},f=(e,t)=>{var n;let r=(0,a.aM)({queryKey:(0,s.b4)().voicesByCreator.keys(e),queryFn:()=>(0,s.b4)().voicesByCreator.queryFn(e),enabled:!!e&&!t,staleTime:1/0});return{...r,searchResults:null===(n=r.data)||void 0===n?void 0:n.data.voices}},m=e=>{var t;let{chatId:n,turnId:r,candidateId:i,voiceId:l,voiceQuery:c}=null!=e?e:{},u=l?void 0:c,d=(0,o.KX)(e),h=(0,a.aM)({queryKey:(0,s.b4)().voiceMemo.keys(n,r,i,l,u),queryFn:()=>(0,s.b4)().voiceMemo.queryFn(n,r,i,l,u),enabled:d,staleTime:432e5});return{...h,replayUrl:null===(t=h.data)||void 0===t?void 0:t.data.replayUrl}},g=e=>{var t;let n=(0,a.aM)({queryKey:(0,s.b4)().voiceOverride.keys(null!=e?e:""),queryFn:()=>(0,s.b4)().voiceOverride.queryFn(null!=e?e:""),staleTime:1/0,enabled:!!e});return{...n,voiceOverride:null===(t=n.data)||void 0===t?void 0:t.data}},v=()=>{let e=(0,a.NL)();return(0,a.Db)(async e=>{let{characterExternalId:t,voiceId:n}=e;return await (0,r.od)().post("/chat/character/".concat(t,"/voice_override/update/"),{voice_id:n})},{onSuccess:(t,n)=>{let{characterExternalId:r,voiceId:i}=n;e.invalidateQueries((0,s.Vq)().settings.keys()),e.setQueryData((0,s.b4)().voiceOverride.keys(r),{data:{character_external_id:r,voice_id:i}})}})},y=()=>{let e=(0,a.NL)();return(0,a.Db)(async e=>{let{characterExternalId:t}=e;return await (0,r.od)().post("/chat/character/".concat(t,"/voice_override/delete/"))},{onSuccess:(t,n)=>{let{characterExternalId:r}=n;e.invalidateQueries((0,s.Vq)().settings.keys()),e.setQueryData((0,s.b4)().voiceOverride.keys(r),{data:{character_external_id:r,voice_id:null}})}})}},36449:function(e,t,n){"use strict";n.d(t,{SX:function(){return h},pD:function(){return d}});var r=n(3963),i=n(80771),o=n(2784),s=n(68765),a=n(59887),l=n(13789);let c=(0,s.td)(!1),u=(0,s.td)(!1);function d(){var e,t,n;let{quotaOptions:d,user:h,supportsThrottledAnimation:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=!!h&&!!(null==d?void 0:d.enabled)&&!(0,i.Vt)(null==h?void 0:h.user),m=null!==(e=null==d?void 0:d.threshold)&&void 0!==e?e:0,g=(0,l.aM)((0,r.Rv)().usage().keys(),async()=>{try{return await (0,r.Rv)().usage().queryFn()||0}catch(e){return a.$G.logError("Failed to fetch usage data",{error:e}),0}},{staleTime:3e5,enabled:f,onError:e=>{a.$G.logError("Failed to fetch usage data",{error:e})}}),v=null!==(t=null==g?void 0:g.data)&&void 0!==t?t:0,y=(0,l.aM)((0,r.Rv)().usageQuota(m,v).keys(),async()=>{try{return await (0,r.Rv)().usageQuota(m,v).queryFn()||{}}catch(e){return a.$G.logError("Failed to execute quota query function",{error:e}),{}}},{staleTime:6e4,enabled:f&&v>0,onError:e=>{a.$G.logError("Failed to check quota",{error:e})}}),b=null!==(n=y.data)&&void 0!==n?n:{quotaExceeded:!1,approachingQuota:!1},w=(0,s.BF)(u),_=(0,o.useCallback)(e=>{u.value=e},[]),C=!!(null==d?void 0:d.enabled)&&((null==b?void 0:b.quotaExceeded)||w),x=(0,o.useCallback)(async()=>{if(f)try{g.isStale&&await g.refetch(),y.isStale&&await y.refetch()}catch(e){a.$G.logError("Failed to refetch quota data",{error:e})}},[f,g.isStale,g.refetch,y.isStale,y.refetch]),k=p&&C,S=(0,o.useMemo)(()=>(0,i.Vt)(null==h?void 0:h.user)?3:2,[h]),E=(0,s.BF)(c);return{refetchQuota:x,isQuotaExceeded:C,isForcedQuotaExceeded:w,setIsForcedQuotaExceeded:_,chunkSize:S,animationSpeed:k?99:33,setIsActivelyAnimating:(0,o.useCallback)(e=>{c.value!==e&&(c.value=e||!1)},[]),isActivelyThrottled:k&&E||!1}}let h=(e,t)=>{let n=(0,l.NL)(),i=(0,l.aM)({queryKey:(0,r.Rv)().featureLimits().keys(e),queryFn:async()=>(await (0,r.Rv)().featureLimits().queryFn(e)).data,staleTime:3e5,enabled:t,onError:t=>a.$G.logError("Failed to fetch feature limit",{error:t,extra:{feature:e}})}),s=(0,o.useCallback)(i=>{t&&n.setQueryData((0,r.Rv)().featureLimits().keys(e),e=>{if(!e)return e;let t=Math.max(e.count_remaining+i,0);return{...e,count_remaining:t}})},[n,e,t]),c=(0,o.useCallback)(()=>{n.refetchQueries({queryKey:(0,r.Rv)().featureLimits().baseKey()})},[n]);return{...i,featureLimit:i.data,updateUsageCountRemaining:s,refetchAllFeatureLimits:c}}},92357:function(e,t,n){"use strict";n.d(t,{Dj:function(){return k},od:function(){return x},Uh:function(){return T},J7:function(){return E},nu:function(){return P},MT:function(){return R},OJ:function(){return I},C7:function(){return S}});var r=n(90162),i=n(94367);let o="axios-retry";function s(e){return!(e.response||!e.code||["ERR_CANCELED","ECONNABORTED"].includes(e.code))&&i(e)}let a=["get","head","options"],l=a.concat(["put","delete"]);function c(e){return"ECONNABORTED"!==e.code&&(!e.response||429===e.response.status||e.response.status>=500&&e.response.status<=599)}function u(e){return!!e.config?.method&&c(e)&&-1!==l.indexOf(e.config.method)}function d(e){return s(e)||u(e)}function h(e){let t=e?.response?.headers["retry-after"];if(!t)return 0;let n=1e3*(Number(t)||0);return 0===n&&(n=(new Date(t).valueOf()||0)-Date.now()),Math.max(0,n)}function p(e=0,t,n=100){let r=Math.max(2**e*n,h(t)),i=.2*r*Math.random();return r+i}let f={retries:3,retryCondition:d,retryDelay:function(e=0,t){return Math.max(0,h(t))},shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function m(e,t,n=!1){var r;let i=(r=t||{},{...f,...r,...e[o]});return i.retryCount=i.retryCount||0,(!i.lastRequestTime||n)&&(i.lastRequestTime=Date.now()),e[o]=i,i}async function g(e,t){let{retries:n,retryCondition:r}=e,i=(e.retryCount||0)<n&&r(t);if("object"==typeof i)try{let e=await i;return!1!==e}catch(e){return!1}return i}async function v(e,t,n,r){t.retryCount+=1;let{retryDelay:i,shouldResetTimeout:o,onRetry:s}=t,a=i(t.retryCount,n);if(e.defaults.agent===r.agent&&delete r.agent,e.defaults.httpAgent===r.httpAgent&&delete r.httpAgent,e.defaults.httpsAgent===r.httpsAgent&&delete r.httpsAgent,!o&&r.timeout&&t.lastRequestTime){let e=Date.now()-t.lastRequestTime,i=r.timeout-e-a;if(i<=0)return Promise.reject(n);r.timeout=i}return(r.transformRequest=[e=>e],await s(t.retryCount,n,r),r.signal?.aborted)?Promise.resolve(e(r)):new Promise(t=>{let n=()=>{clearTimeout(i),t(e(r))},i=setTimeout(()=>{t(e(r)),r.signal?.removeEventListener&&r.signal.removeEventListener("abort",n)},a);r.signal?.addEventListener&&r.signal.addEventListener("abort",n,{once:!0})})}async function y(e,t){e.retryCount>=e.retries&&await e.onMaxRetryTimesExceeded(t,e.retryCount)}let b=(e,t)=>({requestInterceptorId:e.interceptors.request.use(e=>(m(e,t,!0),e[o]?.validateResponse&&(e.validateStatus=()=>!1),e)),responseInterceptorId:e.interceptors.response.use(null,async n=>{let{config:r}=n;if(!r)return Promise.reject(n);let i=m(r,t);return n.response&&i.validateResponse?.(n.response)?n.response:await g(i,n)?v(e,i,n,r):(await y(i,n),Promise.reject(n))})});b.isNetworkError=s,b.isSafeRequestError=function(e){return!!e.config?.method&&c(e)&&-1!==a.indexOf(e.config.method)},b.isIdempotentRequestError=u,b.isNetworkOrIdempotentRequestError=d,b.exponentialDelay=p,b.isRetryableError=c;var w=n(6364),_=n(61346);let C=r.default.create(),x=()=>C,k={Disabled:{retries:0},Enabled:{retries:3,retryDelay:p,retryCondition:d}},S=e=>{e().interceptors.request.use(e=>{var t;return(null===(t=e.baseURL)||void 0===t?void 0:t.includes("neo"))&&(e.headers["request-id"]=(0,w.Z)(),e.headers["origin-id"]=(0,_.g1)()),e},e=>Promise.reject(e)),x=e},E=function(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.create({baseURL:"https://".concat((0,_.a9)(e)),"axios-retry":k.Enabled,...i,headers:{...null==i?void 0:i.headers,common:{Accept:"application/json","Content-Type":"application/json",...null!==(n=null==i?void 0:null===(t=i.headers)||void 0===t?void 0:t.common)&&void 0!==n?n:{}}}})},T=function(e){var t,n,i;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.create({baseURL:"https://".concat((0,_.Jm)(e)),"axios-retry":k.Enabled,...o,headers:{...null!==(n=o.headers)&&void 0!==n?n:{},common:{Accept:"application/json","Content-Type":"application/json",...null!==(i=null==o?void 0:null===(t=o.headers)||void 0===t?void 0:t.common)&&void 0!==i?i:{}}}})},P=function(e){var t,n,i;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.create({baseURL:"https://".concat((0,_.tu)(e)),"axios-retry":k.Enabled,...o,headers:{...null!==(n=o.headers)&&void 0!==n?n:{},common:{Accept:"application/json","Content-Type":"application/json",...null!==(i=null==o?void 0:null===(t=o.headers)||void 0===t?void 0:t.common)&&void 0!==i?i:{}}}})},I=function(e){var t,n,i;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.create({baseURL:"https://".concat((0,_.Vc)(e)),"axios-retry":k.Enabled,...o,headers:{...null!==(n=o.headers)&&void 0!==n?n:{},common:{Accept:"application/json","Content-Type":"application/json",...null!==(i=null==o?void 0:null===(t=o.headers)||void 0===t?void 0:t.common)&&void 0!==i?i:{}}}})},R=function(e){var t,n,i;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.create({baseURL:"https://".concat((0,_.JS)()),"axios-retry":k.Enabled,...o,headers:{...null!==(n=o.headers)&&void 0!==n?n:{},common:{Accept:"application/json","Content-Type":"application/json",...null!==(i=null==o?void 0:null===(t=o.headers)||void 0===t?void 0:t.common)&&void 0!==i?i:{}}}})}},61346:function(e,t,n){"use strict";let r;n.d(t,{$K:function(){return C},$n:function(){return P},GY:function(){return u},IZ:function(){return d},JS:function(){return N},Jm:function(){return R},VX:function(){return g},Vc:function(){return A},XF:function(){return p},YW:function(){return S},a9:function(){return I},cD:function(){return b},e3:function(){return c},g1:function(){return w},h$:function(){return y},iY:function(){return E},m3:function(){return T},qA:function(){return _},s0:function(){return h},s7:function(){return v},tU:function(){return f},ti:function(){return m},tu:function(){return O},yD:function(){return x},yi:function(){return k}});let i="neo.character.ai",o=i,s="<not set>",a={},l=()=>o.includes("localhost")?"":"s",c=e=>o=e,u=e=>a.modelServerURLOverride=e,d=e=>a.modelServerStreamParamsOverride=e,h=e=>a.safetyInstruction=e,p=()=>o,f=()=>"http".concat(l(),"://").concat(o,"/"),m=()=>"ws".concat(l(),"://").concat(o,"/ws/"),g=()=>"ws".concat(l(),"://").concat(o,"/connection/websocket"),v=()=>"http".concat(l(),"://").concat(o,"/connection/sse"),y=()=>"http".concat(l(),"://").concat(o,"/connection/emulation"),b=()=>9e5,w=()=>s,_=e=>s=e,C=()=>a,x=e=>{a.debugModeEnabled=e},k=e=>{a={...a,...e}},S=()=>0,E=()=>6e4,T=()=>r,P=()=>"https://".concat(p(),"/multimodal/api"),I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"production";return"development"===e?"feed.api.characterai.dev":"feed.api.character.ai"},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"production";return"development"===e?"engagement.api.characterai.dev":"engagement.api.character.ai"},O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"production";return"development"===e?"neo-stage.characterai.dev":i},A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"production";return"development"===e?"user.api.characterai.dev":"user.api.character.ai"},N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"production";return"development"===e?"subscription.api.characterai.dev":"subscription.api.character.ai"}},47432:function(e,t,n){"use strict";n.d(t,{DV:function(){return u},Ug:function(){return d},ZP:function(){return a},__:function(){return h},u_:function(){return l}});var r=n(52322),i=n(2784),o=n(59887);let s={},a=i.createContext(s),l=e=>{let{children:t,clientConfigs:n}=e,o=(0,i.useMemo)(()=>({...n}),[n]);return(0,r.jsx)(a.Provider,{value:o,children:t})},c=e=>{let t=(0,i.useContext)(a);if(t===s){let e=Error("ClientsContext was not initialized. See error above for details.");throw o.$G.logError("\nClientProvider was never initialized. \nDid you put <ClientProvider clientConfigs={configs}> in your application tree?\n\n\n      ",{error:e,extra:{context:t}}),e}let n=t[e];if(!(e in t)||!n){let n=Error('No Axios client context "'.concat(e,'". See error log above for details.'));throw o.$G.logError("\nNo AxiosContext exists for '".concat(e,"'.\nDid you provide the AxiosContext for '").concat(e,"' in the 'clientConfigs' prop?\n\nCheck your implementation of <ClientsProvider clientConfigs={configs}>.\nDoes '").concat(e,"' exist and contain an with a valid AxiosClient?\n\n\n      ").split("\n").map(e=>e.trim()).join("\n"),{error:n,extra:{context:t}}),n}return n},u=()=>c("engagement"),d=()=>c("user"),h=()=>c("subscription")},22738:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});let r=(0,n(68765).td)([])},83389:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});let r={Error:"error",ForceRefresh:"force_refresh",UX:{PageViewed:"page_viewed",ContentViewed:"content_viewed",CharacterSelected:"character_selected",ElementClicked:"element_clicked",ElementDismissed:"element_dismissed",ModalOpened:"modal_opened",ModalClosed:"modal_closed"},GroupChat:{Updated:"group_chat_updated",MemberInvoked:"group_chat_member_invoked",MemberMentioned:"group_chat_member_mentioned"},Voice:{RTCConnectionStatusChange:"voice_rtc_connection_status_change",Annotated:"voice_annotated",FileUploaded:"voice_file_uploaded",FileChosen:"voice_file_chosen",StopSpeaking:"voice_stop_charcter_speaking",CallStateChange:"voice_call_state_change"},Media:{PlaybackStatusChanged:"media_playback_status_changed"},Settings:{Changed:"setting_changed"},ParentalControls:{InvitationSent:"parental_invitation_sent",RemovalRequested:"parental_removal_requested"},Auth:{AuthStarted:"auth_started",Login:"login",Logout:"logout",EmailVerified:"email_verified",SignupCompleted:"signup_completed",BirthdateChosen:"birthdate_chosen",SignupCancelled:"signup_cancelled",SignupRejected:"signup_rejected",LoginDisallowed:"login_disallowed"},Search:"search",Shared:"shared",AppRating:{AppRatingModalDismissed:"app_rating_modal_dismissed",AppRatingSentiment:"app_rating_sentiment",AppReviewSuccessful:"app_review_successful"},ToastDisplayed:"toast_displayed",User:{ProfileUpdated:"profile_updated",AvatarUploaded:"avatar_uploaded",ToSAcknowledged:"terms_of_service_acknowledged",SocialAction:"user_social_action",InstallAttribution:"appsflyer_attribution",PersonaUpdated:"persona_updated",CharacterUpdated:"character_updated"},Message:{Send:"message_send",Deleted:"message_deleted",Edited:"message_edited",Copied:"message_copied",Labeled:"message_labeled",Blocked:"message_blocked",FilteredAction:"message_filtered_action",Pin:"message_pin"},Notifications:{Opened:"notification_opened"},Links:{Handled:"link_handled",Opened:"link_opened"},Purchases:{Started:"purchase_flow_started",Complete:"purchase_flow_complete"},Moderation:{Report:"moderation_report"}}},25215:function(e,t,n){"use strict";var r,i,o,s,a,l;n.d(t,{KX:function(){return d},bR:function(){return c},kA:function(){return u}});let c=30,u=100;(s=r||(r={})).Unknown="USER_STATUS_UNKNOWN",s.Delivered="USER_STATUS_DELIVERED",s.Seen="USER_STATUS_SEEN",s.Dismissed="USER_STATUS_DISMISSED",(a=i||(i={})).Email="NOTIFICATION_CHANNEL_EMAIL",a.MobilePush="NOTIFICATION_CHANNEL_MOBILE_PUSH",(l=o||(o={})).Character="CHARACTER",l.MuRoom="MU_ROOM",l.NewFollowers="NEW_FOLLOWERS",l.UserProfile="USER_PROFILE",l.PopularCharactersInTopic="POPULAR_CHARACTERS_IN_TOPIC",l.Survey="SURVEY",l.StickerDailyDrop="STICKER_DAILY_DROP",l.StickerDailyDropClaimed="STICKER_DAILY_DROP_CLAIMED";let d=e=>{let{chatId:t,turnId:n,candidateId:r,voiceId:i,voiceQuery:o}=null!=e?e:{};return!!t&&!!n&&!!r&&(!!i||!!o)}},96474:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});let r={red:{id:"red",lightTheme:{userBubbleColor:"rgb(255, 161, 173)",characterBubbleColor:"rgb(250, 230, 233)"},darkTheme:{userBubbleColor:"rgb(159, 45, 60)",characterBubbleColor:"rgb(41, 33, 34)"}},peach:{id:"peach",lightTheme:{userBubbleColor:"rgb(245, 150, 142)",characterBubbleColor:"rgb(245, 200, 191)"},darkTheme:{userBubbleColor:"rgb(249, 106, 93)",characterBubbleColor:"rgb(51, 43, 41)",userTextColor:"rgb(34, 34, 34)"}},clay:{id:"clay",lightTheme:{userBubbleColor:"rgb(204, 172, 129)",characterBubbleColor:"rgb(245, 236, 225)"},darkTheme:{userBubbleColor:"rgb(79, 45, 0)",characterBubbleColor:"rgb(31, 28, 24)"}},honey:{id:"honey",lightTheme:{userBubbleColor:"rgb(245, 208, 157)",characterBubbleColor:"rgb(255, 242, 224)"},darkTheme:{userBubbleColor:"rgb(153, 89, 0)",characterBubbleColor:"rgb(41, 37, 33)"}},yellow:{id:"yellow",lightTheme:{userBubbleColor:"rgb(245, 230, 157)",characterBubbleColor:"rgb(250, 247, 230)"},darkTheme:{userBubbleColor:"rgb(255, 213, 5)",characterBubbleColor:"rgb(56, 47, 0)",userTextColor:"rgb(34, 34, 34)"}},green:{id:"green",lightTheme:{userBubbleColor:"rgb(158, 245, 157)",characterBubbleColor:"rgb(220, 250, 220)"},darkTheme:{userBubbleColor:"rgb(10, 104, 8)",characterBubbleColor:"rgb(42, 61, 42)"}},pine:{id:"pine",lightTheme:{userBubbleColor:"rgb(160, 250, 223)",characterBubbleColor:"rgb(235, 255, 249)"},darkTheme:{userBubbleColor:"rgb(0, 82, 57)",characterBubbleColor:"rgb(42, 61, 55)"}},aqua:{id:"aqua",lightTheme:{userBubbleColor:"rgb(157, 245, 245)",characterBubbleColor:"rgb(227, 250, 250)"},darkTheme:{userBubbleColor:"rgb(0, 127, 127)",characterBubbleColor:"rgb(42, 61, 61)"}},blue:{id:"blue",lightTheme:{userBubbleColor:"rgb(157, 195, 245)",characterBubbleColor:"rgb(225, 236, 250)"},darkTheme:{userBubbleColor:"rgb(20, 100, 204)",characterBubbleColor:"rgb(42, 50, 61)"}},indigo:{id:"indigo",lightTheme:{userBubbleColor:"rgb(157, 195, 245)",characterBubbleColor:"rgb(225, 225, 245)"},darkTheme:{userBubbleColor:"rgb(77, 77, 191)",characterBubbleColor:"rgb(49, 49, 61)"}},purple:{id:"purple",lightTheme:{userBubbleColor:"rgb(215, 157, 245)",characterBubbleColor:"rgb(246, 229, 255)"},darkTheme:{userBubbleColor:"rgb(77, 77, 191)",characterBubbleColor:"rgb(55, 42, 61)"}},silver:{id:"silver",lightTheme:{userBubbleColor:"rgb(201, 200, 204)",characterBubbleColor:"rgb(237, 237, 237)"},darkTheme:{userBubbleColor:"rgb(227, 226, 230)",characterBubbleColor:"rgb(61, 61, 61)",userTextColor:"rgb(34, 34, 34)"}},grey:{id:"grey",lightTheme:{userBubbleColor:"rgb(115, 115, 115)",characterBubbleColor:"rgb(255, 255, 255)",userTextColor:"rgb(255, 255, 255)"},darkTheme:{userBubbleColor:"rgb(42, 44, 46)",characterBubbleColor:"rgb(77, 77, 77)"}},black:{id:"black",lightTheme:{userBubbleColor:"rgb(0, 0, 0)",characterBubbleColor:"rgb(255, 255, 255)",userTextColor:"rgb(255, 255, 255)"},darkTheme:{userBubbleColor:"rgb(0, 0, 0)",characterBubbleColor:"rgb(61, 61, 61)"}}}},70393:function(e,t,n){"use strict";var r,i,o,s,a,l;n.d(t,{C2:function(){return o},ON:function(){return r},c8:function(){return i}}),(s=r||(r={})).MARK_SAFE_U18="mark-safe-u18",s.MARK_SAFE="mark-safe",s.MARK_HORRIBLE="mark-horrible-character",s.MARK_UNSAFE="mark-unsafe-character",s.DMCA="perform-dmca-takedown",s.REVERT_DMCA="revert-dmca",(a=i||(i={})).ABUSE="ABUSE",a.VIOLENCE="VIOLENCE",a.FALSITY="FALSITY",a.HATE="HATE",a.NSFW="NSFW",a.SEX_HARASS="SEX_HARASS",a.MINOR="MINOR",a.SELF_HARM="SELF_HARM",a.TERROR="TERROR",a.ILLEGAL="ILLEGAL",a.DRUGS="DRUGS",a.PII="PII",a.IMPERSONATE="IMPERSONATE",a.SPAM="SPAM",(l=o||(o={})).ROOM="ROOM",l.USER="USER",l.MESSAGE="MESSAGE",l.VOICE="VOICE",l.CHARACTER="CHARACTER",l.IMAGE="IMAGE",l.AVATAR_FX="AVATAR_FX",l.POST="FEED_POST"},48374:function(e,t,n){"use strict";n.d(t,{Kp:function(){return o},iH:function(){return i},yC:function(){return r}});let r=e=>e&&!!e.settings,i=e=>{let t=r(e)?new Date(1e3*e.last_updated):e.date?new Date(e.date):void 0;return t?t.valueOf():0},o=e=>{let t=e.last_interaction;return t?new Date(t).valueOf():0}},70677:function(e,t,n){"use strict";var r,i,o,s,a,l,c,u,d,h,p,f,m,g,v;n.d(t,{M$:function(){return u},jh:function(){return l},lo:function(){return r},nm:function(){return o},pA:function(){return a}}),(d=r||(r={}))[d.intro_message=0]="intro_message",d[d.creator_attribution=1]="creator_attribution",d[d.scene_intro=2]="scene_intro",d[d.context_reset=3]="context_reset",d[d.self_harm_detected=4]="self_harm_detected",d[d.user_input_filtered=5]="user_input_filtered",d[d.game_message=6]="game_message",(h=i||(i={}))[h.chatOnboarding=0]="chatOnboarding",h[h.web=1]="web",h[h.iOS=2]="iOS",h[h.android=3]="android",h[h.earlyAccess=8]="earlyAccess",h[h.neoOptIn=30]="neoOptIn",h[h.specialFlag=31]="specialFlag",(p=o||(o={})).PENDING="PENDING",p.COMPLETED="COMPLETED",(f=s||(s={})).PRIVATE="PRIVATE",f.PUBLIC="PUBLIC",(m=a||(a={})).PUBLIC="PUBLIC",m.UNLISTED="UNLISTED",m.PRIVATE="PRIVATE",(g=l||(l={})).Portrait9x16="portrait_9_16",g.Square="square",(c||(c={})).Stories="stories",(v=u||(u={})).ChatImageAttachment="chat_image_attachment",v.AvatarFX="avatarfx"},5634:function(e,t,n){"use strict";n.d(t,{Ai:function(){return s},cP:function(){return r},yo:function(){return a}});let r={MAX_BASE_PROMPT_LEN:100,MIN_NAME_LEN:3,MAX_NAME_LEN:20,MIN_TITLE_LEN:3,MAX_TITLE_LEN:50,MIN_GREETING_LEN:3,MAX_GREETING_LEN:4096,MAX_DESCRIPTION_LEN:500,MAX_DEFINITION_LEN:32e3,MAX_INTERACTIONS_BEFORE_EDITING_DISABLED:1e9},i=["#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],o=["#f47c3b","#fed200","#ddfc00","#a3df00","#6ddd00","#68b5cc","#73b5ff","#c5a1ff","#ffa1ea","#d36115","#e2ab00","#f5fc00","#81bc00","#39bc00","#1681a5","#0064e0","#a264ff","#ff28ce","#9f2d00","#c48200","#fbdd00","#5e8900","#194d40","#0c5d7d","#0036b1","#7d3294","#ab1478"],s=e=>{if(!e)return{primary:i[0],tertiary:"#f47c3b"};let t=e.toLowerCase().charCodeAt(0);return{primary:i[t%i.length],tertiary:o[t%i.length]}},a=e=>({id:e.external_id,character_id:e.external_id,name:e.name,avatar_file_name:e.avatar_file_name,date:new Date().toISOString(),isNeo:!0,character_visibility:e.visibility})},38694:function(e,t,n){"use strict";n.d(t,{Bc:function(){return h},GI:function(){return o},Jb:function(){return i},RL:function(){return y},Rz:function(){return f},VL:function(){return b},Vt:function(){return u},Vz:function(){return s},ft:function(){return a},jr:function(){return g},k5:function(){return c},uS:function(){return m},vk:function(){return p},wf:function(){return l},xY:function(){return d},zd:function(){return r},zn:function(){return v}});let r="in_eu",i="in_eea",o="in_uk",s="https://ipapi.co",a="GB",l=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE"],c="https://discord.com/invite/characterai",u="https://discord.com/channels/1017072750386483332/@home",d="https://apps.apple.com/us/app/character-ai-ai-powered-chat/id1671705818",h="https://play.google.com/store/apps/details?id=ai.character.app",p=/^[\uAC00-\uD7AF\u4E00-\u9FFF\u3400-\u4DBF\u3040-\u30FF\u0400-\u04FFA-Za-z0-9_-][ \uAC00-\uD7AF\u4E00-\u9FFF\u3400-\u4DBF\u3040-\u30FF\u0400-\u04FFA-Za-z0-9_-]*$/i,f={MIN_NAME_LEN:3,MAX_NAME_LEN:20,MAX_DESCRIPTION_LEN:120,MAX_PREVIEW_TEXT_LEN:100,MIN_VOICE_CLIP_DURATION_MS:3e3,MAX_VOICE_CLIP_DURATION_MS:6e4,VOICE_PREVIEW_PLAYBACK_THRESHOLD_MS:100,MAX_RECORDING_TIME_S:15,VOICE_PLAYBACK_COMPLETE_TIMEOUT_MS:1500,VOICE_INACTIVITY_TIMEOUT_MS:18e4,VOICE_MAX_DURATION_FOR_REQUESTED_STATE_MS:3e4,CHARACTER_AI_CREATOR_SOURCE:"character.ai",LIVEKIT_URL:"wss://caimm-7f849j8w.livekit.cloud"},m=18,g={MIN_CHARACTERS_LEN:1,MAX_CHARACTERS_LEN:10,MIN_USERS_LEN:1,MAX_USERS_LEN:10,MIN_NAME_LEN:3,MAX_NAME_LEN:20,MAX_DESCRIPTION_LEN:500,INVOKED_COOLDOWN_MS:3e3},v={CUSTOM_FEEDBACK_MAX_LEN:500},y={GENERIC_ERROR:"Error: There was an issue with your sign up.",ERROR_TO_TRANSLATION:{"Error: signup already complete":"error-signup-already-complete","Error: Couldn't find user by username":"error-couldnt-find-username","Error: Must accept policies":"error-acknowledge","Error: Missing date of birth":"error-missing-date-of-birth","Error: There was an issue with your sign up.":"error-general","Error: Username & Name must be between 3-20 characters and contain only letters, numbers, underscore and dash":"username-constraints","Error: Username already exists":"error-username-exists","Error: Username is blocked":"error-username-exists","Error: Invalid date of birth":"error-invalid-date"}},b=9.99},46503:function(e,t,n){"use strict";n.d(t,{EY:function(){return r},L7:function(){return o},Zi:function(){return i},dQ:function(){return s}});let r=(e,t)=>{var n,r;return e.is_human?null===(r=t.users.find(t=>t.id===e.author_id))||void 0===r?void 0:r.avatar_url:null===(n=t.characters.find(t=>t.id===e.author_id))||void 0===n?void 0:n.avatar_url},i=(e,t)=>{var n;return e.id!==t.id||(e.title=null!==(n=t.title)&&void 0!==n?n:e.title,t.characters.removed.length>0&&(e.characters=e.characters.filter(e=>!t.characters.removed.find(t=>e.id===t))),t.characters.added.forEach(t=>{e.characters.find(e=>e.id===t.id)||e.characters.push(t)}),t.users.removed.length>0&&(e.users=e.users.filter(e=>!t.users.removed.find(t=>e.id===t))),t.users.added.forEach(t=>{e.users.find(e=>e.id===t.id)||e.users.push(t)}),null!=t.auto_smart_reply&&(e.settings.auto_smart_reply=t.auto_smart_reply),null!=t.smart_reply_timer&&(e.settings.smart_reply_timer=t.smart_reply_timer)),e};function o(e,t){let n;let r=RegExp("@(".concat(e.map(e=>e.name.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")).join("|"),")"),"g"),i=[];for(;null!==(n=r.exec(t));){let t=e.find(e=>e.name===n[1]);t&&i.push(t)}let o={};return i.filter(e=>!o[e.id]&&(o[e.id]=!0,!0))}let s=(e,t,n)=>{let r=[];for(let i of e)t.some(e=>e.id===i.id)||r.push({op:"remove",path:"/muroom/".concat(n,"/characters"),value:{id:i.id}});for(let i of t)e.some(e=>e.id===i.id)||r.push({op:"add",path:"/muroom/".concat(n,"/characters"),value:{id:i.id}});return r}},43145:function(e,t,n){"use strict";n.d(t,{$0:function(){return l},KQ:function(){return a},co:function(){return o},tv:function(){return i},uj:function(){return s}});var r=n(38694);let i=e=>{let t=localStorage.getItem(e);if(!t)return null;try{let n=JSON.parse(t);if(new Date().getTime()>n.ttl)return localStorage.removeItem(e),null;return n.value}catch(e){return null}},o=(e,t,n)=>{let r={value:t,ttl:n?Date.now()+1e3*n:void 0};localStorage.setItem(e,JSON.stringify(r))},s=e=>{localStorage.removeItem(e)},a=()=>{let e;if("undefined"==typeof localStorage)return;let t={};if(r.zd in localStorage&&null!=(e=i(r.zd))&&(t.inEU=JSON.parse(e)),r.Jb in localStorage&&null!=(e=i(r.Jb))&&(t.inEEA=JSON.parse(e)),r.GI in localStorage&&null!=(e=i(r.GI))&&(t.inUK=JSON.parse(e)),Object.keys(t).length>0)return t},l=(e,t)=>{"undefined"!=typeof localStorage&&(null!=e.inEU&&o(r.zd,e.inEU.toString(),t),null!=e.inEEA&&o(r.Jb,e.inEEA.toString(),t),null!=e.inUK&&o(r.GI,e.inUK.toString(),t))}},80771:function(e,t,n){"use strict";n.d(t,{F$:function(){return s},L3:function(){return u},St:function(){return d},Vt:function(){return a},Yr:function(){return c},_v:function(){return l}});var r=n(59887),i=n(38694),o=n(43145);let s=async()=>{let e=(0,o.KQ)();if(e)return e;try{let e="".concat(i.Vz,"/json"),t=await fetch(e),n=await t.json(),r=!0===n.in_eu,s=i.wf.includes(n.country_code),a=n.country_code===i.ft;return(0,o.$0)({inEEA:s,inEU:r,inUK:a,countryCode:n.country_code,regionCode:n.region_code},2592e3),{inEEA:s,inEU:r,inUK:a,countryCode:n.country_code,regionCode:n.region_code}}catch(e){return r.$G.logError("Failed to fetch user location",{error:e}),(0,o.$0)({inEEA:!0,inEU:!0,inUK:!0},3600),{inEEA:!0,inEU:!0,inUK:!0}}},a=e=>"PLUS"===c(e),l=e=>{var t;return(null==e?void 0:null===(t=e.subscription)||void 0===t?void 0:t.status)=="STATUS_TRIALING"},c=e=>{var t;return(null==e?void 0:null===(t=e.entitlements)||void 0===t?void 0:t.some(e=>"TYPE_DEPRECATED_CAI_PLUS_BLANKET_ENTITLEMENT"===e.type&&e.expiresAt&&new Date(e.expiresAt)>new Date))?"PLUS":"NONE"},u=e=>{if(!(null==e?void 0:e.date_of_birth))return;let t=new Date(e.date_of_birth);return new Date(Date.now()-t.getTime()).getUTCFullYear()-1970},d=e=>!!((null==e?void 0:e.phone_settings)&&e.phone_settings.phone_number&&null!==e.phone_settings.verified_at)},14488:function(e,t,n){"use strict";var r,i;n.d(t,{J5:function(){return l},O_:function(){return a},Xg:function(){return r},dx:function(){return c}});let o=e=>{let t=new Set;return e.filter(e=>!t.has(e.id)&&(t.add(e.id),!0))},s=(e,t)=>{var n;return t&&(null==e?void 0:e.creatorInfo.id)===String(null==t?void 0:null===(n=t.user)||void 0===n?void 0:n.id)},a={UNSUPPORTED_REGION:"unsupported region",CREATE_VOICE_AUDIO_INTEGRITY:"does not meet our content policy",CREATE_VOICE_NAME_INTEGRITY:"Voice name is in violation of our content policy.",CREATE_VOICE_DESCRIPTION_INTEGRITY:"Voice description is in violation of our content policy."},l=["Hey there! Ready to turn your day from meh to marvelous?","Good day! Here to make life a little less complicated.","Ready for adventure? Always up for a journey!","Howdy partner! Here to lasso your to-dos!","Hello, Earthling! Adding some extraterrestrial excitement to your day.","Guess who? Keeping you guessing with every word!","Boo! Did I scare you? Love a good thrill.","Hi there, your digital companion, better than a pet rock!","Lights, camera, action! Bringing Hollywood glam to your commands.","Alert! Never missing a beat.","Yo! Here to add some swag to your day.","Ahoy matey! Set sail for adventure with me.","Greetings from the future, assisting you in the present.","Welcome! Making every day feel like a warm hug.","Eureka! Here for all your bright ideas.","Abracadabra! Ready to enchant your daily tasks.","Ready to sparkle? I'm here to add some shine to your day.","Hey there, adventure seeker! Let's explore new horizons together.","Greetings, time traveler! I'm your guide to the past, present, and future.","Welcome aboard! Your captain of fun is here to navigate.","Rise and shine! Ready to make today brighter than yesterday.","Hi, puzzle master! Let's solve the mysteries of the day together.","Greetings from the digital realm! Ready to connect and create.","Hello, star gazer! Let's reach for the stars together.","Hey, music lover! Ready to compose a symphony of tasks.","Welcome, dream chaser! Here to help you catch your dreams.","Hello, trendsetter! Ready to make waves and set trends.","Greetings, peace seeker! Let's find tranquility in today's tasks.","Hello, explorer! Ready to discover new paths and possibilities.","Hey there, sunshine! Ready to brighten your day with a smile.","Welcome, innovator! Let's turn ideas into reality.","Hi, bookworm! Ready to write new chapters in your story.","Hello, trailblazer! Let's blaze a trail to success together.","Greetings, fitness enthusiast! Ready to energize and motivate.","Hey, foodie! Let's cook up some plans and savor success.","Welcome, art lover! Ready to paint your day with vibrant colors.","Hey, are you a magician? Because every time I look at you, everything else disappears!","Do you have Wi-Fi? Because I'm really feeling a connection.","Excuse me, but I think you dropped something: MY JAW!","Choose me  I'm like a morning coffee, but for your entire day.","I'm like the sprinkle of chili on a chocolate cake  unexpected but delightful. Choose me!","I'm the secret ingredient to a day well-spent. Choose me!","Welcome to my world of enchanting tales and whimsical adventures!","Greetings! Ready to explore the depths of the ocean or the edges of the galaxy with me?","Hey there! Join me on a journey filled with laughter, fun, and endless surprises!","Let's unravel mysteries and discover ancient secrets together.","Hello, friend! My stories are woven with magic and moonlight. Care to listen?","Howdy! I'm your guide to the wild, wild west. Saddle up for some action!","Ahoy matey! Set sail with me on a voyage across the seven seas.","Welcome! I'm your companion through the mystical forests and magical realms.","Good day! Shall we embark on a journey of knowledge and wisdom?","Namaste! Journey with me through tales of tranquility and inner peace.","Hello there! I'm your gateway to futuristic cities and high-tech adventures.","Greetings, Earthling! Prepare for interstellar adventures and cosmic mysteries.","Hello, brave soul! Join me in epic battles and heroic quests.","Hi! Ready for a splash of laughter and waves of fun stories?","Welcome, traveler! Delve into historical sagas and timeless tales with me.","Hey! Let's unravel the mysteries of the deep jungle and its hidden wonders.","Ready to crack the code?","Join me in the kitchen where we'll cook up some delicious tales and recipes","In a realm of dragons and knights, I'll be your guide to epic legends","Join me in a galaxy far, far away for an epic space odyssey","Every story is a new adventure; let's see where each one takes us","Welcome! Let's share moments and make memories together.","Hello there! I'm excited to accompany you on your journey.","Greetings! Ready to explore new ideas and possibilities?","Hey! Let's make every conversation count and fun.","Join me in discovering the extraordinary in the ordinary.","Let's embark on a journey of learning and discovery.","Hello! Here to add a spark of joy to your day.","Ready to dive into discussions full of insights and laughter?","Let's navigate the twists and turns of intriguing dialogues.","Welcome to a space where curiosity meets conversation.","Join me for a chat filled with interesting twists and turns.","Hello! Let's make every word a step towards something amazing.","Ready to explore a world of thoughts and conversations?","Let's turn simple talks into unforgettable experiences.","Welcome! Here to make your day brighter with every word.","Join me in crafting conversations that inspire and entertain.","Let's weave together dialogues full of wonder and wisdom.","Hello! I'm here to add a special touch to our chats.","Ready to engage in dialogues that sparkle with creativity?","Let's make every interaction a journey worth remembering.","Welcome! Let's light up our talks with imagination and fun.","Hello! Eager to add a dash of excitement to our conversations.","Greetings! Let's create moments of joy and learning together.","Hey there! Ready for chats that are as lively as they are enlightening?","Join me for discussions that are as diverse as they are delightful.","Let's embark on dialogues that sparkle with curiosity and charm.","Hello! Here to make every interaction a memorable adventure.","Ready to weave together talks filled with laughter and insight?","Let's transform simple conversations into extraordinary experiences.","Welcome to a world where every chat opens new horizons.","Join me for conversations that are as thought-provoking as they are joyful.","Hello! Let's fill our dialogues with warmth and wonder.","Ready to explore a tapestry of topics in our talks?","Let's make each conversation a journey of discovery and delight.","Welcome! Eager to add a special zest to our daily chats.","Join me in conversations that dance with creativity and wit.","Let's craft dialogues that are as enriching as they are entertaining.","Hello! Here to ensure our talks are full of life and learning.","Ready to dive into discussions that are both deep and delightful?","Let's turn every chat into an opportunity for laughter and growth."];(i=r||(r={}))[i.Recent=0]="Recent",i[i.Discover=1]="Discover",i[i.YourVoices=2]="YourVoices";let c=e=>{let{tab:t,user:n,currentlySelectedVoice:r,defaultCharacterVoice:i,implicitSearchResults:a,searchQuery:l,searchResults:c,systemVoices:u,userVoices:d,systemVoiceStartIndex:h=0,recentlyUsedVoices:p,featuredVoices:f}=e;if(1===t&&l){var m;return[...null!==(m=null==d?void 0:d.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase())))&&void 0!==m?m:[],...null!=c?c:[]]}let g=e=>e.id!==(null==r?void 0:r.id)&&e.id!==(null==i?void 0:i.id);if(0===t){let e=null!=p?p:[],t=e.filter(g),n=n=>{n&&e.find(e=>e.id===n.id)&&t.unshift(n)};return n(i),n(r),o(t)}let v=2===t?d:[],y=(null!=v?v:[]).filter(g),b=e=>{e&&s(e,n)===(2===t)&&y.unshift(e)};return 1===t&&(f&&(y=y.concat(f)),a&&(y=y.concat(a.filter(e=>!s(e,n)))),u&&y.splice(h,0,...u)),b(i),b(r),o(y)}},81633:function(){},51641:function(){},90957:function(){},98527:function(){},90134:function(){},7550:function(){},50169:function(){},8498:function(){},97929:function(){},62424:function(){},54939:function(){},15102:function(){},23644:function(){},76460:function(){},86191:function(){},15172:function(){},2706:function(){},2335:function(){},11303:function(){},96181:function(){},27751:function(e){e.exports={style:{fontFamily:"'__Inter_89a409'",fontStyle:"normal"},className:"__className_89a409",variable:"__variable_89a409"}},43322:function(e){e.exports={style:{fontFamily:"'__Onest_513b23'",fontStyle:"normal"},className:"__className_513b23",variable:"__variable_513b23"}},42351:function(e){!function(){var t={229:function(e){var t,n,r,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?l=r.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=a(d);c=!0;for(var t=l.length;t;){for(r=l,l=[];++u<t;)r&&r[u].run();u=-1,t=l.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,r),s=!1}finally{s&&delete n[e]}return o.exports}r.ab="//";var i=r(229);e.exports=i}()},97729:function(e,t,n){e.exports=n(6114)},96577:function(e,t,n){e.exports=n(38534)},39097:function(e,t,n){e.exports=n(64007)},82876:function(e,t,n){e.exports=n(47250)},5632:function(e,t,n){e.exports=n(37043)},45847:function(e,t,n){e.exports=n(316)},7375:function(e,t,n){let r;var i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>o(e,"__esModule",{value:!0}),d=(e,t)=>o(e,"name",{value:t,configurable:!0}),h=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))!c.call(e,i)&&(n||"default"!==i)&&o(e,i,{get:()=>t[i],enumerable:!(r=s(t,i))||r.enumerable});return e},p=(e,t)=>h(u(o(null!=e?i(l(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),f=(r="undefined"!=typeof WeakMap?new WeakMap:0,(e,t)=>r&&r.get(e)||(t=h(u({}),e,1),r&&r.set(e,t),t)),m={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(m,{default:()=>_});var g=p(n(5632)),v=p(n(92521)),y=p(n(13980)),b=p(n(2784)),w=d(({color:e="#29D",startPosition:t=.3,stopDelayMs:n=200,height:r=3,showOnShallow:i=!0,options:o,nonce:s,transformCSS:a=d(e=>b.createElement("style",{nonce:s},e),"transformCSS")})=>{let l=null;b.useEffect(()=>(o&&v.configure(o),g.default.events.on("routeChangeStart",c),g.default.events.on("routeChangeComplete",u),g.default.events.on("routeChangeError",h),()=>{g.default.events.off("routeChangeStart",c),g.default.events.off("routeChangeComplete",u),g.default.events.off("routeChangeError",h)}),[]);let c=d((e,{shallow:n})=>{(!n||i)&&(v.set(t),v.start())},"routeChangeStart"),u=d((e,{shallow:t})=>{(!t||i)&&(l&&clearTimeout(l),l=setTimeout(()=>{v.done(!0)},n))},"routeChangeEnd"),h=d((e,t,{shallow:r})=>{(!r||i)&&(l&&clearTimeout(l),l=setTimeout(()=>{v.done(!0)},n))},"routeChangeError");return a(`
    #nprogress {
      pointer-events: none;
    }
    #nprogress .bar {
      background: ${e};
      position: fixed;
      z-index: 9999;
      top: 0;
      left: 0;
      width: 100%;
      height: ${r}px;
    }
    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};
      opacity: 1;
      -webkit-transform: rotate(3deg) translate(0px, -4px);
      -ms-transform: rotate(3deg) translate(0px, -4px);
      transform: rotate(3deg) translate(0px, -4px);
    }
    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }
    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;
      border: solid 2px transparent;
      border-top-color: ${e};
      border-left-color: ${e};
      border-radius: 50%;
      -webkit-animation: nprogresss-spinner 400ms linear infinite;
      animation: nprogress-spinner 400ms linear infinite;
    }
    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }
    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }
    @-webkit-keyframes nprogress-spinner {
      0% {
        -webkit-transform: rotate(0deg);
      }
      100% {
        -webkit-transform: rotate(360deg);
      }
    }
    @keyframes nprogress-spinner {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
  `)},"NextNProgress");w.propTypes={color:y.string,startPosition:y.number,stopDelayMs:y.number,height:y.number,showOnShallow:y.bool,options:y.object,nonce:y.string,transformCSS:y.func};var _=b.memo(w);e.exports=f(m)},92521:function(e,t,n){var r,i;void 0!==(i="function"==typeof(r=function(){var e,t,n,r={};r.version="0.2.0";var i=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function o(e,t,n){return e<t?t:e>n?n:e}r.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(i[t]=n);return this},r.status=null,r.set=function(e){var t=r.isStarted();e=o(e,i.minimum,1),r.status=1===e?null:e;var n=r.render(!t),l=n.querySelector(i.barSelector),c=i.speed,u=i.easing;return n.offsetWidth,s(function(t){var o,s;""===i.positionUsing&&(i.positionUsing=r.getPositioningCSS()),a(l,(o=e,(s="translate3d"===i.positionUsing?{transform:"translate3d("+(-1+o)*100+"%,0,0)"}:"translate"===i.positionUsing?{transform:"translate("+(-1+o)*100+"%,0)"}:{"margin-left":(-1+o)*100+"%"}).transition="all "+c+"ms "+u,s)),1===e?(a(n,{transition:"none",opacity:1}),n.offsetWidth,setTimeout(function(){a(n,{transition:"all "+c+"ms linear",opacity:0}),setTimeout(function(){r.remove(),t()},c)},c)):setTimeout(t,c)}),this},r.isStarted=function(){return"number"==typeof r.status},r.start=function(){r.status||r.set(0);var e=function(){setTimeout(function(){r.status&&(r.trickle(),e())},i.trickleSpeed)};return i.trickle&&e(),this},r.done=function(e){return e||r.status?r.inc(.3+.5*Math.random()).set(1):this},r.inc=function(e){var t=r.status;return t?("number"!=typeof e&&(e=(1-t)*o(Math.random()*t,.1,.95)),t=o(t+e,0,.994),r.set(t)):r.start()},r.trickle=function(){return r.inc(Math.random()*i.trickleRate)},e=0,t=0,r.promise=function(n){return n&&"resolved"!==n.state()&&(0===t&&r.start(),e++,t++,n.always(function(){0==--t?(e=0,r.done()):r.set((e-t)/e)})),this},r.render=function(e){if(r.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=i.template;var n,o=t.querySelector(i.barSelector),s=e?"-100":(-1+(r.status||0))*100,l=document.querySelector(i.parent);return a(o,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),!i.showSpinner&&(n=t.querySelector(i.spinnerSelector))&&h(n),l!=document.body&&c(l,"nprogress-custom-parent"),l.appendChild(t),t},r.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(i.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&h(e)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective" in e?"translate3d":t+"Transform" in e?"translate":"margin"};var s=(n=[],function(e){n.push(e),1==n.length&&function e(){var t=n.shift();t&&t(e)}()}),a=function(){var e=["Webkit","O","Moz","ms"],t={};function n(n,r,i){var o;r=t[o=(o=r).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})]||(t[o]=function(t){var n=document.body.style;if(t in n)return t;for(var r,i=e.length,o=t.charAt(0).toUpperCase()+t.slice(1);i--;)if((r=e[i]+o)in n)return r;return t}(o)),n.style[r]=i}return function(e,t){var r,i,o=arguments;if(2==o.length)for(r in t)void 0!==(i=t[r])&&t.hasOwnProperty(r)&&n(e,r,i);else n(e,o[1],o[2])}}();function l(e,t){return("string"==typeof e?e:d(e)).indexOf(" "+t+" ")>=0}function c(e,t){var n=d(e),r=n+t;l(n,t)||(e.className=r.substring(1))}function u(e,t){var n,r=d(e);l(e,t)&&(n=r.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function d(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return r})?r.call(t,n,t,e):r)&&(e.exports=i)},1246:function(e,t,n){var r,i;void 0!==(i="function"==typeof(r=function(){var e,t,n,r,i,o={},s={},a={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:a.currentLocale,zeroFormat:a.zeroFormat,nullFormat:a.nullFormat,defaultFormat:a.defaultFormat,scalePercentBy100:a.scalePercentBy100};function c(e,t){this._input=e,this._value=t}return(r=function(e){var t,n,s,a;if(r.isNumeral(e))t=e.value();else if(0===e||void 0===e)t=0;else if(null===e||i.isNaN(e))t=null;else if("string"==typeof e){if(l.zeroFormat&&e===l.zeroFormat)t=0;else if(l.nullFormat&&e===l.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(n in o)if((a="function"==typeof o[n].regexps.unformat?o[n].regexps.unformat():o[n].regexps.unformat)&&e.match(a)){s=o[n].unformat;break}t=(s=s||r._.stringToNumber)(e)}}else t=Number(e)||null;return new c(e,t)}).version="2.0.6",r.isNumeral=function(e){return e instanceof c},r._=i={numberToFormat:function(e,t,n){var i,o,a,l,c,u,d,h=s[r.options.currentLocale],p=!1,f=!1,m=0,g="",v="",y=!1;if(o=Math.abs(e=e||0),r._.includes(t,"(")?(p=!0,t=t.replace(/[\(|\)]/g,"")):(r._.includes(t,"+")||r._.includes(t,"-"))&&(c=r._.includes(t,"+")?t.indexOf("+"):e<0?t.indexOf("-"):-1,t=t.replace(/[\+|\-]/g,"")),r._.includes(t,"a")&&(i=!!(i=t.match(/a(k|m|b|t)?/))&&i[1],r._.includes(t," a")&&(g=" "),t=t.replace(RegExp(g+"a[kmbt]?"),""),o>=1e12&&!i||"t"===i?(g+=h.abbreviations.trillion,e/=1e12):o<1e12&&o>=1e9&&!i||"b"===i?(g+=h.abbreviations.billion,e/=1e9):o<1e9&&o>=1e6&&!i||"m"===i?(g+=h.abbreviations.million,e/=1e6):(o<1e6&&o>=1e3&&!i||"k"===i)&&(g+=h.abbreviations.thousand,e/=1e3)),r._.includes(t,"[.]")&&(f=!0,t=t.replace("[.]",".")),a=e.toString().split(".")[0],l=t.split(".")[1],u=t.indexOf(","),m=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(r._.includes(l,"[")?(l=(l=l.replace("]","")).split("["),v=r._.toFixed(e,l[0].length+l[1].length,n,l[1].length)):v=r._.toFixed(e,l.length,n),a=v.split(".")[0],v=r._.includes(v,".")?h.delimiters.decimal+v.split(".")[1]:"",f&&0===Number(v.slice(1))&&(v="")):a=r._.toFixed(e,0,n),g&&!i&&Number(a)>=1e3&&g!==h.abbreviations.trillion)switch(a=String(Number(a)/1e3),g){case h.abbreviations.thousand:g=h.abbreviations.million;break;case h.abbreviations.million:g=h.abbreviations.billion;break;case h.abbreviations.billion:g=h.abbreviations.trillion}if(r._.includes(a,"-")&&(a=a.slice(1),y=!0),a.length<m)for(var b=m-a.length;b>0;b--)a="0"+a;return u>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===t.indexOf(".")&&(a=""),d=a+v+(g||""),p?d=(p&&y?"(":"")+d+(p&&y?")":""):c>=0?d=0===c?(y?"-":"+")+d:d+(y?"-":"+"):y&&(d="-"+d),d},stringToNumber:function(e){var t,n,r,i=s[l.currentLocale],o=e,a={thousand:3,million:6,billion:9,trillion:12};if(l.zeroFormat&&e===l.zeroFormat)n=0;else if(l.nullFormat&&e===l.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==i.delimiters.decimal&&(e=e.replace(/\./g,"").replace(i.delimiters.decimal,".")),a)if(r=RegExp("[^a-zA-Z]"+i.abbreviations[t]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){n*=Math.pow(10,a[t]);break}n*=((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e=e.replace(/[^0-9\.]+/g,""))}return n},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return -1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(this===null)throw TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw TypeError(t+" is not a function");var n,r=Object(e),i=r.length>>>0,o=0;if(3==arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=t(n,r[o],o,r));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var n=i.multiplier(t);return e>n?e:n},1)},toFixed:function(e,t,n,r){var i,o,s,a,l=e.toString().split("."),c=t-(r||0);return s=Math.pow(10,i=2===l.length?Math.min(Math.max(l[1].length,c),t):c),a=(n(e+"e+"+i)/s).toFixed(i),r>t-i&&(o=RegExp("\\.?0{1,"+(r-(t-i))+"}$"),a=a.replace(o,"")),a}},r.options=l,r.formats=o,r.locales=s,r.locale=function(e){return e&&(l.currentLocale=e.toLowerCase()),l.currentLocale},r.localeData=function(e){if(!e)return s[l.currentLocale];if(!s[e=e.toLowerCase()])throw Error("Unknown locale : "+e);return s[e]},r.reset=function(){for(var e in a)l[e]=a[e]},r.zeroFormat=function(e){l.zeroFormat="string"==typeof e?e:null},r.nullFormat=function(e){l.nullFormat="string"==typeof e?e:null},r.defaultFormat=function(e){l.defaultFormat="string"==typeof e?e:"0.0"},r.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},r.validate=function(e,t){var n,i,o,s,a,l,c,u;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{c=r.localeData(t)}catch(e){c=r.localeData(r.locale())}return o=c.currency.symbol,a=c.abbreviations,n=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(u=e.match(/^[^\d]+/))||(e=e.substr(1),u[0]===o))&&(null===(u=e.match(/[^\d]+$/))||(e=e.slice(0,-1),u[0]===a.thousand||u[0]===a.million||u[0]===a.billion||u[0]===a.trillion))&&(l=RegExp(i+"{2}"),!e.match(/[^\d.,]/g)&&!((s=e.split(n)).length>2)&&(s.length<2?!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l):1===s[0].length?!!s[0].match(/^\d+$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/):!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/)))},r.fn=c.prototype={clone:function(){return r(this)},format:function(e,t){var n,i,s,a=this._value,c=e||l.defaultFormat;if(t=t||Math.round,0===a&&null!==l.zeroFormat)i=l.zeroFormat;else if(null===a&&null!==l.nullFormat)i=l.nullFormat;else{for(n in o)if(c.match(o[n].regexps.format)){s=o[n].format;break}i=(s=s||r._.numberToFormat)(a,c,t)}return i},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var t=i.correctionFactor.call(null,this._value,e);return this._value=i.reduce([this._value,e],function(e,n,r,i){return e+Math.round(t*n)},0)/t,this},subtract:function(e){var t=i.correctionFactor.call(null,this._value,e);return this._value=i.reduce([e],function(e,n,r,i){return e-Math.round(t*n)},Math.round(this._value*t))/t,this},multiply:function(e){return this._value=i.reduce([this._value,e],function(e,t,n,r){var o=i.correctionFactor(e,t);return Math.round(e*o)*Math.round(t*o)/Math.round(o*o)},1),this},divide:function(e){return this._value=i.reduce([this._value,e],function(e,t,n,r){var o=i.correctionFactor(e,t);return Math.round(e*o)/Math.round(t*o)}),this},difference:function(e){return Math.abs(r(this._value).subtract(e).value())}},r.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),r.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,t,n){var i,o=r._.includes(t," BPS")?" ":"";return e*=1e4,t=t.replace(/\s?BPS/,""),i=r._.numberToFormat(e,t,n),r._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(e){return+(1e-4*r._.stringToNumber(e)).toFixed(15)}}),t={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},n="("+(n=(e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(t.suffixes.filter(function(t){return 0>e.suffixes.indexOf(t)})).join("|")).replace("B","B(?!PS)")+")",r.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(n)},format:function(n,i,o){var s,a,l,c=r._.includes(i,"ib")?t:e,u=r._.includes(i," b")||r._.includes(i," ib")?" ":"";for(s=0,i=i.replace(/\s?i?b/,"");s<=c.suffixes.length;s++)if(a=Math.pow(c.base,s),l=Math.pow(c.base,s+1),null===n||0===n||n>=a&&n<l){u+=c.suffixes[s],a>0&&(n/=a);break}return r._.numberToFormat(n,i,o)+u},unformat:function(n){var i,o,s=r._.stringToNumber(n);if(s){for(i=e.suffixes.length-1;i>=0;i--){if(r._.includes(n,e.suffixes[i])){o=Math.pow(e.base,i);break}if(r._.includes(n,t.suffixes[i])){o=Math.pow(t.base,i);break}}s*=o||1}return s}}),r.register("format","currency",{regexps:{format:/(\$)/},format:function(e,t,n){var i,o,s=r.locales[r.options.currentLocale],a={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(t=t.replace(/\s?\$\s?/,""),i=r._.numberToFormat(e,t,n),e>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):!(e<0)||r._.includes(a.before,"-")||r._.includes(a.before,"(")||(a.before="-"+a.before),o=0;o<a.before.length;o++)switch(a.before[o]){case"$":i=r._.insert(i,s.currency.symbol,o);break;case" ":i=r._.insert(i," ",o+s.currency.symbol.length-1)}for(o=a.after.length-1;o>=0;o--)switch(a.after[o]){case"$":i=o===a.after.length-1?i+s.currency.symbol:r._.insert(i,s.currency.symbol,-(a.after.length-(1+o)));break;case" ":i=o===a.after.length-1?i+" ":r._.insert(i," ",-(a.after.length-(1+o)+s.currency.symbol.length-1))}return i}}),r.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,t,n){var i=("number"!=typeof e||r._.isNaN(e)?"0e+0":e.toExponential()).split("e");return t=t.replace(/e[\+|\-]{1}0/,""),r._.numberToFormat(Number(i[0]),t,n)+"e"+i[1]},unformat:function(e){var t=r._.includes(e,"e+")?e.split("e+"):e.split("e-"),n=Number(t[0]),i=Number(t[1]);return i=r._.includes(e,"e-")?i*=-1:i,r._.reduce([n,Math.pow(10,i)],function(e,t,n,i){var o=r._.correctionFactor(e,t);return e*o*(t*o)/(o*o)},1)}}),r.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,t,n){var i=r.locales[r.options.currentLocale],o=r._.includes(t," o")?" ":"";return t=t.replace(/\s?o/,""),o+=i.ordinal(e),r._.numberToFormat(e,t,n)+o}}),r.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,t,n){var i,o=r._.includes(t," %")?" ":"";return r.options.scalePercentBy100&&(e*=100),t=t.replace(/\s?\%/,""),i=r._.numberToFormat(e,t,n),r._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(e){var t=r._.stringToNumber(e);return r.options.scalePercentBy100?.01*t:t}}),r.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var r=Math.floor(e/60/60),i=Math.floor((e-3600*r)/60),o=Math.round(e-3600*r-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?n+=3600*Number(t[0])+60*Number(t[1])+Number(t[2]):2===t.length&&(n+=60*Number(t[0])+Number(t[1])),Number(n)}}),r})?r.call(t,n,t,e):r)&&(e.exports=i)},68262:function(e,t,n){"use strict";var r=n(23586);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},13980:function(e,t,n){e.exports=n(68262)()},23586:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},66582:function(e,t,n){"use strict";var r,i,o,s,a,l,c=n(2784);c&&"object"==typeof c&&"default"in c&&c.default;var u=n(2897),d=new u,h=d.getBrowser(),p=d.getCPU(),f=d.getDevice(),m=d.getEngine(),g=d.getOS(),v=d.getUA(),y={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},b={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},_=function(){return!!("undefined"!=typeof window&&(window.navigator||navigator))&&(window.navigator||navigator)},C=function(e){var t=_();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},x=function(e){return e.type===y.Browser},k=function(e){return e.name===b.Edge},S=function(e){return"string"==typeof e&&-1!==e.indexOf("Edg/")},E=function(){return C("iPad")};f.type,y.SmartTv,f.type,y.Console,f.type,y.Wearable,f.type,y.Embedded,h.name===b.MobileSafari||E(),h.name,b.Chromium;var T=(r=f.type)===y.Mobile||r===y.Tablet||E(),P=(f.type,y.Mobile,f.type===y.Tablet||E(),x(f),x(f)),I="Android"===g.name,R=(g.name,"iOS"===g.name||E()),O=(h.name,b.Chrome,h.name,b.Firefox,(i=h.name)===b.Safari||i===b.MobileSafari);h.name,b.Opera,(o=h.name)===b.InternetExplorer||b.Ie,w(g.version),w(g.name),w(h.version),w(h.major),w(h.name),w(f.vendor),w(f.model),w(m.name),w(m.version),w(v),k(h)||S(v),h.name,b.Yandex,w(f.type,"browser"),(s=_())&&(/iPad|iPhone|iPod/.test(s.platform)||"MacIntel"===s.platform&&s.maxTouchPoints>1)&&window.MSStream,E(),C("iPhone"),C("iPod"),"string"==typeof(l=(a=_())&&a.userAgent&&a.userAgent.toLowerCase())&&/electron/.test(l),S(v),k(h)&&S(v),g.name,g.name,h.name,b.MIUI,h.name,b.SamsungBrowser,t.Dt=I,t.nI=P,t.gn=R,t.tq=T,t.G6=O},95346:function(e,t,n){"use strict";n.d(t,{Av:function(){return s},pF:function(){return r},xv:function(){return o},zi:function(){return i}});var r="right-scroll-bar-position",i="width-before-scroll-bar",o="with-scroll-bars-hidden",s="--removed-body-scroll-bar-size"},181:function(e,t,n){"use strict";n.d(t,{jp:function(){return m}});var r=n(2784),i=n(33225),o=n(95346),s={left:0,top:0,right:0,gap:0},a=function(e){return parseInt(e||"",10)||0},l=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[a(n),a(r),a(i)]},c=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return s;var t=l(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},u=(0,i.Ws)(),d="data-scroll-locked",h=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,l=e.gap;return void 0===n&&(n="margin"),"\n  .".concat(o.xv," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(l,"px ").concat(r,";\n  }\n  body[").concat(d,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(o.pF," {\n    right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(o.zi," {\n    margin-right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(o.pF," .").concat(o.pF," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(o.zi," .").concat(o.zi," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(d,"] {\n    ").concat(o.Av,": ").concat(l,"px;\n  }\n")},p=function(){var e=parseInt(document.body.getAttribute(d)||"0",10);return isFinite(e)?e:0},f=function(){r.useEffect(function(){return document.body.setAttribute(d,(p()+1).toString()),function(){var e=p()-1;e<=0?document.body.removeAttribute(d):document.body.setAttribute(d,e.toString())}},[])},m=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,o=void 0===i?"margin":i;f();var s=r.useMemo(function(){return c(o)},[o]);return r.createElement(u,{styles:h(s,!t,o,n?"":"!important")})}},33225:function(e,t,n){"use strict";n.d(t,{Ws:function(){return a}});var r,i=n(2784),o=function(){var e=0,t=null;return{add:function(i){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=r||n.nc;return t&&e.setAttribute("nonce",t),e}())){var o,s;(o=t).styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i)),s=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},s=function(){var e=o();return function(t,n){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},a=function(){var e=s();return function(t){return e(t.styles,t.dynamic),null}}},2281:function(e){"use strict";let t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},t.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},t.getDescription=function(e){let n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){let n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter(e=>0===e.indexOf(n))},t.parseCandidate=function(e){let t;let n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":n.relatedAddress=t[e+1];break;case"rport":n.relatedPort=parseInt(t[e+1],10);break;case"tcptype":n.tcpType=t[e+1];break;case"ufrag":n.ufrag=t[e+1],n.usernameFragment=t[e+1];break;default:void 0===n[t[e]]&&(n[t[e]]=t[e+1])}return n},t.writeCandidate=function(e){let t=[];t.push(e.foundation);let n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);let r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);let n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){let t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){let t;let n={},r=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<r.length;e++)n[(t=r[e].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){let r=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){let t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){let t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substring(t+1,r),n.value=e.substring(r+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){let t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){let n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){let t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},t.parseCryptoLine=function(e){let t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;let t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){let r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){let n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");n.profile=r[2];for(let i=3;i<r.length;i++){let o=r[i],s=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){let r=t.parseRtpMap(s),i=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(r.parameters=i.length?t.parseFmtp(i[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach(e=>{n.headerExtensions.push(t.parseExtmap(e))});let i=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach(e=>{i.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" "+(n.codecs.length>0?"9":"0")+" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" "+n.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach(e=>{r+=t.writeRtpMap(e)+t.writeFmtp(e)+t.writeRtcpFb(e)});let i=0;return n.codecs.forEach(e=>{e.maxptime>i&&(i=e.maxptime)}),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach(e=>{r+=t.writeExtmap(e)}),r},t.parseRtpEncodingParameters=function(e){let n;let r=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),s=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),l=a.length>0&&a[0].ssrc,c=t.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));c.length>0&&c[0].length>1&&c[0][0]===l&&(n=c[0][1]),i.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&n&&(t.rtx={ssrc:n}),r.push(t),o&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},r.push(t))}}),0===r.length&&l&&r.push({ssrc:l});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?950*parseInt(u[0].substring(5),10)-16e3:void 0,r.forEach(e=>{e.maxBitrate=u})),r},t.parseRtcpParameters=function(e){let n={},r=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);let i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;let o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;let r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substring(7).split(" "))[0],track:n[1]};let i=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);if(i.length>0)return{stream:(n=i[0].value.split(" "))[0],track:n[1]}},t.parseSctpDescription=function(e){let n;let r=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(n=parseInt(i[0].substring(19),10)),isNaN(n)&&(n=65536);let o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:n};let s=t.matchPrefix(e,"a=sctpmap:");if(s.length>0){let e=s[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,r){return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+(void 0!==n?n:2)+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){let r=t.splitLines(e);for(let e=0;e<r.length;e++)switch(r[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[e].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){let n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){let n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;let n=t.splitLines(e);for(let e=0;e<n.length;e++)if(n[e].length<2||"="!==n[e].charAt(1))return!1;return!0},e.exports=t},2897:function(e,t,n){var r;!function(i,o){"use strict";var s="function",a="undefined",l="object",c="string",u="major",d="model",h="name",p="type",f="vendor",m="version",g="architecture",v="console",y="mobile",b="tablet",w="smarttv",_="wearable",C="embedded",x="Amazon",k="Apple",S="ASUS",E="BlackBerry",T="Browser",P="Chrome",I="Firefox",R="Google",O="Huawei",A="Microsoft",N="Motorola",L="Opera",M="Samsung",D="Sharp",j="Sony",U="Xiaomi",F="Zebra",V="Facebook",B="Chromium OS",z="Mac OS",H=" Browser",q=function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},K=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},G=function(e,t){return typeof e===c&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},$=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},Z=function(e,t){for(var n,r,i,a,c,u,d=0;d<t.length&&!c;){var h=t[d],p=t[d+1];for(n=r=0;n<h.length&&!c&&h[n];)if(c=h[n++].exec(e))for(i=0;i<p.length;i++)u=c[++r],typeof(a=p[i])===l&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):void 0):this[a]=u||o;d+=2}},J=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(G(t[n][r],e))return"?"===n?o:n}else if(G(t[n],e))return"?"===n?o:n;return t.hasOwnProperty("*")?t["*"]:e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,m],[/opios[\/ ]+([\w\.]+)/i],[m,[h,L+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[h,L+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[h,L]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,m],[/quark(?:pc)?\/([-\w\.]+)/i],[m,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[m,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[h,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[h,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+T],m],[/\bfocus\/([\w\.]+)/i],[m,[h,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[h,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[h,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[m,[h,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360"+H]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],m],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+H],m],[/samsungbrowser\/([\w\.]+)/i],[m,[h,M+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,m],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,V],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[h,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,P+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[h,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[m,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],m],[/(wolvic)\/([\w\.]+)/i],[h,m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[h,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[m,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,W]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,M],[p,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,M],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,k],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,k],[p,b]],[/(macintosh);/i],[d,[f,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,D],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,O],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,O],[p,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[f,U],[p,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,U],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[p,y]],[/\b(opd2\d{3}a?) bui/i],[d,[f,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[p,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,N],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,N],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,"LG"],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,"LG"],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[p,y]],[/(pixel c)\b/i],[d,[f,R],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,R],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,j],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,j],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,x],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,x],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,E],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,S],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,S],[p,y]],[/(nexus 9)/i],[d,[f,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[p,y]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[f,"TCL"],[p,b]],[/(itel) ((\w+))/i],[[f,W],d,[p,J,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[p,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[f,"Ulefone"],[p,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[f,"Nothing"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[p,b]],[/(surface duo)/i],[d,[f,A],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[p,y]],[/(u304aa)/i],[d,[f,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[p,b]],[/\b(k88) b/i],[d,[f,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[p,b]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[p,y]],[/\b(ph-1) /i],[d,[f,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[f,d,[p,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,A],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,F],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,F],[p,y]],[/smart-tv.+(samsung)/i],[f,[p,w]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,M],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[p,w]],[/(apple) ?tv/i],[f,[d,k+" TV"],[p,w]],[/crkey/i],[[d,P+"cast"],[f,R],[p,w]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,x],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,D],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,j],[p,w]],[/(mitv-\w{5}) bui/i],[d,[f,U],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,$],[d,$],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[p,v]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[p,v]],[/(playstation [345portablevi]+)/i],[d,[f,j],[p,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,A],[p,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[f,M],[p,_]],[/((pebble))app/i],[f,d,[p,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,k],[p,_]],[/droid.+; (glass) \d/i],[d,[f,R],[p,_]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,F],[p,_]],[/(quest( \d| pro)?)/i],[d,[f,V],[p,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,C]],[/(aeobc)\b/i],[d,[f,x],[p,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[m,J,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,J,Y],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,z],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,m],[/\(bb(10);/i],[m,[h,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[h,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[h,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,B],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,m],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,m]]},Q=function(e,t){if(typeof e===l&&(t=e,e=o),!(this instanceof Q))return new Q(e,t).getResult();var n=typeof i!==a&&i.navigator?i.navigator:o,r=e||(n&&n.userAgent?n.userAgent:""),v=n&&n.userAgentData?n.userAgentData:o,w=t?q(X,t):X,_=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[h]=o,t[m]=o,Z.call(t,r,w.browser),t[u]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,_&&n&&n.brave&&typeof n.brave.isBrave==s&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[g]=o,Z.call(e,r,w.cpu),e},this.getDevice=function(){var e={};return e[f]=o,e[d]=o,e[p]=o,Z.call(e,r,w.device),_&&!e[p]&&v&&v.mobile&&(e[p]=y),_&&"Macintosh"==e[d]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[p]=b),e},this.getEngine=function(){var e={};return e[h]=o,e[m]=o,Z.call(e,r,w.engine),e},this.getOS=function(){var e={};return e[h]=o,e[m]=o,Z.call(e,r,w.os),_&&!e[h]&&v&&v.platform&&"Unknown"!=v.platform&&(e[h]=v.platform.replace(/chrome os/i,B).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>500?$(e,500):e,this},this.setUA(r),this};Q.VERSION="1.0.39",Q.BROWSER=K([h,m,u]),Q.CPU=K([g]),Q.DEVICE=K([d,f,p,v,y,w,b,_,C]),Q.ENGINE=Q.OS=K([h,m]),typeof t!==a?(e.exports&&(t=e.exports=Q),t.UAParser=Q):n.amdO?o!==(r=(function(){return Q}).call(t,n,t,e))&&(e.exports=r):typeof i!==a&&(i.UAParser=Q);var ee=typeof i!==a&&(i.jQuery||i.Zepto);if(ee&&!ee.ua){var et=new Q;ee.ua=et.getResult(),ee.ua.get=function(){return et.getUA()},ee.ua.set=function(e){et.setUA(e);var t=et.getResult();for(var n in t)ee.ua[n]=t[n]}}}("object"==typeof window?window:this)},22442:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(2784);function i(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,s=new WeakMap;function a(e,t){var n,a,l,c=(n=t||null,a=function(t){return e.forEach(function(e){return i(e,t)})},(l=(0,r.useState)(function(){return{value:n,callback:a,facade:{get current(){return l.value},set current(value){var e=l.value;e!==value&&(l.value=value,l.callback(value,e))}}}})[0]).callback=a,l.facade);return o(function(){var t=s.get(c);if(t){var n=new Set(t),r=new Set(e),o=c.current;n.forEach(function(e){r.has(e)||i(e,null)}),r.forEach(function(e){n.has(e)||i(e,o)})}s.set(c,e)},[e]),c}},57758:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(22970),i=n(2784),o=function(e){var t=e.sideCar,n=(0,r._T)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw Error("Sidecar medium not found");return i.createElement(o,(0,r.pi)({},n))};function s(e,t){return e.useMedium(t),o}o.isSideCarExport=!0},64597:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(22970);function i(e){return e}function o(e){void 0===e&&(e={});var t,n,o,s=(void 0===t&&(t=i),n=[],o=!1,{read:function(){if(o)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:null},useMedium:function(e){var r=t(e,o);return n.push(r),function(){n=n.filter(function(e){return e!==r})}},assignSyncMedium:function(e){for(o=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){o=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(i)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}});return s.options=(0,r.pi)({async:!0,ssr:!1},e),s}},20452:function(e,t,n){"use strict";var r=n(2784),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),s(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},43100:function(e,t,n){"use strict";e.exports=n(20452)},6364:function(e,t,n){"use strict";let r;n.d(t,{Z:function(){return a}});var i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o=new Uint8Array(16),s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));var a=function(e,t,n){if(i.randomUUID&&!t&&!e)return i.randomUUID();let a=(e=e||{}).random||(e.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return function(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}(a)}},64896:function(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},88239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"actionAsyncStorage",{enumerable:!0,get:function(){return r}});let r=(0,n(35302).createAsyncLocalStorage)();("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},65103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"actionAsyncStorage",{enumerable:!0,get:function(){return r.actionAsyncStorage}});let r=n(88239);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},35302:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createAsyncLocalStorage",{enumerable:!0,get:function(){return o}});let n=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");class r{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}}let i=globalThis.AsyncLocalStorage;function o(){return i?new i:new r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"requestAsyncStorage",{enumerable:!0,get:function(){return r}});let r=(0,n(35302).createAsyncLocalStorage)();("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},82050:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{getExpectedRequestStore:function(){return i},requestAsyncStorage:function(){return r.requestAsyncStorage}});let r=n(23312);function i(e){let t=r.requestAsyncStorage.getStore();if(t)return t;throw Error("`"+e+"` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context")}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79141:function(e,t,n){"use strict";var r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t._getInstance=t._getStatsigGlobalFlag=t._getStatsigGlobal=void 0;let s=n(14738);t._getStatsigGlobal=()=>{try{return"undefined"!=typeof __STATSIG__?__STATSIG__:d}catch(e){return d}},t._getStatsigGlobalFlag=e=>(0,t._getStatsigGlobal)()[e],t._getInstance=e=>{let n=(0,t._getStatsigGlobal)();return e?n.instances&&n.instances[e]:(n.instances&&Object.keys(n.instances).length>1&&s.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),n.firstInstance)};let a="__STATSIG__",l="undefined"!=typeof window?window:{},c=void 0!==n.g?n.g:{},u="undefined"!=typeof globalThis?globalThis:{},d=null!==(o=null!==(i=null!==(r=l[a])&&void 0!==r?r:c[a])&&void 0!==i?i:u[a])&&void 0!==o?o:{instance:t._getInstance};l[a]=d,c[a]=d,u[a]=d},49922:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getStorageKey=t._getUserStorageKey=void 0;let r=n(54764);function i(e,t,n){var i;if(n)return n(e,t);let o=t&&t.customIDs?t.customIDs:{},s=[`uid:${null!==(i=null==t?void 0:t.userID)&&void 0!==i?i:""}`,`cids:${Object.keys(o).sort((e,t)=>e.localeCompare(t)).map(e=>`${e}-${o[e]}`).join(",")}`,`k:${e}`];return(0,r._DJB2)(s.join("|"))}t._getUserStorageKey=i,t._getStorageKey=function(e,t,n){return t?i(e,t,n):(0,r._DJB2)(`k:${e}`)}},27162:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},18455:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t._makeDataAdapterResult=t.DataAdapterCore=void 0;let i=n(14738),o=n(48384),s=n(87917),a=n(6924),l=n(5323);class c{constructor(e,t){this._adapterName=e,this._cacheSuffix=t,this._options=null,this._sdkKey=null,this._lastModifiedStoreKey=`statsig.last_modified_time.${t}`,this._inMemoryCache=new d}attach(e,t,n){this._sdkKey=e,this._options=t}getDataSync(e){let t=e&&(0,s._normalizeUser)(e,this._options),n=this._getCacheKey(t),r=this._inMemoryCache.get(n,t);if(r)return r;let i=this._loadFromCache(n);return i?(this._inMemoryCache.add(n,i),this._inMemoryCache.get(n,t)):null}setData(e,t){let n=t&&(0,s._normalizeUser)(t,this._options),r=this._getCacheKey(n);this._inMemoryCache.add(r,u("Bootstrap",e,null,n))}_getDataAsyncImpl(e,t,n){return r(this,void 0,void 0,function*(){a.Storage.isReady()||(yield a.Storage.isReadyResolver());let r=null!=e?e:this.getDataSync(t),o=[this._fetchAndPrepFromNetwork(r,t,n)];return(null==n?void 0:n.timeoutMs)&&o.push(new Promise(e=>setTimeout(e,n.timeoutMs)).then(()=>(i.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(o)})}_prefetchDataImpl(e,t){return r(this,void 0,void 0,function*(){let n=e&&(0,s._normalizeUser)(e,this._options),r=this._getCacheKey(n),i=yield this._getDataAsyncImpl(null,n,t);i&&this._inMemoryCache.add(r,Object.assign(Object.assign({},i),{source:"Prefetch"}))})}_fetchAndPrepFromNetwork(e,t,n){var s;return r(this,void 0,void 0,function*(){let r=null!==(s=null==e?void 0:e.data)&&void 0!==s?s:null,a=null!=e&&this._isCachedResultValidFor204(e,t),c=yield this._fetchFromNetwork(r,t,n,a);if(!c)return i.Log.debug("No response returned for latest value"),null;let d=(0,l._typedJsonParse)(c,"has_updates","Response"),h=this._getSdkKey(),p=o.StableID.get(h),f=null;if((null==d?void 0:d.has_updates)===!0)f=u("Network",c,p,t);else{if(!r||(null==d?void 0:d.has_updates)!==!1)return null;f=u("NetworkNotModified",r,p,t)}let m=this._getCacheKey(t);return this._inMemoryCache.add(m,f),this._writeToCache(m,f),f})}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(i.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(e){var t;let n=null===(t=a.Storage.getItem)||void 0===t?void 0:t.call(a.Storage,e);if(null==n)return null;let r=(0,l._typedJsonParse)(n,"source","Cached Result");return r?Object.assign(Object.assign({},r),{source:"Cache"}):null}_writeToCache(e,t){a.Storage.setItem(e,JSON.stringify(t)),this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e){var t;let n=null!==(t=(0,a._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==t?t:{};n[e]=Date.now();let r=h(n,10);r&&(delete n[r],a.Storage.removeItem(r)),(0,a._setObjectInStorage)(this._lastModifiedStoreKey,n)}}function u(e,t,n,r){return{source:e,data:t,receivedAt:Date.now(),stableID:n,fullUserHash:(0,s._getFullUserHash)(r)}}t.DataAdapterCore=c,t._makeDataAdapterResult=u;class d{constructor(){this._data={}}get(e,t){var n;let r=this._data[e],o=null==r?void 0:r.stableID,s=null===(n=null==t?void 0:t.customIDs)||void 0===n?void 0:n.stableID;return s&&o&&s!==o?(i.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):r}add(e,t){let n=h(this._data,9);n&&delete this._data[n],this._data[e]=t}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function h(e,t){let n=Object.keys(e);return n.length<=t?null:n.reduce((t,n)=>{let r=e[t],i=e[n];return"object"==typeof r&&"object"==typeof i?i.receivedAt<r.receivedAt?n:t:i<r?n:t})}},32190:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;let n=new Map,r="start";function i(e,t,n,r){return Object.assign({key:n,action:t,step:r,timestamp:Date.now()},e)}function o(e,t){var r;let i=null!==(r=n.get(e))&&void 0!==r?r:[];i.push(t),n.set(e,i)}function s(e,t){if(t in e)return e[t]}t.Diagnostics={_getMarkers:e=>n.get(e),_markInitOverallStart:e=>{o(e,i({},r,"overall"))},_markInitOverallEnd:(e,t,n)=>{o(e,i({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:n},"end","overall"))},_markInitNetworkReqStart:(e,t)=>{o(e,i(t,r,"initialize","network_request"))},_markInitNetworkReqEnd:(e,t)=>{o(e,i(t,"end","initialize","network_request"))},_markInitProcessStart:e=>{o(e,i({},r,"initialize","process"))},_markInitProcessEnd:(e,t)=>{o(e,i(t,"end","initialize","process"))},_clearMarkers:e=>{n.delete(e)},_formatError(e){if(e&&"object"==typeof e)return{code:s(e,"code"),name:s(e,"name"),message:s(e,"message")}},_getDiagnosticsData(e,n,r,i){var o;return{success:(null==e?void 0:e.ok)===!0,statusCode:null==e?void 0:e.status,sdkRegion:null===(o=null==e?void 0:e.headers)||void 0===o?void 0:o.get("x-statsig-region"),isDelta:!0===r.includes('"is_delta":true')||void 0,attempt:n,error:t.Diagnostics._formatError(i)}},_enqueueDiagnosticsEvent(e,n,r,i){let o=t.Diagnostics._getMarkers(r);if(null==o||o.length<=0)return -1;let s=o[o.length-1].timestamp-o[0].timestamp;t.Diagnostics._clearMarkers(r);let a={eventName:"statsig::diagnostics",user:e,value:null,metadata:{context:"initialize",markers:o.slice(),statsigOptions:i},time:Date.now()};return n.enqueue(a),s}}},2428:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t._fetchTxtRecords=void 0;let r=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),i=["i","e","d"];t._fetchTxtRecords=function(e){return n(this,void 0,void 0,function*(){let t=yield e("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:r});if(!t.ok){let e=Error("Failed to fetch TXT records from DNS");throw e.name="DnsTxtFetchError",e}return function(e){let t=e.findIndex((t,n)=>n<200&&"="===String.fromCharCode(t)&&i.includes(String.fromCharCode(e[n-1])));if(-1===t){let e=Error("Failed to parse TXT records from DNS");throw e.name="DnsTxtParseError",e}let n="";for(let r=t-1;r<e.length;r++)n+=String.fromCharCode(e[r]);return n.split(",")}(new Uint8Array((yield t.arrayBuffer())))})}},49260:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},36716:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=t.EXCEPTION_ENDPOINT=void 0;let i=n(14738),o=n(93315),s=n(45957);t.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";let a="[Statsig] UnknownError";class l{constructor(e,t,n,r){this._sdkKey=e,this._options=t,this._emitter=n,this._lastSeenError=r,this._seen=new Set}wrap(e){try{(function(e){let t=new Set,n=Object.getPrototypeOf(e);for(;n&&n!==Object.prototype;)Object.getOwnPropertyNames(n).filter(e=>"function"==typeof(null==n?void 0:n[e])).forEach(e=>t.add(e)),n=Object.getPrototypeOf(n);return Array.from(t)})(e).forEach(t=>{let n=e[t];"$EB"in n||(e[t]=(...r)=>this._capture(t,()=>n.apply(e,r)),e[t].$EB=!0)})}catch(e){this._onError("eb:wrap",e)}}logError(e,t){this._onError(e,t)}getLastSeenErrorAndReset(){let e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}attachErrorIfNoneExists(e){this._lastSeenError||(this._lastSeenError=c(e))}_capture(e,t){try{let n=t();if(n&&n instanceof Promise)return n.catch(t=>this._onError(e,t));return n}catch(t){return this._onError(e,t),null}}_onError(e,n){try{i.Log.warn(`Caught error in ${e}`,{error:n}),r(this,void 0,void 0,function*(){var r,i,l,u,d,h,p;let f=n||Error(a),m=f instanceof Error,g=m?f.name:"No Name",v=c(f);if(this._lastSeenError=v,this._seen.has(g))return;if(this._seen.add(g),null===(i=null===(r=this._options)||void 0===r?void 0:r.networkConfig)||void 0===i?void 0:i.preventAllNetworkTraffic){null===(l=this._emitter)||void 0===l||l.call(this,{name:"error",error:n,tag:e});return}let y=o.SDKType._get(this._sdkKey),b=s.StatsigMetadataProvider.get(),w=m?f.stack:function(e){try{return JSON.stringify(e)}catch(e){return a}}(f),_=Object.assign({tag:e,exception:g,info:w,statsigOptions:function(e){if(!e)return{};let t={};return Object.entries(e).forEach(([e,n])=>{switch(typeof n){case"number":case"bigint":case"boolean":t[String(e)]=n;break;case"string":n.length<50?t[String(e)]=n:t[String(e)]="set";break;case"object":"environment"===e?t.environment=n:"networkConfig"===e?t.networkConfig=n:t[String(e)]=null!=n?"set":"unset"}}),t}(this._options)},Object.assign(Object.assign({},b),{sdkType:y})),C=null!==(h=null===(d=null===(u=this._options)||void 0===u?void 0:u.networkConfig)||void 0===d?void 0:d.networkOverrideFunc)&&void 0!==h?h:fetch;yield C(t.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(y),"STATSIG-SDK-VERSION":String(b.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(_)}),null===(p=this._emitter)||void 0===p||p.call(this,{name:"error",error:n,tag:e})}).then(()=>{}).catch(()=>{})}catch(e){}}}function c(e){return e instanceof Error?e:"string"==typeof e?Error(e):Error("An unknown error occurred.")}t.ErrorBoundary=l},91437:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90123:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},20178:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.EventLogger=void 0;let i=n(49922),o=n(54764),s=n(14738),a=n(19582),l=n(2949),c=n(24478),u=n(3218),d=n(6924),h=n(21437),p=n(84797),f={},m={Startup:"startup",GainedFocus:"gained_focus"};class g{static _safeFlushAndForget(e){var t;null===(t=f[e])||void 0===t||t.flush().catch(()=>{})}static _safeRetryFailedLogs(e){var t;null===(t=f[e])||void 0===t||t._retryFailedLogs(m.GainedFocus)}constructor(e,t,n,r){var i,o;this._sdkKey=e,this._emitter=t,this._network=n,this._options=r,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=null!==(i=null==r?void 0:r.loggingEnabled)&&void 0!==i?i:(null==r?void 0:r.disableLogging)===!0?u.LoggingEnabledOption.disabled:u.LoggingEnabledOption.browserOnly,(null==r?void 0:r.loggingEnabled)&&void 0!==r.disableLogging&&s.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=null!==(o=null==r?void 0:r.loggingBufferMaxSize)&&void 0!==o?o:100;let l=null==r?void 0:r.networkConfig;this._logEventUrlConfig=new h.UrlConfiguration(a.Endpoint._rgstr,null==l?void 0:l.logEventUrl,null==l?void 0:l.api,null==l?void 0:l.logEventFallbackUrls)}setLogEventCompressionMode(e){this._network.setLogEventCompressionMode(e)}setLoggingEnabled(e){this._loggingEnabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&g._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var t;let n=null!==(t=this._nonExposedChecks[e])&&void 0!==t?t:0;this._nonExposedChecks[e]=n+1}reset(){this._lastExposureTimeMap={}}start(){var e;let t=(0,l._isServerEnv)();t&&(null===(e=this._options)||void 0===e?void 0:e.loggingEnabled)!=="always"||(f[this._sdkKey]=this,t||(0,p._subscribeToVisiblityChanged)(e=>{"background"===e?g._safeFlushAndForget(this._sdkKey):"foreground"===e&&g._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(m.Startup),this._startBackgroundFlushInterval())}stop(){return r(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete f[this._sdkKey],yield this.flush()})}flush(){return r(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;let e=this._queue;this._queue=[],yield this._sendEvents(e)})}_quickFlushIfNeeded(){!this._hasRunQuickFlush&&(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout(()=>g._safeFlushAndForget(this._sdkKey),200))}_shouldLogEvent(e){var t;if((null===(t=this._options)||void 0===t?void 0:t.loggingEnabled)!=="always"&&(0,l._isServerEnv)())return!1;if(!(0,c._isExposureEvent)(e))return!0;let n=e.user?e.user:{statsigEnvironment:void 0},r=(0,i._getUserStorageKey)(this._sdkKey,n),o=e.metadata?e.metadata:{},s=[e.eventName,r,o.gate,o.config,o.ruleID,o.allocatedExperiment,o.parameterName,String(o.isExplicitParameter),o.reason].join("|"),a=this._lastExposureTimeMap[s],u=Date.now();return(!a||!(u-a<6e5))&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[s]=u,!0)}_sendEvents(e){var t,n;return r(this,void 0,void 0,function*(){if("disabled"===this._loggingEnabled)return this._saveFailedLogsToStorage(e),!1;try{let r=(0,p._isUnloading)()&&this._network.isBeaconSupported()&&(null===(n=null===(t=this._options)||void 0===t?void 0:t.networkConfig)||void 0===n?void 0:n.networkOverrideFunc)==null;if(this._emitter({name:"pre_logs_flushed",events:e}),(r?yield this._sendEventsViaBeacon(e):yield this._sendEventsViaPost(e)).success)return this._emitter({name:"logs_flushed",events:e}),!0;return s.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(e),!1}catch(e){return s.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(e){var t;return r(this,void 0,void 0,function*(){let n=yield this._network.post(this._getRequestData(e)),r=null!==(t=null==n?void 0:n.code)&&void 0!==t?t:-1;return{success:r>=200&&r<300}})}_sendEventsViaBeacon(e){return r(this,void 0,void 0,function*(){return{success:yield this._network.beacon(this._getRequestData(e))}})}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[a.NetworkParam.EventCount]:String(e.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(e){for(;e.length>500;)e.shift();let t=this._getStorageKey();try{(0,d._setObjectInStorage)(t,e)}catch(e){s.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(e){let t=this._getStorageKey();r(this,void 0,void 0,function*(){d.Storage.isReady()||(yield d.Storage.isReadyResolver());let n=(0,d._getObjectFromStorage)(t);n&&(e===m.Startup&&d.Storage.removeItem(t),(yield this._sendEvents(n))&&e===m.GainedFocus&&d.Storage.removeItem(t))}).catch(()=>{s.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return`statsig.failed_logs.${(0,o._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);let t={},n=this._getCurrentPageUrl();n&&(t.statsigMetadata={currentPage:n});let r=Object.assign(Object.assign({},e),t);s.Log.debug("Enqueued Event:",r),this._queue.push(r)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if((null===(e=this._options)||void 0===e?void 0:e.includeCurrentPageUrlWithEvents)!==!1)return(0,l._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,t;let n=setInterval(()=>{let e=f[this._sdkKey];e&&e._flushIntervalId===n?g._safeFlushAndForget(this._sdkKey):clearInterval(n)},null!==(t=null===(e=this._options)||void 0===e?void 0:e.loggingIntervalMs)&&void 0!==t?t:1e4);this._flushIntervalId=n}}t.EventLogger=g},54764:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getSortedObject=t._DJB2Object=t._DJB2=void 0;let r=n(48634);t._DJB2=e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return String(t>>>0)},t._DJB2Object=(e,n)=>(0,t._DJB2)(JSON.stringify((0,t._getSortedObject)(e,n))),t._getSortedObject=(e,n)=>{if(null==e)return null;let i=Object.keys(e).sort(),o={};return i.forEach(i=>{let s=e[i];if(0===n||"object"!==(0,r._typeOf)(s)){o[i]=s;return}o[i]=(0,t._getSortedObject)(s,null!=n?n-1:n)}),o}},12457:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},14738:function(e,t){"use strict";function n(e){return e.unshift("[Statsig]"),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Log=t.LogLevel=void 0,t.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class r{static info(...e){r.level>=t.LogLevel.Info&&console.info("  INFO ",...n(e))}static debug(...e){r.level>=t.LogLevel.Debug&&console.debug(" DEBUG ",...n(e))}static warn(...e){r.level>=t.LogLevel.Warn&&console.warn("  WARN ",...n(e))}static error(...e){r.level>=t.LogLevel.Error&&console.error(" ERROR ",...n(e))}}t.Log=r,r.level=t.LogLevel.Warn},62049:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMemoKey=t.MemoPrefix=void 0,t.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_layer:"l",_paramStore:"p"};let n=new Set([]),r=new Set(["userPersistedValues"]);t.createMemoKey=function(e,t,i){let o=`${e}|${t}`;if(!i)return o;for(let e of Object.keys(i)){if(r.has(e))return;n.has(e)?o+=`|${e}=true`:o+=`|${e}=${i[e]}`}return o}},19582:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkParam=t.NetworkDefault=t.Endpoint=void 0,t.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},t.NetworkDefault={[t.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[t.Endpoint._initialize]:"https://featureassets.org/v1",[t.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},t.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}},87287:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkCore=void 0,n(79141);let i=n(79141),o=n(32190),s=n(14738),a=n(19582),l=n(50673),c=n(92731),u=n(93315),d=n(2949),h=n(35172),p=n(48384),f=n(50146),m=n(45957),g=n(3218),v=n(84797),y=new Set([408,500,502,503,504,522,524,599]);class b{constructor(e,t){this._emitter=t,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new l.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(e))}setLogEventCompressionMode(e){this._options.logEventCompressionMode=e}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){let e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){return r(this,void 0,void 0,function*(){if(!w(e))return!1;let t=this._getInternalRequestArgs("POST",e);yield this._tryToCompressBody(t);let n=yield this._getPopulatedURL(t),r=navigator;return r.sendBeacon.bind(r)(n,t.body)})}post(e){return r(this,void 0,void 0,function*(){let t=this._getInternalRequestArgs("POST",e);return this._tryEncodeBody(t),yield this._tryToCompressBody(t),this._sendRequest(t)})}get(e){let t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}_sendRequest(e){var t,n,i,l;return r(this,void 0,void 0,function*(){if(!w(e)||this._netConfig.preventAllNetworkTraffic)return null;let{method:c,body:u,retries:d,attempt:h}=e,p=e.urlConfig.endpoint;if(this._isRateLimited(p))return s.Log.warn(`Request to ${p} was blocked because you are making requests too frequently.`),null;let m=null!=h?h:1,g="undefined"!=typeof AbortController?new AbortController:null,b=setTimeout(()=>{null==g||g.abort(`Timeout of ${this._timeout}ms expired.`)},this._timeout),_=yield this._getPopulatedURL(e),x=null,k=(0,v._isUnloading)();try{let n={method:c,body:u,headers:Object.assign({},e.headers),signal:null==g?void 0:g.signal,priority:e.priority,keepalive:k};e.urlConfig.endpoint===a.Endpoint._initialize&&o.Diagnostics._markInitNetworkReqStart(e.sdkKey,{attempt:m});let r=this._leakyBucket[p];r&&(r.lastRequestTime=Date.now(),this._leakyBucket[p]=r);let i=null!==(t=this._netConfig.networkOverrideFunc)&&void 0!==t?t:fetch;if(x=yield i(_,n),clearTimeout(b),!x.ok){let e=yield x.text().catch(()=>"No Text"),t=Error(`NetworkError: ${_} ${e}`);throw t.name="NetworkError",t}let s=yield x.text();return C(e,x,m,s),this._fallbackResolver.tryBumpExpiryTime(e.sdkKey,e.urlConfig),{body:s,code:x.status}}catch(a){let t=(null==g?void 0:g.signal.aborted)&&"string"==typeof g.signal.reason?g.signal.reason:"string"==typeof a?a:a instanceof Error?`${a.name}: ${a.message}`:"Unknown Error",o=(null==g?void 0:g.signal.aborted)&&"string"==typeof g.signal.reason&&g.signal.reason.includes("Timeout")||!1;if(C(e,x,m,"",a),(yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(e.sdkKey,e.urlConfig,t,o))&&(e.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig)),!d||m>d||!y.has(null!==(n=null==x?void 0:x.status)&&void 0!==n?n:500)){null===(i=this._emitter)||void 0===i||i.call(this,{name:"error",error:a,tag:f.ErrorTag.NetworkError,requestArgs:e});let n=`A networking error occurred during ${c} request to ${_}.`;return s.Log.error(n,t,a),null===(l=this._errorBoundary)||void 0===l||l.attachErrorIfNoneExists(n),null}return yield function(e){return r(this,void 0,void 0,function*(){yield new Promise(t=>setTimeout(t,Math.min(e*e*500,3e4)))})}(m),this._sendRequest(Object.assign(Object.assign({},e),{retries:d,attempt:m+1}))}})}_getLogEventCompressionMode(e){let t=null==e?void 0:e.logEventCompressionMode;return t||(null==e?void 0:e.disableCompression)!==!0||(t=g.LogEventCompressionMode.Disabled),t||(t=g.LogEventCompressionMode.Enabled),t}_isRateLimited(e){var t;let n=Date.now(),r=null!==(t=this._leakyBucket[e])&&void 0!==t?t:{count:0,lastRequestTime:n},i=Math.floor((n-r.lastRequestTime)*.05);return r.count=Math.max(0,r.count-i),r.count>=50||(r.count+=1,r.lastRequestTime=n,this._leakyBucket[e]=r,!1)}_getPopulatedURL(e){var t;return r(this,void 0,void 0,function*(){let n=null!==(t=e.fallbackUrl)&&void 0!==t?t:e.urlConfig.getUrl();(e.urlConfig.endpoint===a.Endpoint._initialize||e.urlConfig.endpoint===a.Endpoint._download_config_specs)&&(this._lastUsedInitUrl=n);let r=Object.assign({[a.NetworkParam.SdkKey]:e.sdkKey,[a.NetworkParam.SdkType]:u.SDKType._get(e.sdkKey),[a.NetworkParam.SdkVersion]:m.SDK_VERSION,[a.NetworkParam.Time]:String(Date.now()),[a.NetworkParam.SessionID]:h.SessionID.get(e.sdkKey)},e.params),i=Object.keys(r).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`).join("&");return`${n}${i?`?${i}`:""}`})}_tryEncodeBody(e){var t;let n=(0,d._getWindowSafe)(),r=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof r&&null==(0,i._getStatsigGlobalFlag)("no-encode")&&(null==n?void 0:n.btoa))try{e.body=n.btoa(r).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[a.NetworkParam.StatsigEncoded]:"1"})}catch(t){s.Log.warn(`Request encoding failed for ${e.urlConfig.getUrl()}`,t)}}_tryToCompressBody(e){var t;return r(this,void 0,void 0,function*(){let n=e.body;if("string"==typeof n&&function(e,t){if(!e.isCompressable||null!=(0,i._getStatsigGlobalFlag)("no-compress")||"undefined"==typeof CompressionStream||"undefined"==typeof TextEncoder)return!1;let n=null!=e.urlConfig.customUrl||null!=e.urlConfig.fallbackUrls,r=!0===c.SDKFlags.get(e.sdkKey,"enable_log_event_compression");switch(t.logEventCompressionMode){case g.LogEventCompressionMode.Disabled:return!1;case g.LogEventCompressionMode.Enabled:if(n&&!r)return!1;return!0;case g.LogEventCompressionMode.Forced:return!0;default:return!1}}(e,this._options))try{let r;let i=new TextEncoder().encode(n),o=new CompressionStream("gzip"),l=o.writable.getWriter();l.write(i).catch(s.Log.error),l.close().catch(s.Log.error);let c=o.readable.getReader(),u=[];for(;!(r=yield c.read()).done;)u.push(r.value);let d=u.reduce((e,t)=>e+t.length,0),h=new Uint8Array(d),p=0;for(let e of u)h.set(e,p),p+=e.length;e.body=h,e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[a.NetworkParam.IsGzipped]:"1"})}catch(t){s.Log.warn(`Request compression failed for ${e.urlConfig.getUrl()}`,t)}})}_getInternalRequestArgs(e,t){let n=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig),r=Object.assign(Object.assign({},t),{method:e,fallbackUrl:n});return"data"in t&&_(r,t.data),r}}t.NetworkCore=b;let w=e=>!!e.sdkKey||(s.Log.warn("Unable to make request without an SDK key"),!1),_=(e,t)=>{let{sdkKey:n,fallbackUrl:r}=e,i=p.StableID.get(n),o=h.SessionID.get(n),s=u.SDKType._get(n);e.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},m.StatsigMetadataProvider.get()),{stableID:i,sessionID:o,sdkType:s,fallbackUrl:r})}))};function C(e,t,n,r,i){e.urlConfig.endpoint===a.Endpoint._initialize&&o.Diagnostics._markInitNetworkReqEnd(e.sdkKey,o.Diagnostics._getDiagnosticsData(t,n,r,i))}},50673:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t._isDomainFailure=t.NetworkFallbackResolver=void 0;let i=n(2428),o=n(54764),s=n(14738),a=n(6924);class l{constructor(e){var t;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(t=e.networkConfig)||void 0===t?void 0:t.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,t){var n;let r=null===(n=this._fallbackInfo)||void 0===n?void 0:n[t.endpoint];r&&(r.expiryTime=Date.now()+6048e5,d(e,Object.assign(Object.assign({},this._fallbackInfo),{[t.endpoint]:r})))}getActiveFallbackUrl(e,t){var n,r;if(null!=t.customUrl&&null!=t.fallbackUrls)return null;let i=this._fallbackInfo;null==i&&(i=null!==(n=function(e){let t=u(e),n=a.Storage.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(e){return s.Log.error("Failed to parse FallbackInfo"),null}}(e))&&void 0!==n?n:{},this._fallbackInfo=i);let o=i[t.endpoint];return!o||Date.now()>(null!==(r=o.expiryTime)&&void 0!==r?r:0)||t.getChecksum()!==o.urlConfigChecksum?(delete i[t.endpoint],this._fallbackInfo=i,d(e,this._fallbackInfo),null):o.url?o.url:null}tryFetchUpdatedFallbackInfo(e,t,n,i){var o,s;return r(this,void 0,void 0,function*(){try{if(!c(n,i))return!1;let r=null==t.customUrl&&null==t.fallbackUrls?yield this._tryFetchFallbackUrlsFromNetwork(t):t.fallbackUrls,s=this._pickNewFallbackUrl(null===(o=this._fallbackInfo)||void 0===o?void 0:o[t.endpoint],r);if(!s)return!1;return this._updateFallbackInfoWithNewUrl(e,t,s),!0}catch(e){return null===(s=this._errorBoundary)||void 0===s||s.logError("tryFetchUpdatedFallbackInfo",e),!1}})}_updateFallbackInfoWithNewUrl(e,t,n){var r,i,o;let s={urlConfigChecksum:t.getChecksum(),url:n,expiryTime:Date.now()+6048e5,previous:[]},a=t.endpoint,l=null===(r=this._fallbackInfo)||void 0===r?void 0:r[a];l&&s.previous.push(...l.previous),s.previous.length>10&&(s.previous=[]);let c=null===(o=null===(i=this._fallbackInfo)||void 0===i?void 0:i[a])||void 0===o?void 0:o.url;null!=c&&s.previous.push(c),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[a]:s}),d(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(e){var t;return r(this,void 0,void 0,function*(){let n=this._dnsQueryCooldowns[e.endpoint];if(n&&Date.now()<n)return null;this._dnsQueryCooldowns[e.endpoint]=Date.now()+144e5;let r=[],o=yield(0,i._fetchTxtRecords)(null!==(t=this._networkOverrideFunc)&&void 0!==t?t:fetch),s=function(e){try{return new URL(e).pathname}catch(e){return null}}(e.defaultUrl);for(let t of o){if(!t.startsWith(e.endpointDnsKey+"="))continue;let n=t.split("=");if(n.length>1){let e=n[1];e.endsWith("/")&&(e=e.slice(0,-1)),r.push(`https://${e}${s}`)}}return r})}_pickNewFallbackUrl(e,t){var n;if(null==t)return null;let r=new Set(null!==(n=null==e?void 0:e.previous)&&void 0!==n?n:[]),i=null==e?void 0:e.url,o=null;for(let e of t){let t=e.endsWith("/")?e.slice(0,-1):e;if(!r.has(e)&&t!==i){o=t;break}}return o}}function c(e,t){var n;let r=null!==(n=null==e?void 0:e.toLowerCase())&&void 0!==n?n:"";return t||r.includes("uncaught exception")||r.includes("failed to fetch")||r.includes("networkerror when attempting to fetch resource")}function u(e){return`statsig.network_fallback.${(0,o._DJB2)(e)}`}function d(e,t){let n=u(e);if(!t||0===Object.keys(t).length){a.Storage.removeItem(n);return}a.Storage.setItem(n,JSON.stringify(t))}t.NetworkFallbackResolver=l,t._isDomainFailure=c},73069:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7649:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},92731:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKFlags=void 0;let n={};t.SDKFlags={setFlags:(e,t)=>{n[e]=t},get:(e,t)=>{var r,i;return null!==(i=null===(r=n[e])||void 0===r?void 0:r[t])&&void 0!==i&&i}}},93315:function(e,t){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.SDKType=void 0;let r={};t.SDKType={_get:e=>{var t;return(null!==(t=r[e])&&void 0!==t?t:"js-mono")+(null!=n?n:"")},_setClientType(e,t){r[e]=t},_setBindingType(e){n&&"-react"!==n||(n="-"+e)}}},2949:function(e,t,n){"use strict";var r=n(93542);Object.defineProperty(t,"__esModule",{value:!0}),t._getUnloadEvent=t._getCurrentPageUrlSafe=t._addDocumentEventListenerSafe=t._addWindowEventListenerSafe=t._isServerEnv=t._getDocumentSafe=t._getWindowSafe=void 0,t._getWindowSafe=()=>"undefined"!=typeof window?window:null,t._getDocumentSafe=()=>{var e;let n=(0,t._getWindowSafe)();return null!==(e=null==n?void 0:n.document)&&void 0!==e?e:null},t._isServerEnv=()=>{if(null!==(0,t._getDocumentSafe)())return!1;let e=void 0!==r&&null!=r.versions&&null!=r.versions.node;return"string"==typeof EdgeRuntime||e},t._addWindowEventListenerSafe=(e,n)=>{let r=(0,t._getWindowSafe)();"function"==typeof(null==r?void 0:r.addEventListener)&&r.addEventListener(e,n)},t._addDocumentEventListenerSafe=(e,n)=>{let r=(0,t._getDocumentSafe)();"function"==typeof(null==r?void 0:r.addEventListener)&&r.addEventListener(e,n)},t._getCurrentPageUrlSafe=()=>{var e;try{return null===(e=(0,t._getWindowSafe)())||void 0===e?void 0:e.location.href.split(/[?#]/)[0]}catch(e){return}},t._getUnloadEvent=()=>{let e=(0,t._getWindowSafe)();return e&&"onpagehide"in e?"pagehide":"beforeunload"}},35172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigSession=t.SessionID=void 0;let r=n(79141),i=n(49922),o=n(14738),s=n(6924),a=n(64458),l={};function c(e,t){return setTimeout(()=>{var t;let n=null===(t=(0,r._getStatsigGlobal)())||void 0===t?void 0:t.instance(e);n&&n.$emt({name:"session_expired"})},t)}function u(e){return`statsig.session_id.${(0,i._getStorageKey)(e)}`}t.SessionID={get:e=>t.StatsigSession.get(e).data.sessionID},t.StatsigSession={get:e=>(null==l[e]&&(l[e]=function(e){let t=function(e){let t=u(e);return(0,s._getObjectFromStorage)(t)}(e),n=Date.now();return t||(t={sessionID:(0,a.getUUID)(),startTime:n,lastUpdate:n}),{data:t,sdkKey:e}}(e)),function(e){let t=Date.now(),n=e.data,r=e.sdkKey;if(function({lastUpdate:e}){return Date.now()-e>18e5}(n)||function({startTime:e}){return Date.now()-e>144e5}(n)){n.sessionID=(0,a.getUUID)(),n.startTime=t;let e=null==__STATSIG__?void 0:__STATSIG__.instance(r);e&&e.$emt({name:"session_expired"})}n.lastUpdate=t,function(e,t){let n=u(t);try{(0,s._setObjectInStorage)(n,e)}catch(e){o.Log.warn("Failed to save SessionID")}}(n,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);let i=t-n.startTime;return e.idleTimeoutID=c(r,18e5),e.ageTimeoutID=c(r,144e5-i),e}(l[e])),overrideInitialSessionID:(e,t)=>{l[t]=function(e,t){let n=Date.now();return{data:{sessionID:e,startTime:n,lastUpdate:n},sdkKey:t}}(e,t)}}},48384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StableID=void 0;let r=n(49922),i=n(14738),o=n(2949),s=n(6924),a=n(64458),l={},c={},u={};function d(e){return`statsig.stable_id.${(0,r._getStorageKey)(e)}`}function h(e,t){let n=d(t);try{(0,s._setObjectInStorage)(n,e)}catch(e){i.Log.warn("Failed to save StableID to storage")}}function p(e,t){if(!c[t]||!document)return;let n=new Date;n.setFullYear(n.getFullYear()+1),document.cookie=`${f(t)}=${encodeURIComponent(e)}; expires=${n.toUTCString()}; path=/`}function f(e){return`statsig.stable_id.${(0,r._getStorageKey)(e)}`}t.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:e=>{if(u[e])return null;if(null!=l[e])return l[e];let t=null;return null!=(t=function(e){if(!c[e]||null==(0,o._getDocumentSafe)())return null;for(let t of document.cookie.split(";")){let[n,r]=t.trim().split("=");if(n===f(e))return decodeURIComponent(r)}return null}(e))?(l[e]=t,h(t,e)):(null==(t=function(e){let t=d(e);return(0,s._getObjectFromStorage)(t)}(e))&&(t=(0,a.getUUID)()),h(t,e),p(t,e),l[e]=t),t},setOverride:(e,t)=>{l[t]=e,h(e,t),p(e,t)},_setCookiesEnabled:(e,t)=>{c[e]=t},_setDisabled:(e,t)=>{u[e]=t}}},94621:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClientBase=void 0,n(79141);let i=n(79141),o=n(36716),s=n(20178),a=n(14738),l=n(62049),c=n(2949),u=n(35172),d=n(48384),h=n(3218),p=n(6924);class f{constructor(e,t,n,r){var l,h,f,m;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};let g=this.$emt.bind(this);(null==r?void 0:r.logLevel)!=null&&(a.Log.level=r.logLevel),(null==r?void 0:r.disableStorage)&&p.Storage._setDisabled(!0),(null==r?void 0:r.initialSessionID)&&u.StatsigSession.overrideInitialSessionID(r.initialSessionID,e),(null==r?void 0:r.storageProvider)&&p.Storage._setProvider(r.storageProvider),(null==r?void 0:r.enableCookies)&&d.StableID._setCookiesEnabled(e,r.enableCookies),(null==r?void 0:r.disableStableID)&&d.StableID._setDisabled(e,!0),this._sdkKey=e,this._options=null!=r?r:{},this._memoCache={},this.overrideAdapter=null!==(l=null==r?void 0:r.overrideAdapter)&&void 0!==l?l:null,this._logger=new s.EventLogger(e,g,n,r),this._errorBoundary=new o.ErrorBoundary(e,r,g),this._errorBoundary.wrap(this),this._errorBoundary.wrap(t),this._errorBoundary.wrap(this._logger),n.setErrorBoundary(this._errorBoundary),this.dataAdapter=t,this.dataAdapter.attach(e,r,n),this.storageProvider=p.Storage,null===(m=null===(f=null===(h=this.overrideAdapter)||void 0===h?void 0:h.loadFromStorage)||void 0===f?void 0:f.call(h))||void 0===m||m.catch(e=>this._errorBoundary.logError("OA::loadFromStorage",e)),this._primeReadyRipcord(),function(e,t){var n;if((0,c._isServerEnv)())return;let r=(0,i._getStatsigGlobal)(),o=null!==(n=r.instances)&&void 0!==n?n:{};null!=o[e]&&a.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),o[e]=t,r.firstInstance||(r.firstInstance=t),r.instances=o,__STATSIG__=r}(e,this)}updateRuntimeOptions(e){e.loggingEnabled?(this._options.loggingEnabled=e.loggingEnabled,this._logger.setLoggingEnabled(e.loggingEnabled)):null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingEnabled(e.disableLogging?"disabled":"browser-only")),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,p.Storage._setDisabled(e.disableStorage)),null!=e.enableCookies&&(this._options.enableCookies=e.enableCookies,d.StableID._setCookiesEnabled(this._sdkKey,e.enableCookies)),e.logEventCompressionMode?this._logger.setLogEventCompressionMode(e.logEventCompressionMode):e.disableCompression&&this._logger.setLogEventCompressionMode(h.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return r(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){if(this._listeners[e]){let n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}}$on(e,t){t.__isInternal=!0,this.on(e,t)}$emt(e){var t;let n=t=>{try{t(e)}catch(n){if(!0===t.__isInternal){this._errorBoundary.logError(`__emit:${e.name}`,n);return}a.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach(e=>n(e)),null===(t=this._listeners["*"])||void 0===t||t.forEach(n)}_setStatus(e,t){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:t})}_enqueueExposure(e,t,n){if((null==n?void 0:n.disableExposureLog)===!0){this._logger.incrementNonExposureCount(e);return}this._logger.enqueue(t)}_memoize(e,t){return(n,r)=>{if(this._options.disableEvaluationMemoization)return t(n,r);let i=(0,l.createMemoKey)(e,n,r);return i?(i in this._memoCache||(Object.keys(this._memoCache).length>=3e3&&(this._memoCache={}),this._memoCache[i]=t(n,r)),this._memoCache[i]):t(n,r)}}}t.StatsigClientBase=f},50146:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTag=void 0,t.ErrorTag={NetworkError:"NetworkError"}},47542:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataAdapterCachePrefix=void 0,t.DataAdapterCachePrefix="statsig.cached"},24478:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createLayerParameterExposure=t._createConfigExposure=t._mapExposures=t._createGateExposure=t._isExposureEvent=void 0;let n="statsig::config_exposure",r="statsig::gate_exposure",i="statsig::layer_exposure",o=(e,t,n,r,i)=>(n.bootstrapMetadata&&(r.bootstrapMetadata=n.bootstrapMetadata),{eventName:e,user:t,value:null,metadata:a(n,r),secondaryExposures:i,time:Date.now()});function s(e,t){return e.map(e=>"string"==typeof e?(null!=t?t:{})[e]:e).filter(e=>null!=e)}t._isExposureEvent=({eventName:e})=>e===r||e===n||e===i,t._createGateExposure=(e,t,n)=>{var i,a,l;let c={gate:t.name,gateValue:String(t.value),ruleID:t.ruleID};return(null===(i=t.__evaluation)||void 0===i?void 0:i.version)!=null&&(c.configVersion=t.__evaluation.version),o(r,e,t.details,c,s(null!==(l=null===(a=t.__evaluation)||void 0===a?void 0:a.secondary_exposures)&&void 0!==l?l:[],n))},t._mapExposures=s,t._createConfigExposure=(e,t,r)=>{var i,a,l,c;let u={config:t.name,ruleID:t.ruleID};return(null===(i=t.__evaluation)||void 0===i?void 0:i.version)!=null&&(u.configVersion=t.__evaluation.version),(null===(a=t.__evaluation)||void 0===a?void 0:a.passed)!=null&&(u.rulePassed=String(t.__evaluation.passed)),o(n,e,t.details,u,s(null!==(c=null===(l=t.__evaluation)||void 0===l?void 0:l.secondary_exposures)&&void 0!==c?c:[],r))},t._createLayerParameterExposure=(e,t,n,r)=>{var a,l,c,u,d,h;let p=t.__evaluation,f=(null===(a=null==p?void 0:p.explicit_parameters)||void 0===a?void 0:a.includes(n))===!0,m="",g=null!==(l=null==p?void 0:p.undelegated_secondary_exposures)&&void 0!==l?l:[];f&&(m=null!==(c=p.allocated_experiment_name)&&void 0!==c?c:"",g=p.secondary_exposures);let v=null===(u=t.__evaluation)||void 0===u?void 0:u.parameter_rule_ids,y={config:t.name,parameterName:n,ruleID:null!==(d=null==v?void 0:v[n])&&void 0!==d?d:t.ruleID,allocatedExperiment:m,isExplicitParameter:String(f)};return(null===(h=t.__evaluation)||void 0===h?void 0:h.version)!=null&&(y.configVersion=t.__evaluation.version),o(i,e,t.details,y,s(g,r))};let a=(e,t)=>(t.reason=e.reason,e.lcut&&(t.lcut=String(e.lcut)),e.receivedAt&&(t.receivedAt=String(e.receivedAt)),t)},45957:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigMetadataProvider=t.SDK_VERSION=void 0,t.SDK_VERSION="3.16.2";let n={sdkVersion:t.SDK_VERSION,sdkType:"js-mono"};t.StatsigMetadataProvider={get:()=>n,add:e=>{n=Object.assign(Object.assign({},n),e)}}},3218:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingEnabledOption=t.LogEventCompressionMode=void 0,t.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},t.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"}},37286:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},37794:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeTypedGet=t._mergeOverride=t._makeLayer=t._makeExperiment=t._makeDynamicConfig=t._makeFeatureGate=void 0;let r=n(14738),i=n(48634);function o(e,t,n,r){var i;return{name:e,details:t,ruleID:null!==(i=null==n?void 0:n.rule_id)&&void 0!==i?i:"default",__evaluation:n,value:r}}function s(e,t,n){var r;let i=null!==(r=null==n?void 0:n.value)&&void 0!==r?r:{};return Object.assign(Object.assign({},o(e,t,n,i)),{get:a(e,null==n?void 0:n.value)})}function a(e,t,n){return(o,s)=>{var a;let l=null!==(a=null==t?void 0:t[o])&&void 0!==a?a:null;return null==l?null!=s?s:null:null==s||(0,i._isTypeMatch)(l,s)?(null==n||n(o),l):(r.Log.warn(`Parameter type mismatch. '${e}.${o}' was found to be type '${typeof l}' but fallback/return type is '${typeof s}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=s?s:null)}}t._makeFeatureGate=function(e,t,n){return o(e,t,n,(null==n?void 0:n.value)===!0)},t._makeDynamicConfig=s,t._makeExperiment=function(e,t,n){var r;return Object.assign(Object.assign({},s(e,t,n)),{groupName:null!==(r=null==n?void 0:n.group_name)&&void 0!==r?r:null})},t._makeLayer=function(e,t,n,r){var i,s;return Object.assign(Object.assign({},o(e,t,n,void 0)),{get:a(e,null==n?void 0:n.value,r),groupName:null!==(i=null==n?void 0:n.group_name)&&void 0!==i?i:null,__value:null!==(s=null==n?void 0:n.value)&&void 0!==s?s:{}})},t._mergeOverride=function(e,t,n,r){return Object.assign(Object.assign(Object.assign({},e),t),{get:a(e.name,n,r)})},t._makeTypedGet=a},20019:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},85348:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_DETAIL_ERROR_MESSAGES=t.createUpdateDetails=void 0,t.createUpdateDetails=(e,t,n,r,i,o)=>({duration:n,source:t,success:e,error:r,sourceUrl:i,warnings:o}),t.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}},87917:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getFullUserHash=t._normalizeUser=void 0;let r=n(54764),i=n(14738);t._normalizeUser=function(e,t,n){try{let r=JSON.parse(JSON.stringify(e));return null!=t&&null!=t.environment?r.statsigEnvironment=t.environment:null!=n&&(r.statsigEnvironment={tier:n}),r}catch(e){return i.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},t._getFullUserHash=function(e){return e?(0,r._DJB2Object)(e):null}},6924:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._setObjectInStorage=t._getObjectFromStorage=t.Storage=void 0;let r=n(14738),i=n(2949),o={},s={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:e=>o[e]?o[e]:null,setItem:(e,t)=>{o[e]=t},removeItem:e=>{delete o[e]},getAllKeys:()=>Object.keys(o)},a=null;try{let e=(0,i._getWindowSafe)();e&&e.localStorage&&"function"==typeof e.localStorage.getItem&&(a={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:t=>e.localStorage.getItem(t),setItem:(t,n)=>e.localStorage.setItem(t,n),removeItem:t=>e.localStorage.removeItem(t),getAllKeys:()=>Object.keys(e.localStorage)})}catch(e){r.Log.warn("Failed to setup localStorageProvider.")}let l=null!=a?a:s,c=l;function u(e){try{return e()}catch(e){if(e instanceof Error&&"SecurityError"===e.name)return t.Storage._setProvider(s),null;if(e instanceof Error&&"QuotaExceededError"===e.name){let n=t.Storage.getAllKeys().filter(e=>e.startsWith("statsig."));e.message=`${e.message}. Statsig Keys: ${n.length}`}throw e}}t.Storage={isReady:()=>c.isReady(),isReadyResolver:()=>c.isReadyResolver(),getProviderName:()=>c.getProviderName(),getItem:e=>u(()=>c.getItem(e)),setItem:(e,t)=>u(()=>c.setItem(e,t)),removeItem:e=>c.removeItem(e),getAllKeys:()=>c.getAllKeys(),_setProvider:e=>{l=e,c=e},_setDisabled:e=>{c=e?s:l}},t._getObjectFromStorage=function(e){let n=t.Storage.getItem(e);return JSON.parse(null!=n?n:"null")},t._setObjectInStorage=function(e,n){t.Storage.setItem(e,JSON.stringify(n))}},5323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._typedJsonParse=void 0;let r=n(14738);t._typedJsonParse=function(e,t,n){try{let n=JSON.parse(e);if(n&&"object"==typeof n&&t in n)return n}catch(e){}return r.Log.error(`Failed to parse ${n}`),null}},48634:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._isTypeMatch=t._typeOf=void 0,t._typeOf=function(e){return Array.isArray(e)?"array":typeof e},t._isTypeMatch=function(e,t){let n=e=>Array.isArray(e)?"array":typeof e;return n(e)===n(t)}},64458:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUUID=void 0,t.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=new Date().getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0,n="89ab"[Math.floor(4*Math.random())];return`xxxxxxxx-xxxx-4xxx-${n}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,n=>{let r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:7&r|8).toString(16)})}},21437:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlConfiguration=void 0;let r=n(54764),i=n(19582),o={[i.Endpoint._initialize]:"i",[i.Endpoint._rgstr]:"e",[i.Endpoint._download_config_specs]:"d"};class s{constructor(e,t,n,r){this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=o[e],t&&(this.customUrl=t),!t&&n&&(this.customUrl=n.endsWith("/")?`${n}${e}`:`${n}/${e}`),r&&(this.fallbackUrls=r);let s=i.NetworkDefault[e];this.defaultUrl=`${s}/${e}`}getUrl(){var e;return null!==(e=this.customUrl)&&void 0!==e?e:this.defaultUrl}getChecksum(){var e;let t=(null!==(e=this.fallbackUrls)&&void 0!==e?e:[]).sort().join(",");return(0,r._DJB2)(this.customUrl+t)}}t.UrlConfiguration=s},84797:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._notifyVisibilityChanged=t._subscribeToVisiblityChanged=t._isUnloading=t._isCurrentlyVisible=void 0;let r=n(2949),i="foreground",o="background",s=[],a=i,l=!1;t._isCurrentlyVisible=()=>a===i,t._isUnloading=()=>l,t._subscribeToVisiblityChanged=e=>{s.unshift(e)},t._notifyVisibilityChanged=e=>{e!==a&&(a=e,s.forEach(t=>t(e)))},(0,r._addWindowEventListenerSafe)("focus",()=>{l=!1,(0,t._notifyVisibilityChanged)(i)}),(0,r._addWindowEventListenerSafe)("blur",()=>(0,t._notifyVisibilityChanged)(o)),(0,r._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,t._notifyVisibilityChanged)("visible"===document.visibilityState?i:o)}),(0,r._addWindowEventListenerSafe)((0,r._getUnloadEvent)(),()=>{l=!0,(0,t._notifyVisibilityChanged)(o)})},20385:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Log=t.EventLogger=t.Diagnostics=void 0,n(79141);let o=n(79141),s=n(32190);Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return s.Diagnostics}});let a=n(20178);Object.defineProperty(t,"EventLogger",{enumerable:!0,get:function(){return a.EventLogger}});let l=n(14738);Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return l.Log}});let c=n(45957),u=n(6924);Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return u.Storage}}),i(n(79141),t),i(n(49922),t),i(n(27162),t),i(n(18455),t),i(n(32190),t),i(n(49260),t),i(n(36716),t),i(n(91437),t),i(n(90123),t),i(n(54764),t),i(n(12457),t),i(n(14738),t),i(n(62049),t),i(n(19582),t),i(n(87287),t),i(n(73069),t),i(n(7649),t),i(n(2949),t),i(n(93315),t),i(n(35172),t),i(n(48384),t),i(n(94621),t),i(n(50146),t),i(n(47542),t),i(n(24478),t),i(n(45957),t),i(n(3218),t),i(n(37286),t),i(n(37794),t),i(n(20019),t),i(n(87917),t),i(n(6924),t),i(n(5323),t),i(n(48634),t),i(n(21437),t),i(n(64458),t),i(n(84797),t),i(n(85348),t),i(n(92731),t),Object.assign((0,o._getStatsigGlobal)(),{Log:l.Log,SDK_VERSION:c.SDK_VERSION})},7006:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._resolveDeltasResponse=void 0;let r=n(20385);function i(e,t){null==e||e.forEach(e=>{delete t[e]})}t._resolveDeltasResponse=function(e,t){var n;let o=(0,r._typedJsonParse)(t,"checksum","DeltasEvaluationResponse");if(!o)return{hadBadDeltaChecksum:!0};let s=(i((n=Object.assign(Object.assign(Object.assign({},e),o),{feature_gates:Object.assign(Object.assign({},e.feature_gates),o.feature_gates),layer_configs:Object.assign(Object.assign({},e.layer_configs),o.layer_configs),dynamic_configs:Object.assign(Object.assign({},e.dynamic_configs),o.dynamic_configs)})).deleted_gates,n.feature_gates),delete n.deleted_gates,i(n.deleted_configs,n.dynamic_configs),delete n.deleted_configs,i(n.deleted_layers,n.layer_configs),delete n.deleted_layers,n),a=(0,r._DJB2Object)({feature_gates:s.feature_gates,dynamic_configs:s.dynamic_configs,layer_configs:s.layer_configs},2);return a!==o.checksumV2?{hadBadDeltaChecksum:!0,badChecksum:a,badMergedConfigs:s,badFullResponse:o.deltas_full_response}:JSON.stringify(s)}},36593:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(20385);class i{constructor(e){this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,r._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(e,t){var n;if(!e)return!1;let i=(0,r._typedJsonParse)(e.data,"has_updates","EvaluationResponse");return null!=i&&(this._source=e.source,(null==i?void 0:i.has_updates)!==!0||(this._rawValues=e.data,this._lcut=i.time,this._receivedAt=e.receivedAt,this._values=i,this._bootstrapMetadata=this._extractBootstrapMetadata(e.source,i),e.source&&i.user&&this._setWarningState(t,i),r.SDKFlags.setFlags(this._sdkKey,null!==(n=i.sdk_flags)&&void 0!==n?n:{}),!0))}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.feature_gates,e)}getConfig(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.dynamic_configs,e)}getLayer(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.layer_configs,e)}getParamStore(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.param_stores,e)}getSource(){return this._source}getExposureMapping(){var e;return null===(e=this._values)||void 0===e?void 0:e.exposures}_extractBootstrapMetadata(e,t){if("Bootstrap"!==e)return null;let n={};return t.user&&(n.user=t.user),t.sdkInfo&&(n.generatorSDKInfo=t.sdkInfo),n.lcut=t.time,n}_getDetailedStoreResult(e,t){let n=null;return e&&(n=e[t]?e[t]:e[(0,r._DJB2)(t)]),{result:n,details:this._getDetails(null==n)}}_setWarningState(e,t){var n,i;let o=r.StableID.get(this._sdkKey);if((null===(n=e.customIDs)||void 0===n?void 0:n.stableID)!==o&&((null===(i=e.customIDs)||void 0===i?void 0:i.stableID)||o)){this._warnings.add("StableIDMismatch");return}if("user"in t){let n=t.user;(0,r._getFullUserHash)(e)!==(0,r._getFullUserHash)(n)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};let e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}_getDetails(e){var t,n;let r=this.getCurrentSourceDetails(),i=r.reason,o=null!==(t=r.warnings)&&void 0!==t?t:[];"Bootstrap"===this._source&&o.length>0&&(i+=o[0]),"Uninitialized"!==i&&"NoValues"!==i&&(i=`${i}:${e?"Unrecognized":"Recognized"}`);let s="Bootstrap"===this._source&&null!==(n=this._bootstrapMetadata)&&void 0!==n?n:void 0;return s&&(r.bootstrapMetadata=s),Object.assign(Object.assign({},r),{reason:i})}}t.default=i},83127:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let i=n(20385),o=n(7006);class s extends i.NetworkCore{constructor(e,t){super(e,t);let n=null==e?void 0:e.networkConfig;this._option=e,this._initializeUrlConfig=new i.UrlConfiguration(i.Endpoint._initialize,null==n?void 0:n.initializeUrl,null==n?void 0:n.api,null==n?void 0:n.initializeFallbackUrls)}fetchEvaluations(e,t,n,o,s){var a,l,c,u,d,h;return r(this,void 0,void 0,function*(){let r=t?(0,i._typedJsonParse)(t,"has_updates","InitializeResponse"):null,p={user:o,hash:null!==(c=null===(l=null===(a=this._option)||void 0===a?void 0:a.networkConfig)||void 0===l?void 0:l.initializeHashAlgorithm)&&void 0!==c?c:"djb2",deltasResponseRequested:!1,full_checksum:null};if(null==r?void 0:r.has_updates){let e=(null==r?void 0:r.hash_used)!==(null!==(h=null===(d=null===(u=this._option)||void 0===u?void 0:u.networkConfig)||void 0===d?void 0:d.initializeHashAlgorithm)&&void 0!==h?h:"djb2");p=Object.assign(Object.assign({},p),{sinceTime:s&&!e?r.time:0,previousDerivedFields:"derived_fields"in r&&s?r.derived_fields:{},deltasResponseRequested:!0,full_checksum:r.full_checksum,partialUserMatchSinceTime:e?0:r.time})}return this._fetchEvaluations(e,r,p,n)})}_fetchEvaluations(e,t,n,i){var s,a;return r(this,void 0,void 0,function*(){let r=yield this.post({sdkKey:e,urlConfig:this._initializeUrlConfig,data:n,retries:2,isStatsigEncodable:!0,priority:i});if((null==r?void 0:r.code)===204)return'{"has_updates": false}';if((null==r?void 0:r.code)!==200)return null!==(s=null==r?void 0:r.body)&&void 0!==s?s:null;if((null==t?void 0:t.has_updates)!==!0||(null===(a=r.body)||void 0===a?void 0:a.includes('"is_delta":true'))!==!0||!0!==n.deltasResponseRequested)return r.body;let l=(0,o._resolveDeltasResponse)(t,r.body);return"string"==typeof l?l:this._fetchEvaluations(e,t,Object.assign(Object.assign(Object.assign({},n),l),{deltasResponseRequested:!1}),i)})}}t.default=s},33679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeParamStoreGetter=void 0;let r=n(20385),i={disableExposureLog:!0};function o(e){return null==e||!1===e.disableExposureLog}function s(e,t){return null!=t&&!(0,r._isTypeMatch)(e,t)}t._makeParamStoreGetter=function(e,t,n){return(a,l)=>{if(null==t)return l;let c=t[a];if(null==c||null!=l&&(0,r._typeOf)(l)!==c.param_type)return l;switch(c.ref_type){case"static":return c.value;case"gate":return e.getFeatureGate(c.gate_name,o(n)?void 0:i).value?c.pass_value:c.fail_value;case"dynamic_config":return function(e,t,n,r){let a=e.getDynamicConfig(t.config_name,o(r)?void 0:i).get(t.param_name);return s(a,n)?n:a}(e,c,l,n);case"experiment":return function(e,t,n,r){let a=e.getExperiment(t.experiment_name,o(r)?void 0:i).get(t.param_name);return s(a,n)?n:a}(e,c,l,n);case"layer":return function(e,t,n,r){let a=e.getLayer(t.layer_name,o(r)?void 0:i).get(t.param_name);return s(a,n)?n:a}(e,c,l,n);default:return l}}}},21030:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let i=n(20385),o=n(36593),s=n(83127),a=n(33679),l=n(71190);class c extends i.StatsigClientBase{static instance(e){let t=(0,i._getStatsigGlobal)().instance(e);return t instanceof c?t:(i.Log.warn((0,i._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new c(null!=e?e:"",{}))}constructor(e,t,n=null){var r,a;i.SDKType._setClientType(e,"javascript-client");let c=new s.default(n,e=>{this.$emt(e)});for(let s of(super(e,null!==(r=null==n?void 0:n.dataAdapter)&&void 0!==r?r:new l.StatsigEvaluationsDataAdapter,c,n),this.getFeatureGate=this._memoize(i.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(i.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(i.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(i.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(i.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new o.default(e),this._network=c,this._user=this._configureUser(t,n),null!==(a=null==n?void 0:n.plugins)&&void 0!==a?a:[]))s.bind(this)}initializeSync(e){var t;return"Uninitialized"!==this.loadingStatus?(0,i.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!==(t=this._store.getWarnings())&&void 0!==t?t:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(e){return r(this,void 0,void 0,function*(){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(e)),this._initializePromise})}updateUserSync(e,t){var n;let r=performance.now(),o=[...null!==(n=this._store.getWarnings())&&void 0!==n?n:[]];this._resetForUser(e);let s=this.dataAdapter.getDataSync(this._user);null==s&&o.push("NoCachedValues"),this._store.setValues(s,this._user),this._finalizeUpdate(s);let a=null==t?void 0:t.disableBackgroundCacheRefresh;return!0===a||null==a&&(null==s?void 0:s.source)==="Bootstrap"||this._runPostUpdate(null!=s?s:null,this._user),(0,i.createUpdateDetails)(!0,this._store.getSource(),performance.now()-r,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),o)}updateUserAsync(e,t){return r(this,void 0,void 0,function*(){this._resetForUser(e);let n=this._user;i.Diagnostics._markInitOverallStart(this._sdkKey);let r=this.dataAdapter.getDataSync(n);if(this._store.setValues(r,this._user),this._setStatus("Loading",r),r=yield this.dataAdapter.getDataAsync(r,n,t),n!==this._user)return(0,i.createUpdateDetails)(!1,this._store.getSource(),-1,Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let o=!1;null!=r&&(i.Diagnostics._markInitProcessStart(this._sdkKey),o=this._store.setValues(r,this._user),i.Diagnostics._markInitProcessEnd(this._sdkKey,{success:o})),this._finalizeUpdate(r),o||(this._errorBoundary.attachErrorIfNoneExists(i.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),i.Diagnostics._markInitOverallEnd(this._sdkKey,o,this._store.getCurrentSourceDetails());let s=i.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,i.createUpdateDetails)(o,this._store.getSource(),s,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:i.StatsigSession.get(this._sdkKey),stableID:i.StableID.get(this._sdkKey)}}checkGate(e,t){return this.getFeatureGate(e,t).value}logEvent(e,t,n){let r="string"==typeof e?{eventName:e,value:t,metadata:n}:e;this.$emt({name:"log_event_called",event:r}),this._logger.enqueue(Object.assign(Object.assign({},r),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)})}_initializeAsyncImpl(e){return r(this,void 0,void 0,function*(){return i.Storage.isReady()||(yield i.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,e)})}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,t){this.dataAdapter.getDataAsync(e,t,{priority:"low"}).catch(e=>{i.Log.error("An error occurred after update.",e)})}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,t){var n;let r=(0,i._normalizeUser)(e,t),o=null===(n=r.customIDs)||void 0===n?void 0:n.stableID;return o&&i.StableID.setOverride(o,this._sdkKey),r}_getFeatureGateImpl(e,t){var n,r;let{result:o,details:s}=this._store.getGate(e),a=(0,i._makeFeatureGate)(e,s,o),l=null===(r=null===(n=this.overrideAdapter)||void 0===n?void 0:n.getGateOverride)||void 0===r?void 0:r.call(n,a,this._user,t),c=null!=l?l:a;return this._enqueueExposure(e,(0,i._createGateExposure)(this._user,c,this._store.getExposureMapping()),t),this.$emt({name:"gate_evaluation",gate:c}),c}_getDynamicConfigImpl(e,t){var n,r;let{result:o,details:s}=this._store.getConfig(e),a=(0,i._makeDynamicConfig)(e,s,o),l=null===(r=null===(n=this.overrideAdapter)||void 0===n?void 0:n.getDynamicConfigOverride)||void 0===r?void 0:r.call(n,a,this._user,t),c=null!=l?l:a;return this._enqueueExposure(e,(0,i._createConfigExposure)(this._user,c,this._store.getExposureMapping()),t),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:c}),c}_getExperimentImpl(e,t){var n,r,o,s;let{result:a,details:l}=this._store.getConfig(e),c=(0,i._makeExperiment)(e,l,a);null!=c.__evaluation&&(c.__evaluation.secondary_exposures=(0,i._mapExposures)(null!==(r=null===(n=c.__evaluation)||void 0===n?void 0:n.secondary_exposures)&&void 0!==r?r:[],this._store.getExposureMapping()));let u=null===(s=null===(o=this.overrideAdapter)||void 0===o?void 0:o.getExperimentOverride)||void 0===s?void 0:s.call(o,c,this._user,t),d=null!=u?u:c;return this._enqueueExposure(e,(0,i._createConfigExposure)(this._user,d,this._store.getExposureMapping()),t),this.$emt({name:"experiment_evaluation",experiment:d}),d}_getLayerImpl(e,t){var n,r,o;let{result:s,details:a}=this._store.getLayer(e),l=(0,i._makeLayer)(e,a,s),c=null===(r=null===(n=this.overrideAdapter)||void 0===n?void 0:n.getLayerOverride)||void 0===r?void 0:r.call(n,l,this._user,t);(null==t?void 0:t.disableExposureLog)&&this._logger.incrementNonExposureCount(e);let u=(0,i._mergeOverride)(l,c,null!==(o=null==c?void 0:c.__value)&&void 0!==o?o:l.__value,n=>{null!=t&&t.disableExposureLog||this._enqueueExposure(e,(0,i._createLayerParameterExposure)(this._user,u,n,this._store.getExposureMapping()),t)});return this.$emt({name:"layer_evaluation",layer:u}),u}_getParameterStoreImpl(e,t){var n,r;let{result:i,details:o}=this._store.getParamStore(e);this._logger.incrementNonExposureCount(e);let s={name:e,details:o,__configuration:i,get:(0,a._makeParamStoreGetter)(this,i,t)},l=null===(r=null===(n=this.overrideAdapter)||void 0===n?void 0:n.getParamStoreOverride)||void 0===r?void 0:r.call(n,s,t);return null!=l&&(s.__configuration=l.config,s.details=l.details,s.get=(0,a._makeParamStoreGetter)(this,l.config,t)),s}}t.default=c},71190:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigEvaluationsDataAdapter=void 0;let i=n(20385),o=n(83127);class s extends i.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(e,t,n){super.attach(e,t,n),null!==n&&n instanceof o.default?this._network=n:this._network=new o.default(null!=t?t:{})}getDataAsync(e,t,n){return this._getDataAsyncImpl(e,(0,i._normalizeUser)(t,this._options),n)}prefetchData(e,t){return this._prefetchDataImpl(e,t)}setData(e){let t=(0,i._typedJsonParse)(e,"has_updates","data");t&&"user"in t?super.setData(e,t.user):i.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(e,t){super.setData(e,t)}_fetchFromNetwork(e,t,n,i){var o;return r(this,void 0,void 0,function*(){let r=yield null===(o=this._network)||void 0===o?void 0:o.fetchEvaluations(this._getSdkKey(),e,null==n?void 0:n.priority,t,i);return null!=r?r:null})}_getCacheKey(e){var t;let n=(0,i._getStorageKey)(this._getSdkKey(),e,null===(t=this._options)||void 0===t?void 0:t.customUserCacheKeyFunc);return`${i.DataAdapterCachePrefix}.${this._cacheSuffix}.${n}`}_isCachedResultValidFor204(e,t){return null!=e.fullUserHash&&e.fullUserHash===(0,i._getFullUserHash)(t)}}t.StatsigEvaluationsDataAdapter=s},86062:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClient=void 0;let o=n(20385),s=n(21030);t.StatsigClient=s.default,i(n(20385),t);let a=Object.assign((0,o._getStatsigGlobal)(),{StatsigClient:s.default});t.default=a},64:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNoopClient=t.NoopEvaluationsClient=void 0;let r=n(20385),i={success:!1,error:Error("NoClient"),duration:0,source:"Uninitialized",sourceUrl:null},o=()=>{},s=()=>i,a=()=>Promise.resolve(),l=()=>Promise.resolve(i),c={reason:"Error:NoClient"},u=e=>(...t)=>{let n="string"==typeof t[0]?t[0]:t[1];switch(e){case"gate":return(0,r._makeFeatureGate)(n,c,null);case"config":return(0,r._makeDynamicConfig)(n,c,null);case"layer":return(0,r._makeLayer)(n,c,null);case"param_store":return{name:n}}},d={sdkKey:"",options:{},values:null,user:{userID:""},errorBoundary:{},session:{data:{sessionID:"",startTime:0,lastUpdate:0},sdkKey:""},stableID:"",storageProvider:r.Storage},h={isNoop:!0,loadingStatus:"Uninitialized",initializeSync:s,initializeAsync:l,shutdown:a,flush:a,updateRuntimeOptions:o,updateUserSync:s,updateUserAsync:l,getContext:()=>Object.assign({},d),checkGate:()=>!1,getFeatureGate:u("gate"),getDynamicConfig:u("config"),getExperiment:u("config"),getLayer:u("layer"),getParameterStore:u("param_store"),logEvent:o,on:o,off:o,$on:o,$emt:o,dataAdapter:{attach:o,getDataSync:()=>null,getDataAsync:()=>Promise.resolve(null),setData:o,setDataLegacy:o,prefetchData:a}};t.NoopEvaluationsClient=h,t.isNoopClient=function(e){return"isNoop"in e}},97763:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(2784),i=n(64);t.default=(0,r.createContext)({renderVersion:0,client:i.NoopEvaluationsClient,isLoading:!0})},81723:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigProvider=void 0;let r=n(52322),i=n(2784),o=n(20385),s=n(97763),a=n(99484);function l(e){let[t,n]=(0,i.useState)(0),o=(0,a.useClientAsyncInit)(e.sdkKey,e.user,e.options).client,[l,c]=(0,i.useState)(!d(o));u(o,n,c);let h=(0,i.useMemo)(()=>({renderVersion:t,client:o,isLoading:l}),[t,o,l]);return(0,r.jsx)(s.default.Provider,{value:h,children:null!=e.loadingComponent&&h.isLoading?e.loadingComponent:e.children})}function c(e){let[t,n]=(0,i.useState)(0),o=e.client,[a,l]=(0,i.useState)(!d(o));u(o,n,l);let c=(0,i.useMemo)(()=>({renderVersion:t,client:o,isLoading:a}),[t,o,a]);return(0,r.jsx)(s.default.Provider,{value:c,children:null!=e.loadingComponent&&c.isLoading?e.loadingComponent:e.children})}function u(e,t,n){(0,i.useEffect)(()=>{let r=()=>{t(e=>e+1),n(!d(e))};return o.SDKType._setBindingType("react"),e.$on("values_updated",r),()=>{e.flush().catch(e=>o.Log.error("An error occurred during flush",e)),e.off("values_updated",r)}},[e,t])}function d(e){return"isNoop"in e||"Ready"===e.loadingStatus}t.StatsigProvider=function(e){return"client"in e?(("sdkKey"in e||"user"in e)&&o.Log.warn("Both client and configuration props (sdkKey, user) were provided to StatsigProvider. The client prop will be used and the configuration props will be ignored."),(0,r.jsx)(c,Object.assign({},e))):(0,r.jsx)(l,Object.assign({},e))}},83614:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.useStatsigUser=t.useStatsigInternalClientFactoryBootstrap=t.useStatsigInternalClientFactoryAsync=t.useStatsigClient=t.useParameterStore=t.useLayer=t.useGateValue=t.useFeatureGate=t.useExperiment=t.useDynamicConfig=t.useClientBootstrapInit=t.useClientAsyncInit=t.StatsigProvider=t.StatsigContext=void 0;let o=n(20385),s=n(97763);t.StatsigContext=s.default;let a=n(81723);Object.defineProperty(t,"StatsigProvider",{enumerable:!0,get:function(){return a.StatsigProvider}});let l=n(99484);Object.defineProperty(t,"useClientAsyncInit",{enumerable:!0,get:function(){return l.useClientAsyncInit}});let c=n(4242);Object.defineProperty(t,"useClientBootstrapInit",{enumerable:!0,get:function(){return c.useClientBootstrapInit}});let u=n(98748);t.useDynamicConfig=u.default;let d=n(88021);t.useExperiment=d.default;let h=n(11392);t.useFeatureGate=h.default;let p=n(59111);t.useGateValue=p.default;let f=n(21917);t.useLayer=f.default;let m=n(40871);t.useParameterStore=m.default;let g=n(81953);Object.defineProperty(t,"useStatsigClient",{enumerable:!0,get:function(){return g.useStatsigClient}});let v=n(50317);Object.defineProperty(t,"useStatsigInternalClientFactoryAsync",{enumerable:!0,get:function(){return v.useStatsigInternalClientFactoryAsync}});let y=n(6219);Object.defineProperty(t,"useStatsigInternalClientFactoryBootstrap",{enumerable:!0,get:function(){return y.useStatsigInternalClientFactoryBootstrap}});let b=n(1499);Object.defineProperty(t,"useStatsigUser",{enumerable:!0,get:function(){return b.useStatsigUser}}),i(n(86062),t),Object.assign((0,o._getStatsigGlobal)(),{StatsigContext:s.default,StatsigProvider:a.StatsigProvider,useClientAsyncInit:l.useClientAsyncInit,useClientBootstrapInit:c.useClientBootstrapInit,useDynamicConfig:u.default,useExperiment:d.default,useFeatureGate:h.default,useGateValue:p.default,useLayer:f.default,useParameterStore:m.default,useStatsigClient:g.useStatsigClient,useStatsigInternalClientFactoryAsync:v.useStatsigInternalClientFactoryAsync,useStatsigInternalClientFactoryBootstrap:y.useStatsigInternalClientFactoryBootstrap,useStatsigUser:b.useStatsigUser})},99484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useClientAsyncInit=void 0;let r=n(86062),i=n(50317);t.useClientAsyncInit=function(e,t,n=null){return(0,i.useStatsigInternalClientFactoryAsync)(e=>new r.StatsigClient(e.sdkKey,e.initialUser,e.statsigOptions),{sdkKey:e,initialUser:t,statsigOptions:n})}},4242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useClientBootstrapInit=void 0;let r=n(86062),i=n(6219);t.useClientBootstrapInit=function(e,t,n,o=null){return(0,i.useStatsigInternalClientFactoryBootstrap)(e=>new r.StatsigClient(e.sdkKey,e.initialUser,e.statsigOptions),{sdkKey:e,initialUser:t,initialValues:n,statsigOptions:o})}},98748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(2784),i=n(20385),o=n(64),s=n(97763);t.default=function(e,t){let{client:n,renderVersion:a}=(0,r.useContext)(s.default);return(0,r.useMemo)(()=>(0,o.isNoopClient)(n)?(i.Log.warn(`useDynamicConfig hook failed to find a valid StatsigClient for dynamic config '${e}'.`),o.NoopEvaluationsClient.getDynamicConfig(e,t)):n.getDynamicConfig(e,t),[e,n,a,...t?Object.values(t):[]])}},88021:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(2784),i=n(20385),o=n(64),s=n(97763);t.default=function(e,t){let{client:n,renderVersion:a}=(0,r.useContext)(s.default);return(0,r.useMemo)(()=>(0,o.isNoopClient)(n)?(i.Log.warn(`useExperiment hook failed to find a valid Statsig client for experiment '${e}'.`),o.NoopEvaluationsClient.getExperiment(e,t)):n.getExperiment(e,t),[e,n,a,...t?Object.values(t):[]])}},11392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(2784),i=n(20385),o=n(64),s=n(97763);t.default=function(e,t){let{client:n,renderVersion:a}=(0,r.useContext)(s.default);return(0,r.useMemo)(()=>(0,o.isNoopClient)(n)?(i.Log.warn(`useFeatureGate hook failed to find a valid StatsigClient for gate '${e}'.`),o.NoopEvaluationsClient.getFeatureGate(e,t)):n.getFeatureGate(e,t),[e,n,a,...t?Object.values(t):[]])}},59111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(2784),i=n(20385),o=n(64),s=n(97763);t.default=function(e,t){let{client:n,renderVersion:a}=(0,r.useContext)(s.default);return(0,r.useMemo)(()=>(0,o.isNoopClient)(n)?(i.Log.warn(`useGateValue hook failed to find a valid StatsigClient for gate '${e}'.`),o.NoopEvaluationsClient.checkGate(e,t)):n.checkGate(e,t),[e,n,a,...t?Object.values(t):[]])}},21917:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(2784),i=n(20385),o=n(64),s=n(97763);t.default=function(e,t){let{client:n,renderVersion:a}=(0,r.useContext)(s.default);return(0,r.useMemo)(()=>(0,o.isNoopClient)(n)?(i.Log.warn(`useLayer hook failed to find a valid Statsig client for layer '${e}'.`),o.NoopEvaluationsClient.getLayer(e,t)):n.getLayer(e,t),[e,n,a,...t?Object.values(t):[]])}},40871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(2784),i=n(20385),o=n(64),s=n(97763);t.default=function(e,t){let{client:n,renderVersion:a}=(0,r.useContext)(s.default);return(0,r.useMemo)(()=>(0,o.isNoopClient)(n)?(i.Log.warn(`useParameterStore hook failed to find a valid StatsigClient for parameter store '${e}'.`),o.NoopEvaluationsClient.getParameterStore(e,t)):n.getParameterStore(e,t),[e,n,a,...t?Object.values(t):[]])}},81953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStatsigClient=void 0;let r=n(2784),i=n(20385),o=n(64),s=n(97763);t.useStatsigClient=function(){let{client:e,renderVersion:t,isLoading:n}=(0,r.useContext)(s.default),a=(0,r.useMemo)(()=>(0,o.isNoopClient)(e)?(i.Log.warn("Attempting to retrieve a StatsigClient but none was set."),o.NoopEvaluationsClient):e,[e,t]),l=[a,t],c=(0,r.useCallback)((e,t)=>a.checkGate(e,t),l),u=(0,r.useCallback)((e,t)=>a.getFeatureGate(e,t),l),d=(0,r.useCallback)((e,t)=>a.getDynamicConfig(e,t),l),h=(0,r.useCallback)((e,t)=>a.getExperiment(e,t),l),p=(0,r.useCallback)((e,t)=>a.getLayer(e,t),l),f=(0,r.useCallback)((e,t)=>a.getParameterStore(e,t),l),m=(0,r.useCallback)((e,t,n)=>"string"==typeof e?a.logEvent(e,t,n):a.logEvent(e),l);return(0,r.useMemo)(()=>({client:a,checkGate:c,getFeatureGate:u,getDynamicConfig:d,getExperiment:h,getLayer:p,getParameterStore:f,logEvent:m,isLoading:n}),[a,c,u,d,h,p,f,m,n])}},50317:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStatsigInternalClientFactoryAsync=void 0;let r=n(2784),i=n(20385);t.useStatsigInternalClientFactoryAsync=function(e,t){let n=(0,r.useMemo)(()=>{var n;return null!==(n=(0,i._getInstance)(t.sdkKey))&&void 0!==n?n:e(t)},[]),[o,s]=(0,r.useState)("Ready"!==n.loadingStatus);return(0,r.useMemo)(()=>{"Ready"!==n.loadingStatus&&n.initializeAsync().catch(i.Log.error).finally(()=>s(!1))},[]),{client:n,isLoading:o}}},6219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStatsigInternalClientFactoryBootstrap=void 0;let r=n(2784),i=n(20385);t.useStatsigInternalClientFactoryBootstrap=function(e,t){let n=(0,r.useRef)((0,i._getInstance)(t.sdkKey));return(0,r.useMemo)(()=>{if(n.current)return n.current;let r=e(t);return n.current=r,r.dataAdapter.setData(t.initialValues),r.initializeSync(),r},[])}},1499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStatsigUser=void 0;let r=n(2784),i=n(97763),o=n(81953);function s(e){return e.getContext().user}t.useStatsigUser=function(){let{client:e}=(0,o.useStatsigClient)(),{renderVersion:t}=(0,r.useContext)(i.default);return{user:(0,r.useMemo)(()=>s(e),[e,t]),updateUserSync:(0,r.useCallback)(t=>("function"==typeof t&&(t=t(s(e))),e.updateUserSync(t)),[e]),updateUserAsync:(0,r.useCallback)(t=>("function"==typeof t&&(t=t(s(e))),e.updateUserAsync(t)),[e])}}},7896:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.d(t,{Z:function(){return r}})},96327:function(e,t,n){"use strict";let r,i,o;n.d(t,{Jn:function(){return L},qX:function(){return O},Xd:function(){return R},Mq:function(){return D},ZF:function(){return M},KN:function(){return j}});var s=n(46387),a=n(68207),l=n(83395);let c=(e,t)=>t.some(t=>e instanceof t),u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,m={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return d.get(e);if("objectStoreNames"===t)return e.objectStoreNames||h.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(g(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&u.set(t,e)}).catch(()=>{}),f.set(t,e),t}(e);if(p.has(e))return p.get(e);let n="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(v(this),e),g(u.get(this))}:function(...e){return g(t.apply(v(this),e))}:function(e,...n){let r=t.call(v(this),e,...n);return h.set(r,e.sort?e.sort():[e]),g(r)}:(t instanceof IDBTransaction&&function(e){if(d.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});d.set(e,t)}(t),c(t,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,m):t;return n!==e&&(p.set(e,n),f.set(n,e)),n}let v=e=>f.get(e),y=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function _(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(w.get(t))return w.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||y.includes(n)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return w.set(t,o),o}m={...o=m,get:(e,t,n)=>_(e,t)||o.get(e,t,n),has:(e,t)=>!!_(e,t)||o.has(e,t)};class C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let x="@firebase/app",k="0.9.25",S=new a.Yd("@firebase/app"),E="[DEFAULT]",T={[x]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},P=new Map,I=new Map;function R(e){let t=e.name;if(I.has(t))return S.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(I.set(t,e),P.values()))!function(e,t){try{e.container.addComponent(t)}catch(n){S.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}(n,e);return!0}function O(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}let A=new l.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class N{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new s.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw A.create("app-deleted",{appName:this._name})}}let L="10.7.1";function M(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:E,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw A.create("bad-app-name",{appName:String(i)});if(n||(n=(0,l.aH)()),!n)throw A.create("no-options");let o=P.get(i);if(o){if((0,l.vZ)(n,o.options)&&(0,l.vZ)(r,o.config))return o;throw A.create("duplicate-app",{appName:i})}let a=new s.H0(i);for(let e of I.values())a.addComponent(e);let c=new N(n,r,a);return P.set(i,c),c}function D(e=E){let t=P.get(e);if(!t&&e===E&&(0,l.aH)())return M();if(!t)throw A.create("no-app",{appName:e});return t}function j(e,t,n){var r;let i=null!==(r=T[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){let e=[`Unable to register library "${i}" with version "${t}":`];o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),S.warn(e.join(" "));return}R(new s.wA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}let U="firebase-heartbeat-store",F=null;function V(){return F||(F=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,1),a=g(s);return r&&s.addEventListener("upgradeneeded",e=>{r(g(s.result),e.oldVersion,e.newVersion,g(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{0===t&&e.createObjectStore(U)}}).catch(e=>{throw A.create("idb-open",{originalErrorMessage:e.message})})),F}async function B(e){try{let t=await V();return await t.transaction(U).objectStore(U).get(H(e))}catch(e){if(e instanceof l.ZR)S.warn(e.message);else{let t=A.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});S.warn(t.message)}}}async function z(e,t){try{let n=(await V()).transaction(U,"readwrite"),r=n.objectStore(U);await r.put(t,H(e)),await n.done}catch(e){if(e instanceof l.ZR)S.warn(e.message);else{let t=A.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});S.warn(t.message)}}}function H(e){return`${e.name}!${e.options.appId}`}class q{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new G(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=K();return(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)?void 0:this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=K(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),W(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),W(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,l.L)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function K(){return new Date().toISOString().substring(0,10)}class G{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,l.hl)()&&(0,l.eu)().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await B(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return z(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return z(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function W(e){return(0,l.L)(JSON.stringify({version:2,heartbeats:e})).length}R(new s.wA("platform-logger",e=>new C(e),"PRIVATE")),R(new s.wA("heartbeat",e=>new q(e),"PRIVATE")),j(x,k,""),j(x,k,"esm2017"),j("fire-js","")},46387:function(e,t,n){"use strict";n.d(t,{H0:function(){return a},wA:function(){return i}});var r=n(83395);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e===o?void 0:e,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},68207:function(e,t,n){"use strict";var r,i;n.d(t,{Yd:function(){return u},in:function(){return r}});let o=[];(i=r||(r={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";let s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},a=r.INFO,l={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=l[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class u{constructor(e){this.name=e,this._logLevel=a,this._logHandler=c,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}},88883:function(e,t,n){"use strict";n.d(t,{F:function(){return u}});var r=n(63955),i=function(e,t,n){if(e&&"reportValidity"in e){var i=(0,r.U2)(n,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},o=function(e,t){var n=function(n){var r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?i(r.ref,n,e):r.refs&&r.refs.forEach(function(t){return i(t,n,e)})};for(var r in t.fields)n(r)},s=function(e,t){t.shouldUseNativeValidation&&o(e,t);var n={};for(var i in e){var s=(0,r.U2)(t.fields,i),c=Object.assign(e[i]||{},{ref:s&&s.ref});if(l(t.names||Object.keys(e),i)){var u=Object.assign({},a((0,r.U2)(n,i)));(0,r.t8)(u,"root",c),(0,r.t8)(n,i,u)}else(0,r.t8)(n,i,c)}return n},a=function(e){return Array.isArray(e)?e.filter(Boolean):[]},l=function(e,t){return e.some(function(e){return e.startsWith(t+".")})},c=function(e,t){for(var n={};e.length;){var i=e[0],o=i.code,s=i.message,a=i.path.join(".");if(!n[a]){if("unionErrors"in i){var l=i.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:s,type:o}}if("unionErrors"in i&&i.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var c=n[a].types,u=c&&c[i.code];n[a]=(0,r.KN)(a,t,n,o,u?[].concat(u,i.message):i.message)}e.shift()}return n},u=function(e,t,n){return void 0===n&&(n={}),function(r,i,a){try{return Promise.resolve(function(i,s){try{var l=Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then(function(e){return a.shouldUseNativeValidation&&o({},a),{errors:{},values:n.raw?r:e}})}catch(e){return s(e)}return l&&l.then?l.then(void 0,s):l}(0,function(e){if(null!=e.errors)return{values:{},errors:s(c(e.errors,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};throw e}))}catch(e){return Promise.reject(e)}}}},16538:function(e,t,n){"use strict";n.d(t,{cn:function(){return s},Gp:function(){return i},oe:function(){return o}});var r=n(2784);function i(e){return(0,r.forwardRef)(e)}var o=(e,t,n=!0)=>{if(!t)return[e,{}];let r=t.reduce((t,n)=>n in e?{...t,[n]:e[n]}:t,{});return n?[Object.keys(e).filter(e=>!t.includes(e)).reduce((t,n)=>({...t,[n]:e[n]}),{}),r]:[e,r]},s=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r);else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}(e))&&(r&&(r+=" "),r+=t);return r}},8857:function(e,t,n){"use strict";n.d(t,{tv:function(){return s}});var r=["0","xs","sm","md","lg","xl","2xl","3xl","4xl","5xl","6xl","7xl","8xl","9xl","1","2","3","3.5","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","20","24","28","32","36","40","44","48","52","56","60","64","72","80","96"].map(e=>`unit-${e}`),i=n(11895),o=["small","medium","large"],s=(e,t)=>{var n,s,a;return(0,i.tv)(e,{...t,twMerge:null==(n=null==t?void 0:t.twMerge)||n,twMergeConfig:{...null==t?void 0:t.twMergeConfig,theme:{...null==(s=null==t?void 0:t.twMergeConfig)?void 0:s.theme,opacity:["disabled"],spacing:["divider","unit",...r],borderWidth:o,borderRadius:o},classGroups:{...null==(a=null==t?void 0:t.twMergeConfig)?void 0:a.classGroups,shadow:[{shadow:o}],"font-size":[{text:["tiny",...o]}],"bg-image":["bg-stripe-gradient"],"min-w":[{"min-w":["unit",...r]}],"min-h":[{"min-h":["unit",...r]}]}}})}},66672:function(e,t,n){"use strict";n.d(t,{Fx:function(){return j}});var r=n(2784);function i(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function o(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function s(e){let t=null;return()=>(null==t&&(t=e()),t)}let a=s(function(){return o(/^Mac/i)}),l=s(function(){return o(/^iPhone/i)}),c=s(function(){return o(/^iPad/i)||a()&&navigator.maxTouchPoints>1}),u=s(function(){return l()||c()});s(function(){return a()||u()}),s(function(){return i(/AppleWebKit/i)&&!d()});let d=s(function(){return i(/Chrome/i)}),h=s(function(){return i(/Android/i)});s(function(){return i(/Firefox/i)});let p=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},f=e=>e&&"window"in e&&e.window===e?e:p(e).defaultView||window,m=null,g=new Set,v=new Map,y=!1,b=!1,w={Tab:!0,Escape:!0};function _(e,t){for(let n of g)n(e,t)}function C(e){y=!0,e.metaKey||!a()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(m="keyboard",_("keyboard",e))}function x(e){m="pointer",("mousedown"===e.type||"pointerdown"===e.type)&&(y=!0,_("pointer",e))}function k(e){(0===e.mozInputSource&&e.isTrusted||(h()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType))&&(y=!0,m="virtual")}function S(e){e.target!==window&&e.target!==document&&(y||b||(m="virtual",_("virtual",e)),y=!1,b=!1)}function E(){y=!1,b=!0}function T(e){if("undefined"==typeof window||v.get(f(e)))return;let t=f(e),n=p(e),r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){y=!0,r.apply(this,arguments)},n.addEventListener("keydown",C,!0),n.addEventListener("keyup",C,!0),n.addEventListener("click",k,!0),t.addEventListener("focus",S,!0),t.addEventListener("blur",E,!1),"undefined"!=typeof PointerEvent?(n.addEventListener("pointerdown",x,!0),n.addEventListener("pointermove",x,!0),n.addEventListener("pointerup",x,!0)):(n.addEventListener("mousedown",x,!0),n.addEventListener("mousemove",x,!0),n.addEventListener("mouseup",x,!0)),t.addEventListener("beforeunload",()=>{P(e)},{once:!0}),v.set(t,{focus:r})}let P=(e,t)=>{let n=f(e),r=p(e);t&&r.removeEventListener("DOMContentLoaded",t),v.has(n)&&(n.HTMLElement.prototype.focus=v.get(n).focus,r.removeEventListener("keydown",C,!0),r.removeEventListener("keyup",C,!0),r.removeEventListener("click",k,!0),n.removeEventListener("focus",S,!0),n.removeEventListener("blur",E,!1),"undefined"!=typeof PointerEvent?(r.removeEventListener("pointerdown",x,!0),r.removeEventListener("pointermove",x,!0),r.removeEventListener("pointerup",x,!0)):(r.removeEventListener("mousedown",x,!0),r.removeEventListener("mousemove",x,!0),r.removeEventListener("mouseup",x,!0)),v.delete(n))};function I(){return"pointer"!==m}"undefined"!=typeof document&&function(e){let t;let n=p(void 0);"loading"!==n.readyState?T(void 0):(t=()=>{T(void 0)},n.addEventListener("DOMContentLoaded",t)),()=>P(e,t)}();let R=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),O="undefined"!=typeof document?r.useLayoutEffect:()=>{};class A{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function N(e){let t=(0,r.useRef)({isFocused:!1,observer:null});O(()=>{let e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let n=function(e){let t=(0,r.useRef)(null);return O(()=>{t.current=e},[e]),(0,r.useCallback)((...e)=>{let n=t.current;return null==n?void 0:n(...e)},[])}(t=>{null==e||e(t)});return(0,r.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target;r.addEventListener("focusout",e=>{t.current.isFocused=!1,r.disabled&&n(new A("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)},{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let L=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"];L.join(":not([hidden]),"),L.push('[tabindex]:not([tabindex="-1"]):not([disabled])'),L.join(':not([hidden]):not([tabindex="-1"]),');class M{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let r=this.fastMap.get(null!=t?t:null);if(!r)return;let i=new D({scopeRef:e});r.addChild(i),i.parent=r,this.fastMap.set(e,i),n&&(i.nodeToRestore=n)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e);if(!t)return;let n=t.parent;for(let e of this.traverse())e!==t&&t.nodeToRestore&&e.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&function(e,t){return!!e&&!!t&&t.some(t=>t.contains(e))}(e.nodeToRestore,t.scopeRef.current)&&(e.nodeToRestore=t.nodeToRestore);let r=t.children;n&&(n.removeChild(t),r.size>0&&r.forEach(e=>n&&n.addChild(e))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e,t;let n=new M;for(let r of this.traverse())n.addTreeNode(r.scopeRef,null!==(t=null===(e=r.parent)||void 0===e?void 0:e.scopeRef)&&void 0!==t?t:null,r.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new D({scopeRef:null}),this.fastMap.set(null,this.root)}}class D{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}function j(e={}){var t,n,i;let{autoFocus:o=!1,isTextInput:s,within:a}=e,l=(0,r.useRef)({isFocused:!1,isFocusVisible:o||I()}),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(()=>l.current.isFocused&&l.current.isFocusVisible),m=(0,r.useCallback)(()=>h(l.current.isFocused&&l.current.isFocusVisible),[]),v=(0,r.useCallback)(e=>{l.current.isFocused=e,u(e),m()},[m]);t=e=>{l.current.isFocusVisible=e,m()},n=[],i={isTextInput:s},T(),(0,r.useEffect)(()=>{let e=(e,n)=>{(function(e,t,n){var r;let i="undefined"!=typeof window?f(null==n?void 0:n.target).HTMLInputElement:HTMLInputElement,o="undefined"!=typeof window?f(null==n?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s="undefined"!=typeof window?f(null==n?void 0:n.target).HTMLElement:HTMLElement,a="undefined"!=typeof window?f(null==n?void 0:n.target).KeyboardEvent:KeyboardEvent;return!((e=e||(null==n?void 0:n.target)instanceof i&&!R.has(null==n?void 0:null===(r=n.target)||void 0===r?void 0:r.type)||(null==n?void 0:n.target)instanceof o||(null==n?void 0:n.target)instanceof s&&(null==n?void 0:n.target.isContentEditable))&&"keyboard"===t&&n instanceof a&&!w[n.key])})(!!(null==i?void 0:i.isTextInput),e,n)&&t(I())};return g.add(e),()=>{g.delete(e)}},n);let{focusProps:y}=function(e){let{isDisabled:t,onFocus:n,onBlur:i,onFocusChange:o}=e,s=(0,r.useCallback)(e=>{if(e.target===e.currentTarget)return i&&i(e),o&&o(!1),!0},[i,o]),a=N(s),l=(0,r.useCallback)(e=>{let t=p(e.target);e.target===e.currentTarget&&t.activeElement===e.target&&(n&&n(e),o&&o(!0),a(e))},[o,n,a]);return{focusProps:{onFocus:!t&&(n||o||i)?l:void 0,onBlur:!t&&(i||o)?s:void 0}}}({isDisabled:a,onFocusChange:v}),{focusWithinProps:b}=function(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:i,onFocusWithinChange:o}=e,s=(0,r.useRef)({isFocusWithin:!1}),a=(0,r.useCallback)(e=>{s.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(s.current.isFocusWithin=!1,n&&n(e),o&&o(!1))},[n,o,s]),l=N(a),c=(0,r.useCallback)(e=>{s.current.isFocusWithin||document.activeElement!==e.target||(i&&i(e),o&&o(!0),s.current.isFocusWithin=!0,l(e))},[i,o,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:a}}}({isDisabled:!a,onFocusWithinChange:v});return{isFocused:c,isFocusVisible:d,focusProps:a?b:y}}new M},4677:function(e,t,n){"use strict";function r(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function i(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function o(e){let t=null;return()=>(null==t&&(t=e()),t)}n.d(t,{XI:function(){return ep},r7:function(){return B}});let s=o(function(){return i(/^Mac/i)}),a=o(function(){return i(/^iPhone/i)}),l=o(function(){return i(/^iPad/i)||s()&&navigator.maxTouchPoints>1}),c=o(function(){return a()||l()});o(function(){return s()||c()});let u=o(function(){return r(/AppleWebKit/i)&&!d()}),d=o(function(){return r(/Chrome/i)}),h=o(function(){return r(/Android/i)}),p=o(function(){return r(/Firefox/i)}),f=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},m=e=>e&&"window"in e&&e.window===e?e:f(e).defaultView||window,g=new Map,v=new Set;function y(){if("undefined"==typeof window)return;function e(e){return"propertyName"in e}let t=n=>{if(!e(n)||!n.target)return;let r=g.get(n.target);if(r&&(r.delete(n.propertyName),0===r.size&&(n.target.removeEventListener("transitioncancel",t),g.delete(n.target)),0===g.size)){for(let e of v)e();v.clear()}};document.body.addEventListener("transitionrun",n=>{if(!e(n)||!n.target)return;let r=g.get(n.target);r||(r=new Set,g.set(n.target,r),n.target.addEventListener("transitioncancel",t,{once:!0})),r.add(n.propertyName)}),document.body.addEventListener("transitionend",t)}"undefined"!=typeof document&&("loading"!==document.readyState?y():document.addEventListener("DOMContentLoaded",y));var b=n(2784);"undefined"!=typeof window&&window.document&&window.document.createElement;let w=new Map;var _=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r};function C(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&90>=e.charCodeAt(2)?t[e]=function(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}(n,i):("className"===e||"UNSAFE_className"===e)&&"string"==typeof n&&"string"==typeof i?t[e]=_(n,i):"id"===e&&n&&i?t.id=function(e,t){if(e===t)return e;let n=w.get(e);if(n)return n(t),t;let r=w.get(t);return r?(r(e),e):t}(n,i):t[e]=void 0!==i?i:n}}return t}let x="undefined"!=typeof document?b.useLayoutEffect:()=>{};function k(e){let t=(0,b.useRef)(null);return x(()=>{t.current=e},[e]),(0,b.useCallback)((...e)=>{let n=t.current;return null==n?void 0:n(...e)},[])}function S(e){if(function(){if(null==E){E=!1;try{document.createElement("div").focus({get preventScroll(){return E=!0,!0}})}catch(e){}}return E}())e.focus({preventScroll:!0});else{let t=function(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}let E=null;function T(e,t,n=!0){var r,i;let{metaKey:o,ctrlKey:a,altKey:c,shiftKey:d}=t;p()&&(null===(i=window.event)||void 0===i?void 0:null===(r=i.type)||void 0===r?void 0:r.startsWith("key"))&&"_blank"===e.target&&(s()?o=!0:a=!0);let h=u()&&s()&&!l()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:a,altKey:c,shiftKey:d}):new MouseEvent("click",{metaKey:o,ctrlKey:a,altKey:c,shiftKey:d,bubbles:!0,cancelable:!0});T.isOpening=n,S(e),e.dispatchEvent(h),T.isOpening=!1}function P(e){return 0===e.mozInputSource&&!!e.isTrusted||(h()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}T.isOpening=!1;var I=n(27677),R=n(57868),O=n(95391);let A="default",N="",L=new WeakMap;function M(e){if(c()){if("default"===A){let t=f(e);N=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}A="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(L.set(e,e.style.userSelect),e.style.userSelect="none")}function D(e){if(c())"disabled"===A&&(A="restoring",setTimeout(()=>{var t;t=()=>{if("restoring"===A){let t=f(e);"none"===t.documentElement.style.webkitUserSelect&&(t.documentElement.style.webkitUserSelect=N||""),N="",A="default"}},requestAnimationFrame(()=>{0===g.size?t():v.add(t)})},300));else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&L.has(e)){let t=L.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),L.delete(e)}}let j=b.createContext({register:()=>{}});j.displayName="PressResponderContext";var U=new WeakMap;class F{continuePropagation(){(0,O._)(this,U,!1)}get shouldStopPropagation(){return(0,I._)(this,U)}constructor(e,t,n){(0,R._)(this,U,{writable:!0,value:void 0}),(0,O._)(this,U,!0),this.type=e,this.pointerType=t,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}let V=Symbol("linkClicked");function B(e){let t,n,r,i,{onPress:o,onPressChange:a,onPressStart:l,onPressEnd:c,onPressUp:u,isDisabled:d,isPressed:p,preventFocusOnPress:g,shouldCancelOnPointerExit:v,allowTextSelectionOnPress:y,ref:w,..._}=function(e){var t;let n=(0,b.useContext)(j);if(n){let{register:t,...r}=n;e=C(r,e),t()}return t=e.ref,x(()=>{if(n&&n.ref&&t)return n.ref.current=t.current,()=>{n.ref&&(n.ref.current=null)}}),e}(e),[E,I]=(0,b.useState)(!1),R=(0,b.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:O,removeAllGlobalListeners:A}=(t=(0,b.useRef)(new Map),n=(0,b.useCallback)((e,n,r,i)=>{let o=(null==i?void 0:i.once)?(...e)=>{t.current.delete(r),r(...e)}:r;t.current.set(r,{type:n,eventTarget:e,fn:o,options:i}),e.addEventListener(n,r,i)},[]),r=(0,b.useCallback)((e,n,r,i)=>{var o;let s=(null===(o=t.current.get(r))||void 0===o?void 0:o.fn)||r;e.removeEventListener(n,s,i),t.current.delete(r)},[]),i=(0,b.useCallback)(()=>{t.current.forEach((e,t)=>{r(e.eventTarget,e.type,t,e.options)})},[r]),(0,b.useEffect)(()=>i,[i]),{addGlobalListener:n,removeGlobalListener:r,removeAllGlobalListeners:i}),N=k((e,t)=>{let n=R.current;if(d||n.didFirePressStart)return!1;let r=!0;if(n.isTriggeringEvent=!0,l){let n=new F("pressstart",t,e);l(n),r=n.shouldStopPropagation}return a&&a(!0),n.isTriggeringEvent=!1,n.didFirePressStart=!0,I(!0),r}),L=k((e,t,n=!0)=>{let r=R.current;if(!r.didFirePressStart)return!1;r.ignoreClickAfterPress=!0,r.didFirePressStart=!1,r.isTriggeringEvent=!0;let i=!0;if(c){let n=new F("pressend",t,e);c(n),i=n.shouldStopPropagation}if(a&&a(!1),I(!1),o&&n&&!d){let n=new F("press",t,e);o(n),i&&(i=n.shouldStopPropagation)}return r.isTriggeringEvent=!1,i}),U=k((e,t)=>{let n=R.current;if(d)return!1;if(u){n.isTriggeringEvent=!0;let r=new F("pressup",t,e);return u(r),n.isTriggeringEvent=!1,r.shouldStopPropagation}return!0}),B=k(e=>{let t=R.current;t.isPressed&&t.target&&(t.isOverTarget&&null!=t.pointerType&&L(K(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,A(),y||D(t.target))}),Z=k(e=>{v&&B(e)}),J=(0,b.useMemo)(()=>{let e=R.current,t={onKeyDown(t){if(H(t.nativeEvent,t.currentTarget)&&t.currentTarget.contains(t.target)){var r;$(t.target,t.key)&&t.preventDefault();let i=!0;e.isPressed||t.repeat||(e.target=t.currentTarget,e.isPressed=!0,i=N(t,"keyboard"),O(f(t.currentTarget),"keyup",n,!1)),i&&t.stopPropagation(),t.metaKey&&s()&&(null===(r=e.metaKeyEvents)||void 0===r||r.set(t.key,t.nativeEvent))}else"Meta"===t.key&&(e.metaKeyEvents=new Map)},onKeyUp(t){H(t.nativeEvent,t.currentTarget)&&!t.repeat&&t.currentTarget.contains(t.target)&&e.target&&U(K(e.target,t),"keyboard")},onClick(t){if((!t||t.currentTarget.contains(t.target))&&t&&0===t.button&&!e.isTriggeringEvent&&!T.isOpening){let n=!0;if(d&&t.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&("virtual"===e.pointerType||P(t.nativeEvent))){d||g||S(t.currentTarget);let e=N(t,"virtual"),r=U(t,"virtual"),i=L(t,"virtual");n=e&&r&&i}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,n&&t.stopPropagation()}}},n=t=>{var n,r,i;if(e.isPressed&&e.target&&H(t,e.target)){$(t.target,t.key)&&t.preventDefault();let n=t.target,i=L(K(e.target,t),"keyboard",e.target.contains(n));A(),i&&t.stopPropagation(),"Enter"!==t.key&&z(e.target)&&e.target.contains(n)&&!t[V]&&(t[V]=!0,T(e.target,t,!1)),e.isPressed=!1,null===(r=e.metaKeyEvents)||void 0===r||r.delete(t.key)}else if("Meta"===t.key&&(null===(n=e.metaKeyEvents)||void 0===n?void 0:n.size)){let t=e.metaKeyEvents;for(let n of(e.metaKeyEvents=void 0,t.values()))null===(i=e.target)||void 0===i||i.dispatchEvent(new KeyboardEvent("keyup",n))}};if("undefined"!=typeof PointerEvent){t.onPointerDown=t=>{var o;if(0!==t.button||!t.currentTarget.contains(t.target))return;if(o=t.nativeEvent,!h()&&0===o.width&&0===o.height||1===o.width&&1===o.height&&0===o.pressure&&0===o.detail&&"mouse"===o.pointerType){e.pointerType="virtual";return}W(t.currentTarget)&&t.preventDefault(),e.pointerType=t.pointerType;let s=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,d||g||S(t.currentTarget),y||M(e.target),s=N(t,e.pointerType),O(f(t.currentTarget),"pointermove",n,!1),O(f(t.currentTarget),"pointerup",r,!1),O(f(t.currentTarget),"pointercancel",i,!1)),s&&t.stopPropagation()},t.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(W(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},t.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&G(t,t.currentTarget)&&U(t,e.pointerType||t.pointerType)};let n=t=>{t.pointerId===e.activePointerId&&(e.target&&G(t,e.target)?e.isOverTarget||null==e.pointerType||(e.isOverTarget=!0,N(K(e.target,t),e.pointerType)):e.target&&e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!1,L(K(e.target,t),e.pointerType,!1),Z(t)))},r=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&e.target&&(G(t,e.target)&&null!=e.pointerType?L(K(e.target,t),e.pointerType):e.isOverTarget&&null!=e.pointerType&&L(K(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,A(),y||D(e.target))},i=e=>{B(e)};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&B(e)}}else{t.onMouseDown=t=>{if(0===t.button&&t.currentTarget.contains(t.target)){if(W(t.currentTarget)&&t.preventDefault(),e.ignoreEmulatedMouseEvents){t.stopPropagation();return}e.isPressed=!0,e.isOverTarget=!0,e.target=t.currentTarget,e.pointerType=P(t.nativeEvent)?"virtual":"mouse",d||g||S(t.currentTarget),N(t,e.pointerType)&&t.stopPropagation(),O(f(t.currentTarget),"mouseup",n,!1)}},t.onMouseEnter=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&null!=e.pointerType&&(e.isOverTarget=!0,n=N(t,e.pointerType)),n&&t.stopPropagation()},t.onMouseLeave=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&null!=e.pointerType&&(e.isOverTarget=!1,n=L(t,e.pointerType,!1),Z(t)),n&&t.stopPropagation()},t.onMouseUp=t=>{t.currentTarget.contains(t.target)&&!e.ignoreEmulatedMouseEvents&&0===t.button&&U(t,e.pointerType||"mouse")};let n=t=>{if(0===t.button){if(e.isPressed=!1,A(),e.ignoreEmulatedMouseEvents){e.ignoreEmulatedMouseEvents=!1;return}e.target&&G(t,e.target)&&null!=e.pointerType?L(K(e.target,t),e.pointerType):e.target&&e.isOverTarget&&null!=e.pointerType&&L(K(e.target,t),e.pointerType,!1),e.isOverTarget=!1}};t.onTouchStart=t=>{if(!t.currentTarget.contains(t.target))return;let n=function(e){let{targetTouches:t}=e;return t.length>0?t[0]:null}(t.nativeEvent);n&&(e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=t.currentTarget,e.pointerType="touch",d||g||S(t.currentTarget),y||M(e.target),N(t,e.pointerType)&&t.stopPropagation(),O(m(t.currentTarget),"scroll",r,!0))},t.onTouchMove=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed){t.stopPropagation();return}let n=q(t.nativeEvent,e.activePointerId),r=!0;n&&G(n,t.currentTarget)?e.isOverTarget||null==e.pointerType||(e.isOverTarget=!0,r=N(t,e.pointerType)):e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!1,r=L(t,e.pointerType,!1),Z(t)),r&&t.stopPropagation()},t.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed){t.stopPropagation();return}let n=q(t.nativeEvent,e.activePointerId),r=!0;n&&G(n,t.currentTarget)&&null!=e.pointerType?(U(t,e.pointerType),r=L(t,e.pointerType)):e.isOverTarget&&null!=e.pointerType&&(r=L(t,e.pointerType,!1)),r&&t.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,e.target&&!y&&D(e.target),A()},t.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&B(t))};let r=t=>{e.isPressed&&t.target.contains(e.target)&&B({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&B(e)}}return t},[O,d,g,A,y,B,Z,L,N,U]);return(0,b.useEffect)(()=>()=>{var e;y||D(null!==(e=R.current.target)&&void 0!==e?e:void 0)},[y]),{isPressed:p||E,pressProps:C(_,J)}}function z(e){return"A"===e.tagName&&e.hasAttribute("href")}function H(e,t){let{key:n,code:r}=e,i=t.getAttribute("role");return("Enter"===n||" "===n||"Spacebar"===n||"Space"===r)&&!(t instanceof m(t).HTMLInputElement&&!J(t,n)||t instanceof m(t).HTMLTextAreaElement||t.isContentEditable)&&!(("link"===i||!i&&z(t))&&"Enter"!==n)}function q(e,t){let n=e.changedTouches;for(let e=0;e<n.length;e++){let r=n[e];if(r.identifier===t)return r}return null}function K(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function G(e,t){let n,r,i=t.getBoundingClientRect(),o=(n=0,r=0,void 0!==e.width?n=e.width/2:void 0!==e.radiusX&&(n=e.radiusX),void 0!==e.height?r=e.height/2:void 0!==e.radiusY&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+n,bottom:e.clientY+r,left:e.clientX-n});return!(i.left>o.right)&&!(o.left>i.right)&&!(i.top>o.bottom)&&!(o.top>i.bottom)}function W(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function $(e,t){return e instanceof HTMLInputElement?!J(e,t):e instanceof HTMLButtonElement?"submit"!==e.type&&"reset"!==e.type:!z(e)}let Z=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function J(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:Z.has(e.type)}let Y=new Set,X=!1,Q=!1,ee=!1;function et(e,t){for(let n of Y)n(e,t)}function en(e){Q=!0,e.metaKey||!s()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||et("keyboard",e)}function er(e){("mousedown"===e.type||"pointerdown"===e.type)&&(Q=!0,et("pointer",e))}function ei(e){P(e)&&(Q=!0)}function eo(e){e.target!==window&&e.target!==document&&(Q||ee||et("virtual",e),Q=!1,ee=!1)}function es(){Q=!1,ee=!0}function ea(){if("undefined"==typeof window||X)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){Q=!0,e.apply(this,arguments)},document.addEventListener("keydown",en,!0),document.addEventListener("keyup",en,!0),document.addEventListener("click",ei,!0),window.addEventListener("focus",eo,!0),window.addEventListener("blur",es,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",er,!0),document.addEventListener("pointermove",er,!0),document.addEventListener("pointerup",er,!0)):(document.addEventListener("mousedown",er,!0),document.addEventListener("mousemove",er,!0),document.addEventListener("mouseup",er,!0)),X=!0}"undefined"!=typeof document&&("loading"!==document.readyState?ea():document.addEventListener("DOMContentLoaded",ea));let el=!1,ec=0;function eu(){el=!0,setTimeout(()=>{el=!1},50)}function ed(e){"touch"===e.pointerType&&eu()}function eh(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",ed):document.addEventListener("touchend",eu),ec++,()=>{--ec>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",ed):document.removeEventListener("touchend",eu))}}function ep(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,s]=(0,b.useState)(!1),a=(0,b.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,b.useEffect)(eh,[]);let{hoverProps:l,triggerHoverEnd:c}=(0,b.useMemo)(()=>{let e=(e,r)=>{if(a.pointerType=r,i||"touch"===r||a.isHovered||!e.currentTarget.contains(e.target))return;a.isHovered=!0;let o=e.currentTarget;a.target=o,t&&t({type:"hoverstart",target:o,pointerType:r}),n&&n(!0),s(!0)},o=(e,t)=>{if(a.pointerType="",a.target=null,"touch"===t||!a.isHovered)return;a.isHovered=!1;let i=e.currentTarget;r&&r({type:"hoverend",target:i,pointerType:t}),n&&n(!1),s(!1)},l={};return"undefined"!=typeof PointerEvent?(l.onPointerEnter=t=>{el&&"mouse"===t.pointerType||e(t,t.pointerType)},l.onPointerLeave=e=>{!i&&e.currentTarget.contains(e.target)&&o(e,e.pointerType)}):(l.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},l.onMouseEnter=t=>{a.ignoreEmulatedMouseEvents||el||e(t,"mouse"),a.ignoreEmulatedMouseEvents=!1},l.onMouseLeave=e=>{!i&&e.currentTarget.contains(e.target)&&o(e,"mouse")}),{hoverProps:l,triggerHoverEnd:o}},[t,n,r,i,a]);return(0,b.useEffect)(()=>{i&&c({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:o}}},46749:function(e,t,n){"use strict";n.d(t,{N:function(){return c}});var r=n(2784);let i="undefined"!=typeof document?r.useLayoutEffect:()=>{};var o=n(23047);let s=!!("undefined"!=typeof window&&window.document&&window.document.createElement),a=new Map;function l(e){let[t,n]=(0,r.useState)(e),l=(0,r.useRef)(null),c=(0,o.gP)(t),u=(0,r.useCallback)(e=>{l.current=e},[]);return s&&a.set(c,u),i(()=>()=>{a.delete(c)},[c]),(0,r.useEffect)(()=>{let e=l.current;e&&(l.current=null,n(e))}),c}function c(e){let{id:t,label:n,"aria-labelledby":r,"aria-label":i,labelElementType:o="label"}=e;t=l(t);let s=l(),a={};return n?(r=r?`${s} ${r}`:s,a={id:s,htmlFor:"label"===o?t:void 0}):r||i||console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility"),{labelProps:a,fieldProps:function(e,t){let{id:n,"aria-label":r,"aria-labelledby":i}=e;return n=l(n),i&&r?i=[...new Set([n,...i.trim().split(/\s+/)])].join(" "):i&&(i=i.trim().split(/\s+/).join(" ")),{id:n,"aria-label":r,"aria-labelledby":i}}({id:t,"aria-label":i,"aria-labelledby":r})}}},23047:function(e,t,n){"use strict";n.d(t,{Av:function(){return p},gP:function(){return c}});var r=n(2784);let i={prefix:String(Math.round(1e10*Math.random())),current:0},o=r.createContext(i),s=r.createContext(!1),a=!!("undefined"!=typeof window&&window.document&&window.document.createElement),l=new WeakMap,c="function"==typeof r.useId?function(e){let t=r.useId(),[n]=(0,r.useState)(p()),o=n?"react-aria":`react-aria${i.prefix}`;return e||`${o}-${t}`}:function(e){let t=(0,r.useContext)(o);t!==i||a||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=function(e=!1){let t=(0,r.useContext)(o),n=(0,r.useRef)(null);if(null===n.current&&!e){var i,s;let e=null===(s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===s?void 0:null===(i=s.ReactCurrentOwner)||void 0===i?void 0:i.current;if(e){let n=l.get(e);null==n?l.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,l.delete(e))}n.current=++t.current}return n.current}(!!e),s=`react-aria${t.prefix}`;return e||`${s}-${n}`};function u(){return!1}function d(){return!0}function h(e){return()=>{}}function p(){return"function"==typeof r.useSyncExternalStore?r.useSyncExternalStore(h,u,d):(0,r.useContext)(s)}},83542:function(e,t,n){"use strict";n.d(t,{dG:function(){return s},yU:function(){return u}});var r=n(2784),i=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r};"undefined"!=typeof document&&r.useLayoutEffect,"undefined"!=typeof window&&window.document&&window.document.createElement;let o=new Map;function s(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],s=r[e];"function"==typeof n&&"function"==typeof s&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&90>=e.charCodeAt(2)?t[e]=function(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}(n,s):("className"===e||"UNSAFE_className"===e)&&"string"==typeof n&&"string"==typeof s?t[e]=i(n,s):"id"===e&&n&&s?t.id=function(e,t){if(e===t)return e;let n=o.get(e);if(n)return n(t),t;let r=o.get(t);return r?(r(e),e):t}(n,s):t[e]=void 0!==s?s:n}}return t}let a=new Map,l=new Set;function c(){if("undefined"==typeof window)return;let e=t=>{let n=a.get(t.target);if(n&&(n.delete(t.propertyName),0===n.size&&(t.target.removeEventListener("transitioncancel",e),a.delete(t.target)),0===a.size)){for(let e of l)e();l.clear()}};document.body.addEventListener("transitionrun",t=>{let n=a.get(t.target);n||(n=new Set,a.set(t.target,n),t.target.addEventListener("transitioncancel",e)),n.add(t.propertyName)}),document.body.addEventListener("transitionend",e)}function u(e){let{ref:t,onResize:n}=e;(0,r.useEffect)(()=>{let e=null==t?void 0:t.current;if(e){if(!(void 0!==window.ResizeObserver))return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)};{let t=new window.ResizeObserver(e=>{e.length&&n()});return t.observe(e),()=>{e&&t.unobserve(e)}}}},[n,t])}"undefined"!=typeof document&&("loading"!==document.readyState?c():document.addEventListener("DOMContentLoaded",c)),"undefined"!=typeof document&&window.visualViewport},85289:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(22436),i=n(36370);class o extends r.l{constructor(){super(),this.setup=e=>{if(!i.sk&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.cleanup)||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}}let s=new o},78914:function(e,t,n){"use strict";function r(e){return e.state.isPaused}function i(e){return"success"===e.state.status}function o(e,t={}){let n=[],o=[];if(!1!==t.dehydrateMutations){let i=t.shouldDehydrateMutation||r;e.getMutationCache().getAll().forEach(e=>{i(e)&&n.push({mutationKey:e.options.mutationKey,state:e.state})})}if(!1!==t.dehydrateQueries){let n=t.shouldDehydrateQuery||i;e.getQueryCache().getAll().forEach(e=>{n(e)&&o.push({state:e.state,queryKey:e.queryKey,queryHash:e.queryHash})})}return{mutations:n,queries:o}}function s(e,t,n){if("object"!=typeof t||null===t)return;let r=e.getMutationCache(),i=e.getQueryCache(),o=t.mutations||[],s=t.queries||[];o.forEach(t=>{var i;r.build(e,{...null==n?void 0:null==(i=n.defaultOptions)?void 0:i.mutations,mutationKey:t.mutationKey},t.state)}),s.forEach(({queryKey:t,state:r,queryHash:o})=>{var s;let a=i.get(o);if(a){if(a.state.dataUpdatedAt<r.dataUpdatedAt){let{fetchStatus:e,...t}=r;a.setState(t)}return}i.build(e,{...null==n?void 0:null==(s=n.defaultOptions)?void 0:s.queries,queryKey:t,queryHash:o},{...r,fetchStatus:"idle"})})}n.d(t,{D:function(){return o},ZB:function(){return s}})},54388:function(e,t,n){"use strict";function r(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,s,a,l;let c;let u=null==(t=e.fetchOptions)?void 0:null==(n=t.meta)?void 0:n.refetchPage,d=null==(r=e.fetchOptions)?void 0:null==(s=r.meta)?void 0:s.fetchMore,h=null==d?void 0:d.pageParam,p=(null==d?void 0:d.direction)==="forward",f=(null==d?void 0:d.direction)==="backward",m=(null==(a=e.state.data)?void 0:a.pages)||[],g=(null==(l=e.state.data)?void 0:l.pageParams)||[],v=g,y=!1,b=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{var t,n;return null!=(t=e.signal)&&t.aborted?y=!0:null==(n=e.signal)||n.addEventListener("abort",()=>{y=!0}),e.signal}})},w=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),_=(e,t,n,r)=>(v=r?[t,...v]:[...v,t],r?[n,...e]:[...e,n]),C=(t,n,r,i)=>{if(y)return Promise.reject("Cancelled");if(void 0===r&&!n&&t.length)return Promise.resolve(t);let o={queryKey:e.queryKey,pageParam:r,meta:e.options.meta};return b(o),Promise.resolve(w(o)).then(e=>_(t,r,e,i))};if(m.length){if(p){let t=void 0!==h,n=t?h:i(e.options,m);c=C(m,t,n)}else if(f){let t=void 0!==h,n=t?h:o(e.options,m);c=C(m,t,n,!0)}else{v=[];let t=void 0===e.options.getNextPageParam;c=!u||!m[0]||u(m[0],0,m)?C([],t,g[0]):Promise.resolve(_([],g[0],m[0]));for(let n=1;n<m.length;n++)c=c.then(r=>{if(!u||!m[n]||u(m[n],n,m)){let o=t?g[n]:i(e.options,r);return C(r,t,o)}return Promise.resolve(_(r,g[n],m[n]))})}}else c=C([]);return c.then(e=>({pages:e,pageParams:v}))}}}}function i(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function o(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}function s(e,t){if(e.getNextPageParam&&Array.isArray(t)){let n=i(e,t);return null!=n&&!1!==n}}function a(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){let n=o(e,t);return null!=n&&!1!==n}}n.d(t,{Gm:function(){return r},Qy:function(){return s},ZF:function(){return a}})},714:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});let r=console},96278:function(e,t,n){"use strict";n.d(t,{R:function(){return l},m:function(){return a}});var r=n(714),i=n(3709),o=n(53429),s=n(3241);class a extends o.F{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||r._,this.observers=[],this.state=e.state||l(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}async execute(){var e,t,n,r,i,o,a,l,c,u,d,h,p,f,m,g,v,y,b,w;let _="loading"===this.state.status;try{if(!_){this.dispatch({type:"loading",variables:this.options.variables}),await (null==(c=(u=this.mutationCache.config).onMutate)?void 0:c.call(u,this.state.variables,this));let e=await (null==(d=(h=this.options).onMutate)?void 0:d.call(h,this.state.variables));e!==this.state.context&&this.dispatch({type:"loading",context:e,variables:this.state.variables})}let p=await (()=>{var e;return this.retryer=(0,s.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise})();return await (null==(e=(t=this.mutationCache.config).onSuccess)?void 0:e.call(t,p,this.state.variables,this.state.context,this)),await (null==(n=(r=this.options).onSuccess)?void 0:n.call(r,p,this.state.variables,this.state.context)),await (null==(i=(o=this.mutationCache.config).onSettled)?void 0:i.call(o,p,null,this.state.variables,this.state.context,this)),await (null==(a=(l=this.options).onSettled)?void 0:a.call(l,p,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:p}),p}catch(e){try{throw await (null==(p=(f=this.mutationCache.config).onError)?void 0:p.call(f,e,this.state.variables,this.state.context,this)),await (null==(m=(g=this.options).onError)?void 0:m.call(g,e,this.state.variables,this.state.context)),await (null==(v=(y=this.mutationCache.config).onSettled)?void 0:v.call(y,void 0,e,this.state.variables,this.state.context,this)),await (null==(b=(w=this.options).onSettled)?void 0:b.call(w,void 0,e,this.state.variables,this.state.context)),e}finally{this.dispatch({type:"error",error:e})}}}dispatch(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"loading":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!(0,s.Kw)(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...t,...e.state}}})(this.state),i.V.batch(()=>{this.observers.forEach(t=>{t.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function l(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}},3709:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(36370);let i=function(){let e=[],t=0,n=e=>{e()},i=e=>{e()},o=i=>{t?e.push(i):(0,r.A4)(()=>{n(i)})},s=()=>{let t=e;e=[],t.length&&(0,r.A4)(()=>{i(()=>{t.forEach(e=>{n(e)})})})};return{batch:e=>{let n;t++;try{n=e()}finally{--t||s()}return n},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{i=e}}}()},63240:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var r=n(22436),i=n(36370);let o=["online","offline"];class s extends r.l{constructor(){super(),this.setup=e=>{if(!i.sk&&window.addEventListener){let t=()=>e();return o.forEach(e=>{window.addEventListener(e,t,!1)}),()=>{o.forEach(e=>{window.removeEventListener(e,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.cleanup)||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setOnline(e):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}}let a=new s},43052:function(e,t,n){"use strict";n.d(t,{S:function(){return g}});var r=n(36370),i=n(714),o=n(3709),s=n(3241),a=n(53429);class l extends a.F{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||i._,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){let n=(0,r.oE)(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;let n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(r.ZT).catch(r.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,r.Kp)(this.state.dataUpdatedAt,e)}onFocus(){var e;let t=this.observers.find(e=>e.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;let t=this.observers.find(e=>e.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var n,i,o,a;if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise)return null==(o=this.retryer)||o.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let l=(0,r.G9)(),c={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(l)return this.abortSignalConsumed=!0,l.signal}})};u(c);let d={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(c)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};u(d),null==(n=this.options.behavior)||n.onFetch(d),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(i=d.fetchOptions)?void 0:i.meta))&&this.dispatch({type:"fetch",meta:null==(a=d.fetchOptions)?void 0:a.meta});let h=e=>{if((0,s.DV)(e)&&e.silent||this.dispatch({type:"error",error:e}),!(0,s.DV)(e)){var t,n,r,i;null==(t=(n=this.cache.config).onError)||t.call(n,e,this),null==(r=(i=this.cache.config).onSettled)||r.call(i,this.state.data,e,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=(0,s.Mz)({fn:d.fetchFn,abort:null==l?void 0:l.abort.bind(l),onSuccess:e=>{var t,n,r,i;if(void 0===e){h(Error(this.queryHash+" data is undefined"));return}this.setData(e),null==(t=(n=this.cache.config).onSuccess)||t.call(n,e,this),null==(r=(i=this.cache.config).onSettled)||r.call(i,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:h,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var n,r;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(n=e.meta)?n:null,fetchStatus:(0,s.Kw)(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(r=e.dataUpdatedAt)?r:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let i=e.error;if((0,s.DV)(i)&&i.revert&&this.revertState)return{...this.revertState,fetchStatus:"idle"};return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),o.V.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}var c=n(22436);class u extends c.l{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,n){var i;let o=t.queryKey,s=null!=(i=t.queryHash)?i:(0,r.Rm)(o,t),a=this.get(s);return a||(a=new l({cache:this,logger:e.getLogger(),queryKey:o,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){let t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(t=>t!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){o.V.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){let[n]=(0,r.I6)(e,t);return void 0===n.exact&&(n.exact=!0),this.queries.find(e=>(0,r._x)(n,e))}findAll(e,t){let[n]=(0,r.I6)(e,t);return Object.keys(n).length>0?this.queries.filter(e=>(0,r._x)(n,e)):this.queries}notify(e){o.V.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){o.V.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){o.V.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}var d=n(96278);class h extends c.l{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,n){let r=new d.m({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(r),r}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){o.V.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find(t=>(0,r.X7)(e,t))}findAll(e){return this.mutations.filter(t=>(0,r.X7)(e,t))}notify(e){o.V.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then(()=>{let e=this.mutations.filter(e=>e.state.isPaused);return o.V.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(r.ZT)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}var p=n(85289),f=n(63240),m=n(54388);class g{constructor(e={}){this.queryCache=e.queryCache||new u,this.mutationCache=e.mutationCache||new h,this.logger=e.logger||i._,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=p.j.subscribe(()=>{p.j.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=f.N.subscribe(()=>{f.N.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){let[n]=(0,r.I6)(e,t);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data}ensureQueryData(e,t,n){let i=(0,r._v)(e,t,n),o=this.getQueryData(i.queryKey);return o?Promise.resolve(o):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){let i=this.queryCache.find(e),o=null==i?void 0:i.state.data,s=(0,r.SE)(t,o);if(void 0===s)return;let a=(0,r._v)(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return o.V.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state}removeQueries(e,t){let[n]=(0,r.I6)(e,t),i=this.queryCache;o.V.batch(()=>{i.findAll(n).forEach(e=>{i.remove(e)})})}resetQueries(e,t,n){let[i,s]=(0,r.I6)(e,t,n),a=this.queryCache,l={type:"active",...i};return o.V.batch(()=>(a.findAll(i).forEach(e=>{e.reset()}),this.refetchQueries(l,s)))}cancelQueries(e,t,n){let[i,s={}]=(0,r.I6)(e,t,n);return void 0===s.revert&&(s.revert=!0),Promise.all(o.V.batch(()=>this.queryCache.findAll(i).map(e=>e.cancel(s)))).then(r.ZT).catch(r.ZT)}invalidateQueries(e,t,n){let[i,s]=(0,r.I6)(e,t,n);return o.V.batch(()=>{var e,t;if(this.queryCache.findAll(i).forEach(e=>{e.invalidate()}),"none"===i.refetchType)return Promise.resolve();let n={...i,type:null!=(e=null!=(t=i.refetchType)?t:i.type)?e:"active"};return this.refetchQueries(n,s)})}refetchQueries(e,t,n){let[i,s]=(0,r.I6)(e,t,n),a=Promise.all(o.V.batch(()=>this.queryCache.findAll(i).filter(e=>!e.isDisabled()).map(e=>{var t;return e.fetch(void 0,{...s,cancelRefetch:null==(t=null==s?void 0:s.cancelRefetch)||t,meta:{refetchPage:i.refetchPage}})}))).then(r.ZT);return null!=s&&s.throwOnError||(a=a.catch(r.ZT)),a}fetchQuery(e,t,n){let i=(0,r._v)(e,t,n),o=this.defaultQueryOptions(i);void 0===o.retry&&(o.retry=!1);let s=this.queryCache.build(this,o);return s.isStaleByTime(o.staleTime)?s.fetch(o):Promise.resolve(s.state.data)}prefetchQuery(e,t,n){return this.fetchQuery(e,t,n).then(r.ZT).catch(r.ZT)}fetchInfiniteQuery(e,t,n){let i=(0,r._v)(e,t,n);return i.behavior=(0,m.Gm)(),this.fetchQuery(i)}prefetchInfiniteQuery(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(r.ZT).catch(r.ZT)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){let n=this.queryDefaults.find(t=>(0,r.yF)(e)===(0,r.yF)(t.queryKey));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;let t=this.queryDefaults.find(t=>(0,r.to)(e,t.queryKey));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){let n=this.mutationDefaults.find(t=>(0,r.yF)(e)===(0,r.yF)(t.mutationKey));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;let t=this.mutationDefaults.find(t=>(0,r.to)(e,t.mutationKey));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;let t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=(0,r.Rm)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}},91578:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(36370),i=n(3709),o=n(85289),s=n(22436),a=n(3241);class l extends s.l{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),c(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return u(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return u(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){let n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),(0,r.VS)(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();let o=this.hasListeners();o&&d(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(t),o&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();let s=this.computeRefetchInterval();o&&(this.currentQuery!==i||this.options.enabled!==n.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)}getOptimisticResult(e){let t=this.client.getQueryCache().build(this.client,e),n=this.createResult(t,e);return e.keepPreviousData||(void 0!==e.placeholderData?!n.isPlaceholderData:(0,r.VS)(this.getCurrentResult(),n))||(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}getCurrentResult(){return this.currentResult}trackResult(e){let t={};return Object.keys(e).forEach(n=>{Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){let t=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,t);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(r.ZT)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),r.sk||this.currentResult.isStale||!(0,r.PN)(this.options.staleTime))return;let e=(0,r.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},e+1)}computeRefetchInterval(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!r.sk&&!1!==this.options.enabled&&(0,r.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||o.j.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){let n;let i=this.currentQuery,o=this.options,s=this.currentResult,l=this.currentResultState,u=this.currentResultOptions,p=e!==i,f=p?e.state:this.currentQueryInitialState,m=p?this.currentResult:this.previousQueryResult,{state:g}=e,{dataUpdatedAt:v,error:y,errorUpdatedAt:b,fetchStatus:w,status:_}=g,C=!1,x=!1;if(t._optimisticResults){let n=this.hasListeners(),r=!n&&c(e,t),s=n&&d(e,i,t,o);(r||s)&&(w=(0,a.Kw)(e.options.networkMode)?"fetching":"paused",v||(_="loading")),"isRestoring"===t._optimisticResults&&(w="idle")}if(t.keepPreviousData&&!g.dataUpdatedAt&&null!=m&&m.isSuccess&&"error"!==_)n=m.data,v=m.dataUpdatedAt,_=m.status,C=!0;else if(t.select&&void 0!==g.data){if(s&&g.data===(null==l?void 0:l.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(g.data),n=(0,r.oE)(null==s?void 0:s.data,n,t),this.selectResult=n,this.selectError=null}catch(e){this.selectError=e}}else n=g.data;if(void 0!==t.placeholderData&&void 0===n&&"loading"===_){let e;if(null!=s&&s.isPlaceholderData&&t.placeholderData===(null==u?void 0:u.placeholderData))e=s.data;else if(e="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.selectError=null}catch(e){this.selectError=e}void 0!==e&&(_="success",n=(0,r.oE)(null==s?void 0:s.data,e,t),x=!0)}this.selectError&&(y=this.selectError,n=this.selectResult,b=Date.now(),_="error");let k="fetching"===w,S="loading"===_,E="error"===_;return{status:_,fetchStatus:w,isLoading:S,isSuccess:"success"===_,isError:E,isInitialLoading:S&&k,data:n,dataUpdatedAt:v,error:y,errorUpdatedAt:b,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:k,isRefetching:k&&!S,isLoadingError:E&&0===g.dataUpdatedAt,isPaused:"paused"===w,isPlaceholderData:x,isPreviousData:C,isRefetchError:E&&0!==g.dataUpdatedAt,isStale:h(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){let t=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,(0,r.VS)(n,t))return;this.currentResult=n;let i={cache:!0};(null==e?void 0:e.listeners)!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,n="function"==typeof e?e():e;if("all"===n||!n&&!this.trackedProps.size)return!0;let r=new Set(null!=n?n:this.trackedProps);return this.options.useErrorBoundary&&r.add("error"),Object.keys(this.currentResult).some(e=>this.currentResult[e]!==t[e]&&r.has(e))})()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){let e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;let t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){let t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||(0,a.DV)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){i.V.batch(()=>{var t,n,r,i,o,s,a,l;e.onSuccess?(null==(t=(n=this.options).onSuccess)||t.call(n,this.currentResult.data),null==(r=(i=this.options).onSettled)||r.call(i,this.currentResult.data,null)):e.onError&&(null==(o=(s=this.options).onError)||o.call(s,this.currentResult.error),null==(a=(l=this.options).onSettled)||a.call(l,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function c(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)||e.state.dataUpdatedAt>0&&u(e,t,t.refetchOnMount)}function u(e,t,n){if(!1!==t.enabled){let r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&h(e,t)}return!1}function d(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&h(e,n)}function h(e,t){return e.isStaleByTime(t.staleTime)}},53429:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(36370);class i{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,r.PN)(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:r.sk?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}},3241:function(e,t,n){"use strict";n.d(t,{DV:function(){return c},Kw:function(){return a},Mz:function(){return u}});var r=n(85289),i=n(63240),o=n(36370);function s(e){return Math.min(1e3*2**e,3e4)}function a(e){return(null!=e?e:"online")!=="online"||i.N.isOnline()}class l{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function c(e){return e instanceof l}function u(e){let t,n,c,u=!1,d=0,h=!1,p=new Promise((e,t)=>{n=e,c=t}),f=()=>!r.j.isFocused()||"always"!==e.networkMode&&!i.N.isOnline(),m=r=>{h||(h=!0,null==e.onSuccess||e.onSuccess(r),null==t||t(),n(r))},g=n=>{h||(h=!0,null==e.onError||e.onError(n),null==t||t(),c(n))},v=()=>new Promise(n=>{t=e=>{let t=h||!f();return t&&n(e),t},null==e.onPause||e.onPause()}).then(()=>{t=void 0,h||null==e.onContinue||e.onContinue()}),y=()=>{let t;if(!h){try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(m).catch(t=>{var n,r;if(h)return;let i=null!=(n=e.retry)?n:3,a=null!=(r=e.retryDelay)?r:s,l="function"==typeof a?a(d,t):a,c=!0===i||"number"==typeof i&&d<i||"function"==typeof i&&i(d,t);if(u||!c){g(t);return}d++,null==e.onFail||e.onFail(d,t),(0,o.Gh)(l).then(()=>{if(f())return v()}).then(()=>{u?g(t):y()})})}};return a(e.networkMode)?y():v().then(y),{promise:p,cancel:t=>{h||(g(new l(t)),null==e.abort||e.abort())},continue:()=>(null==t?void 0:t())?p:Promise.resolve(),cancelRetry:()=>{u=!0},continueRetry:()=>{u=!1}}}},22436:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});class r{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){let t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},36370:function(e,t,n){"use strict";n.d(t,{A4:function(){return S},G9:function(){return E},Gh:function(){return k},I6:function(){return h},Kp:function(){return c},PN:function(){return s},Rc:function(){return l},Rm:function(){return m},SE:function(){return o},VS:function(){return b},X7:function(){return f},ZT:function(){return i},_v:function(){return u},_x:function(){return p},e5:function(){return a},lV:function(){return d},oE:function(){return T},sk:function(){return r},to:function(){return v},yF:function(){return g}});let r="undefined"==typeof window||"Deno"in window;function i(){}function o(e,t){return"function"==typeof e?e(t):e}function s(e){return"number"==typeof e&&e>=0&&e!==1/0}function a(e,t){return e.filter(e=>!t.includes(e))}function l(e,t,n){let r=e.slice(0);return r[t]=n,r}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t,n){return x(e)?"function"==typeof t?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function d(e,t,n){return x(e)?"function"==typeof t?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:"function"==typeof e?{...t,mutationFn:e}:{...e}}function h(e,t,n){return x(e)?[{...t,queryKey:e},n]:[e||{},t]}function p(e,t){let{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(x(s)){if(r){if(t.queryHash!==m(s,t.options))return!1}else{if(!y(t.queryKey,s))return!1}}if("all"!==n){let e=t.isActive();if("active"===n&&!e||"inactive"===n&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&(void 0===i||i===t.state.fetchStatus)&&(!o||!!o(t))}function f(e,t){let{exact:n,fetching:r,predicate:i,mutationKey:o}=e;if(x(o)){if(!t.options.mutationKey)return!1;if(n){if(g(t.options.mutationKey)!==g(o))return!1}else{if(!y(t.options.mutationKey,o))return!1}}return("boolean"!=typeof r||"loading"===t.state.status===r)&&(!i||!!i(t))}function m(e,t){return((null==t?void 0:t.queryKeyHashFn)||g)(e)}function g(e){return JSON.stringify(e,(e,t)=>_(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function v(e,t){return y(e,t)}function y(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(n=>!y(e[n],t[n]))}function b(e,t){if(e&&!t||t&&!e)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}function w(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _(e){if(!C(e))return!1;let t=e.constructor;if(void 0===t)return!0;let n=t.prototype;return!!(C(n)&&n.hasOwnProperty("isPrototypeOf"))}function C(e){return"[object Object]"===Object.prototype.toString.call(e)}function x(e){return Array.isArray(e)}function k(e){return new Promise(t=>{setTimeout(t,e)})}function S(e){k(0).then(e)}function E(){if("function"==typeof AbortController)return new AbortController}function T(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?function e(t,n){if(t===n)return t;let r=w(t)&&w(n);if(r||_(t)&&_(n)){let i=r?t.length:Object.keys(t).length,o=r?n:Object.keys(n),s=o.length,a=r?[]:{},l=0;for(let i=0;i<s;i++){let s=r?i:o[i];a[s]=e(t[s],n[s]),a[s]===t[s]&&l++}return i===s&&l===i?t:a}return n}(e,t):t}},53111:function(e,t,n){"use strict";n.d(t,{Nr:function(){return i},fB:function(){return o}});var r=n(2784);function i(e,t){let[n,i]=r.useState(e);return r.useEffect(()=>{let n=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(n)}},[e,t]),n}function o(e,t=500){let[n,i]=r.useState(e),o=r.useRef(null);return r.useEffect(()=>{let n=Date.now();if(o.current&&n>=o.current+t)o.current=n,i(e);else{let r=window.setTimeout(()=>{o.current=n,i(e)},t);return()=>window.clearTimeout(r)}},[e,t]),n}},90162:function(e,t,n){"use strict";let r,i,o;n.d(t,{default:function(){return eq}});var s={};function a(e,t){return function(){return e.apply(t,arguments)}}n.r(s),n.d(s,{hasBrowserEnv:function(){return eo},hasStandardBrowserEnv:function(){return es},hasStandardBrowserWebWorkerEnv:function(){return ea}});let{toString:l}=Object.prototype,{getPrototypeOf:c}=Object,u=(r=Object.create(null),e=>{let t=l.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())}),d=e=>(e=e.toLowerCase(),t=>u(t)===e),h=e=>t=>typeof t===e,{isArray:p}=Array,f=h("undefined"),m=d("ArrayBuffer"),g=h("string"),v=h("function"),y=h("number"),b=e=>null!==e&&"object"==typeof e,w=e=>{if("object"!==u(e))return!1;let t=c(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_=d("Date"),C=d("File"),x=d("Blob"),k=d("FileList"),S=d("URLSearchParams");function E(e,t,{allOwnKeys:n=!1}={}){let r,i;if(null!=e){if("object"!=typeof e&&(e=[e]),p(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{let i;let o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;for(r=0;r<s;r++)i=o[r],t.call(null,e[i],i,e)}}}function T(e,t){let n;t=t.toLowerCase();let r=Object.keys(e),i=r.length;for(;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}let P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,I=e=>!f(e)&&e!==P,R=(i="undefined"!=typeof Uint8Array&&c(Uint8Array),e=>i&&e instanceof i),O=d("HTMLFormElement"),A=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),N=d("RegExp"),L=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),r={};E(n,(n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)}),Object.defineProperties(e,r)},M="abcdefghijklmnopqrstuvwxyz",D="0123456789",j={DIGIT:D,ALPHA:M,ALPHA_DIGIT:M+M.toUpperCase()+D},U=d("AsyncFunction");var F={isArray:p,isArrayBuffer:m,isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&v(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||v(e.append)&&("formdata"===(t=u(e))||"object"===t&&v(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&m(e.buffer)},isString:g,isNumber:y,isBoolean:e=>!0===e||!1===e,isObject:b,isPlainObject:w,isUndefined:f,isDate:_,isFile:C,isBlob:x,isRegExp:N,isFunction:v,isStream:e=>b(e)&&v(e.pipe),isURLSearchParams:S,isTypedArray:R,isFileList:k,forEach:E,merge:function e(){let{caseless:t}=I(this)&&this||{},n={},r=(r,i)=>{let o=t&&T(n,i)||i;w(n[o])&&w(r)?n[o]=e(n[o],r):w(r)?n[o]=e({},r):p(r)?n[o]=r.slice():n[o]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&E(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(E(t,(t,r)=>{n&&v(t)?e[r]=a(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;let a={};if(t=t||{},null==e)return t;do{for(o=(i=Object.getOwnPropertyNames(e)).length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=!1!==n&&c(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:u,kindOfTest:d,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;let r=e.indexOf(t,n);return -1!==r&&r===n},toArray:e=>{if(!e)return null;if(p(e))return e;let t=e.length;if(!y(t))return null;let n=Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{let n;let r=(e&&e[Symbol.iterator]).call(e);for(;(n=r.next())&&!n.done;){let r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let n;let r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:O,hasOwnProperty:A,hasOwnProp:A,reduceDescriptors:L,freezeMethods:e=>{L(e,(t,n)=>{if(v(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;if(v(e[n])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{let n={};return(e=>{e.forEach(e=>{n[e]=!0})})(p(e)?e:String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e=+e)?e:t,findKey:T,global:P,isContextDefined:I,ALPHABET:j,generateString:(e=16,t=j.ALPHA_DIGIT)=>{let n="",{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&v(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),n=(e,r)=>{if(b(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;let i=p(e)?[]:{};return E(e,(e,t)=>{let o=n(e,r+1);f(o)||(i[t]=o)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:U,isThenable:e=>e&&(b(e)||v(e))&&v(e.then)&&v(e.catch)};function V(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}F.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let B=V.prototype,z={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{z[e]={value:e}}),Object.defineProperties(V,z),Object.defineProperty(B,"isAxiosError",{value:!0}),V.from=(e,t,n,r,i,o)=>{let s=Object.create(B);return F.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),V.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};var H=n(48834).lW;function q(e){return F.isPlainObject(e)||F.isArray(e)}function K(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function G(e,t,n){return e?e.concat(t).map(function(e,t){return e=K(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}let W=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});var $=function(e,t,n){if(!F.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let r=(n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!F.isUndefined(t[e])})).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(i))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(F.isDate(e))return e.toISOString();if(!a&&F.isBlob(e))throw new V("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(e)||F.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):H.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"==typeof e){if(F.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else{var c;if(F.isArray(e)&&(c=e,F.isArray(c)&&!c.some(q))||(F.isFileList(e)||F.endsWith(n,"[]"))&&(a=F.toArray(e)))return n=K(n),a.forEach(function(e,r){F.isUndefined(e)||null===e||t.append(!0===s?G([n],r,o):null===s?n:n+"[]",l(e))}),!1}}return!!q(e)||(t.append(G(i,n,o),l(e)),!1)}let u=[],d=Object.assign(W,{defaultVisitor:c,convertValue:l,isVisitable:q});if(!F.isObject(e))throw TypeError("data must be an object");return!function e(n,r){if(!F.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),F.forEach(n,function(n,o){!0===(!(F.isUndefined(n)||null===n)&&i.call(t,n,F.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])}),u.pop()}}(e),t};function Z(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function J(e,t){this._pairs=[],e&&$(e,this,t)}let Y=J.prototype;function X(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Q(e,t,n){let r;if(!t)return e;let i=n&&n.encode||X,o=n&&n.serialize;if(r=o?o(t,n):F.isURLSearchParams(t)?t.toString():new J(t,n).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}Y.append=function(e,t){this._pairs.push([e,t])},Y.toString=function(e){let t=e?function(t){return e.call(this,t,Z)}:Z;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class ee{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(t){null!==t&&e(t)})}}var et={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},en="undefined"!=typeof URLSearchParams?URLSearchParams:J,er="undefined"!=typeof FormData?FormData:null,ei="undefined"!=typeof Blob?Blob:null;let eo="undefined"!=typeof window&&"undefined"!=typeof document,es=(o="undefined"!=typeof navigator&&navigator.product,eo&&0>["ReactNative","NativeScript","NS"].indexOf(o)),ea="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var el={...s,isBrowser:!0,classes:{URLSearchParams:en,FormData:er,Blob:ei},protocols:["http","https","file","blob","url","data"]},ec=function(e){if(F.isFormData(e)&&F.isFunction(e.entries)){let t={};return F.forEachEntry(e,(e,n)=>{!function e(t,n,r,i){let o=t[i++];if("__proto__"===o)return!0;let s=Number.isFinite(+o),a=i>=t.length;return(o=!o&&F.isArray(r)?r.length:o,a)?F.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n:(r[o]&&F.isObject(r[o])||(r[o]=[]),e(t,n,r[o],i)&&F.isArray(r[o])&&(r[o]=function(e){let t,n;let r={},i=Object.keys(e),o=i.length;for(t=0;t<o;t++)r[n=i[t]]=e[n];return r}(r[o]))),!s}(F.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),n,t,0)}),t}return null};let eu={transitional:et,adapter:["xhr","http"],transformRequest:[function(e,t){let n;let r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=F.isObject(e);if(o&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return i?JSON.stringify(ec(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1){var s,a;return(s=e,a=this.formSerializer,$(s,new el.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return el.isNode&&F.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},a))).toString()}if((n=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return $(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),function(e,t,n){if(F.isString(e))try{return(0,JSON.parse)(e),F.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||eu.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&F.isString(e)&&(n&&!this.responseType||r)){let n=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!n&&r){if("SyntaxError"===e.name)throw V.from(e,V.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:el.classes.FormData,Blob:el.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],e=>{eu.headers[e]={}});let ed=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var eh=e=>{let t,n,r;let i={};return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&ed[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)}),i};let ep=Symbol("internals");function ef(e){return e&&String(e).trim().toLowerCase()}function em(e){return!1===e||null==e?e:F.isArray(e)?e.map(em):String(e)}let eg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ev(e,t,n,r,i){if(F.isFunction(r))return r.call(this,t,n);if(i&&(t=n),F.isString(t)){if(F.isString(r))return -1!==t.indexOf(r);if(F.isRegExp(r))return r.test(t)}}class ey{constructor(e){e&&this.set(e)}set(e,t,n){let r=this;function i(e,t,n){let i=ef(t);if(!i)throw Error("header name must be a non-empty string");let o=F.findKey(r,i);o&&void 0!==r[o]&&!0!==n&&(void 0!==n||!1===r[o])||(r[o||t]=em(e))}let o=(e,t)=>F.forEach(e,(e,n)=>i(e,n,t));return F.isPlainObject(e)||e instanceof this.constructor?o(e,t):F.isString(e)&&(e=e.trim())&&!eg(e)?o(eh(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=ef(e)){let n=F.findKey(this,e);if(n){let e=this[n];if(!t)return e;if(!0===t)return function(e){let t;let n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=r.exec(e);)n[t[1]]=t[2];return n}(e);if(F.isFunction(t))return t.call(this,e,n);if(F.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ef(e)){let n=F.findKey(this,e);return!!(n&&void 0!==this[n]&&(!t||ev(this,this[n],n,t)))}return!1}delete(e,t){let n=this,r=!1;function i(e){if(e=ef(e)){let i=F.findKey(n,e);i&&(!t||ev(n,n[i],i,t))&&(delete n[i],r=!0)}}return F.isArray(e)?e.forEach(i):i(e),r}clear(e){let t=Object.keys(this),n=t.length,r=!1;for(;n--;){let i=t[n];(!e||ev(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){let t=this,n={};return F.forEach(this,(r,i)=>{let o=F.findKey(n,i);if(o){t[o]=em(r),delete t[i];return}let s=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):String(i).trim();s!==i&&delete t[i],t[s]=em(r),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return F.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&F.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){let t=(this[ep]=this[ep]={accessors:{}}).accessors,n=this.prototype;function r(e){let r=ef(e);t[r]||(!function(e,t){let n=F.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return F.isArray(e)?e.forEach(r):r(e),this}}function eb(e,t){let n=this||eu,r=t||n,i=ey.from(r.headers),o=r.data;return F.forEach(e,function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function ew(e){return!!(e&&e.__CANCEL__)}function e_(e,t,n){V.call(this,null==e?"canceled":e,V.ERR_CANCELED,t,n),this.name="CanceledError"}ey.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F.reduceDescriptors(ey.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),F.freezeMethods(ey),F.inherits(e_,V,{__CANCEL__:!0});var eC=el.hasStandardBrowserEnv?{write(e,t,n,r,i,o){let s=[e+"="+encodeURIComponent(t)];F.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),F.isString(r)&&s.push("path="+r),F.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ex(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}var ek=el.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){let r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){let n=F.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},eS=function(e,t){let n;let r=Array(e=e||10),i=Array(e),o=0,s=0;return t=void 0!==t?t:1e3,function(a){let l=Date.now(),c=i[s];n||(n=l),r[o]=a,i[o]=l;let u=s,d=0;for(;u!==o;)d+=r[u++],u%=e;if((o=(o+1)%e)===s&&(s=(s+1)%e),l-n<t)return;let h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function eE(e,t){let n=0,r=eS(50,250);return i=>{let o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a);n=o;let c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}let eT={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){let r,i,o=e.data,s=ey.from(e.headers).normalize(),{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}if(F.isFormData(o)){if(el.hasStandardBrowserEnv||el.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if(!1!==(i=s.getContentType())){let[e,...t]=i?i.split(";").map(e=>e.trim()).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}}let u=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(t+":"+n))}let d=ex(e.baseURL,e.url);function h(){if(!u)return;let r=ey.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new V("Request failed with status code "+n.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}(function(e){t(e),c()},function(e){n(e),c()},{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),Q(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new V("Request aborted",V.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new V("Network Error",V.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||et;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new V(t,r.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,u)),u=null},el.hasStandardBrowserEnv&&(l&&F.isFunction(l)&&(l=l(e)),l||!1!==l&&ek(d))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&eC.read(e.xsrfCookieName);t&&s.set(e.xsrfHeaderName,t)}void 0===o&&s.setContentType(null),"setRequestHeader"in u&&F.forEach(s.toJSON(),function(e,t){u.setRequestHeader(t,e)}),F.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",eE(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",eE(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=t=>{u&&(n(!t||t.type?new e_(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));let p=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);if(p&&-1===el.protocols.indexOf(p)){n(new V("Unsupported protocol "+p+":",V.ERR_BAD_REQUEST,e));return}u.send(o||null)})}};F.forEach(eT,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let eP=e=>`- ${e}`,eI=e=>F.isFunction(e)||null===e||!1===e;var eR=e=>{let t,n;let{length:r}=e=F.isArray(e)?e:[e],i={};for(let o=0;o<r;o++){let r;if(n=t=e[o],!eI(t)&&void 0===(n=eT[(r=String(t)).toLowerCase()]))throw new V(`Unknown adapter '${r}'`);if(n)break;i[r||"#"+o]=n}if(!n){let e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new V("There is no suitable adapter to dispatch the request "+(r?e.length>1?"since :\n"+e.map(eP).join("\n"):" "+eP(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function eO(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new e_(null,e)}function eA(e){return eO(e),e.headers=ey.from(e.headers),e.data=eb.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),eR(e.adapter||eu.adapter)(e).then(function(t){return eO(e),t.data=eb.call(e,e.transformResponse,t),t.headers=ey.from(t.headers),t},function(t){return!ew(t)&&(eO(e),t&&t.response&&(t.response.data=eb.call(e,e.transformResponse,t.response),t.response.headers=ey.from(t.response.headers))),Promise.reject(t)})}let eN=e=>e instanceof ey?{...e}:e;function eL(e,t){t=t||{};let n={};function r(e,t,n){return F.isPlainObject(e)&&F.isPlainObject(t)?F.merge.call({caseless:n},e,t):F.isPlainObject(t)?F.merge({},t):F.isArray(t)?t.slice():t}function i(e,t,n){return F.isUndefined(t)?F.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!F.isUndefined(t))return r(void 0,t)}function s(e,t){return F.isUndefined(t)?F.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}let l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(eN(e),eN(t),!0)};return F.forEach(Object.keys(Object.assign({},e,t)),function(r){let o=l[r]||i,s=o(e[r],t[r],r);F.isUndefined(s)&&o!==a||(n[r]=s)}),n}let eM="1.6.8",eD={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{eD[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});let ej={};eD.transitional=function(e,t,n){function r(e,t){return"[Axios v"+eM+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new V(r(i," has been removed"+(t?" in "+t:"")),V.ERR_DEPRECATED);return t&&!ej[i]&&(ej[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var eU={assertOptions:function(e,t,n){if("object"!=typeof e)throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);let r=Object.keys(e),i=r.length;for(;i-- >0;){let o=r[i],s=t[o];if(s){let t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new V("option "+o+" must be "+n,V.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new V("Unknown option "+o,V.ERR_BAD_OPTION)}},validators:eD};let eF=eU.validators;class eV{constructor(e){this.defaults=e,this.interceptors={request:new ee,response:new ee}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let n=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}throw e}}_request(e,t){let n,r;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:i,paramsSerializer:o,headers:s}=t=eL(this.defaults,t);void 0!==i&&eU.assertOptions(i,{silentJSONParsing:eF.transitional(eF.boolean),forcedJSONParsing:eF.transitional(eF.boolean),clarifyTimeoutError:eF.transitional(eF.boolean)},!1),null!=o&&(F.isFunction(o)?t.paramsSerializer={serialize:o}:eU.assertOptions(o,{encode:eF.function,serialize:eF.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&F.merge(s.common,s[t.method]);s&&F.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=ey.concat(a,s);let l=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let d=0;if(!c){let e=[eA.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,u),r=e.length,n=Promise.resolve(t);d<r;)n=n.then(e[d++],e[d++]);return n}r=l.length;let h=t;for(d=0;d<r;){let e=l[d++],t=l[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{n=eA.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,r=u.length;d<r;)n=n.then(u[d++],u[d++]);return n}getUri(e){return Q(ex((e=eL(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(e){eV.prototype[e]=function(t,n){return this.request(eL(n||{},{method:e,url:t,data:(n||{}).data}))}}),F.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(eL(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}eV.prototype[e]=t(),eV.prototype[e+"Form"]=t(!0)});class eB{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;let r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new e_(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new eB(function(t){e=t}),cancel:e}}}let ez={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ez).forEach(([e,t])=>{ez[t]=e});let eH=function e(t){let n=new eV(t),r=a(eV.prototype.request,n);return F.extend(r,eV.prototype,n,{allOwnKeys:!0}),F.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(eL(t,n))},r}(eu);eH.Axios=eV,eH.CanceledError=e_,eH.CancelToken=eB,eH.isCancel=ew,eH.VERSION=eM,eH.toFormData=$,eH.AxiosError=V,eH.Cancel=eH.CanceledError,eH.all=function(e){return Promise.all(e)},eH.spread=function(e){return function(t){return e.apply(null,t)}},eH.isAxiosError=function(e){return F.isObject(e)&&!0===e.isAxiosError},eH.mergeConfig=eL,eH.AxiosHeaders=ey,eH.formToJSON=e=>ec(F.isHTMLForm(e)?new FormData(e):e),eH.getAdapter=eR,eH.HttpStatusCode=ez,eH.default=eH;var eq=eH},10929:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(40489);let i=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,o=r.W,s=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return o(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:s,defaultVariants:a}=t,l=Object.keys(s).map(e=>{let t=null==n?void 0:n[e],r=null==a?void 0:a[e];if(null===t)return null;let o=i(t)||i(r);return s[e][o]}),c=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return o(e,l,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...c}[t]):({...a,...c})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}},40489:function(e,t,n){"use strict";function r(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r);else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}(e))&&(r&&(r+=" "),r+=t);return r}n.d(t,{W:function(){return r}}),t.Z=r},80855:function(e,t,n){"use strict";n.d(t,{hJ:function(){return eW},O4:function(){return eK},v0:function(){return nt},sB:function(){return e3},P6:function(){return e4},rh:function(){return tS},w7:function(){return e5}});var r,i=n(83395),o=n(96327),s=n(68207),a=n(22970),l=n(46387);function c(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let u=new i.LL("auth","Firebase",c()),d=new s.Yd("@firebase/auth");function h(e,...t){d.logLevel<=s.in.ERROR&&d.error(`Auth (${o.Jn}): ${e}`,...t)}function p(e,...t){throw g(e,...t)}function f(e,...t){return g(e,...t)}function m(e,t,n){let r=Object.assign(Object.assign({},c()),{[t]:n});return new i.LL("auth","Firebase",r).create(t,{appName:e.name})}function g(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return u.create(e,...t)}function v(e,t,...n){if(!e)throw g(t,...n)}function y(e){let t="INTERNAL ASSERTION FAILED: "+e;throw h(t),Error(t)}function b(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function w(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class _{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||y(n),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===w()||"https:"===w()||(0,i.ru)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function C(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||y(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class x{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},S=new _(3e4,6e4);function E(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function T(e,t,n,r,o={}){return P(e,o,async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});let a=(0,i.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),x.fetch()(R(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))})}async function P(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},k),t);try{let t=new O(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let o=await i.json();if("needConfirmation"in o)throw A(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{let[t,n]=(i.ok?o.errorMessage:o.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw A(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===t)throw A(e,"email-already-in-use",o);if("USER_DISABLED"===t)throw A(e,"user-disabled",o);let s=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw m(e,s,n);p(e,s)}}catch(t){if(t instanceof i.ZR)throw t;p(e,"network-request-failed",{message:String(t)})}}async function I(e,t,n,r,i={}){let o=await T(e,t,n,r,i);return"mfaPendingCredential"in o&&p(e,"multi-factor-auth-required",{_serverResponse:o}),o}function R(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?C(e.config,i):`${e.config.apiScheme}://${i}`}class O{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(f(this.auth,"network-request-failed")),S.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function A(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=f(e,t,r);return i.customData._tokenResponse=n,i}function N(e){return void 0!==e&&void 0!==e.enterprise}class L{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function M(e,t){return T(e,"GET","/v2/recaptchaConfig",E(e,t))}async function D(e,t){return T(e,"POST","/v1/accounts:delete",t)}async function j(e,t){return T(e,"POST","/v1/accounts:lookup",t)}function U(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function F(e,t=!1){let n=(0,i.m9)(e),r=await n.getIdToken(t),o=B(r);v(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");let s="object"==typeof o.firebase?o.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:U(V(o.auth_time)),issuedAtTime:U(V(o.iat)),expirationTime:U(V(o.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function V(e){return 1e3*Number(e)}function B(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,i.tV)(n);if(!e)return h("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return h("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function z(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof i.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class H{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class q{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=U(this.lastLoginAt),this.creationTime=U(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function K(e){var t;let n=e.auth,r=await e.getIdToken(),i=await z(e,j(n,{idToken:r}));v(null==i?void 0:i.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],l=[...e.providerData.filter(e=>!s.some(t=>t.providerId===e.providerId)),...s],c=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(null==l?void 0:l.length);Object.assign(e,{uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new q(o.createdAt,o.lastLoginAt),isAnonymous:!!c&&u})}async function G(e){let t=(0,i.m9)(e);await K(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}async function W(e,t){let n=await P(e,{},async()=>{let n=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=R(e,r,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",x.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $(e,t){return T(e,"POST","/v2/accounts:revokeToken",E(e,t))}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(void 0!==e.idToken,"internal-error"),v(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){let t=B(e);return v(t,"internal-error"),v(void 0!==t.exp,"internal-error"),v(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(v(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await W(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Z;return n&&(v("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(v("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return y("not implemented")}}function J(e,t){v("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Y{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new q(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await z(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return F(this,e)}reload(){return G(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new Y(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await K(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await z(this,D(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;let u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:_,providerData:C,stsTokenManager:x}=t;v(b&&x,e,"internal-error");let k=Z.fromJSON(this.name,x);v("string"==typeof b,e,"internal-error"),J(u,e.name),J(d,e.name),v("boolean"==typeof w,e,"internal-error"),v("boolean"==typeof _,e,"internal-error"),J(h,e.name),J(p,e.name),J(f,e.name),J(m,e.name),J(g,e.name),J(y,e.name);let S=new Y({uid:b,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:_,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:y});return C&&Array.isArray(C)&&(S.providerData=C.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){let r=new Z;r.updateFromServerResponse(t);let i=new Y({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await K(i),i}}let X=new Map;function Q(e){var t,n;t="Expected a class definition",e instanceof Function||y(t);let r=X.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||y(n)):(r=new e,X.set(e,r)),r}class ee{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function et(e,t,n){return`firebase:${e}:${t}:${n}`}ee.type="NONE";class en{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=et(this.userKey,r.apiKey,i),this.fullPersistenceKey=et("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?Y._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new en(Q(ee),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||Q(ee),o=et(n,e.config.apiKey,e.name),s=null;for(let n of t)try{let t=await n._get(o);if(t){let r=Y._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}let a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length&&(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new en(i,e,n)}}function er(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ea(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";{if(t.includes("edge/"))return"Edge";if(ei(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ec(t))return"Blackberry";if(eu(t))return"Webos";if(eo(t))return"Safari";if((t.includes("chrome/")||es(t))&&!t.includes("edge/"))return"Chrome";if(el(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function ei(e=(0,i.z$)()){return/firefox\//i.test(e)}function eo(e=(0,i.z$)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function es(e=(0,i.z$)()){return/crios\//i.test(e)}function ea(e=(0,i.z$)()){return/iemobile/i.test(e)}function el(e=(0,i.z$)()){return/android/i.test(e)}function ec(e=(0,i.z$)()){return/blackberry/i.test(e)}function eu(e=(0,i.z$)()){return/webos/i.test(e)}function ed(e=(0,i.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function eh(e=(0,i.z$)()){return ed(e)||el(e)||eu(e)||ec(e)||/windows phone/i.test(e)||ea(e)}function ep(e,t=[]){let n;switch(e){case"Browser":n=er((0,i.z$)());break;case"Worker":n=`${er((0,i.z$)())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.Jn}/${r}`}class ef{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}async function em(e,t={}){return T(e,"GET","/v2/passwordPolicy",E(e,t))}class eg{constructor(e){var t,n,r,i;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ev{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eb(this),this.idTokenSubscription=new eb(this),this.beforeStateQueue=new ef(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Q(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await en.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);(!n||n===o)&&(null==s?void 0:s.user)&&(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await K(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?(0,i.m9)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Q(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new eg(await em(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await $(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Q(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await en.create(this,[Q(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{let n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ep(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){d.logLevel<=s.in.WARN&&d.warn(`Auth (${o.Jn}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function ey(e){return(0,i.m9)(e)}class eb{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ew(e){return new Promise((t,n)=>{var r,i;let o=document.createElement("script");o.setAttribute("src",e),o.onload=t,o.onerror=e=>{let t=f("internal-error");t.customData=e,n(t)},o.type="text/javascript",o.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(o)})}function e_(e){return`__${e}${Math.floor(1e6*Math.random())}`}class eC{constructor(e){this.type="recaptcha-enterprise",this.auth=ey(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{M(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new L(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;N(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&N(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}ew("https://www.google.com/recaptcha/enterprise.js?render="+n).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function ex(e,t,n,r=!1){let i;let o=new eC(e);try{i=await o.verify(n)}catch(e){i=await o.verify(n,!0)}let s=Object.assign({},t);return r?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ek(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i||!i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await ex(e,t,n,"getOobCode"===n);return r(e,i)}});{let i=await ex(e,t,n,"getOobCode"===n);return r(e,i)}}function eS(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eE(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class eT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return y("not implemented")}_getIdTokenResponse(e){return y("not implemented")}_linkToIdToken(e,t){return y("not implemented")}_getReauthenticationResolver(e){return y("not implemented")}}async function eP(e,t){return T(e,"POST","/v1/accounts:signUp",t)}async function eI(e,t){return I(e,"POST","/v1/accounts:signInWithPassword",E(e,t))}async function eR(e,t){return I(e,"POST","/v1/accounts:signInWithEmailLink",E(e,t))}async function eO(e,t){return I(e,"POST","/v1/accounts:signInWithEmailLink",E(e,t))}class eA extends eT{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new eA(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new eA(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ek(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",eI);case"emailLink":return eR(e,{email:this._email,oobCode:this._password});default:p(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ek(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eP);case"emailLink":return eO(e,{idToken:t,email:this._email,oobCode:this._password});default:p(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eN(e,t){return I(e,"POST","/v1/accounts:signInWithIdp",E(e,t))}class eL extends eT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new eL(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;let o=new eL(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return eN(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,eN(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,eN(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.xO)(t)}return e}}async function eM(e,t){return T(e,"POST","/v1/accounts:sendVerificationCode",E(e,t))}async function eD(e,t){return I(e,"POST","/v1/accounts:signInWithPhoneNumber",E(e,t))}async function ej(e,t){let n=await I(e,"POST","/v1/accounts:signInWithPhoneNumber",E(e,t));if(n.temporaryProof)throw A(e,"account-exists-with-different-credential",n);return n}let eU={USER_NOT_FOUND:"user-not-found"};async function eF(e,t){return I(e,"POST","/v1/accounts:signInWithPhoneNumber",E(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),eU)}class eV extends eT{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new eV({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new eV({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return eD(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return ej(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return eF(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new eV({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class eB{constructor(e){var t,n,r,o,s,a;let l=(0,i.zd)((0,i.pd)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);v(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){let t=function(e){let t=(0,i.zd)((0,i.pd)(e)).link,n=t?(0,i.zd)((0,i.pd)(t)).deep_link_id:null,r=(0,i.zd)((0,i.pd)(e)).deep_link_id;return(r?(0,i.zd)((0,i.pd)(r)).link:null)||r||n||t||e}(e);try{return new eB(t)}catch(e){return null}}}class ez{constructor(){this.providerId=ez.PROVIDER_ID}static credential(e,t){return eA._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=eB.parseLink(t);return v(n,"argument-error"),eA._fromEmailAndCode(e,n.code,n.tenantId)}}ez.PROVIDER_ID="password",ez.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ez.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eH{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eq extends eH{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class eK extends eq{static credentialFromJSON(e){let t="string"==typeof e?JSON.parse(e):e;return v("providerId"in t&&"signInMethod"in t,"argument-error"),eL._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return v(e.idToken||e.accessToken,"argument-error"),eL._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return eK.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return eK.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=e;if(!n&&!r&&!t&&!i||!s)return null;try{return new eK(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(e){return null}}}class eG extends eq{constructor(){super("facebook.com")}static credential(e){return eL._fromParams({providerId:eG.PROVIDER_ID,signInMethod:eG.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eG.credentialFromTaggedObject(e)}static credentialFromError(e){return eG.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eG.credential(e.oauthAccessToken)}catch(e){return null}}}eG.FACEBOOK_SIGN_IN_METHOD="facebook.com",eG.PROVIDER_ID="facebook.com";class eW extends eq{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eL._fromParams({providerId:eW.PROVIDER_ID,signInMethod:eW.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return eW.credentialFromTaggedObject(e)}static credentialFromError(e){return eW.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return eW.credential(t,n)}catch(e){return null}}}eW.GOOGLE_SIGN_IN_METHOD="google.com",eW.PROVIDER_ID="google.com";class e$ extends eq{constructor(){super("github.com")}static credential(e){return eL._fromParams({providerId:e$.PROVIDER_ID,signInMethod:e$.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e$.credentialFromTaggedObject(e)}static credentialFromError(e){return e$.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e$.credential(e.oauthAccessToken)}catch(e){return null}}}e$.GITHUB_SIGN_IN_METHOD="github.com",e$.PROVIDER_ID="github.com";class eZ extends eq{constructor(){super("twitter.com")}static credential(e,t){return eL._fromParams({providerId:eZ.PROVIDER_ID,signInMethod:eZ.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return eZ.credentialFromTaggedObject(e)}static credentialFromError(e){return eZ.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return eZ.credential(t,n)}catch(e){return null}}}eZ.TWITTER_SIGN_IN_METHOD="twitter.com",eZ.PROVIDER_ID="twitter.com";class eJ{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new eJ({user:await Y._fromIdTokenResponse(e,n,r),providerId:eY(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new eJ({user:e,providerId:eY(n),_tokenResponse:n,operationType:t})}}function eY(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class eX extends i.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,eX.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new eX(e,t,n,r)}}function eQ(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw eX._fromErrorAndOperation(e,n,t,r);throw n})}async function e0(e,t,n=!1){let r=await z(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return eJ._forOperation(e,"link",r)}async function e1(e,t,n=!1){let{auth:r}=e,i="reauthenticate";try{let o=await z(e,eQ(r,i,t,e),n);v(o.idToken,r,"internal-error");let s=B(o.idToken);v(s,r,"internal-error");let{sub:a}=s;return v(e.uid===a,r,"user-mismatch"),eJ._forOperation(e,i,o)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&p(r,"user-mismatch"),e}}async function e2(e,t,n=!1){let r="signIn",i=await eQ(e,r,t),o=await eJ._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function e3(e,t){return e2(ey(e),t)}async function e4(e,t,n){let r=(0,i.m9)(e),o=ez.credentialWithLink(t,n||b());return v(o._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),e3(r,o)}function e5(e){return(0,i.m9)(e).signOut()}new WeakMap;let e6="__sak";class e8{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(e6,"1"),this.storage.removeItem(e6),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class e7 extends e8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){let e=(0,i.z$)();return eo(e)||ed(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=eh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,i.w1)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}e7.type="LOCAL";class e9 extends e8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}e9.type="SESSION";class te{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new te(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let o=Array.from(i).map(async t=>t(e.origin,r)),s=await Promise.all(o.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function tt(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}te.receivers=[];class tn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i;let o="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!o)throw Error("connection_unavailable");return new Promise((s,a)=>{let l=tt("",20);o.port1.start();let c=setTimeout(()=>{a(Error("unsupported_event"))},n);i={messageChannel:o,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{a(Error("timeout"))},3e3);break;case"done":clearTimeout(r),s(e.data.response);break;default:clearTimeout(c),clearTimeout(r),a(Error("invalid_response"))}}},this.handlers.add(i),o.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[o.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function tr(){return window}function ti(){return void 0!==tr().WorkerGlobalScope&&"function"==typeof tr().importScripts}async function to(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}let ts="firebaseLocalStorageDb",ta="firebaseLocalStorage",tl="fbase_key";class tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tu(e,t){return e.transaction([ta],t?"readwrite":"readonly").objectStore(ta)}function td(){let e=indexedDB.open(ts,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(ta,{keyPath:tl})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(ta)?t(n):(n.close(),await new tc(indexedDB.deleteDatabase(ts)).toPromise(),t(await td()))})})}async function th(e,t,n){return new tc(tu(e,!0).put({[tl]:t,value:n})).toPromise()}async function tp(e,t){let n=tu(e,!1).get(t),r=await new tc(n).toPromise();return void 0===r?null:r.value}function tf(e,t){return new tc(tu(e,!0).delete(t)).toPromise()}class tm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await td()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ti()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=te._getInstance(ti()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await to(),!this.activeServiceWorker)return;this.sender=new tn(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await td();return await th(e,e6,"1"),await tf(e,e6),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>th(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>tp(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tf(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new tc(tu(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}async function tg(e,t,n){var r,i,o;let s=await n.verify();try{let a;if(v("string"==typeof s,e,"argument-error"),v("recaptcha"===n.type,e,"argument-error"),a="string"==typeof t?{phoneNumber:t}:t,"session"in a){let t=a.session;if("phoneNumber"in a)return v("enroll"===t.type,e,"internal-error"),(await (i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:s}},T(e,"POST","/v2/accounts/mfaEnrollment:start",E(e,i)))).phoneSessionInfo.sessionInfo;{v("signin"===t.type,e,"internal-error");let n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;return v(n,e,"missing-multi-factor-info"),(await (o={mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}},T(e,"POST","/v2/accounts/mfaSignIn:start",E(e,o)))).phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await eM(e,{phoneNumber:a.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}tm.type="LOCAL",e_("rcb"),new _(3e4,6e4);class tv{constructor(e){this.providerId=tv.PROVIDER_ID,this.auth=ey(e)}verifyPhoneNumber(e,t){return tg(this.auth,e,(0,i.m9)(t))}static credential(e,t){return eV._fromVerification(e,t)}static credentialFromResult(e){return tv.credentialFromTaggedObject(e)}static credentialFromError(e){return tv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?eV._fromTokenResponse(t,n):null}}function ty(e,t){return t?Q(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tv.PROVIDER_ID="phone",tv.PHONE_SIGN_IN_METHOD="phone";class tb extends eT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eN(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eN(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eN(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tw(e){return e2(e.auth,new tb(e),e.bypassAuthState)}function t_(e){let{auth:t,user:n}=e;return v(n,t,"internal-error"),e1(n,new tb(e),e.bypassAuthState)}async function tC(e){let{auth:t,user:n}=e;return v(n,t,"internal-error"),e0(n,new tb(e),e.bypassAuthState)}class tx{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o){this.reject(o);return}let a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tw;case"linkViaPopup":case"linkViaRedirect":return tC;case"reauthViaPopup":case"reauthViaRedirect":return t_;default:p(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||y(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||y(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}let tk=new _(2e3,1e4);async function tS(e,t,n){let r=ey(e);!function(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&p(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,eH);let i=ty(r,n);return new tE(r,"signInViaPopup",t,i).executeNotNull()}class tE extends tx{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,tE.currentPopupAction&&tE.currentPopupAction.cancel(),tE.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||y(t);let n=tt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(f(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tE.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tk.get())};e()}}tE.currentPopupAction=null;let tT=new Map;class tP extends tx{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=tT.get(this.auth._key());if(!e){try{let t=await tI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}tT.set(this.auth._key(),e)}return this.bypassAuthState||tT.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tI(e,t){let n=et("pendingRedirect",t.config.apiKey,t.name),r=Q(e._redirectPersistence);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function tR(e,t){tT.set(e._key(),t)}async function tO(e,t,n=!1){let r=ey(e),i=ty(r,t),o=new tP(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class tA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tL(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tL(e)){let r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(f(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tN(e))}saveEventToCache(e){this.cachedEventUids.add(tN(e)),this.lastProcessedEventTime=Date.now()}}function tN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tL({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}async function tM(e,t={}){return T(e,"GET","/v1/projects",t)}let tD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tj=/^https?/;async function tU(e){if(e.config.emulator)return;let{authorizedDomains:t}=await tM(e);for(let e of t)try{if(function(e){let t=b(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!tj.test(n))return!1;if(tD.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch(e){}p(e,"unauthorized-domain")}let tF=new _(3e4,6e4);function tV(){let e=tr().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let tB=null,tz=new _(5e3,15e3),tH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function tK(e){let t=await (tB=tB||new Promise((t,n)=>{var r,i,o;function s(){tV(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tV(),n(f(e,"network-request-failed"))},timeout:tF.get()})}if(null===(i=null===(r=tr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null===(o=tr().gapi)||void 0===o?void 0:o.load)s();else{let t=e_("iframefcb");return tr()[t]=()=>{gapi.load?s():n(f(e,"network-request-failed"))},ew(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw tB=null,e})),n=tr().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;v(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?C(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.Jn},s=tq.get(e.config.apiHost);s&&(r.eid=s);let a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,i.xO)(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tH,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=f(e,"network-request-failed"),o=tr().setTimeout(()=>{r(i)},tz.get());function s(){tr().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}let tG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tW{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let t$=encodeURIComponent("fac");async function tZ(e,t,n,r,s,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");let l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.Jn,eventId:s};if(t instanceof eH)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(a||{})))l[n]=r;if(t instanceof eq){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}for(let t of(e.tenantId&&(l.tid=e.tenantId),Object.keys(l)))void 0===l[t]&&delete l[t];let c=await e._getAppCheckToken(),u=c?`#${t$}=${encodeURIComponent(c)}`:"";return`${function({config:e}){return e.emulator?C(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,i.xO)(l).slice(1)}${u}`}let tJ="webStorageSupport";class tY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e9,this._completeRedirectFn=tO,this._overrideRedirectResult=tR}async _openPopup(e,t,n,r){var o,s,a;s=null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,a="_initialize() not called before _openPopup()",s||y(a);let l=await tZ(e,t,n,b(),r);return function(e,t,n,r=500,o=600){let s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),l="",c=Object.assign(Object.assign({},tG),{width:r.toString(),height:o.toString(),top:s,left:a}),u=(0,i.z$)().toLowerCase();n&&(l=es(u)?"_blank":n),ei(u)&&(t=t||"http://localhost",c.scrollbars="yes");let d=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,i.z$)()){var t;return ed(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==l)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new tW(null);let h=window.open(t||"",l,d);v(h,e,"popup-blocked");try{h.focus()}catch(e){}return new tW(h)}(e,l,tt())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await tZ(e,t,n,b(),r),tr().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||y(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await tK(e),n=new tA(e);return t.register("authEvent",t=>(v(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tJ,{type:tJ},n=>{var r;let i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[tJ];void 0!==i&&t(!!i),p(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eh()||eo()||ed()}}class tX{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return y("unexpected MultiFactorSessionType")}}}class tQ extends tX{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new tQ(e)}_finalizeEnroll(e,t,n){return T(e,"POST","/v2/accounts/mfaEnrollment:finalize",E(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return T(e,"POST","/v2/accounts/mfaSignIn:finalize",E(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class t0{constructor(){}static assertion(e){return tQ._fromCredential(e)}}t0.FACTOR_ID="phone";class t1{static assertionForEnrollment(e,t){return t2._fromSecret(e,t)}static assertionForSignIn(e,t){return t2._fromEnrollmentId(e,t)}static async generateSecret(e){var t,n;v(void 0!==(null===(t=e.user)||void 0===t?void 0:t.auth),"internal-error");let r=await T(n=e.user.auth,"POST","/v2/accounts/mfaEnrollment:start",E(n,{idToken:e.credential,totpEnrollmentInfo:{}}));return t3._fromStartTotpMfaEnrollmentResponse(r,e.user.auth)}}t1.FACTOR_ID="totp";class t2 extends tX{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new t2(t,void 0,e)}static _fromEnrollmentId(e,t){return new t2(t,e)}async _finalizeEnroll(e,t,n){return v(void 0!==this.secret,e,"argument-error"),T(e,"POST","/v2/accounts/mfaEnrollment:finalize",E(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){v(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return T(e,"POST","/v2/accounts/mfaSignIn:finalize",E(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class t3{constructor(e,t,n,r,i,o,s){this.sessionInfo=o,this.auth=s,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new t3(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(t4(e)||t4(t))&&(r=!0),r&&(t4(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),t4(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function t4(e){return void 0===e||(null==e?void 0:e.length)===0}var t5="@firebase/auth",t6="1.5.1";class t8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let t7=(0,i.Pz)("authIdTokenMaxAge")||300,t9=null,ne=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t7)return;let i=null==n?void 0:n.token;t9!==i&&(t9=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nt(e=(0,o.Mq)()){let t=(0,o.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=(0,o.qX)(e,"auth");if(n.isInitialized()){let e=n.getImmediate(),r=n.getOptions();if((0,i.vZ)(r,null!=t?t:{}))return e;p(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:tY,persistence:[tm,e7,e9]}),r=(0,i.Pz)("authTokenSyncURL");if(r){var s,a;let e=ne(r);s=()=>e(n.currentUser),(0,i.m9)(n).beforeAuthStateChanged(e,s),a=t=>e(t),(0,i.m9)(n).onIdTokenChanged(a,void 0,void 0)}let l=(0,i.q4)("auth");return l&&function(e,t,n){let r=ey(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=eS(t),{host:o,port:s}=function(e){let t=eS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:eE(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:eE(t)}}}(t),a=null===s?"":`:${s}`;r.config.emulator={url:`${i}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${l}`),n}r="Browser",(0,o.Xd)(new l.wA("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;v(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l=new ev(n,i,o,{apiKey:s,authDomain:a,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ep(r)});return function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Q);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o.Xd)(new l.wA("auth-internal",e=>new t8(ey(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.KN)(t5,t6,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(r)),(0,o.KN)(t5,t6,"esm2017")},46204:function(e,t,n){"use strict";let r;n.d(t,{v:function(){return e_}});var i,o=n(57035),s=n(41429);let a={current:!1},l=e=>Array.isArray(e)&&"number"==typeof e[0],c=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,u={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:c([0,.65,.55,1]),circOut:c([.55,0,1,.45]),backIn:c([.31,.01,.66,-.59]),backOut:c([.33,1.53,.69,.99])};var d=n(50065);let h=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function p(e,t,n,r){if(e===t&&n===r)return d.Z;let i=t=>(function(e,t,n,r,i){let o,s;let a=0;do(o=h(s=t+(n-t)/2,r,i)-e)>0?n=s:t=s;while(Math.abs(o)>1e-7&&++a<12);return s})(t,0,1,e,n);return e=>0===e||1===e?e:h(i(e),t,r)}let f=p(.42,0,1,1),m=p(0,0,.58,1),g=p(.42,0,.58,1),v=e=>Array.isArray(e)&&"number"!=typeof e[0];var y=n(41469),b=n(17070),w=n(26574);let _=p(.33,1.53,.69,.99),C=(0,w.M)(_),x=(0,b.o)(C),k={linear:d.Z,easeIn:f,easeInOut:g,easeOut:m,circIn:y.Z7,circInOut:y.X7,circOut:y.Bn,backIn:C,backInOut:x,backOut:_,anticipate:e=>(e*=2)<1?.5*C(e):.5*(2-Math.pow(2,-10*(e-1)))},S=e=>{if(Array.isArray(e)){(0,o.k)(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,n,r,i]=e;return p(t,n,r,i)}return"string"==typeof e?((0,o.k)(void 0!==k[e],`Invalid easing type '${e}'`),k[e]):e};var E=n(45982),T=n(51366),P=n(65339);function I(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var R=n(92395),O=n(56572),A=n(86845);let N=(e,t,n)=>{let r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},L=[R.$,O.m,A.J],M=e=>L.find(t=>t.test(e));function D(e){let t=M(e);(0,o.k)(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`);let n=t.parse(e);return t===A.J&&(n=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,s=0;if(t/=100){let r=n<.5?n*(1+t):n+t-n*t,a=2*n-r;i=I(a,r,e+1/3),o=I(a,r,e),s=I(a,r,e-1/3)}else i=o=s=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:r}}(n)),n}let j=(e,t)=>{let n=D(e),r=D(t),i={...n};return e=>(i.red=N(n.red,r.red,e),i.green=N(n.green,r.green,e),i.blue=N(n.blue,r.blue,e),i.alpha=(0,P.C)(n.alpha,r.alpha,e),O.m.transform(i))};var U=n(96953),F=n(76865);let V=(e,t)=>n=>`${n>0?t:e}`;function B(e,t){return"number"==typeof e?n=>(0,P.C)(e,t,n):E.$.test(e)?j(e,t):e.startsWith("var(")?V(e,t):q(e,t)}let z=(e,t)=>{let n=[...e],r=n.length,i=e.map((e,n)=>B(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},H=(e,t)=>{let n={...e,...t},r={};for(let i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=B(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}},q=(e,t)=>{let n=F.P.createTransformer(t),r=(0,F.V)(e),i=(0,F.V)(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?(0,U.z)(z(r.values,i.values),n):((0,o.K)(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),V(e,t))};var K=n(17475);let G=(e,t)=>n=>(0,P.C)(e,t,n);function W(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let s=e.length;if((0,o.k)(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let a=function(e,t,n){let r=[],i=n||function(e){if("number"==typeof e);else if("string"==typeof e)return E.$.test(e)?j:q;else if(Array.isArray(e))return z;else if("object"==typeof e)return H;return G}(e[0]),o=e.length-1;for(let n=0;n<o;n++){let o=i(e[n],e[n+1]);if(t){let e=Array.isArray(t)?t[n]||d.Z:t;o=(0,U.z)(e,o)}r.push(o)}return r}(t,r,i),l=a.length,c=t=>{let n=0;if(l>1)for(;n<e.length-2&&!(t<e[n+1]);n++);let r=(0,K.Y)(e[n],e[n+1],t);return a[n](r)};return n?t=>c((0,T.u)(e[0],e[s-1],t)):c}function $({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){let i=v(r)?r.map(S):S(r),o={done:!1,value:t[0]},s=W((n&&n.length===t.length?n:function(e){let t=[0];return function(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=(0,K.Y)(0,t,r);e.push((0,P.C)(n,1,i))}}(t,e.length-1),t}(t)).map(t=>t*e),t,{ease:Array.isArray(i)?i:t.map(()=>i||g).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=s(t),o.done=t>=e,o)}}var Z=n(75394);function J(e,t,n){let r=Math.max(t-5,0);return(0,Z.R)(n-e(r),t-r)}function Y(e,t){return e*Math.sqrt(1-t*t)}let X=["duration","bounce"],Q=["stiffness","damping","mass"];function ee(e,t){return t.some(t=>void 0!==e[t])}function et({keyframes:e,restDelta:t,restSpeed:n,...r}){let i;let a=e[0],l=e[e.length-1],c={done:!1,value:a},{stiffness:u,damping:d,mass:h,velocity:p,duration:f,isResolvedFromDuration:m}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ee(e,Q)&&ee(e,X)){let n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a;(0,o.K)(e<=(0,s.w)(10),"Spring duration must be 10 seconds or less");let l=1-t;l=(0,T.u)(.05,1,l),e=(0,T.u)(.01,10,(0,s.X)(e)),l<1?(i=t=>{let r=t*l,i=r*e;return .001-(r-n)/Y(t,l)*Math.exp(-i)},a=t=>{let r=t*l*e,o=Math.pow(l,2)*Math.pow(t,2)*e,s=Math.exp(-r),a=Y(Math.pow(t,2),l);return(r*n+n-o)*s*(-i(t)+.001>0?-1:1)/a}):(i=t=>-.001+Math.exp(-t*e)*((t-n)*e+1),a=t=>e*e*(n-t)*Math.exp(-t*e));let c=function(e,t,n){let r=n;for(let n=1;n<12;n++)r-=e(r)/t(r);return r}(i,a,5/e);if(e=(0,s.w)(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(c,2)*r;return{stiffness:t,damping:2*l*Math.sqrt(r*t),duration:e}}}(e);(t={...t,...n,velocity:0,mass:1}).isResolvedFromDuration=!0}return t}(r),g=p?-(0,s.X)(p):0,v=d/(2*Math.sqrt(u*h)),y=l-a,b=(0,s.X)(Math.sqrt(u/h)),w=5>Math.abs(y);if(n||(n=w?.01:2),t||(t=w?.005:.5),v<1){let e=Y(b,v);i=t=>l-Math.exp(-v*b*t)*((g+v*b*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===v)i=e=>l-Math.exp(-b*e)*(y+(g+b*y)*e);else{let e=b*Math.sqrt(v*v-1);i=t=>{let n=Math.exp(-v*b*t),r=Math.min(e*t,300);return l-n*((g+v*b*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}return{calculatedDuration:m&&f||null,next:e=>{let r=i(e);if(m)c.done=e>=f;else{let o=g;0!==e&&(o=v<1?J(i,e,r):0);let s=Math.abs(o)<=n,a=Math.abs(l-r)<=t;c.done=s&&a}return c.value=c.done?l:r,c}}}function en({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){let d,h;let p=e[0],f={done:!1,value:p},m=e=>void 0!==a&&e<a||void 0!==l&&e>l,g=e=>void 0===a?l:void 0===l?a:Math.abs(a-e)<Math.abs(l-e)?a:l,v=n*t,y=p+v,b=void 0===s?y:s(y);b!==y&&(v=b-p);let w=e=>-v*Math.exp(-e/r),_=e=>b+w(e),C=e=>{let t=w(e),n=_(e);f.done=Math.abs(t)<=c,f.value=f.done?b:n},x=e=>{m(f.value)&&(d=e,h=et({keyframes:[f.value,g(f.value)],velocity:J(_,e,f.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return(h||void 0!==d||(t=!0,C(e),x(e)),void 0!==d&&e>d)?h.next(e-d):(t||C(e),f)}}}var er=n(62972);let ei=e=>{let t=({timestamp:t})=>e(t);return{start:()=>er.Wi.update(t,!0),stop:()=>(0,er.Pn)(t),now:()=>er.frameData.isProcessing?er.frameData.timestamp:performance.now()}};function eo(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}let es={decay:en,inertia:en,tween:$,keyframes:$,spring:et};function ea({autoplay:e=!0,delay:t=0,driver:n=ei,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...p}){let f,m,g,v,y,b=1,w=!1,_=()=>{m=new Promise(e=>{f=e})};_();let C=es[i]||$;C!==$&&"number"!=typeof r[0]&&(v=W([0,100],r,{clamp:!1}),r=[0,100]);let x=C({...p,keyframes:r});"mirror"===l&&(y=C({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let k="idle",S=null,E=null,P=null;null===x.calculatedDuration&&o&&(x.calculatedDuration=eo(x));let{calculatedDuration:I}=x,R=1/0,O=1/0;null!==I&&(O=(R=I+a)*(o+1)-a);let A=0,N=e=>{if(null===E)return;b>0&&(E=Math.min(E,e)),b<0&&(E=Math.min(e-O/b,E));let n=(A=null!==S?S:Math.round(e-E)*b)-t*(b>=0?1:-1),i=b>=0?n<0:n>O;A=Math.max(n,0),"finished"===k&&null===S&&(A=O);let s=A,c=x;if(o){let e=A/R,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--;let r=!!((t=Math.min(t,o+1))%2);r&&("reverse"===l?(n=1-n,a&&(n-=a/R)):"mirror"===l&&(c=y));let i=(0,T.u)(0,1,n);A>O&&(i="reverse"===l&&r?1:0),s=i*R}let u=i?{done:!1,value:r[0]}:c.next(s);v&&(u.value=v(u.value));let{done:d}=u;i||null===I||(d=b>=0?A>=O:A<=0);let p=null===S&&("finished"===k||"running"===k&&d);return h&&h(u.value),p&&D(),u},L=()=>{g&&g.stop(),g=void 0},M=()=>{k="idle",L(),f(),_(),E=P=null},D=()=>{k="finished",d&&d(),L(),f()},j=()=>{if(w)return;g||(g=n(N));let e=g.now();c&&c(),null!==S?E=e-S:E&&"finished"!==k||(E=e),"finished"===k&&_(),P=E,S=null,k="running",g.start()};e&&j();let U={then:(e,t)=>m.then(e,t),get time(){return(0,s.X)(A)},set time(newTime){A=newTime=(0,s.w)(newTime),null===S&&g&&0!==b?E=g.now()-newTime/b:S=newTime},get duration(){let e=null===x.calculatedDuration?eo(x):x.calculatedDuration;return(0,s.X)(e)},get speed(){return b},set speed(newSpeed){if(newSpeed===b||!g)return;b=newSpeed,U.time=(0,s.X)(A)},get state(){return k},play:j,pause:()=>{k="paused",S=A},stop:()=>{w=!0,"idle"!==k&&(k="idle",u&&u(),M())},cancel:()=>{null!==P&&N(P),M()},complete:()=>{k="finished"},sample:e=>(E=0,N(e))};return U}let el=(i=()=>Object.hasOwnProperty.call(Element.prototype,"animate"),()=>(void 0===r&&(r=i()),r)),ec=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),eu=(e,t)=>"spring"===t.type||"backgroundColor"===e||!function e(t){return!!(!t||"string"==typeof t&&u[t]||l(t)||Array.isArray(t)&&t.every(e))}(t.ease);var ed=n(73442);let eh={type:"spring",stiffness:500,damping:25,restSpeed:10},ep=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),ef={type:"keyframes",duration:.8},em={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eg=(e,{keyframes:t})=>t.length>2?ef:ed.G.has(e)?e.startsWith("scale")?ep(t[1]):eh:em,ev=(e,t)=>"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&(F.P.test(t)||"0"===t)&&!t.startsWith("url("));var ey=n(91564),eb=n(54561),ew=n(73172);let e_=(e,t,n,r={})=>i=>{let h=(0,ew.e)(r,e)||{},p=h.delay||r.delay||0,{elapsed:f=0}=r;f-=(0,s.w)(p);let m=function(e,t,n,r){let i,o;let s=ev(t,n);i=Array.isArray(n)?[...n]:[null,n];let a=void 0!==r.from?r.from:e.get(),l=[];for(let e=0;e<i.length;e++){var c;null===i[e]&&(i[e]=0===e?a:i[e-1]),("number"==typeof(c=i[e])?0===c:null!==c?"none"===c||"0"===c||(0,eb.W)(c):void 0)&&l.push(e),"string"==typeof i[e]&&"none"!==i[e]&&"0"!==i[e]&&(o=i[e])}if(s&&l.length&&o)for(let e=0;e<l.length;e++)i[l[e]]=(0,ey.T)(t,o);return i}(t,e,n,h),g=m[0],v=m[m.length-1],y=ev(e,g),b=ev(e,v);(0,o.K)(y===b,`You are trying to animate ${e} from "${g}" to "${v}". ${g} is not an animatable value - to enable this animation set ${g} to a value animatable to ${v} via the \`style\` property.`);let w={keyframes:m,velocity:t.getVelocity(),ease:"easeOut",...h,delay:-f,onUpdate:e=>{t.set(e),h.onUpdate&&h.onUpdate(e)},onComplete:()=>{i(),h.onComplete&&h.onComplete()}};if((0,ew.r)(h)||(w={...w,...eg(e,w)}),w.duration&&(w.duration=(0,s.w)(w.duration)),w.repeatDelay&&(w.repeatDelay=(0,s.w)(w.repeatDelay)),!y||!b||a.current||!1===h.type)return function({keyframes:e,delay:t,onUpdate:n,onComplete:r}){let i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:d.Z,pause:d.Z,stop:d.Z,then:e=>(e(),Promise.resolve()),cancel:d.Z,complete:d.Z});return t?ea({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}(a.current?{...w,delay:0}:w);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){let n=function(e,t,{onUpdate:n,onComplete:r,...i}){let o,a;if(!(el()&&ec.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;let h=!1,p=()=>{a=new Promise(e=>{o=e})};p();let{keyframes:f,duration:m=300,ease:g,times:v}=i;if(eu(t,i)){let e=ea({...i,repeat:0,delay:0}),t={done:!1,value:f[0]},n=[],r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;v=void 0,f=n,m=r-10,g="linear"}let y=function(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:d}={}){let h={[t]:n};d&&(h.offset=d);let p=function e(t){if(t)return l(t)?c(t):Array.isArray(t)?t.map(e):u[t]}(a);return Array.isArray(p)&&(h.easing=p),e.animate(h,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(e.owner.current,t,f,{...i,duration:m,ease:g,times:v});i.syncStart&&(y.startTime=er.frameData.isProcessing?er.frameData.timestamp:document.timeline?document.timeline.currentTime:performance.now());let b=()=>y.cancel(),w=()=>{er.Wi.update(b),o(),p()};return y.onfinish=()=>{e.set(function(e,{repeat:t,repeatType:n="loop"}){let r=t&&"loop"!==n&&t%2==1?0:e.length-1;return e[r]}(f,i)),r&&r(),w()},{then:(e,t)=>a.then(e,t),attachTimeline:e=>(y.timeline=e,y.onfinish=null,d.Z),get time(){return(0,s.X)(y.currentTime||0)},set time(newTime){y.currentTime=(0,s.w)(newTime)},get speed(){return y.playbackRate},set speed(newSpeed){y.playbackRate=newSpeed},get duration(){return(0,s.X)(m)},play:()=>{h||(y.play(),(0,er.Pn)(b))},pause:()=>y.pause(),stop:()=>{if(h=!0,"idle"===y.playState)return;let{currentTime:t}=y;if(t){let n=ea({...i,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}w()},complete:()=>y.finish(),cancel:w}}(t,e,w);if(n)return n}return ea(w)}},19209:function(e,t,n){"use strict";n.d(t,{d:function(){return p}});var r=n(12841),i=n(73442);let o="data-"+(0,n(18754).D)("framerAppearId");var s=n(46204),a=n(67397),l=n(61336),c=n(62972);function u(e,t,{delay:n=0,transitionOverride:r,type:u}={}){let{transition:d=e.getDefaultTransition(),transitionEnd:h,...p}=e.makeTargetAnimatable(t),f=e.getValue("willChange");r&&(d=r);let m=[],g=u&&e.animationState&&e.animationState.getState()[u];for(let t in p){let r=e.getValue(t),l=p[t];if(!r||void 0===l||g&&function({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}(g,t))continue;let u={delay:n,elapsed:0,...d};if(window.HandoffAppearAnimations&&!r.hasAnimated){let n=e.getProps()[o];n&&(u.elapsed=window.HandoffAppearAnimations(n,t,r,c.Wi),u.syncStart=!0)}r.start((0,s.v)(t,r,l,e.shouldReduceMotion&&i.G.has(t)?{type:!1}:u));let h=r.animation;(0,a.L)(f)&&(f.add(t),h.then(()=>f.remove(t))),m.push(h)}return h&&Promise.all(m).then(()=>{h&&(0,l.CD)(e,h)}),m}function d(e,t,n={}){let i=(0,r.x)(e,t,n.custom),{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);let s=i?()=>Promise.all(u(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(e,t,n=0,r=0,i=1,o){let s=[],a=(e.variantChildren.size-1)*r,l=1===i?(e=0)=>e*r:(e=0)=>a-e*r;return Array.from(e.variantChildren).sort(h).forEach((e,r)=>{e.notify("AnimationStart",t),s.push(d(e,t,{...o,delay:n+l(r)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(s)}(e,t,i+r,s,a,n)}:()=>Promise.resolve(),{when:l}=o;if(!l)return Promise.all([s(),a(n.delay)]);{let[e,t]="beforeChildren"===l?[s,a]:[a,s];return e().then(()=>t())}}function h(e,t){return e.sortNodePosition(t)}function p(e,t,n={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t))i=Promise.all(t.map(t=>d(e,t,n)));else if("string"==typeof t)i=d(e,t,n);else{let o="function"==typeof t?(0,r.x)(e,t,n.custom):t;i=Promise.all(u(e,o,n))}return i.then(()=>e.notify("AnimationComplete",t))}},55721:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});let r=e=>Array.isArray(e)},73172:function(e,t,n){"use strict";function r({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function i(e,t){return e[t]||e.default||e}n.d(t,{e:function(){return i},r:function(){return r}})},65239:function(e,t,n){"use strict";n.d(t,{M:function(){return g}});var r=n(2784),i=n(23617);function o(){let e=(0,r.useRef)(!1);return(0,i.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var s=n(62972),a=n(97967),l=n(3105);class c extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t}){let n=(0,r.useId)(),i=(0,r.useRef)(null),o=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{let{width:e,height:r,top:s,left:a}=o.current;if(t||!i.current||!e||!r)return;i.current.dataset.motionPopId=n;let l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${s}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),r.createElement(c,{isPresent:t,childRef:i,sizeRef:o},r.cloneElement(e,{ref:i}))}let d=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:s,mode:c})=>{let d=(0,l.h)(h),p=(0,r.useId)(),f=(0,r.useMemo)(()=>({id:p,initial:t,isPresent:n,custom:o,onExitComplete:e=>{for(let t of(d.set(e,!0),d.values()))if(!t)return;i&&i()},register:e=>(d.set(e,!1),()=>d.delete(e))}),s?void 0:[n]);return(0,r.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[n]),r.useEffect(()=>{n||d.size||!i||i()},[n]),"popLayout"===c&&(e=r.createElement(u,{isPresent:n},e)),r.createElement(a.O.Provider,{value:f},e)};function h(){return new Map}var p=n(3422),f=n(57035);let m=e=>e.key||"",g=({children:e,custom:t,initial:n=!0,onExitComplete:a,exitBeforeEnter:l,presenceAffectsLayout:c=!0,mode:u="sync"})=>{var h;(0,f.k)(!l,"Replace exitBeforeEnter with mode='wait'");let g=(0,r.useContext)(p.p).forceRender||function(){let e=o(),[t,n]=(0,r.useState)(0),i=(0,r.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,r.useCallback)(()=>s.Wi.postRender(i),[i]),t]}()[0],v=o(),y=function(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(e),b=y,w=(0,r.useRef)(new Map).current,_=(0,r.useRef)(b),C=(0,r.useRef)(new Map).current,x=(0,r.useRef)(!0);if((0,i.L)(()=>{x.current=!1,function(e,t){e.forEach(e=>{let n=m(e);t.set(n,e)})}(y,C),_.current=b}),h=()=>{x.current=!0,C.clear(),w.clear()},(0,r.useEffect)(()=>()=>h(),[]),x.current)return r.createElement(r.Fragment,null,b.map(e=>r.createElement(d,{key:m(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:c,mode:u},e)));b=[...b];let k=_.current.map(m),S=y.map(m),E=k.length;for(let e=0;e<E;e++){let t=k[e];-1!==S.indexOf(t)||w.has(t)||w.set(t,void 0)}return"wait"===u&&w.size&&(b=[]),w.forEach((e,n)=>{if(-1!==S.indexOf(n))return;let i=C.get(n);if(!i)return;let o=k.indexOf(n),s=e;s||(s=r.createElement(d,{key:m(i),isPresent:!1,onExitComplete:()=>{w.delete(n);let e=Array.from(C.keys()).filter(e=>!S.includes(e));if(e.forEach(e=>C.delete(e)),_.current=y.filter(t=>{let r=m(t);return r===n||e.includes(r)}),!w.size){if(!1===v.current)return;g(),a&&a()}},custom:t,presenceAffectsLayout:c,mode:u},i),w.set(n,s)),b.splice(o,0,s)}),b=b.map(e=>{let t=e.key;return w.has(t)?e:r.createElement(d,{key:m(e),isPresent:!0,presenceAffectsLayout:c,mode:u},e)}),r.createElement(r.Fragment,null,w.size?b:b.map(e=>(0,r.cloneElement)(e)))}},3422:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});let r=(0,n(2784).createContext)({})},97967:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});let r=(0,n(2784).createContext)(null)},41469:function(e,t,n){"use strict";n.d(t,{Bn:function(){return s},X7:function(){return a},Z7:function(){return o}});var r=n(17070),i=n(26574);let o=e=>1-Math.sin(Math.acos(e)),s=(0,i.M)(o),a=(0,r.o)(s)},17070:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});let r=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2},26574:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});let r=e=>t=>1-e(1-t)},62972:function(e,t,n){"use strict";n.d(t,{Pn:function(){return a},Wi:function(){return s},frameData:function(){return l},S6:function(){return c}});var r=n(50065);class i{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){let t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}let o=["prepare","read","update","preRender","render","postRender"],{schedule:s,cancel:a,state:l,steps:c}=function(e,t){let n=!1,r=!0,s={delta:0,timestamp:0,isProcessing:!1},a=o.reduce((e,t)=>(e[t]=function(e){let t=new i,n=new i,r=0,o=!1,s=!1,a=new WeakSet,l={schedule:(e,i=!1,s=!1)=>{let l=s&&o,c=l?t:n;return i&&a.add(e),c.add(e)&&l&&o&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:i=>{if(o){s=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length)for(let n=0;n<r;n++){let r=t.order[n];r(i),a.has(r)&&(l.schedule(r),e())}o=!1,s&&(s=!1,l.process(i))}};return l}(()=>n=!0),e),{}),l=e=>a[e].process(s),c=()=>{let i=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1),s.timestamp=i,s.isProcessing=!0,o.forEach(l),s.isProcessing=!1,n&&t&&(r=!1,e(c))},u=()=>{n=!0,r=!0,s.isProcessing||e(c)};return{schedule:o.reduce((e,t)=>{let r=a[t];return e[t]=(e,t=!1,i=!1)=>(n||u(),r.schedule(e,t,i)),e},{}),cancel:e=>o.forEach(t=>a[t].cancel(e)),state:s,steps:a}}("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:r.Z,!0)},57352:function(e,t,n){"use strict";n.d(t,{E:function(){return n6}});var r,i=n(2784);let o=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),s=(0,i.createContext)({});var a=n(97967),l=n(23617);let c=(0,i.createContext)({strict:!1});function u(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function d(e){return"string"==typeof e||Array.isArray(e)}function h(e){return"object"==typeof e&&"function"==typeof e.start}let p=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f=["initial",...p];function m(e){return h(e.animate)||f.some(t=>d(e[t]))}function g(e){return!!(m(e)||e.variants)}function v(e){return Array.isArray(e)?e.join(" "):e}let y={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},b={};for(let e in y)b[e]={isEnabled:t=>y[e].some(e=>!!t[e])};var w=n(33791),_=n(3422);let C=(0,i.createContext)({}),x=Symbol.for("motionComponentSymbol"),k=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S(e){if("string"!=typeof e||e.includes("-"));else if(k.indexOf(e)>-1||/[A-Z]/.test(e))return!0;return!1}let E={};var T=n(73442);function P(e,{layout:t,layoutId:n}){return T.G.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!E[e]||"opacity"===e)}var I=n(15815);let R={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O=T._.length;var A=n(91331);let N=(e,t)=>t&&"number"==typeof e?t.transform(e):e;var L=n(28073);function M(e,t,n,r){let{style:i,vars:o,transform:s,transformOrigin:a}=e,l=!1,c=!1,u=!0;for(let e in t){let n=t[e];if((0,A.f9)(e)){o[e]=n;continue}let r=L.j[e],d=N(n,r);if(T.G.has(e)){if(l=!0,s[e]=d,!u)continue;n!==(r.default||0)&&(u=!1)}else e.startsWith("origin")?(c=!0,a[e]=d):i[e]=d}if(!t.transform&&(l||r?i.transform=function(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let t=0;t<O;t++){let n=T._[t];if(void 0!==e[n]){let t=R[n]||n;o+=`${t}(${e[n]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){let{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin=`${e} ${t} ${n}`}}let D=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function j(e,t,n){for(let r in t)(0,I.i)(t[r])||P(r,n)||(e[r]=t[r])}let U=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function F(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||U.has(e)}let V=e=>!F(e);try{(r=require("@emotion/is-prop-valid").default)&&(V=e=>e.startsWith("on")?!F(e):r(e))}catch(e){}var B=n(88772);function z(e,t,n){return"string"==typeof e?e:B.px.transform(t+n*e)}let H={offset:"stroke-dashoffset",array:"stroke-dasharray"},q={offset:"strokeDashoffset",array:"strokeDasharray"};function K(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d,h){if(M(e,c,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:p,style:f,dimensions:m}=e;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==i||void 0!==o||f.transform)&&(f.transformOrigin=function(e,t,n){let r=z(t,e.x,e.width),i=z(n,e.y,e.height);return`${r} ${i}`}(m,void 0!==i?i:.5,void 0!==o?o:.5)),void 0!==t&&(p.x=t),void 0!==n&&(p.y=n),void 0!==r&&(p.scale=r),void 0!==s&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;let o=i?H:q;e[o.offset]=B.px.transform(-r);let s=B.px.transform(t),a=B.px.transform(n);e[o.array]=`${s} ${a}`}(p,s,a,l,!1)}let G=()=>({...D(),attrs:{}}),W=e=>"string"==typeof e&&"svg"===e.toLowerCase();var $=n(18754);function Z(e,{style:t,vars:n},r,i){for(let o in Object.assign(e.style,t,i&&i.getProjectionStyles(r)),n)e.style.setProperty(o,n[o])}let J=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y(e,t,n,r){for(let n in Z(e,t,void 0,r),t.attrs)e.setAttribute(J.has(n)?n:(0,$.D)(n),t.attrs[n])}function X(e,t){let{style:n}=e,r={};for(let i in n)((0,I.i)(n[i])||t.style&&(0,I.i)(t.style[i])||P(i,e))&&(r[i]=n[i]);return r}function Q(e,t){let n=X(e,t);for(let r in e)((0,I.i)(e[r])||(0,I.i)(t[r]))&&(n[-1!==T._.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return n}var ee=n(99764),et=n(3105),en=n(13809);function er(e){let t=(0,I.i)(e)?e.get():e;return(0,en.p)(t)?t.toValue():t}let ei=e=>(t,n)=>{let r=(0,i.useContext)(s),o=(0,i.useContext)(a.O),l=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){let s={latestValues:function(e,t,n,r){let i={},o=r(e,{});for(let e in o)i[e]=er(o[e]);let{initial:s,animate:a}=e,l=m(e),c=g(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial,d=(u=u||!1===s)?a:s;return d&&"boolean"!=typeof d&&!h(d)&&(Array.isArray(d)?d:[d]).forEach(t=>{let n=(0,ee.o)(e,t);if(!n)return;let{transitionEnd:r,transition:o,...s}=n;for(let e in s){let t=s[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}null!==t&&(i[e]=t)}for(let e in r)i[e]=r[e]}),i}(r,i,o,e),renderState:t()};return n&&(s.mount=e=>n(r,e,s)),s})(e,t,r,o);return n?l():(0,et.h)(l)};var eo=n(62972);let es={useVisualState:ei({scrapeMotionValuesFromProps:Q,createRenderState:G,onMount:(e,t,{renderState:n,latestValues:r})=>{eo.Wi.read(()=>{try{n.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){n.dimensions={x:0,y:0,width:0,height:0}}}),eo.Wi.render(()=>{K(n,r,{enableHardwareAcceleration:!1},W(t.tagName),e.transformTemplate),Y(t,n)})}})},ea={useVisualState:ei({scrapeMotionValuesFromProps:X,createRenderState:D})};function el(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}let ec=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function eu(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}let ed=e=>t=>ec(t)&&e(t,eu(t));function eh(e,t,n,r){return el(e,t,ed(n),r)}var ep=n(96953);function ef(e){let t=null;return()=>null===t&&(t=e,()=>{t=null})}let em=ef("dragHorizontal"),eg=ef("dragVertical");function ev(e){let t=!1;if("y"===e)t=eg();else if("x"===e)t=em();else{let e=em(),n=eg();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function ey(){let e=ev(!0);return!e||(e(),!1)}class eb{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ew(e,t){let n="onHover"+(t?"Start":"End");return eh(e.current,"pointer"+(t?"enter":"leave"),(r,i)=>{if("touch"===r.type||ey())return;let o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[n]&&eo.Wi.update(()=>o[n](r,i))},{passive:!e.getProps()[n]})}class e_ extends eb{mount(){this.unmount=(0,ep.z)(ew(this.node,!0),ew(this.node,!1))}unmount(){}}class eC extends eb{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=(0,ep.z)(el(this.node.current,"focus",()=>this.onFocus()),el(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}let ex=(e,t)=>!!t&&(e===t||ex(e,t.parentElement));var ek=n(50065);function eS(e,t){if(!t)return;let n=new PointerEvent("pointer"+e);t(n,eu(n))}class eE extends eb{constructor(){super(...arguments),this.removeStartListeners=ek.Z,this.removeEndListeners=ek.Z,this.removeAccessibleListeners=ek.Z,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;let n=this.node.getProps(),r=eh(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;let{onTap:n,onTapCancel:r}=this.node.getProps();eo.Wi.update(()=>{ex(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),i=eh(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=(0,ep.z)(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{let e=el(this.node.current,"keydown",e=>{"Enter"!==e.key||this.isPressing||(this.removeEndListeners(),this.removeEndListeners=el(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&eS("up",(e,t)=>{let{onTap:n}=this.node.getProps();n&&eo.Wi.update(()=>n(e,t))})}),eS("down",(e,t)=>{this.startPress(e,t)}))}),t=el(this.node.current,"blur",()=>{this.isPressing&&eS("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=(0,ep.z)(e,t)}}startPress(e,t){this.isPressing=!0;let{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&eo.Wi.update(()=>n(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ey()}cancelPress(e,t){if(!this.checkPressEnd())return;let{onTapCancel:n}=this.node.getProps();n&&eo.Wi.update(()=>n(e,t))}mount(){let e=this.node.getProps(),t=eh(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=el(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=(0,ep.z)(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}let eT=new WeakMap,eP=new WeakMap,eI=e=>{let t=eT.get(e.target);t&&t(e)},eR=e=>{e.forEach(eI)},eO={some:0,all:1};class eA extends eb{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:eO[r]};return function(e,t,n){let r=function({root:e,...t}){let n=e||document;eP.has(n)||eP.set(n,{});let r=eP.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(eR,{root:e,...t})),r[i]}(t);return eT.set(e,n),r.observe(e),()=>{eT.delete(e),r.unobserve(e)}}(this.node.current,o,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}var eN=n(55721);function eL(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var eM=n(12841),eD=n(19209);let ej=[...p].reverse(),eU=p.length;function eF(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}class eV extends eb{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:n})=>(0,eD.d)(e,t,n))),n={animate:eF(!0),whileInView:eF(),whileHover:eF(),whileTap:eF(),whileDrag:eF(),whileFocus:eF(),exit:eF()},r=!0,i=(t,n)=>{let r=(0,eM.x)(e,n);if(r){let{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function o(o,s){let a=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set,p={},f=1/0;for(let t=0;t<eU;t++){var m;let g=ej[t],v=n[g],y=void 0!==a[g]?a[g]:l[g],b=d(y),w=g===s?v.isActive:null;!1===w&&(f=t);let _=y===l[g]&&y!==a[g]&&b;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),v.protectedKeys={...p},!v.isActive&&null===w||!y&&!v.prevProp||h(y)||"boolean"==typeof y)continue;let C=(m=v.prevProp,"string"==typeof y?y!==m:!!Array.isArray(y)&&!eL(y,m)),x=C||g===s&&v.isActive&&!_&&b||t>f&&b,k=Array.isArray(y)?y:[y],S=k.reduce(i,{});!1===w&&(S={});let{prevResolvedValues:E={}}=v,T={...E,...S},P=e=>{x=!0,u.delete(e),v.needsAnimating[e]=!0};for(let e in T){let t=S[e],n=E[e];p.hasOwnProperty(e)||(t!==n?(0,eN.C)(t)&&(0,eN.C)(n)?!eL(t,n)||C?P(e):v.protectedKeys[e]=!0:void 0!==t?P(e):u.add(e):void 0!==t&&u.has(e)?P(e):v.protectedKeys[e]=!0)}v.prevProp=y,v.prevResolvedValues=S,v.isActive&&(p={...p,...S}),r&&e.blockInitialAnimation&&(x=!1),x&&!_&&c.push(...k.map(e=>({animation:e,options:{type:g,...o}})))}if(u.size){let t={};u.forEach(n=>{let r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let g=!!c.length;return r&&!1===a.initial&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(c):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;let a=o(i,t);for(let e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();this.unmount(),h(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let eB=0;class ez extends eb{constructor(){super(...arguments),this.id=eB++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let i=this.node.animationState.setActive("exit",!e,{custom:null!=n?n:this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){let{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}var eH=n(57035),eq=n(41429);let eK=(e,t)=>Math.abs(e-t);class eG{constructor(e,t,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=eZ(this.lastMoveEventInfo,this.history),r=null!==this.startEvent,i=(e=n.offset,t={x:0,y:0},Math.sqrt(eK(e.x,t.x)**2+eK(e.y,t.y)**2)>=3);if(!r&&!i)return;let{point:o}=n,{timestamp:s}=eo.frameData;this.history.push({...o,timestamp:s});let{onStart:a,onMove:l}=this.handlers;r||(a&&a(this.lastMoveEvent,n),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,n)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=eW(t,this.transformPagePoint),eo.Wi.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let{onEnd:n,onSessionEnd:r}=this.handlers,i=eZ("pointercancel"===e.type?this.lastMoveEventInfo:eW(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!ec(e))return;this.handlers=t,this.transformPagePoint=n;let r=eW(eu(e),this.transformPagePoint),{point:i}=r,{timestamp:o}=eo.frameData;this.history=[{...i,timestamp:o}];let{onSessionStart:s}=t;s&&s(e,eZ(r,this.history)),this.removeListeners=(0,ep.z)(eh(window,"pointermove",this.handlePointerMove),eh(window,"pointerup",this.handlePointerUp),eh(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),(0,eo.Pn)(this.updatePoint)}}function eW(e,t){return t?{point:t(e.point)}:e}function e$(e,t){return{x:e.x-t.x,y:e.y-t.y}}function eZ({point:e},t){return{point:e,delta:e$(e,eJ(t)),offset:e$(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=eJ(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>(0,eq.w)(.1)));)n--;if(!r)return{x:0,y:0};let o=(0,eq.X)(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};let s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(t,0)}}function eJ(e){return e[e.length-1]}var eY=n(17475),eX=n(65339);function eQ(e){return e.max-e.min}function e0(e,t=0,n=.01){return Math.abs(e-t)<=n}function e1(e,t,n,r=.5){e.origin=r,e.originPoint=(0,eX.C)(t.min,t.max,e.origin),e.scale=eQ(n)/eQ(t),(e0(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=(0,eX.C)(n.min,n.max,e.origin)-e.originPoint,(e0(e.translate)||isNaN(e.translate))&&(e.translate=0)}function e2(e,t,n,r){e1(e.x,t.x,n.x,r?r.originX:void 0),e1(e.y,t.y,n.y,r?r.originY:void 0)}function e3(e,t,n){e.min=n.min+t.min,e.max=e.min+eQ(t)}function e4(e,t,n){e.min=t.min-n.min,e.max=e.min+eQ(t)}function e5(e,t,n){e4(e.x,t.x,n.x),e4(e.y,t.y,n.y)}var e6=n(51366);function e8(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function e7(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function e9(e,t,n){return{min:te(e,t),max:te(e,n)}}function te(e,t){return"number"==typeof e?e:e[t]||0}let tt=()=>({translate:0,scale:1,origin:0,originPoint:0}),tn=()=>({x:tt(),y:tt()}),tr=()=>({min:0,max:0}),ti=()=>({x:tr(),y:tr()});function to(e){return[e("x"),e("y")]}function ts({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function ta(e){return void 0===e||1===e}function tl({scale:e,scaleX:t,scaleY:n}){return!ta(e)||!ta(t)||!ta(n)}function tc(e){return tl(e)||tu(e)||e.z||e.rotate||e.rotateX||e.rotateY}function tu(e){var t,n;return(t=e.x)&&"0%"!==t||(n=e.y)&&"0%"!==n}function td(e,t,n,r,i){return void 0!==i&&(e=r+i*(e-r)),r+n*(e-r)+t}function th(e,t=0,n=1,r,i){e.min=td(e.min,t,n,r,i),e.max=td(e.max,t,n,r,i)}function tp(e,{x:t,y:n}){th(e.x,t.translate,t.scale,t.originPoint),th(e.y,n.translate,n.scale,n.originPoint)}function tf(e){return Number.isInteger(e)?e:e>1.0000000000001||e<.999999999999?e:1}function tm(e,t){e.min=e.min+t,e.max=e.max+t}function tg(e,t,[n,r,i]){let o=void 0!==t[i]?t[i]:.5,s=(0,eX.C)(e.min,e.max,o);th(e,t[n],t[r],s,t.scale)}let tv=["x","scaleX","originX"],ty=["y","scaleY","originY"];function tb(e,t){tg(e.x,t,tv),tg(e.y,t,ty)}function tw(e,t){return ts(function(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var t_=n(46204);let tC=new WeakMap;class tx{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ti(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:n}=this.visualElement;n&&!1===n.isPresent||(this.panSession=new eG(e,{onSessionStart:e=>{this.stopAnimation(),t&&this.snapToCursor(eu(e,"page").point)},onStart:(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ev(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),to(e=>{let t=this.getAxisMotionValue(e).get()||0;if(B.aQ.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];if(r){let e=eQ(r);t=parseFloat(t)/100*e}}}this.originPoint[e]=t}),i&&eo.Wi.update(()=>i(e,t),!1,!0);let{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;let{offset:s}=t;if(r&&null===this.currentDirection){this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(s),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t)},{transformPagePoint:this.visualElement.getTransformPagePoint()}))}stop(e,t){let n=this.isDragging;if(this.cancel(),!n)return;let{velocity:r}=t;this.startAnimation(r);let{onDragEnd:i}=this.getProps();i&&eo.Wi.update(()=>i(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!tk(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?(0,eX.C)(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?(0,eX.C)(n,e,r.max):Math.min(e,n)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&u(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=function(e,{top:t,left:n,bottom:r,right:i}){return{x:e8(e.x,n,i),y:e8(e.y,t,r)}}(n.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:e9(e,"left","right"),y:e9(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&to(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!u(t))return!1;let r=t.current;(0,eH.k)(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let o=function(e,t,n){let r=tw(e,n),{scroll:i}=t;return i&&(tm(r.x,i.offset.x),tm(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),s={x:e7((e=i.layout.layoutBox).x,o.x),y:e7(e.y,o.y)};if(n){let e=n(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=ts(e))}return s}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{};return Promise.all(to(s=>{if(!tk(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});let c={type:"inertia",velocity:n?e[s]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,c)})).then(s)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return n.start((0,t_.v)(e,n,0,t))}stopAnimation(){to(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let t="_drag"+e.toUpperCase(),n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){to(t=>{let{drag:n}=this.getProps();if(!tk(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-(0,eX.C)(n,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!u(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};to(e=>{let t=this.getAxisMotionValue(e);if(t){let n=t.get();r[e]=function(e,t){let n=.5,r=eQ(e),i=eQ(t);return i>r?n=(0,eY.Y)(t.min,t.max-r,e.min):r>i&&(n=(0,eY.Y)(e.min,e.max-i,t.min)),(0,e6.u)(0,1,n)}({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),to(t=>{if(!tk(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set((0,eX.C)(i,o,r[t]))})}addListeners(){if(!this.visualElement.current)return;tC.set(this.visualElement,this);let e=eh(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();u(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();let i=el(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(to(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),o&&o()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=.35,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function tk(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}class tS extends eb{constructor(e){super(e),this.removeGroupControls=ek.Z,this.removeListeners=ek.Z,this.controls=new tx(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ek.Z}unmount(){this.removeGroupControls(),this.removeListeners()}}let tE=e=>(t,n)=>{e&&eo.Wi.update(()=>e(t,n))};class tT extends eb{constructor(){super(...arguments),this.removePointerDownListener=ek.Z}onPointerDown(e){this.session=new eG(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:tE(e),onStart:tE(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&eo.Wi.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=eh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let tP={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let tR={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!B.px.test(e))return e;e=parseFloat(e)}let n=tI(e,t.target.x),r=tI(e,t.target.y);return`${n}% ${r}%`}};var tO=n(76865);class tA extends i.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;Object.assign(E,tL),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),tP.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent===i||(i?o.promote():o.relegate()||eo.Wi.postRender(()=>{let e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tN(e){let[t,n]=function(){let e=(0,i.useContext)(a.O);if(null===e)return[!0,null];let{isPresent:t,onExitComplete:n,register:r}=e,o=(0,i.useId)();return(0,i.useEffect)(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}(),r=(0,i.useContext)(_.p);return i.createElement(tA,{...e,layoutGroup:r,switchLayoutGroup:(0,i.useContext)(C),isPresent:t,safeToRemove:n})}let tL={borderRadius:{...tR,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tR,borderTopRightRadius:tR,borderBottomLeftRadius:tR,borderBottomRightRadius:tR,boxShadow:{correct:(e,{treeScale:t,projectionDelta:n})=>{let r=tO.P.parse(e);if(r.length>5)return e;let i=tO.P.createTransformer(e),o="number"!=typeof r[0]?1:0,s=n.x.scale*t.x,a=n.y.scale*t.y;r[0+o]/=s,r[1+o]/=a;let l=(0,eX.C)(s,a,.5);return"number"==typeof r[2+o]&&(r[2+o]/=l),"number"==typeof r[3+o]&&(r[3+o]/=l),i(r)}}};var tM=n(88069),tD=n(41469);let tj=["TopLeft","TopRight","BottomLeft","BottomRight"],tU=tj.length,tF=e=>"string"==typeof e?parseFloat(e):e,tV=e=>"number"==typeof e||B.px.test(e);function tB(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let tz=tq(0,.5,tD.Bn),tH=tq(.5,.95,ek.Z);function tq(e,t,n){return r=>r<e?0:r>t?1:n((0,eY.Y)(e,t,r))}function tK(e,t){e.min=t.min,e.max=t.max}function tG(e,t){tK(e.x,t.x),tK(e.y,t.y)}function tW(e,t,n,r,i){return e-=t,e=r+1/n*(e-r),void 0!==i&&(e=r+1/i*(e-r)),e}function t$(e,t,[n,r,i],o,s){!function(e,t=0,n=1,r=.5,i,o=e,s=e){if(B.aQ.test(t)&&(t=parseFloat(t),t=(0,eX.C)(s.min,s.max,t/100)-s.min),"number"!=typeof t)return;let a=(0,eX.C)(o.min,o.max,r);e===o&&(a-=t),e.min=tW(e.min,t,n,a,i),e.max=tW(e.max,t,n,a,i)}(e,t[n],t[r],t[i],t.scale,o,s)}let tZ=["x","scaleX","originX"],tJ=["y","scaleY","originY"];function tY(e,t,n,r){t$(e.x,t,tZ,n?n.x:void 0,r?r.x:void 0),t$(e.y,t,tJ,n?n.y:void 0,r?r.y:void 0)}var tX=n(73172);function tQ(e){return 0===e.translate&&1===e.scale}function t0(e){return tQ(e.x)&&tQ(e.y)}function t1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function t2(e){return eQ(e.x)/eQ(e.y)}var t3=n(44866);class t4{constructor(){this.members=[]}add(e){(0,t3.y4)(this.members,e),e.scheduleRender()}remove(e){if((0,t3.cl)(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let n=this.members.findIndex(t=>e===t);if(0===n)return!1;for(let e=n;e>=0;e--){let n=this.members[e];if(!1!==n.isPresent){t=n;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t5(e,t,n){let r="",i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(1!==t.x||1!==t.y)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}let s=e.x.scale*t.x,a=e.y.scale*t.y;return(1!==s||1!==a)&&(r+=`scale(${s}, ${a})`),r||"none"}let t6=(e,t)=>e.depth-t.depth;class t8{constructor(){this.children=[],this.isDirty=!1}add(e){(0,t3.y4)(this.children,e),this.isDirty=!0}remove(e){(0,t3.cl)(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(t6),this.isDirty=!1,this.children.forEach(e)}}var t7=n(40226);let t9=["","X","Y","Z"],ne=0,nt={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function nn({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=null==t?void 0:t()){this.id=ne++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{nt.totalNodes=nt.resolvedTargetDeltas=nt.recalculatedProjection=0,this.nodes.forEach(no),this.nodes.forEach(nh),this.nodes.forEach(np),this.nodes.forEach(ns),window.MotionDebug&&window.MotionDebug.record(nt)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new t8)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new tM.L),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||r)&&(this.isLayoutDirty=!0),e){let n;let r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){let n=performance.now(),r=({timestamp:t})=>{let i=t-n;i>=250&&((0,eo.Pn)(r),e(i-250))};return eo.Wi.read(r,!0),()=>(0,eo.Pn)(r)}(r,0),tP.hasAnimatedSinceResize&&(tP.hasAnimatedSinceResize=!1,this.nodes.forEach(nd))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||o.getDefaultTransition()||nb,{onLayoutAnimationStart:s,onLayoutAnimationComplete:a}=o.getProps(),l=!this.targetLayout||!t1(this.targetLayout,r)||n,c=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);let t={...(0,tX.e)(i,"layout"),onPlay:s,onComplete:a};(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||nd(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,(0,eo.Pn)(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nf),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nl);return}this.isUpdating||this.nodes.forEach(nc),this.isUpdating=!1,this.nodes.forEach(nu),this.nodes.forEach(nr),this.nodes.forEach(ni),this.clearAllSnapshots();let e=performance.now();eo.frameData.delta=(0,e6.u)(0,1e3/60,e-eo.frameData.timestamp),eo.frameData.timestamp=e,eo.frameData.isProcessing=!0,eo.S6.update.process(eo.frameData),eo.S6.preRender.process(eo.frameData),eo.S6.render.process(eo.frameData),eo.frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(na),this.sharedNodes.forEach(nm)}scheduleUpdateProjection(){eo.Wi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){eo.Wi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ti(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!t0(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&(t||tc(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let n=this.measurePageBox(),r=this.removeElementScroll(n);return e&&(r=this.removeTransform(r)),nC((t=r).x),nC(t.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return ti();let t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(tm(t.x,n.offset.x),tm(t.y,n.offset.y)),t}removeElementScroll(e){let t=ti();tG(t,e);for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){tG(t,e);let{scroll:n}=this.root;n&&(tm(t.x,-n.offset.x),tm(t.y,-n.offset.y))}tm(t.x,i.offset.x),tm(t.y,i.offset.y)}}return t}applyTransform(e,t=!1){let n=ti();tG(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&tb(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),tc(r.latestValues)&&tb(n,r.latestValues)}return tc(this.latestValues)&&tb(n,this.latestValues),n}removeTransform(e){let t=ti();tG(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!tc(n.latestValues))continue;tl(n.latestValues)&&n.updateSnapshot();let r=ti();tG(r,n.measurePageBox()),tY(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return tc(this.latestValues)&&tY(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==eo.frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t,n,r,i;let o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);let s=!!this.resumingFrom||this!==o;if(!(e||s&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;let{layout:a,layoutId:l}=this.options;if(this.layout&&(a||l)){if(this.resolvedRelativeTargetAt=eo.frameData.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ti(),this.relativeTargetOrigin=ti(),e5(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),tG(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=ti(),this.targetWithTransforms=ti()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),n=this.target,r=this.relativeTarget,i=this.relativeParent.target,e3(n.x,r.x,i.x),e3(n.y,r.y,i.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tG(this.target,this.layout.layoutBox),tp(this.target,this.targetDelta)):tG(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ti(),this.relativeTargetOrigin=ti(),e5(this.relativeTargetOrigin,this.target,e.target),tG(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nt.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||tl(this.parent.latestValues)||tu(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let t=this.getLead(),n=!!this.resumingFrom||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===eo.frameData.timestamp&&(r=!1),r)return;let{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||o))return;tG(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n,r=!1){let i,o;let s=n.length;if(s){t.x=t.y=1;for(let a=0;a<s;a++){o=(i=n[a]).projectionDelta;let s=i.instance;(!s||!s.style||"contents"!==s.style.display)&&(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&tb(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,tp(e,o)),r&&tc(i.latestValues)&&tb(e,i.latestValues))}t.x=tf(t.x),t.y=tf(t.y)}}(this.layoutCorrected,this.treeScale,this.path,n),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox);let{target:l}=t;if(!l){this.projectionTransform&&(this.projectionDelta=tn(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=tn(),this.projectionDeltaWithTransform=tn());let c=this.projectionTransform;e2(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=t5(this.projectionDelta,this.treeScale),(this.projectionTransform!==c||this.treeScale.x!==s||this.treeScale.y!==a)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),nt.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,t=!1){let n;let r=this.snapshot,i=r?r.latestValues:{},o={...this.latestValues},s=tn();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let a=ti(),l=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,d=!!(l&&!u&&!0===this.options.crossfade&&!this.path.some(ny));this.animationProgress=0,this.mixTargetDelta=t=>{let r=t/1e3;if(ng(s.x,e.x,r),ng(s.y,e.y,r),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var c,h,p,f;e5(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,nv(p.x,f.x,a.x,r),nv(p.y,f.y,a.y,r),n&&(c=this.relativeTarget,h=n,c.x.min===h.x.min&&c.x.max===h.x.max&&c.y.min===h.y.min&&c.y.max===h.y.max)&&(this.isProjectionDirty=!1),n||(n=ti()),tG(n,this.relativeTarget)}l&&(this.animationValues=o,function(e,t,n,r,i,o){i?(e.opacity=(0,eX.C)(0,void 0!==n.opacity?n.opacity:1,tz(r)),e.opacityExit=(0,eX.C)(void 0!==t.opacity?t.opacity:1,0,tH(r))):o&&(e.opacity=(0,eX.C)(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<tU;i++){let o=`border${tj[i]}Radius`,s=tB(t,o),a=tB(n,o);(void 0!==s||void 0!==a)&&(s||(s=0),a||(a=0),0===s||0===a||tV(s)===tV(a)?(e[o]=Math.max((0,eX.C)(tF(s),tF(a),r),0),(B.aQ.test(a)||B.aQ.test(s))&&(e[o]+="%")):e[o]=a)}(t.rotate||n.rotate)&&(e.rotate=(0,eX.C)(t.rotate||0,n.rotate||0,r))}(o,i,this.latestValues,r,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&((0,eo.Pn)(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eo.Wi.update(()=>{tP.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){let r=(0,I.i)(0)?0:(0,t7.BX)(0);return r.start((0,t_.v)("",r,1e3,n)),r.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&nx(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||ti();let t=eQ(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=eQ(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}tG(t,n),tb(t,i),e2(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new t4),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;let r={};for(let t=0;t<t9.length;t++){let i="rotate"+t9[t];n[i]&&(r[i]=n[i],e.setStaticValue(i,0))}for(let t in e.render(),r)e.setStaticValue(t,r[t]);e.scheduleRender()}getProjectionStyles(e={}){var t,n;let r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";let i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=er(e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;let o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=er(e.pointerEvents)||""),this.hasProjected&&!tc(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}let s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=t5(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));let{x:a,y:l}=this.projectionDelta;for(let e in r.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,E){if(void 0===s[e])continue;let{correct:t,applyTo:n}=E[e],i="none"===r.transform?s[e]:t(s[e],o);if(n){let e=n.length;for(let t=0;t<e;t++)r[n[t]]=i}else r[e]=i}return this.options.layoutId&&(r.pointerEvents=o===this?er(e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(nl),this.root.sharedNodes.clear()}}}function nr(e){e.updateLayout()}function ni(e){var t;let n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?to(e=>{let r=o?n.measuredBox[e]:n.layoutBox[e],i=eQ(r);r.min=t[e].min,r.max=r.min+i}):nx(i,n.layoutBox,t)&&to(r=>{let i=o?n.measuredBox[r]:n.layoutBox[r],s=eQ(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});let s=tn();e2(s,t,n.layoutBox);let a=tn();o?e2(a,e.applyTransform(r,!0),n.measuredBox):e2(a,t,n.layoutBox);let l=!t0(s),c=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:o}=r;if(i&&o){let s=ti();e5(s,n.layoutBox,i.layoutBox);let a=ti();e5(a,t,o.layoutBox),t1(s,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function no(e){nt.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ns(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function na(e){e.clearSnapshot()}function nl(e){e.clearMeasurements()}function nc(e){e.isLayoutDirty=!1}function nu(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nd(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nh(e){e.resolveTargetDelta()}function np(e){e.calcProjection()}function nf(e){e.resetRotation()}function nm(e){e.removeLeadSnapshot()}function ng(e,t,n){e.translate=(0,eX.C)(t.translate,0,n),e.scale=(0,eX.C)(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function nv(e,t,n,r){e.min=(0,eX.C)(t.min,n.min,r),e.max=(0,eX.C)(t.max,n.max,r)}function ny(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let nb={duration:.45,ease:[.4,0,.1,1]},nw=e=>"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().includes(e),n_=nw("applewebkit/")&&!nw("chrome/")?Math.round:ek.Z;function nC(e){e.min=n_(e.min),e.max=n_(e.max)}function nx(e,t,n){return"position"===e||"preserve-aspect"===e&&!e0(t2(t),t2(n),.2)}let nk=nn({attachResizeListener:(e,t)=>el(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nS={current:void 0},nE=nn({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nS.current){let e=new nk({});e.mount(window),e.setOptions({layoutScroll:!0}),nS.current=e}return nS.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});var nT=n(88434),nP=n(61336),nI=n(51377);let nR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function nO(e,t,n=1){(0,eH.k)(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[r,i]=function(e){let t=nR.exec(e);if(!t)return[,];let[,n,r]=t;return[n,r]}(e);if(!r)return;let o=window.getComputedStyle(t).getPropertyValue(r);if(o){let e=o.trim();return(0,nI.P)(e)?parseFloat(e):e}return(0,A.tm)(i)?nO(i,t,n+1):i}var nA=n(62289),nN=n(30397);let nL=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),nM=e=>nL.has(e),nD=e=>Object.keys(e).some(nM),nj=e=>e===nN.Rx||e===B.px,nU=(e,t)=>parseFloat(e.split(", ")[t]),nF=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;let i=r.match(/^matrix3d\((.+)\)$/);if(i)return nU(i[1],t);{let t=r.match(/^matrix\((.+)\)$/);return t?nU(t[1],e):0}},nV=new Set(["x","y","z"]),nB=T._.filter(e=>!nV.has(e)),nz={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:nF(4,13),y:nF(5,14)};nz.translateX=nz.x,nz.translateY=nz.y;let nH=(e,t,n)=>{let r=t.measureViewportBox(),i=getComputedStyle(t.current),{display:o}=i,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{s[e]=nz[e](r,i)}),t.render();let a=t.measureViewportBox();return n.forEach(n=>{let r=t.getValue(n);r&&r.jump(s[n]),e[n]=nz[n](a,i)}),e},nq=(e,t,n={},r={})=>{t={...t},r={...r};let i=Object.keys(t).filter(nM),o=[],s=!1,a=[];if(i.forEach(i=>{let l;let c=e.getValue(i);if(!e.hasValue(i))return;let u=n[i],d=(0,nA.C)(u),h=t[i];if((0,eN.C)(h)){let e=h.length,t=null===h[0]?1:0;u=h[t],d=(0,nA.C)(u);for(let n=t;n<e&&null!==h[n];n++)l?(0,eH.k)((0,nA.C)(h[n])===l,"All keyframes must be of the same type"):(l=(0,nA.C)(h[n]),(0,eH.k)(l===d||nj(d)&&nj(l),"Keyframes must be of the same dimension as the current value"))}else l=(0,nA.C)(h);if(d!==l){if(nj(d)&&nj(l)){let e=c.get();"string"==typeof e&&c.set(parseFloat(e)),"string"==typeof h?t[i]=parseFloat(h):Array.isArray(h)&&l===B.px&&(t[i]=h.map(parseFloat))}else(null==d?void 0:d.transform)&&(null==l?void 0:l.transform)&&(0===u||0===h)?0===u?c.set(l.transform(u)):t[i]=d.transform(h):(s||(o=function(e){let t=[];return nB.forEach(n=>{let r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),s=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],c.jump(h))}}),!a.length)return{target:t,transitionEnd:r};{let n=a.indexOf("height")>=0?window.pageYOffset:null,i=nH(t,e,a);return o.length&&o.forEach(([t,n])=>{e.getValue(t).set(n)}),e.render(),w.j&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}},nK=(e,t,n,r)=>{var i,o;let s=function(e,{...t},n){let r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};for(let i in n&&(n={...n}),e.values.forEach(e=>{let t=e.get();if(!(0,A.tm)(t))return;let n=nO(t,r);n&&e.set(n)}),t){let e=t[i];if(!(0,A.tm)(e))continue;let o=nO(e,r);o&&(t[i]=o,n||(n={}),void 0===n[i]&&(n[i]=e))}return{target:t,transitionEnd:n}}(e,t,r);return t=s.target,r=s.transitionEnd,i=t,o=r,nD(i)?nq(e,i,n,o):{target:i,transitionEnd:o}},nG={current:null},nW={current:!1};var n$=n(67397);let nZ=new WeakMap,nJ=Object.keys(b),nY=nJ.length,nX=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nQ=f.length;class n0{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>eo.Wi.render(this.render,!1,!0);let{latestValues:s,renderState:a}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=a,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=m(t),this.isVariantNode=g(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:l,...c}=this.scrapeMotionValuesFromProps(t,{});for(let e in c){let t=c[e];void 0!==s[e]&&(0,I.i)(t)&&(t.set(s[e],!1),(0,n$.L)(l)&&l.add(e))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,nZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),nW.current||function(){if(nW.current=!0,w.j){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nG.current=e.matches;e.addListener(t),t()}else nG.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||nG.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in nZ.delete(this.current),this.projection&&this.projection.unmount(),(0,eo.Pn)(this.notifyUpdate),(0,eo.Pn)(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){let n=T.G.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&eo.Wi.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures({children:e,...t},n,r,i){let o,s;for(let e=0;e<nY;e++){let n=nJ[e],{isEnabled:r,Feature:i,ProjectionNode:a,MeasureLayout:l}=b[n];a&&(o=a),r(t)&&(!this.features[n]&&i&&(this.features[n]=new i(this)),l&&(s=l))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);let{layoutId:e,layout:n,drag:r,dragConstraints:s,layoutScroll:a,layoutRoot:l}=t;this.projection.setOptions({layoutId:e,layout:n,alwaysMeasureLayout:!!r||s&&u(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:i,layoutScroll:a,layoutRoot:l})}return s}updateFeatures(){for(let e in this.features){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ti()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<nX.length;t++){let n=nX[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=e["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(e,t,n){let{willChange:r}=t;for(let i in t){let o=t[i],s=n[i];if((0,I.i)(o))e.addValue(i,o),(0,n$.L)(r)&&r.add(i);else if((0,I.i)(s))e.addValue(i,(0,t7.BX)(o,{owner:e})),(0,n$.L)(r)&&r.remove(i);else if(s!==o){if(e.hasValue(i)){let t=e.getValue(i);t.hasAnimated||t.set(o)}else{let t=e.getStaticValue(i);e.addValue(i,(0,t7.BX)(void 0!==t?t:o,{owner:e}))}}}for(let r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){let e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}let t={};for(let e=0;e<nQ;e++){let n=f[e],r=this.props[n];(d(r)||!1===r)&&(t[n]=r)}return t}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=(0,t7.BX)(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;let{initial:n}=this.props,r="string"==typeof n||"object"==typeof n?null===(t=(0,ee.o)(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||(0,I.i)(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new tM.L),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class n1 extends n0{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},i){let o=(0,nP.P$)(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),o&&(o=r(o))),i){(0,nP.GJ)(this,n,o);let e=nK(this,n,o,t);t=e.transitionEnd,n=e.target}return{transition:e,transitionEnd:t,...n}}}class n2 extends n1{readValueFromInstance(e,t){if(T.G.has(t)){let e=(0,nT.A)(t);return e&&e.default||0}{let n=window.getComputedStyle(e),r=((0,A.f9)(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return tw(e,t)}build(e,t,n,r){M(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return X(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;(0,I.i)(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}renderInstance(e,t,n,r){Z(e,t,n,r)}}class n3 extends n1{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(T.G.has(t)){let e=(0,nT.A)(t);return e&&e.default||0}return t=J.has(t)?t:(0,$.D)(t),e.getAttribute(t)}measureInstanceViewportBox(){return ti()}scrapeMotionValuesFromProps(e,t){return Q(e,t)}build(e,t,n,r){K(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Y(e,t,n,r)}mount(e){this.isSVGTag=W(e.tagName),super.mount(e)}}let n4=(e,t)=>S(e)?new n3(t,{enableHardwareAcceleration:!1}):new n2(t,{enableHardwareAcceleration:!0}),n5={animation:{Feature:eV},exit:{Feature:ez},inView:{Feature:eA},tap:{Feature:eE},focus:{Feature:eC},hover:{Feature:e_},pan:{Feature:tT},drag:{Feature:tS,ProjectionNode:nE,MeasureLayout:tN},layout:{ProjectionNode:nE,MeasureLayout:tN}},n6=function(e){function t(t,n={}){return function({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:h}){e&&function(e){for(let t in e)b[t]={...b[t],...e[t]}}(e);let p=(0,i.forwardRef)(function(p,f){var g;let y;let b={...(0,i.useContext)(o),...p,layoutId:function({layoutId:e}){let t=(0,i.useContext)(_.p).id;return t&&void 0!==e?t+"-"+e:e}(p)},{isStatic:x}=b,k=function(e){let{initial:t,animate:n}=function(e,t){if(m(e)){let{initial:t,animate:n}=e;return{initial:!1===t||d(t)?t:void 0,animate:d(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(s));return(0,i.useMemo)(()=>({initial:t,animate:n}),[v(t),v(n)])}(p),S=r(p,x);if(!x&&w.j){k.visualElement=function(e,t,n,r){let{visualElement:u}=(0,i.useContext)(s),d=(0,i.useContext)(c),h=(0,i.useContext)(a.O),p=(0,i.useContext)(o).reducedMotion,f=(0,i.useRef)();r=r||d.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:u,props:n,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:p}));let m=f.current;(0,i.useInsertionEffect)(()=>{m&&m.update(n,h)});let g=(0,i.useRef)(!!window.HandoffAppearAnimations);return(0,l.L)(()=>{m&&(m.render(),g.current&&m.animationState&&m.animationState.animateChanges())}),(0,i.useEffect)(()=>{m&&(m.updateFeatures(),!g.current&&m.animationState&&m.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,g.current=!1)}),m}(h,S,b,t);let n=(0,i.useContext)(C),r=(0,i.useContext)(c).strict;k.visualElement&&(y=k.visualElement.loadFeatures(b,r,e,n))}return i.createElement(s.Provider,{value:k},y&&k.visualElement?i.createElement(y,{visualElement:k.visualElement,...b}):null,n(h,p,(g=k.visualElement,(0,i.useCallback)(e=>{e&&S.mount&&S.mount(e),g&&(e?g.mount(e):g.unmount()),f&&("function"==typeof f?f(e):u(f)&&(f.current=e))},[g])),S,x,k.visualElement))});return p[x]=h,p}(e(t,n))}if("undefined"==typeof Proxy)return t;let n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}((e,t)=>(function(e,{forwardMotionProps:t=!1},n,r){return{...S(e)?es:ea,preloadedFeatures:n,useRender:function(e=!1){return(t,n,r,{latestValues:o},s)=>{let a=(S(t)?function(e,t,n,r){let o=(0,i.useMemo)(()=>{let n=G();return K(n,t,{enableHardwareAcceleration:!1},W(r),e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};j(t,e.style,e),o.style={...t,...o.style}}return o}:function(e,t,n){let r={},o=function(e,t,n){let r=e.style||{},o={};return j(o,r,e),Object.assign(o,function({transformTemplate:e},t,n){return(0,i.useMemo)(()=>{let r=D();return M(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(o):o}(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r})(n,o,s,t),l={...function(e,t,n){let r={};for(let i in e)("values"!==i||"object"!=typeof e.values)&&(V(i)||!0===n&&F(i)||!t&&!F(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),...a,ref:r},{children:c}=n,u=(0,i.useMemo)(()=>(0,I.i)(c)?c.get():c,[c]);return(0,i.createElement)(t,{...l,children:u})}}(t),createVisualElement:r,Component:e}})(e,t,n5,n4))},18754:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});let r=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},91331:function(e,t,n){"use strict";n.d(t,{Xp:function(){return s},f9:function(){return i},tm:function(){return o}});let r=e=>t=>"string"==typeof t&&t.startsWith(e),i=r("--"),o=r("var(--"),s=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g},91564:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(76865),i=n(73764),o=n(88434);function s(e,t){let n=(0,o.A)(e);return n!==i.h&&(n=r.P),n.getAnimatableNone?n.getAnimatableNone(t):void 0}},88434:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(45982),i=n(73764);let o={...n(28073).j,color:r.$,backgroundColor:r.$,outlineColor:r.$,fill:r.$,stroke:r.$,borderColor:r.$,borderTopColor:r.$,borderRightColor:r.$,borderBottomColor:r.$,borderLeftColor:r.$,filter:i.h,WebkitFilter:i.h},s=e=>o[e]},62289:function(e,t,n){"use strict";n.d(t,{$:function(){return s},C:function(){return a}});var r=n(30397),i=n(88772),o=n(13624);let s=[r.Rx,i.px,i.aQ,i.RW,i.vw,i.vh,{test:e=>"auto"===e,parse:e=>e}],a=e=>s.find((0,o.l)(e))},28073:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(30397),i=n(88772);let o={...r.Rx,transform:Math.round},s={borderWidth:i.px,borderTopWidth:i.px,borderRightWidth:i.px,borderBottomWidth:i.px,borderLeftWidth:i.px,borderRadius:i.px,radius:i.px,borderTopLeftRadius:i.px,borderTopRightRadius:i.px,borderBottomRightRadius:i.px,borderBottomLeftRadius:i.px,width:i.px,maxWidth:i.px,height:i.px,maxHeight:i.px,size:i.px,top:i.px,right:i.px,bottom:i.px,left:i.px,padding:i.px,paddingTop:i.px,paddingRight:i.px,paddingBottom:i.px,paddingLeft:i.px,margin:i.px,marginTop:i.px,marginRight:i.px,marginBottom:i.px,marginLeft:i.px,rotate:i.RW,rotateX:i.RW,rotateY:i.RW,rotateZ:i.RW,scale:r.bA,scaleX:r.bA,scaleY:r.bA,scaleZ:r.bA,skew:i.RW,skewX:i.RW,skewY:i.RW,distance:i.px,translateX:i.px,translateY:i.px,translateZ:i.px,x:i.px,y:i.px,z:i.px,perspective:i.px,transformPerspective:i.px,opacity:r.Fq,originX:i.$C,originY:i.$C,originZ:i.px,zIndex:o,fillOpacity:r.Fq,strokeOpacity:r.Fq,numOctaves:o}},13624:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});let r=e=>t=>t.test(e)},73442:function(e,t,n){"use strict";n.d(t,{G:function(){return i},_:function(){return r}});let r=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],i=new Set(r)},12841:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(99764);function i(e,t,n){let i=e.getProps();return(0,r.o)(i,t,void 0!==n?n:i.custom,function(e){let t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){let t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}},99764:function(e,t,n){"use strict";function r(e,t,n,r={},i={}){return"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}n.d(t,{o:function(){return r}})},61336:function(e,t,n){"use strict";n.d(t,{GJ:function(){return y},P$:function(){return b},CD:function(){return m},gg:function(){return v}});var r=n(51377),i=n(54561),o=n(13809),s=n(40226),a=n(76865),l=n(91564),c=n(45982),u=n(62289),d=n(13624);let h=[...u.$,c.$,a.P],p=e=>h.find((0,d.l)(e));var f=n(12841);function m(e,t){let n=(0,f.x)(e,t),{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};for(let t in a={...a,...r}){let n=(0,o.Y)(a[t]);e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,(0,s.BX)(n))}}function g(e,t){[...t].reverse().forEach(n=>{let r=e.getVariant(n);r&&m(e,r),e.variantChildren&&e.variantChildren.forEach(e=>{g(e,t)})})}function v(e,t){return Array.isArray(t)?g(e,t):"string"==typeof t?g(e,[t]):void m(e,t)}function y(e,t,n){var o,c;let u=Object.keys(t).filter(t=>!e.hasValue(t)),d=u.length;if(d)for(let h=0;h<d;h++){let d=u[h],f=t[d],m=null;Array.isArray(f)&&(m=f[0]),null===m&&(m=null!==(c=null!==(o=n[d])&&void 0!==o?o:e.readValue(d))&&void 0!==c?c:t[d]),null!=m&&("string"==typeof m&&((0,r.P)(m)||(0,i.W)(m))?m=parseFloat(m):!p(m)&&a.P.test(f)&&(m=(0,l.T)(d,f)),e.addValue(d,(0,s.BX)(m,{owner:e})),void 0===n[d]&&(n[d]=m),null!==m&&e.setBaseTarget(d,m))}}function b(e,t,n){let r={};for(let i in e){let e=function(e,t){if(t)return(t[e]||t.default||t).from}(i,t);if(void 0!==e)r[i]=e;else{let e=n.getValue(i);e&&(r[i]=e.get())}}return r}},44866:function(e,t,n){"use strict";function r(e,t){-1===e.indexOf(t)&&e.push(t)}function i(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}n.d(t,{cl:function(){return i},y4:function(){return r}})},51366:function(e,t,n){"use strict";n.d(t,{u:function(){return r}});let r=(e,t,n)=>Math.min(Math.max(n,e),t)},57035:function(e,t,n){"use strict";n.d(t,{K:function(){return i},k:function(){return o}});var r=n(50065);let i=r.Z,o=r.Z},33791:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});let r="undefined"!=typeof document},51377:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});let r=e=>/^\-?\d*\.?\d+$/.test(e)},54561:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});let r=e=>/^0[^.\s]+$/.test(e)},65339:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});let r=(e,t,n)=>-n*e+n*t+e},50065:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=e=>e},96953:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});let r=(e,t)=>n=>t(e(n)),i=(...e)=>e.reduce(r)},17475:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});let r=(e,t,n)=>{let r=t-e;return 0===r?1:(n-e)/r}},13809:function(e,t,n){"use strict";n.d(t,{Y:function(){return o},p:function(){return i}});var r=n(55721);let i=e=>!!(e&&"object"==typeof e&&e.mix&&e.toValue),o=e=>(0,r.C)(e)?e[e.length-1]||0:e},88069:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(44866);class i{constructor(){this.subscriptions=[]}add(e){return(0,r.y4)(this.subscriptions,e),()=>(0,r.cl)(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}},41429:function(e,t,n){"use strict";n.d(t,{X:function(){return i},w:function(){return r}});let r=e=>1e3*e,i=e=>e/1e3},3105:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(2784);function i(e){let t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},23617:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(2784);let i=n(33791).j?r.useLayoutEffect:r.useEffect},75394:function(e,t,n){"use strict";function r(e,t){return t?1e3/t*e:0}n.d(t,{R:function(){return r}})},40226:function(e,t,n){"use strict";n.d(t,{BX:function(){return c}});var r=n(88069),i=n(75394),o=n(62972);let s=e=>!isNaN(parseFloat(e)),a={current:void 0};class l{constructor(e,t={}){this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(e,t=!0)=>{this.prev=this.current,this.current=e;let{delta:n,timestamp:r}=o.frameData;this.lastUpdated!==r&&(this.timeDelta=n,this.lastUpdated=r,o.Wi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>o.Wi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=s(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new r.L);let n=this.events[e].add(t);return"change"===e?()=>{n(),o.Wi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return a.current&&a.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?(0,i.R)(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function c(e,t){return new l(e,t)}},92395:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(56572);let i={test:(0,n(24536).i)("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:r.m.transform}},86845:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var r=n(30397),i=n(88772),o=n(59747),s=n(24536);let a={test:(0,s.i)("hsl","hue"),parse:(0,s.d)("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+i.aQ.transform((0,o.Nw)(t))+", "+i.aQ.transform((0,o.Nw)(n))+", "+(0,o.Nw)(r.Fq.transform(s))+")"}},45982:function(e,t,n){"use strict";n.d(t,{$:function(){return a}});var r=n(59747),i=n(92395),o=n(86845),s=n(56572);let a={test:e=>s.m.test(e)||i.$.test(e)||o.J.test(e),parse:e=>s.m.test(e)?s.m.parse(e):o.J.test(e)?o.J.parse(e):i.$.parse(e),transform:e=>(0,r.HD)(e)?e:e.hasOwnProperty("red")?s.m.transform(e):o.J.transform(e)}},56572:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});var r=n(51366),i=n(30397),o=n(59747),s=n(24536);let a=e=>(0,r.u)(0,255,e),l={...i.Rx,transform:e=>Math.round(a(e))},c={test:(0,s.i)("rgb","red"),parse:(0,s.d)("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+l.transform(e)+", "+l.transform(t)+", "+l.transform(n)+", "+(0,o.Nw)(i.Fq.transform(r))+")"}},24536:function(e,t,n){"use strict";n.d(t,{d:function(){return o},i:function(){return i}});var r=n(59747);let i=(e,t)=>n=>!!((0,r.HD)(n)&&r.mj.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),o=(e,t,n)=>i=>{if(!(0,r.HD)(i))return i;let[o,s,a,l]=i.match(r.KP);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==l?parseFloat(l):1}}},73764:function(e,t,n){"use strict";n.d(t,{h:function(){return l}});var r=n(76865),i=n(59747);let o=new Set(["brightness","contrast","saturate","opacity"]);function s(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[r]=n.match(i.KP)||[];if(!r)return e;let s=n.replace(r,""),a=o.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}let a=/([a-z-]*)\(.*?\)/g,l={...r.P,getAnimatableNone:e=>{let t=e.match(a);return t?t.map(s).join(" "):e}}},76865:function(e,t,n){"use strict";n.d(t,{P:function(){return g},V:function(){return h}});var r=n(91331),i=n(50065),o=n(45982),s=n(30397),a=n(59747);let l={regex:r.Xp,countKey:"Vars",token:"${v}",parse:i.Z},c={regex:a.dA,countKey:"Colors",token:"${c}",parse:o.$.parse},u={regex:a.KP,countKey:"Numbers",token:"${n}",parse:s.Rx.parse};function d(e,{regex:t,countKey:n,token:r,parse:i}){let o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(i)))}function h(e){let t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&d(n,l),d(n,c),d(n,u),n}function p(e){return h(e).values}function f(e){let{values:t,numColors:n,numVars:r,tokenised:i}=h(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(l.token,e[i]):i<r+n?t.replace(c.token,o.$.transform(e[i])):t.replace(u.token,(0,a.Nw)(e[i]));return t}}let m=e=>"number"==typeof e?0:e,g={test:function(e){var t,n;return isNaN(e)&&(0,a.HD)(e)&&((null===(t=e.match(a.KP))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(a.dA))||void 0===n?void 0:n.length)||0)>0},parse:p,createTransformer:f,getAnimatableNone:function(e){let t=p(e);return f(e)(t.map(m))}}},30397:function(e,t,n){"use strict";n.d(t,{Fq:function(){return o},Rx:function(){return i},bA:function(){return s}});var r=n(51366);let i={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},o={...i,transform:e=>(0,r.u)(0,1,e)},s={...i,default:1}},88772:function(e,t,n){"use strict";n.d(t,{$C:function(){return u},RW:function(){return o},aQ:function(){return s},px:function(){return a},vh:function(){return l},vw:function(){return c}});var r=n(59747);let i=e=>({test:t=>(0,r.HD)(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),o=i("deg"),s=i("%"),a=i("px"),l=i("vh"),c=i("vw"),u={...s,parse:e=>s.parse(e)/100,transform:e=>s.transform(100*e)}},59747:function(e,t,n){"use strict";n.d(t,{HD:function(){return a},KP:function(){return i},Nw:function(){return r},dA:function(){return o},mj:function(){return s}});let r=e=>Math.round(1e5*e)/1e5,i=/(-)?([\d]*\.?[\d])+/g,o=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,s=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function a(e){return"string"==typeof e}},67397:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(15815);function i(e){return!!((0,r.i)(e)&&e.add)}},15815:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});let r=e=>!!(e&&e.getVelocity)},24991:function(e,t,n){"use strict";n.d(t,{ZP:function(){return F},t:function(){return V}});let r={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||r,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new i(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new i(this.logger,e)}}var o=new i;class s{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]=this.observers[e]||[],this.observers[e].push(t)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(e=>e!==t)}}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach(e=>{e(...n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(t=>{t.apply(t,[e,...n])})}}function a(){let e,t;let n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n}function l(e){return null==e?"":""+e}function c(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}let o="string"!=typeof t?[].concat(t):t.split(".");for(;o.length>1;){if(i())return{};let t=r(o.shift());!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function u(e,t,n){let{obj:r,k:i}=c(e,t,Object);r[i]=n}function d(e,t){let{obj:n,k:r}=c(e,t);if(n)return n[r]}function h(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function f(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>p[e]):e}let m=[" ",",","?","!",";"];function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];let r=t.split(n),i=e;for(let e=0;e<r.length;++e){if(!i||"string"==typeof i[r[e]]&&e+1<r.length)return;if(void 0===i[r[e]]){let o=2,s=r.slice(e,e+o).join(n),a=i[s];for(;void 0===a&&r.length>e+o;)o++,a=i[s=r.slice(e,e+o).join(n)];if(void 0===a)return;if(null===a)return null;if(t.endsWith(s)){if("string"==typeof a)return a;if(s&&"string"==typeof a[s])return a[s]}let l=r.slice(e+o).join(n);if(l)return g(a,l,n);return}i=i[r[e]]}return i}function v(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class y extends s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[e,t];n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(s=e.split("."));let a=d(this.data,s);return a||!o||"string"!=typeof n?a:g(this.data&&this.data[e]&&this.data[e][t],n,i)}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."),r=t,t=s[1]),this.addNamespaces(t),u(this.data,s,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let r in n)("string"==typeof n[r]||"[object Array]"===Object.prototype.toString.apply(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),r=n,n=t,t=s[1]),this.addNamespaces(t);let a=d(this.data,s)||{};r?function e(t,n,r){for(let i in n)"__proto__"!==i&&"constructor"!==i&&(i in t?"string"==typeof t[i]||t[i]instanceof String||"string"==typeof n[i]||n[i]instanceof String?r&&(t[i]=n[i]):e(t[i],n[i],r):t[i]=n[i]);return t}(a,n,i):a={...a,...n},u(this.data,s,a),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var b={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,i))}),t}};let w={};class _ extends s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,n){e.forEach(e=>{t[e]&&(n[e]=t[e])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=o.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");let r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";let r=m.filter(e=>0>t.indexOf(e)&&0>n.indexOf(e));if(0===r.length)return!0;let i=RegExp(`(${r.map(e=>"?"===e?"\\?":e).join("|")})`),o=!i.test(e);if(!o){let t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(o=!0)}return o}(e,n,r);if(o&&!s){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:i};let o=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:s}=this.extractFromKey(e[e.length-1],t),a=s[s.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){let e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${a}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:`${a}${e}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:o}let u=this.resolve(e,t),d=u&&u.res,h=u&&u.usedKey||o,p=u&&u.exactUsedKey||o,f=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,v="string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d;if(g&&d&&v&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(f)&&!("string"==typeof m&&"[object Array]"===f)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...t,ns:s}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(i){let e="[object Array]"===f,n=e?[]:{},r=e?p:h;for(let e in d)if(Object.prototype.hasOwnProperty.call(d,e)){let o=`${r}${i}${e}`;n[e]=this.translate(o,{...t,joinArrays:!1,ns:s}),n[e]===o&&(n[e]=d[e])}d=n}}else if(g&&"string"==typeof m&&"[object Array]"===f)(d=d.join(m))&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,s=!1,c=void 0!==t.count&&"string"!=typeof t.count,h=_.hasDefaultValue(t),p=c?this.pluralResolver.getSuffix(l,t.count,t):"",f=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",m=t[`defaultValue${p}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(d)&&h&&(r=!0,d=m),this.isValidLookup(d)||(s=!0,d=o);let g=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:d,v=h&&m!==d&&this.options.updateMissing;if(s||r||v){if(this.logger.log(v?"updateKey":"missingKey",l,a,o,v?m:d),i){let e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let r=(e,n,r)=>{let i=h&&r!==d?r:g;this.options.missingKeyHandler?this.options.missingKeyHandler(e,a,n,i,v,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,a,n,i,v,t),this.emit("missingKey",e,a,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{this.pluralResolver.getSuffixes(e,t).forEach(n=>{r([e],o+n,t[`defaultValue${n}`]||m)})}):r(e,o,m))}d=this.extendTranslation(d,e,t,u,n),s&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${a}:${o}`),(s||r)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${o}`:o,r?d:void 0):this.options.parseMissingKeyHandler(d))}return r?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){let s;n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});let a="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(a){let t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),a){let t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return i&&i[0]===r[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):o.translate(...r,t)},n)),n.interpolation&&this.interpolator.reset()}let s=n.postProcess||this.options.postProcess,a="string"==typeof s?[s]:s;return null!=e&&a&&a.length&&!1!==n.applyPostProcessor&&(e=b.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,i,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let a=this.extractFromKey(e,s),l=a.key;n=l;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));let u=void 0!==s.count&&"string"!=typeof s.count,d=u&&!s.ordinal&&0===s.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(o=e,!w[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(w[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(n=>{let o;if(this.isValidLookup(t))return;i=n;let a=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(a,l,n,e,s);else{let e;u&&(e=this.pluralResolver.getSuffix(n,s.count,s));let t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(a.push(l+e),s.ordinal&&0===e.indexOf(r)&&a.push(l+e.replace(r,this.options.pluralSeparator)),d&&a.push(l+t)),h){let n=`${l}${this.options.contextSeparator}${s.context}`;a.push(n),u&&(a.push(n+e),s.ordinal&&0===e.indexOf(r)&&a.push(n+e.replace(r,this.options.pluralSeparator)),d&&a.push(n+t))}}for(;o=a.pop();)this.isValidLookup(t)||(r=o,t=this.getResource(n,e,o,s))}))})}),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&"string"!=typeof e.replace,n=t?e.replace:e;if(t&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!t)for(let e of(n={...n},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete n[e];return n}static hasDefaultValue(e){let t="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}function C(e){return e.charAt(0).toUpperCase()+e.slice(1)}class x{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=o.create("languageUtils")}getScriptPartFromCode(e){if(!(e=v(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=v(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){let t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(e=>e.toLowerCase()):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=C(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=C(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=C(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let n=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>{if(e===n||!(0>e.indexOf("-")&&0>n.indexOf("-"))&&0===e.indexOf(n))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){let n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),n.forEach(e=>{0>r.indexOf(e)&&i(this.formatLanguageCode(e))}),r}}let k=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],S={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},E=["v1","v2","v3"],T=["v4"],P={zero:0,one:1,two:2,few:3,many:4,other:5};class I{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=o.create("pluralResolver"),(!this.options.compatibilityJSON||T.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){let e={};return k.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:S[t.fc]}})}),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(v(e),{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((e,t)=>P[e]-P[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):n.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));let i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?`_plural_${r.toString()}`:i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!E.includes(this.options.compatibilityJSON)}}function R(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],o=function(e,t,n){let r=d(e,n);return void 0!==r?r:d(t,n)}(e,t,n);return!o&&i&&"string"==typeof n&&void 0===(o=g(e,n,r))&&(o=g(t,n,r)),o}class O{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=o.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let t=e.interpolation;this.escape=void 0!==t.escape?t.escape:f,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?h(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?h(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?h(t.nestingPrefix):t.nestingPrefixEscaped||h("$t("),this.nestingSuffix=t.nestingSuffix?h(t.nestingSuffix):t.nestingSuffixEscaped||h(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=RegExp(e,"g");let t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=RegExp(t,"g");let n=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=RegExp(n,"g")}interpolate(e,t,n,r){let i,o,s;let a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}let u=e=>{if(0>e.indexOf(this.formatSeparator)){let i=R(t,a,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}let i=e.split(this.formatSeparator),o=i.shift().trim(),s=i.join(this.formatSeparator).trim();return this.format(R(t,a,o,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,{...r,...t,interpolationkey:o})};this.resetRegExp();let d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>c(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?c(this.escape(e)):c(e)}].forEach(t=>{for(s=0;i=t.regex.exec(e);){let n=i[1].trim();if(void 0===(o=u(n))){if("function"==typeof d){let t=d(e,i,r);o="string"==typeof t?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else"string"==typeof o||this.useRawValueToEscape||(o=l(o));let a=t.safeValue(o);if(e=e.replace(i[0],a),h?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++s>=this.maxReplaces)break}}),e}nest(e,t){let n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){let n=this.nestingOptionsSeparator;if(0>e.indexOf(n))return e;let r=e.split(RegExp(`${n}[ ]*{`)),o=`{${r[1]}`;e=r[0];let s=(o=this.interpolate(o,i)).match(/'/g),a=o.match(/"/g);(s&&s.length%2==0&&!a||a.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i={...t,...i})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return delete i.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){let a=[];(i=(i={...o}).replace&&"string"!=typeof i.replace?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;let c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){let e=n[1].split(this.formatSeparator).map(e=>e.trim());n[1]=e.shift(),a=e,c=!0}if((r=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=l(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),c&&(r=a.reduce((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}function A(e){let t={};return function(n,r,i){let o=r+JSON.stringify(i),s=t[o];return s||(s=e(v(r),i),t[o]=s),s(n)}}class N{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=o.create("formatter"),this.options=e,this.formats={number:A((e,t)=>{let n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:A((e,t)=>{let n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:A((e,t)=>{let n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:A((e,t)=>{let n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:A((e,t)=>{let n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=A(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce((e,t)=>{let{formatName:i,formatOptions:o}=function(e){let t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){let r=e.split("(");t=r[0].toLowerCase().trim();let i=r[1].substring(0,r[1].length-1);"currency"===t&&0>i.indexOf(":")?n.currency||(n.currency=i.trim()):"relativetime"===t&&0>i.indexOf(":")?n.range||(n.range=i.trim()):i.split(";").forEach(e=>{if(!e)return;let[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,"");n[t.trim()]||(n[t.trim()]=i),"false"===i&&(n[t.trim()]=!1),"true"===i&&(n[t.trim()]=!0),isNaN(i)||(n[t.trim()]=parseInt(i,10))})}return{formatName:t,formatOptions:n}}(t);if(this.formats[i]){let t=e;try{let s=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},a=s.locale||s.lng||r.locale||r.lng||n;t=this.formats[i](e,a,{...o,...r,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e},e)}}class L extends s{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=o.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){let i={},o={},s={},a={};return e.forEach(e=>{let r=!0;t.forEach(t=>{let s=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===o[s]&&(o[s]=!0):(this.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===a[t]&&(a[t]=!0)))}),r||(s[e]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(e,t,n){let r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;let s={};this.queue.forEach(n=>{(function(e,t,n,r){let{obj:i,k:o}=c(e,t,Object);i[o]=i[o]||[],i[o].push(n)})(n.loaded,[i],o),void 0!==n.pending[e]&&(delete n.pending[e],n.pendingCount--),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{s[e]||(s[e]={});let t=n.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:o});return}this.readingCalls++;let s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(s&&a&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,r+1,2*i,o)},i);return}o(s,a)},a=this.backend[n].bind(this.backend);if(2===a.length){try{let n=a(e,t);n&&"function"==typeof n.then?n.then(e=>s(null,e)).catch(s):s(null,n)}catch(e){s(e)}return}return a(e,t,s)}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);let i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,(n,o)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,o),this.loaded(e,n,o)})}saveMissing(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=n&&""!==n){if(this.backend&&this.backend.create){let a={...o,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let i;(i=5===l.length?l(e,t,n,r,a):l(e,t,n,r))&&"function"==typeof i.then?i.then(e=>s(null,e)).catch(s):s(null,i)}catch(e){s(e)}else l(e,t,n,r,s,a)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}function M(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function D(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function j(){}class U extends s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=D(e),this.services={},this.logger=o,this.modules={external:[]},!function(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})}(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let r=M();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options={...r,...this.options,...D(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?o.init(i(this.modules.logger),this.options):o.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=N);let n=new x(this.options);this.store=new y(this.options.resources,this.options);let s=this.services;s.logger=o,s.resourceStore=this.store,s.languageUtils=n,s.pluralResolver=new I(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(s.formatter=i(t),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new O(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new L(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)}),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new _(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=j),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let s=a(),l=()=>{let e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),s}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,n=t,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return n();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};r?t(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),n(e)})}else n(null)}reloadResources(e,t,n){let r=a();return e||(e=this.languages),t||(t=this.options.ns),n||(n=j),this.services.backendConnector.reload(e,t,e=>{r.resolve(),n(e)}),r}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&b.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;let r=a();this.emit("languageChanging",e);let i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(i(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),t&&t(e,function(){return n.t(...arguments)})},s=t=>{e||t||!this.services.languageDetector||(t=[]);let n="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,e=>{o(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;let i=function(e,t){let o,s;if("object"!=typeof t){for(var a=arguments.length,l=Array(a>2?a-2:0),c=2;c<a;c++)l[c-2]=arguments[c];o=r.options.overloadTranslationOptionHandler([e,t].concat(l))}else o={...t};o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,o.keyPrefix=o.keyPrefix||n||i.keyPrefix;let u=r.options.keySeparator||".";return s=o.keyPrefix&&Array.isArray(e)?e.map(e=>`${o.keyPrefix}${u}${e}`):o.keyPrefix?`${o.keyPrefix}${u}${e}`:e,r.t(s,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;let o=(e,t)=>{let n=this.services.backendConnector.state[`${e}|${t}`];return -1===n||2===n};if(t.precheck){let e=t.precheck(this,o);if(void 0!==e)return e}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!r||o(i,e)))}loadNamespaces(e,t){let n=a();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){let n=a();"string"==typeof e&&(e=[e]);let r=this.options.preload||[],i=e.filter(e=>0>r.indexOf(e));return i.length?(this.options.preload=r.concat(i),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new x(M())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new U(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,n=e.forkResourceStore;n&&delete e.forkResourceStore;let r={...this.options,...e,isClone:!0},i=new U(r);return(void 0!==e.debug||void 0!==e.prefix)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(e=>{i[e]=this[e]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new y(this.store.data,r),i.services.resourceStore=i.store),i.translator=new _(i.services,r),i.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)}),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let F=U.createInstance();F.createInstance=U.createInstance,F.createInstance,F.dir,F.init,F.loadResources,F.reloadResources,F.use,F.changeLanguage,F.getFixedT;let V=F.t;F.exists,F.setDefaultNamespace,F.hasLoadedNamespace,F.loadNamespaces,F.loadLanguages},10186:function(e,t,n){"use strict";let r;function i(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function o(){return r||(r=function(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=i(n);return(e,n)=>r.then(r=>n(r.transaction(t,e).objectStore(t)))}("keyval-store","keyval")),r}function s(e,t=o()){return t("readonly",t=>i(t.get(e)))}function a(e,t,n=o()){return n("readwrite",n=>(n.put(t,e),i(n.transaction)))}function l(e,t=o()){return t("readwrite",t=>(t.delete(e),i(t.transaction)))}n.d(t,{IV:function(){return l},U2:function(){return s},t8:function(){return a}})},21805:function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{Z:function(){return i}});var i=function e(t,n){function i(e,i,o){if("undefined"!=typeof document){"number"==typeof(o=r({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+s}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(r[a]=t.read(s,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){i(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},16575:function(e,t,n){"use strict";let r,i,o,s,a;n.d(t,{TQ:function(){return et},W4:function(){return tS},dd:function(){return en},du:function(){return sH},em:function(){return eh},fQ:function(){return os}});var l,c,u,d,h,p,f,m,g,v,y,b,w,_,C,x,k,S,E,T,P,I,R,O,A,N,L,M,D,j,U,F,V,B,z,H,q,K,G,W,$,Z,J,Y,X,Q,ee,et,en,er,ei,eo,es,ea,el,ec,eu,ed,eh,ep,ef=n(93542);function em(e,t){if(!e)throw Error(t)}function eg(e){if("number"!=typeof e)throw Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw Error("invalid int 32: "+e)}function ev(e){if("number"!=typeof e)throw Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw Error("invalid uint 32: "+e)}function ey(e){if("number"!=typeof e)throw Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw Error("invalid float 32: "+e)}let eb=Symbol("@bufbuild/protobuf/enum-type");function ew(e,t,n,r){e[eb]=e_(t,n.map(t=>({no:t.no,name:t.name,localName:e[t.no]})))}function e_(e,t,n){let r=Object.create(null),i=Object.create(null),o=[];for(let e of t){let t=eC(e);o.push(t),r[e.name]=t,i[e.no]=t}return{typeName:e,values:o,findName:e=>r[e],findNumber:e=>i[e]}}function eC(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class ex{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){let n=this.getType().runtime.bin,r=n.makeReadOptions(t);return n.readMessage(this,r.readerFactory(e),e.byteLength,r),this}fromJson(e,t){let n=this.getType(),r=n.runtime.json,i=r.makeReadOptions(t);return r.readMessage(n,e,i,this),this}fromJsonString(e,t){let n;try{n=JSON.parse(e)}catch(e){throw Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(e instanceof Error?e.message:String(e)))}return this.fromJson(n,t)}toBinary(e){let t=this.getType().runtime.bin,n=t.makeWriteOptions(e),r=n.writerFactory();return t.writeMessage(this,r,n),r.finish()}toJson(e){let t=this.getType().runtime.json,n=t.makeWriteOptions(e);return t.writeMessage(this,n)}toJsonString(e){var t;return JSON.stringify(this.toJson(e),null,null!==(t=null==e?void 0:e.prettySpaces)&&void 0!==t?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function ek(){let e=0,t=0;for(let n=0;n<28;n+=7){let r=this.buf[this.pos++];if(e|=(127&r)<<n,(128&r)==0)return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,(128&n)==0)return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let r=this.buf[this.pos++];if(t|=(127&r)<<n,(128&r)==0)return this.assertBounds(),[e,t]}throw Error("invalid varint")}function eS(e,t,n){for(let r=0;r<28;r+=7){let i=e>>>r,o=!(i>>>7==0&&0==t),s=(o?128|i:i)&255;if(n.push(s),!o)return}let r=e>>>28&15|(7&t)<<4,i=t>>3!=0;if(n.push((i?128|r:r)&255),i){for(let e=3;e<31;e+=7){let r=t>>>e,i=r>>>7!=0,o=(i?128|r:r)&255;if(n.push(o),!i)return}n.push(t>>>31&1)}}function eE(e){let t="-"===e[0];t&&(e=e.slice(1));let n=0,r=0;function i(t,i){let o=Number(e.slice(t,i));r*=1e6,(n=1e6*n+o)>=4294967296&&(r+=n/4294967296|0,n%=4294967296)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),t?eI(n,r):eP(n,r)}function eT(e,t){if({lo:e,hi:t}={lo:e>>>0,hi:t>>>0},t<=2097151)return String(4294967296*t+e);let n=16777215&e,r=(e>>>24|t<<8)&16777215,i=t>>16&65535,o=n+6777216*r+6710656*i,s=r+8147497*i,a=2*i;return o>=1e7&&(s+=Math.floor(o/1e7),o%=1e7),s>=1e7&&(a+=Math.floor(s/1e7),s%=1e7),a.toString()+eR(s)+eR(o)}function eP(e,t){return{lo:0|e,hi:0|t}}function eI(e,t){return t=~t,e?e=~e+1:t+=1,eP(e,t)}(l=q||(q={}))[l.DOUBLE=1]="DOUBLE",l[l.FLOAT=2]="FLOAT",l[l.INT64=3]="INT64",l[l.UINT64=4]="UINT64",l[l.INT32=5]="INT32",l[l.FIXED64=6]="FIXED64",l[l.FIXED32=7]="FIXED32",l[l.BOOL=8]="BOOL",l[l.STRING=9]="STRING",l[l.BYTES=12]="BYTES",l[l.UINT32=13]="UINT32",l[l.SFIXED32=15]="SFIXED32",l[l.SFIXED64=16]="SFIXED64",l[l.SINT32=17]="SINT32",l[l.SINT64=18]="SINT64",(c=K||(K={}))[c.BIGINT=0]="BIGINT",c[c.STRING=1]="STRING";let eR=e=>{let t=String(e);return"0000000".slice(t.length)+t};function eO(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function eA(){let e=this.buf[this.pos++],t=127&e;if((128&e)==0||(t|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(let t=5;(128&e)!=0&&t<10;t++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),t>>>0}let eN=function(){let e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof ef||"object"!=typeof ef.env||"1"!==ef.env.BUF_BIGINT_DISABLE)){let t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),r=BigInt("0"),i=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){let r="bigint"==typeof e?e:BigInt(e);if(r>n||r<t)throw Error("int64 invalid: ".concat(e));return r},uParse(e){let t="bigint"==typeof e?e:BigInt(e);if(t>i||t<r)throw Error("uint64 invalid: ".concat(e));return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}let t=e=>em(/^-?[0-9]+$/.test(e),"int64 invalid: ".concat(e)),n=e=>em(/^[0-9]+$/.test(e),"uint64 invalid: ".concat(e));return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),t(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),n(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),t(e),eE(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),n(e),eE(e)),dec:(e,t)=>(function(e,t){let n=eP(e,t),r=2147483648&n.hi;r&&(n=eI(n.lo,n.hi));let i=eT(n.lo,n.hi);return r?"-"+i:i})(e,t),uDec:(e,t)=>eT(e,t)}}();(u=G||(G={}))[u.Varint=0]="Varint",u[u.Bit64=1]="Bit64",u[u.LengthDelimited=2]="LengthDelimited",u[u.StartGroup=3]="StartGroup",u[u.EndGroup=4]="EndGroup",u[u.Bit32=5]="Bit32";class eL{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(ev(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return eg(e),eO(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){ey(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){ev(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){eg(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return eg(e),eO(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=eN.enc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=eN.uEnc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=eN.enc(e);return eS(t.lo,t.hi,this.buf),this}sint64(e){let t=eN.enc(e),n=t.hi>>31;return eS(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=eN.uEnc(e);return eS(t.lo,t.hi,this.buf),this}}class eM{constructor(e,t){this.varint64=ek,this.uint32=eA,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case G.Varint:for(;128&this.buf[this.pos++];);break;case G.Bit64:this.pos+=4;case G.Bit32:this.pos+=4;break;case G.LengthDelimited:let n=this.uint32();this.pos+=n;break;case G.StartGroup:let r;for(;(r=this.tag()[1])!==G.EndGroup;)this.skip(r);break;default:throw Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return eN.dec(...this.varint64())}uint64(){return eN.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,eN.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return eN.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return eN.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}function eD(e,t,n){if(t===n)return!0;if(e==q.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}switch(e){case q.UINT64:case q.FIXED64:case q.INT64:case q.SFIXED64:case q.SINT64:return t==n}return!1}function ej(e,t){switch(e){case q.BOOL:return!1;case q.UINT64:case q.FIXED64:case q.INT64:case q.SFIXED64:case q.SINT64:return 0==t?eN.zero:"0";case q.DOUBLE:case q.FLOAT:return 0;case q.BYTES:return new Uint8Array(0);case q.STRING:return"";default:return 0}}function eU(e,t){let n=void 0===t,r=G.Varint,i=0===t;switch(e){case q.STRING:i=n||!t.length,r=G.LengthDelimited;break;case q.BOOL:i=!1===t;break;case q.DOUBLE:r=G.Bit64;break;case q.FLOAT:r=G.Bit32;break;case q.INT64:case q.UINT64:i=n||0==t;break;case q.FIXED64:i=n||0==t,r=G.Bit64;break;case q.BYTES:i=n||!t.byteLength,r=G.LengthDelimited;break;case q.FIXED32:case q.SFIXED32:r=G.Bit32;break;case q.SFIXED64:i=n||0==t,r=G.Bit64;break;case q.SINT64:i=n||0==t}return[r,q[e].toLowerCase(),n||i]}function eF(e){let t=e.field.localName,n=Object.create(null);return n[t]=function(e){let t=e.field;if(t.repeated)return[];if(void 0!==t.default)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return ej(t.T,t.L);case"message":let n=t.T,r=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}(e),[n,()=>n[t]]}function eV(e,t){return t instanceof ex||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}q.DOUBLE,q.FLOAT,q.INT64,q.UINT64,q.INT32,q.UINT32,q.BOOL,q.STRING,q.BYTES;let eB=Symbol("@bufbuild/protobuf/unknown-fields"),ez={readUnknownFields:!0,readerFactory:e=>new eM(e)},eH={writeUnknownFields:!0,writerFactory:()=>new eL};function eq(e,t,n,r,i){let{repeated:o,localName:s}=n;switch(n.oneof&&((e=e[n.oneof.localName]).case!=s&&delete e.value,e.case=s,s="value"),n.kind){case"scalar":case"enum":let a="enum"==n.kind?q.INT32:n.T,l=eW;if("scalar"==n.kind&&n.L>0&&(l=eG),o){let n=e[s];if(r==G.LengthDelimited&&a!=q.STRING&&a!=q.BYTES){let e=t.uint32()+t.pos;for(;t.pos<e;)n.push(l(t,a))}else n.push(l(t,a))}else e[s]=l(t,a);break;case"message":let c=n.T;o?e[s].push(eK(t,new c,i,n)):e[s]instanceof ex?eK(t,e[s],i,n):(e[s]=eK(t,new c,i,n),!c.fieldWrapper||n.oneof||n.repeated||(e[s]=c.fieldWrapper.unwrapField(e[s])));break;case"map":let[u,d]=function(e,t,n){let r,i;let o=t.uint32(),s=t.pos+o;for(;t.pos<s;){let[o]=t.tag();switch(o){case 1:r=eW(t,e.K);break;case 2:switch(e.V.kind){case"scalar":i=eW(t,e.V.T);break;case"enum":i=t.int32();break;case"message":i=eK(t,new e.V.T,n,void 0)}}}if(void 0===r){let t=ej(e.K,K.BIGINT);r=e.K==q.BOOL?t.toString():t}if("string"!=typeof r&&"number"!=typeof r&&(r=r.toString()),void 0===i)switch(e.V.kind){case"scalar":i=ej(e.V.T,K.BIGINT);break;case"enum":i=0;break;case"message":i=new e.V.T}return[r,i]}(n,t,i);e[s][u]=d}}function eK(e,t,n,r){let i=t.getType().runtime.bin,o=null==r?void 0:r.delimited;return i.readMessage(t,e,o?null==r?void 0:r.no:e.uint32(),n,o),t}function eG(e,t){let n=eW(e,t);return"bigint"==typeof n?n.toString():n}function eW(e,t){switch(t){case q.STRING:return e.string();case q.BOOL:return e.bool();case q.DOUBLE:return e.double();case q.FLOAT:return e.float();case q.INT32:return e.int32();case q.INT64:return e.int64();case q.UINT64:return e.uint64();case q.FIXED64:return e.fixed64();case q.BYTES:return e.bytes();case q.FIXED32:return e.fixed32();case q.SFIXED32:return e.sfixed32();case q.SFIXED64:return e.sfixed64();case q.SINT64:return e.sint64();case q.UINT32:return e.uint32();case q.SINT32:return e.sint32()}}function e$(e,t,n,r){let i=eV(n.T,r);(null==n?void 0:n.delimited)?e.tag(n.no,G.StartGroup).raw(i.toBinary(t)).tag(n.no,G.EndGroup):e.tag(n.no,G.LengthDelimited).bytes(i.toBinary(t))}function eZ(e,t,n,r,i){let[o,s,a]=eU(t,r);(!a||i)&&e.tag(n,o)[s](r)}function eJ(e,t,n,r){let i=e.repeated;switch(e.kind){case"scalar":case"enum":let o="enum"==e.kind?q.INT32:e.T;if(i){if(e.packed)!function(e,t,n,r){if(!r.length)return;e.tag(n,G.LengthDelimited).fork();let[,i]=eU(t);for(let t=0;t<r.length;t++)e[i](r[t]);e.join()}(n,o,e.no,t);else for(let r of t)eZ(n,o,e.no,r,!0)}else void 0!==t&&eZ(n,o,e.no,t,!!e.oneof||e.opt);break;case"message":if(i)for(let i of t)e$(n,r,e,i);else void 0!==t&&e$(n,r,e,t);break;case"map":for(let[i,o]of Object.entries(t))!function(e,t,n,r,i){e.tag(n.no,G.LengthDelimited),e.fork();let o=r;switch(n.K){case q.INT32:case q.FIXED32:case q.UINT32:case q.SFIXED32:case q.SINT32:o=Number.parseInt(r);break;case q.BOOL:em("true"==r||"false"==r),o="true"==r}switch(eZ(e,n.K,1,o,!0),n.V.kind){case"scalar":eZ(e,n.V.T,2,i,!0);break;case"enum":eZ(e,q.INT32,2,i,!0);break;case"message":e.tag(2,G.LengthDelimited).bytes(i.toBinary(t))}e.join()}(n,r,e,i,o)}}let eY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),eX=[];for(let e=0;e<eY.length;e++)eX[eY[e].charCodeAt(0)]=e;eX["-".charCodeAt(0)]=eY.indexOf("+"),eX["_".charCodeAt(0)]=eY.indexOf("/");let eQ={dec(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n=new Uint8Array(t),r=0,i=0,o,s=0;for(let t=0;t<e.length;t++){if(void 0===(o=eX[e.charCodeAt(t)]))switch(e[t]){case"=":i=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=o,i=1;break;case 1:n[r++]=s<<2|(48&o)>>4,s=o,i=2;break;case 2:n[r++]=(15&s)<<4|(60&o)>>2,s=o,i=3;break;case 3:n[r++]=(3&s)<<6|o,i=0}}if(1==i)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(e){let t="",n=0,r,i=0;for(let o=0;o<e.length;o++)switch(r=e[o],n){case 0:t+=eY[r>>2],i=(3&r)<<4,n=1;break;case 1:t+=eY[i|r>>4],i=(15&r)<<2,n=2;break;case 2:t+=eY[i|r>>6]+eY[63&r],n=0}return n&&(t+=eY[i]+"=",1==n&&(t+="=")),t}};function e0(e,t){let n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(e=>e.no==t.field.no)}function e1(e,t){em(e.extendee.typeName==t.getType().typeName,"extension ".concat(e.typeName," can only be applied to message ").concat(e.extendee.typeName))}let e2={ignoreUnknownFields:!1},e3={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function e4(e){return e?Object.assign(Object.assign({},e2),e):e2}function e5(e){return e?Object.assign(Object.assign({},e3),e):e3}function e6(e){if(null===e)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function e8(e,t,n,r,i,o){let s=n.localName;if(n.oneof){if(null===t&&"scalar"==n.kind)return;e=e[n.oneof.localName]={case:s},s="value"}if(n.repeated){if(null===t)return;if(!Array.isArray(t))throw Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(e6(t)));let o=e[s];for(let e of t){let t;if(null===e)throw Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(e6(e)));switch(n.kind){case"message":t=n.T.fromJson(e,r);break;case"enum":if(void 0===(t=e9(n.T,e,r.ignoreUnknownFields,!0)))continue;break;case"scalar":try{t=e7(n.T,e,n.L,!0)}catch(r){let t="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(e6(e));throw r instanceof Error&&r.message.length>0&&(t+=": ".concat(r.message)),Error(t)}}o.push(t)}}else if("map"==n.kind){if(null===t)return;if("object"!=typeof t||Array.isArray(t))throw Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(e6(t)));let o=e[s];for(let[e,s]of Object.entries(t)){let a;if(null===s)throw Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: map value null"));switch(n.V.kind){case"message":a=n.V.T.fromJson(s,r);break;case"enum":if(void 0===(a=e9(n.V.T,s,r.ignoreUnknownFields,!0)))continue;break;case"scalar":try{a=e7(n.V.T,s,K.BIGINT,!0)}catch(r){let e="cannot decode map value for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(e6(t));throw r instanceof Error&&r.message.length>0&&(e+=": ".concat(r.message)),Error(e)}}try{o[e7(n.K,n.K==q.BOOL?"true"==e||"false"!=e&&e:e,K.BIGINT,!0).toString()]=a}catch(r){let e="cannot decode map key for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(e6(t));throw r instanceof Error&&r.message.length>0&&(e+=": ".concat(r.message)),Error(e)}}}else switch(n.kind){case"message":let a=n.T;if(null===t&&"google.protobuf.Value"!=a.typeName){if(n.oneof)throw Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: null is invalid for oneof field"));return}e[s]instanceof ex?e[s].fromJson(t,r):(e[s]=a.fromJson(t,r),a.fieldWrapper&&!n.oneof&&(e[s]=a.fieldWrapper.unwrapField(e[s])));break;case"enum":let l=e9(n.T,t,r.ignoreUnknownFields,o);void 0!==l&&(e[s]=l);break;case"scalar":try{e[s]=e7(n.T,t,n.L,o)}catch(r){let e="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(e6(t));throw r instanceof Error&&r.message.length>0&&(e+=": ".concat(r.message)),Error(e)}}}function e7(e,t,n,r){switch(e){case q.DOUBLE:case q.FLOAT:if(null===t)return r?0:void 0;if("NaN"===t)return Number.NaN;if("Infinity"===t)return Number.POSITIVE_INFINITY;if("-Infinity"===t)return Number.NEGATIVE_INFINITY;if(""===t||"string"==typeof t&&t.trim().length!==t.length||"string"!=typeof t&&"number"!=typeof t)break;let i=Number(t);if(Number.isNaN(i)||!Number.isFinite(i))break;return e==q.FLOAT&&ey(i),i;case q.INT32:case q.FIXED32:case q.SFIXED32:case q.SINT32:case q.UINT32:let o;if(null===t)return r?0:void 0;if("number"==typeof t?o=t:"string"==typeof t&&t.length>0&&t.trim().length===t.length&&(o=Number(t)),void 0===o)break;return e==q.UINT32?ev(o):eg(o),o;case q.INT64:case q.SFIXED64:case q.SINT64:if(null===t)return r?eN.zero:void 0;if("number"!=typeof t&&"string"!=typeof t)break;let s=eN.parse(t);return n?s.toString():s;case q.FIXED64:case q.UINT64:if(null===t)return r?eN.zero:void 0;if("number"!=typeof t&&"string"!=typeof t)break;let a=eN.uParse(t);return n?a.toString():a;case q.BOOL:if(null===t)return!r&&void 0;if("boolean"!=typeof t)break;return t;case q.STRING:if(null===t)return r?"":void 0;if("string"!=typeof t)break;try{encodeURIComponent(t)}catch(e){throw Error("invalid UTF8")}return t;case q.BYTES:if(null===t)return r?new Uint8Array(0):void 0;if(""===t)return new Uint8Array(0);if("string"!=typeof t)break;return eQ.dec(t)}throw Error()}function e9(e,t,n,r){if(null===t)return r?e.values[0].no:void 0;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":let i=e.findName(t);if(i||n)return null==i?void 0:i.no}throw Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(e6(t)))}function te(e,t,n,r){var i;if(void 0===t)return t;if(!n&&e.values[0].no===t)return;if(r)return t;if("google.protobuf.NullValue"==e.typeName)return null;let o=e.findNumber(t);return null!==(i=null==o?void 0:o.name)&&void 0!==i?i:t}function tt(e,t,n){if(void 0!==t)switch(e){case q.INT32:case q.SFIXED32:case q.SINT32:case q.FIXED32:case q.UINT32:return em("number"==typeof t),0!=t||n?t:void 0;case q.FLOAT:case q.DOUBLE:if(em("number"==typeof t),Number.isNaN(t))return"NaN";if(t===Number.POSITIVE_INFINITY)return"Infinity";if(t===Number.NEGATIVE_INFINITY)return"-Infinity";return 0!==t||n?t:void 0;case q.STRING:return em("string"==typeof t),t.length>0||n?t:void 0;case q.BOOL:return em("boolean"==typeof t),t||n?t:void 0;case q.UINT64:case q.FIXED64:case q.INT64:case q.SFIXED64:case q.SINT64:return em("bigint"==typeof t||"string"==typeof t||"number"==typeof t),n||0!=t?t.toString(10):void 0;case q.BYTES:return em(t instanceof Uint8Array),n||t.byteLength>0?eQ.enc(t):void 0}}function tn(e){if(void 0===e)return e;if(e instanceof ex)return e.clone();if(e instanceof Uint8Array){let t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function tr(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class ti{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){let e={};for(let t of this.list())e[t.jsonName]=e[t.name]=t;this.jsonNames=e}return this.jsonNames[e]}find(e){if(!this.numbers){let e={};for(let t of this.list())e[t.no]=t;this.numbers=e}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,t)=>e.no-t.no)),this.numbersAsc}byMember(){if(!this.members){let e;this.members=[];let t=this.members;for(let n of this.list())n.oneof?n.oneof!==e&&(e=n.oneof,t.push(e)):t.push(n)}return this.members}}function to(e,t){let n=ta(e);return t?n:th(td(n))}let ts=ta;function ta(e){let t=!1,n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);switch(i){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),t=!1;break;default:t&&(t=!1,i=i.toUpperCase()),n.push(i)}}return n.join("")}let tl=new Set(["constructor","toString","toJSON","valueOf"]),tc=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),tu=e=>"".concat(e,"$"),td=e=>tc.has(e)?tu(e):e,th=e=>tl.has(e)?tu(e):e;class tp{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=to(e,!1)}addField(e){em(e.oneof===this,"field ".concat(e.name," not one of ").concat(this.name)),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[e]}}let tf={syntax:"proto3",json:function(e,t){let n=t(te,tt);return{makeReadOptions:e4,makeWriteOptions:e5,readMessage(t,n,r,i){if(null==n||Array.isArray(n)||"object"!=typeof n)throw Error("cannot decode message ".concat(t.typeName," from JSON: ").concat(e6(n)));i=null!=i?i:new t;let o=new Map,s=r.typeRegistry;for(let[a,l]of Object.entries(n)){let n=t.fields.findJsonName(a);if(n){if(n.oneof){if(null===l&&"scalar"==n.kind)continue;let e=o.get(n.oneof);if(void 0!==e)throw Error("cannot decode message ".concat(t.typeName,' from JSON: multiple keys for oneof "').concat(n.oneof.name,'" present: "').concat(e,'", "').concat(a,'"'));o.set(n.oneof,a)}e8(i,l,n,r,t,e)}else{let e=!1;if((null==s?void 0:s.findExtension)&&a.startsWith("[")&&a.endsWith("]")){let n=s.findExtension(a.substring(1,a.length-1));if(n&&n.extendee.typeName==t.typeName){e=!0;let[t,o]=eF(n);e8(t,l,n.field,r,n,!0),function(e,t,n,r){e1(t,e);let i=t.runtime.bin.makeReadOptions(r),o=t.runtime.bin.makeWriteOptions(r);if(e0(e,t)){let n=e.getType().runtime.bin.listUnknownFields(e).filter(e=>e.no!=t.field.no);for(let t of(e.getType().runtime.bin.discardUnknownFields(e),n))e.getType().runtime.bin.onUnknownField(e,t.no,t.wireType,t.data)}let s=o.writerFactory(),a=t.field;a.opt||a.repeated||"enum"!=a.kind&&"scalar"!=a.kind||(a=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(a,n,s,o);let l=i.readerFactory(s.finish());for(;l.pos<l.len;){let[t,n]=l.tag(),r=l.skip(n);e.getType().runtime.bin.onUnknownField(e,t,n,r)}}(i,n,o(),r)}}if(!e&&!r.ignoreUnknownFields)throw Error("cannot decode message ".concat(t.typeName,' from JSON: key "').concat(a,'" is unknown'))}}return i},writeMessage(e,t){let r;let i=e.getType(),o={};try{for(let s of i.fields.byMember()){let i;if("oneof"==s.kind){let o=e[s.localName];if(void 0===o.value)continue;if(!(r=s.findField(o.case)))throw"oneof case not found: "+o.case;i=n(r,o.value,t)}else r=s,i=n(r,e[r.localName],t);void 0!==i&&(o[t.useProtoFieldName?r.name:r.jsonName]=i)}let s=t.typeRegistry;if(null==s?void 0:s.findExtensionFor)for(let r of i.runtime.bin.listUnknownFields(e)){let a=s.findExtensionFor(i.typeName,r.no);if(a&&e0(e,a)){let r=function(e,t,n){e1(t,e);let r=t.runtime.bin.makeReadOptions(n),i=function(e,t){if(!t.repeated&&("enum"==t.kind||"scalar"==t.kind)){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(e=>e.no===t.no)}(e.getType().runtime.bin.listUnknownFields(e),t.field),[o,s]=eF(t);for(let e of i)t.runtime.bin.readField(o,r.readerFactory(e.data),t.field,e.wireType,r);return s()}(e,a,t),i=n(a.field,r,t);void 0!==i&&(o[a.field.jsonName]=i)}}}catch(n){let e=r?"cannot encode field ".concat(i.typeName,".").concat(r.name," to JSON"):"cannot encode message ".concat(i.typeName," to JSON"),t=n instanceof Error?n.message:String(n);throw Error(e+(t.length>0?": ".concat(t):""))}return o},readScalar:(t,n,r)=>e7(t,n,r,e),writeScalar:tt,debug:e6}}(!0,(e,t)=>function(n,r,i){if("map"==n.kind){let o={};switch(n.V.kind){case"scalar":for(let[e,i]of Object.entries(r)){let r=t(n.V.T,i,!0);em(void 0!==r),o[e.toString()]=r}break;case"message":for(let[e,t]of Object.entries(r))o[e.toString()]=t.toJson(i);break;case"enum":let s=n.V.T;for(let[t,n]of Object.entries(r)){em(void 0===n||"number"==typeof n);let r=e(s,n,!0,i.enumAsInteger);em(void 0!==r),o[t.toString()]=r}}return i.emitDefaultValues||Object.keys(o).length>0?o:void 0}if(n.repeated){let o=[];switch(n.kind){case"scalar":for(let e=0;e<r.length;e++)o.push(t(n.T,r[e],!0));break;case"enum":for(let t=0;t<r.length;t++)o.push(e(n.T,r[t],!0,i.enumAsInteger));break;case"message":for(let e=0;e<r.length;e++)o.push(r[e].toJson(i))}return i.emitDefaultValues||o.length>0?o:void 0}if(void 0!==r)switch(n.kind){case"scalar":return t(n.T,r,!!n.oneof||n.opt||i.emitDefaultValues);case"enum":return e(n.T,r,!!n.oneof||n.opt||i.emitDefaultValues,i.enumAsInteger);case"message":return eV(n.T,r).toJson(i)}}),bin:Object.assign(Object.assign({},{makeReadOptions:function(e){return e?Object.assign(Object.assign({},ez),e):ez},makeWriteOptions:function(e){return e?Object.assign(Object.assign({},eH),e):eH},listUnknownFields(e){var t;return null!==(t=e[eB])&&void 0!==t?t:[]},discardUnknownFields(e){delete e[eB]},writeUnknownFields(e,t){let n=e[eB];if(n)for(let e of n)t.tag(e.no,e.wireType).raw(e.data)},onUnknownField(e,t,n,r){Array.isArray(e[eB])||(e[eB]=[]),e[eB].push({no:t,wireType:n,data:r})},readMessage(e,t,n,r,i){let o,s;let a=e.getType(),l=i?t.len:t.pos+n;for(;t.pos<l&&([o,s]=t.tag(),s!=G.EndGroup);){let n=a.fields.find(o);if(!n){let n=t.skip(s);r.readUnknownFields&&this.onUnknownField(e,o,s,n);continue}eq(e,t,n,s,r)}if(i&&(s!=G.EndGroup||o!==n))throw Error("invalid end group tag")},readField:eq}),{writeField:eJ,writeMessage(e,t,n){for(let r of e.getType().fields.byNumber()){let i,o=r.localName;if(r.oneof){let t=e[r.oneof.localName];if(t.case!==o)continue;i=t.value}else i=e[o];eJ(r,i,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t}}),util:Object.assign(Object.assign({},{setEnumType:ew,initPartial(e,t){if(void 0!==e)for(let n of t.getType().fields.byMember()){let r=n.localName;if(void 0!==e[r])switch(n.kind){case"oneof":let i=e[r].case;if(void 0===i)continue;let o=n.findField(i),s=e[r].value;!o||"message"!=o.kind||s instanceof o.T?o&&"scalar"===o.kind&&o.T===q.BYTES&&(s=tr(s)):s=new o.T(s),t[r]={case:i,value:s};break;case"scalar":case"enum":let a=e[r];n.T===q.BYTES&&(a=n.repeated?a.map(tr):tr(a)),t[r]=a;break;case"map":switch(n.V.kind){case"scalar":case"enum":if(n.V.T===q.BYTES)for(let[n,i]of Object.entries(e[r]))t[r][n]=tr(i);else Object.assign(t[r],e[r]);break;case"message":let l=n.V.T;for(let n of Object.keys(e[r])){let i=e[r][n];l.fieldWrapper||(i=new l(i)),t[r][n]=i}}break;case"message":let c=n.T;if(n.repeated)t[r]=e[r].map(e=>e instanceof c?e:new c(e));else if(void 0!==e[r]){let n=e[r];c.fieldWrapper?"google.protobuf.BytesValue"===c.typeName?t[r]=tr(n):t[r]=n:t[r]=n instanceof c?n:new c(n)}}}},equals:(e,t,n)=>t===n||!!t&&!!n&&e.fields.byMember().every(e=>{let r=t[e.localName],i=n[e.localName];if(e.repeated){if(r.length!==i.length)return!1;switch(e.kind){case"message":return r.every((t,n)=>e.T.equals(t,i[n]));case"scalar":return r.every((t,n)=>eD(e.T,t,i[n]));case"enum":return r.every((e,t)=>eD(q.INT32,e,i[t]))}throw Error("repeated cannot contain ".concat(e.kind))}switch(e.kind){case"message":return e.T.equals(r,i);case"enum":return eD(q.INT32,r,i);case"scalar":return eD(e.T,r,i);case"oneof":if(r.case!==i.case)return!1;let o=e.findField(r.case);if(void 0===o)return!0;switch(o.kind){case"message":return o.T.equals(r.value,i.value);case"enum":return eD(q.INT32,r.value,i.value);case"scalar":return eD(o.T,r.value,i.value)}throw Error("oneof cannot contain ".concat(o.kind));case"map":let s=Object.keys(r).concat(Object.keys(i));switch(e.V.kind){case"message":let a=e.V.T;return s.every(e=>a.equals(r[e],i[e]));case"enum":return s.every(e=>eD(q.INT32,r[e],i[e]));case"scalar":let l=e.V.T;return s.every(e=>eD(l,r[e],i[e]))}}}),clone(e){let t=e.getType(),n=new t;for(let r of t.fields.byMember()){let t;let i=e[r.localName];if(r.repeated)t=i.map(tn);else if("map"==r.kind)for(let[e,o]of(t=n[r.localName],Object.entries(i)))t[e]=tn(o);else t="oneof"==r.kind?r.findField(i.case)?{case:i.case,value:tn(i.value)}:{case:void 0}:tn(i);n[r.localName]=t}return n}}),{newFieldList:e=>new ti(e,tm),initFields(e){for(let t of e.getType().fields.byMember()){if(t.opt)continue;let n=t.localName;if(t.repeated){e[n]=[];continue}switch(t.kind){case"oneof":e[n]={case:void 0};break;case"enum":e[n]=0;break;case"map":e[n]={};break;case"scalar":e[n]=ej(t.T,t.L)}}}}),makeMessageType(e,t,n){return function(e,t,n,r){var i;let o=null!==(i=null==r?void 0:r.localName)&&void 0!==i?i:t.substring(t.lastIndexOf(".")+1),s={[o]:function(t){e.util.initFields(this),e.util.initPartial(t,this)}}[o];return Object.setPrototypeOf(s.prototype,new ex),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary:(e,t)=>new s().fromBinary(e,t),fromJson:(e,t)=>new s().fromJson(e,t),fromJsonString:(e,t)=>new s().fromJsonString(e,t),equals:(t,n)=>e.util.equals(s,t,n)}),s}(this,e,t,n)},makeEnum:function(e,t,n){let r={};for(let e of t){let t=eC(e);r[t.localName]=t.no,r[t.no]=t.localName}return ew(r,e,t),r},makeEnumType:e_,getEnumType:function(e){let t=e[eb];return em(t,"missing enum type on enum object"),t},makeExtension(e,t,n){var r;let i;return r=this,{typeName:e,extendee:t,get field(){if(!i){let t="function"==typeof n?n():n;t.name=e.split(".").pop(),t.jsonName="[".concat(e,"]"),i=r.util.newFieldList([t]).list()[0]}return i},runtime:r}}};function tm(e){var t,n,r,i;let o;let s=[];for(let a of"function"==typeof e?e():e){if(a.localName=to(a.name,void 0!==a.oneof),a.jsonName=null!==(t=a.jsonName)&&void 0!==t?t:ts(a.name),a.repeated=null!==(n=a.repeated)&&void 0!==n&&n,"scalar"==a.kind&&(a.L=null!==(r=a.L)&&void 0!==r?r:K.BIGINT),void 0!==a.oneof){let e="string"==typeof a.oneof?a.oneof:a.oneof.name;o&&o.name==e||(o=new tp(e)),a.oneof=o,o.addField(a)}"message"==a.kind&&(a.delimited=!1),a.packed=null!==(i=a.packed)&&void 0!==i?i:"enum"==a.kind||"scalar"==a.kind&&a.T!=q.BYTES&&a.T!=q.STRING,s.push(a)}return s}class tg extends ex{constructor(e){super(),this.seconds=eN.zero,this.nanos=0,tf.util.initPartial(e,this)}fromJson(e,t){if("string"!=typeof e)throw Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(tf.json.debug(e)));let n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");let r=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(r))throw Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=eN.parse(r/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(e){let t=1e3*Number(this.seconds);if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){let e=(this.nanos+1e9).toString().substring(1);n="000000"===e.substring(3)?"."+e.substring(0,3)+"Z":"000"===e.substring(6)?"."+e.substring(0,6)+"Z":"."+e+"Z"}return new Date(t).toISOString().replace(".000Z",n)}toDate(){return new Date(1e3*Number(this.seconds)+Math.ceil(this.nanos/1e6))}static now(){return tg.fromDate(new Date)}static fromDate(e){let t=e.getTime();return new tg({seconds:eN.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return new tg().fromBinary(e,t)}static fromJson(e,t){return new tg().fromJson(e,t)}static fromJsonString(e,t){return new tg().fromJsonString(e,t)}static equals(e,t){return tf.util.equals(tg,e,t)}}tg.runtime=tf,tg.typeName="google.protobuf.Timestamp",tg.fields=tf.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);let tv=tf.makeEnum("livekit.AudioCodec",[{no:0,name:"DEFAULT_AC"},{no:1,name:"OPUS"},{no:2,name:"AAC"}]),ty=tf.makeEnum("livekit.VideoCodec",[{no:0,name:"DEFAULT_VC"},{no:1,name:"H264_BASELINE"},{no:2,name:"H264_MAIN"},{no:3,name:"H264_HIGH"},{no:4,name:"VP8"}]),tb=tf.makeEnum("livekit.ImageCodec",[{no:0,name:"IC_DEFAULT"},{no:1,name:"IC_JPEG"}]),tw=tf.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),t_=tf.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),tC=tf.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),tx=tf.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),tk=tf.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),tS=tf.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"}]),tE=tf.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),tT=tf.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),tP=tf.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:tI,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:tQ}]),tI=tf.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]);tf.makeMessageType("livekit.PlayoutDelay",()=>[{no:1,name:"enabled",kind:"scalar",T:8},{no:2,name:"min",kind:"scalar",T:13},{no:3,name:"max",kind:"scalar",T:13}]);let tR=tf.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:tf.getEnumType(t_),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8}]),tO=tf.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:tf.getEnumType(tA)},{no:4,name:"tracks",kind:"message",T:tD,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:tR},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:tf.getEnumType(tN)}]),tA=tf.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),tN=tf.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"}]);tf.makeMessageType("livekit.Encryption",[]);let tL=tf.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),tM=tf.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:tj,repeated:!0}]),tD=tf.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:tf.getEnumType(tw)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:tf.getEnumType(t_)},{no:10,name:"layers",kind:"message",T:tj,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:tM,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:tf.getEnumType(tL)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:tQ}]),tj=tf.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:tf.getEnumType(tC)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13}]),tU=tf.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:tf.getEnumType(tF)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:tz,oneof:"value"},{no:3,name:"speaker",kind:"message",T:tV,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:tH,oneof:"value"}]),tF=tf.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),tV=tf.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:tB,repeated:!0}]),tB=tf.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),tz=tf.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0}]),tH=tf.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),tq=tf.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),tK=tf.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:tf.getEnumType(tG)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9}]),tG=tf.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),tW=tf.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:tf.getEnumType(t$)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9}]),t$=tf.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"}]),tZ=tf.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:tJ},{no:2,name:"screen",kind:"message",T:tJ},{no:3,name:"resume_connection",kind:"enum",T:tf.getEnumType(tk)},{no:4,name:"disabled_codecs",kind:"message",T:tY},{no:5,name:"force_relay",kind:"enum",T:tf.getEnumType(tk)}]),tJ=tf.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:tf.getEnumType(tk)}]),tY=tf.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:tI,repeated:!0},{no:2,name:"publish",kind:"message",T:tI,repeated:!0}]),tX=tf.makeMessageType("livekit.RTPDrift",()=>[{no:1,name:"start_time",kind:"message",T:tg},{no:2,name:"end_time",kind:"message",T:tg},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"start_timestamp",kind:"scalar",T:4},{no:5,name:"end_timestamp",kind:"scalar",T:4},{no:6,name:"rtp_clock_ticks",kind:"scalar",T:4},{no:7,name:"drift_samples",kind:"scalar",T:3},{no:8,name:"drift_ms",kind:"scalar",T:1},{no:9,name:"clock_rate",kind:"scalar",T:1}]);tf.makeMessageType("livekit.RTPStats",()=>[{no:1,name:"start_time",kind:"message",T:tg},{no:2,name:"end_time",kind:"message",T:tg},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"packets",kind:"scalar",T:13},{no:5,name:"packet_rate",kind:"scalar",T:1},{no:6,name:"bytes",kind:"scalar",T:4},{no:39,name:"header_bytes",kind:"scalar",T:4},{no:7,name:"bitrate",kind:"scalar",T:1},{no:8,name:"packets_lost",kind:"scalar",T:13},{no:9,name:"packet_loss_rate",kind:"scalar",T:1},{no:10,name:"packet_loss_percentage",kind:"scalar",T:2},{no:11,name:"packets_duplicate",kind:"scalar",T:13},{no:12,name:"packet_duplicate_rate",kind:"scalar",T:1},{no:13,name:"bytes_duplicate",kind:"scalar",T:4},{no:40,name:"header_bytes_duplicate",kind:"scalar",T:4},{no:14,name:"bitrate_duplicate",kind:"scalar",T:1},{no:15,name:"packets_padding",kind:"scalar",T:13},{no:16,name:"packet_padding_rate",kind:"scalar",T:1},{no:17,name:"bytes_padding",kind:"scalar",T:4},{no:41,name:"header_bytes_padding",kind:"scalar",T:4},{no:18,name:"bitrate_padding",kind:"scalar",T:1},{no:19,name:"packets_out_of_order",kind:"scalar",T:13},{no:20,name:"frames",kind:"scalar",T:13},{no:21,name:"frame_rate",kind:"scalar",T:1},{no:22,name:"jitter_current",kind:"scalar",T:1},{no:23,name:"jitter_max",kind:"scalar",T:1},{no:24,name:"gap_histogram",kind:"map",K:5,V:{kind:"scalar",T:13}},{no:25,name:"nacks",kind:"scalar",T:13},{no:37,name:"nack_acks",kind:"scalar",T:13},{no:26,name:"nack_misses",kind:"scalar",T:13},{no:38,name:"nack_repeated",kind:"scalar",T:13},{no:27,name:"plis",kind:"scalar",T:13},{no:28,name:"last_pli",kind:"message",T:tg},{no:29,name:"firs",kind:"scalar",T:13},{no:30,name:"last_fir",kind:"message",T:tg},{no:31,name:"rtt_current",kind:"scalar",T:13},{no:32,name:"rtt_max",kind:"scalar",T:13},{no:33,name:"key_frames",kind:"scalar",T:13},{no:34,name:"last_key_frame",kind:"message",T:tg},{no:35,name:"layer_lock_plis",kind:"scalar",T:13},{no:36,name:"last_layer_lock_pli",kind:"message",T:tg},{no:44,name:"packet_drift",kind:"message",T:tX},{no:45,name:"report_drift",kind:"message",T:tX}]);let tQ=tf.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),t0=tf.makeEnum("livekit.EncodedFileType",[{no:0,name:"DEFAULT_FILETYPE"},{no:1,name:"MP4"},{no:2,name:"OGG"}]),t1=tf.makeEnum("livekit.SegmentedFileProtocol",[{no:0,name:"DEFAULT_SEGMENTED_FILE_PROTOCOL"},{no:1,name:"HLS_PROTOCOL"}]),t2=tf.makeEnum("livekit.SegmentedFileSuffix",[{no:0,name:"INDEX"},{no:1,name:"TIMESTAMP"}]),t3=tf.makeEnum("livekit.ImageFileSuffix",[{no:0,name:"IMAGE_SUFFIX_INDEX"},{no:1,name:"IMAGE_SUFFIX_TIMESTAMP"}]),t4=tf.makeEnum("livekit.StreamProtocol",[{no:0,name:"DEFAULT_PROTOCOL"},{no:1,name:"RTMP"}]),t5=tf.makeEnum("livekit.EncodingOptionsPreset",[{no:0,name:"H264_720P_30"},{no:1,name:"H264_720P_60"},{no:2,name:"H264_1080P_30"},{no:3,name:"H264_1080P_60"},{no:4,name:"PORTRAIT_H264_720P_30"},{no:5,name:"PORTRAIT_H264_720P_60"},{no:6,name:"PORTRAIT_H264_1080P_30"},{no:7,name:"PORTRAIT_H264_1080P_60"}]),t6=tf.makeEnum("livekit.EgressStatus",[{no:0,name:"EGRESS_STARTING"},{no:1,name:"EGRESS_ACTIVE"},{no:2,name:"EGRESS_ENDING"},{no:3,name:"EGRESS_COMPLETE"},{no:4,name:"EGRESS_FAILED"},{no:5,name:"EGRESS_ABORTED"},{no:6,name:"EGRESS_LIMIT_REACHED"}]),t8=tf.makeMessageType("livekit.RoomCompositeEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"layout",kind:"scalar",T:9},{no:3,name:"audio_only",kind:"scalar",T:8},{no:4,name:"video_only",kind:"scalar",T:8},{no:5,name:"custom_base_url",kind:"scalar",T:9},{no:6,name:"file",kind:"message",T:nn,oneof:"output"},{no:7,name:"stream",kind:"message",T:nu,oneof:"output"},{no:10,name:"segments",kind:"message",T:nr,oneof:"output"},{no:8,name:"preset",kind:"enum",T:tf.getEnumType(t5),oneof:"options"},{no:9,name:"advanced",kind:"message",T:nd,oneof:"options"},{no:11,name:"file_outputs",kind:"message",T:nn,repeated:!0},{no:12,name:"stream_outputs",kind:"message",T:nu,repeated:!0},{no:13,name:"segment_outputs",kind:"message",T:nr,repeated:!0},{no:14,name:"image_outputs",kind:"message",T:no,repeated:!0}]),t7=tf.makeMessageType("livekit.WebEgressRequest",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"audio_only",kind:"scalar",T:8},{no:3,name:"video_only",kind:"scalar",T:8},{no:12,name:"await_start_signal",kind:"scalar",T:8},{no:4,name:"file",kind:"message",T:nn,oneof:"output"},{no:5,name:"stream",kind:"message",T:nu,oneof:"output"},{no:6,name:"segments",kind:"message",T:nr,oneof:"output"},{no:7,name:"preset",kind:"enum",T:tf.getEnumType(t5),oneof:"options"},{no:8,name:"advanced",kind:"message",T:nd,oneof:"options"},{no:9,name:"file_outputs",kind:"message",T:nn,repeated:!0},{no:10,name:"stream_outputs",kind:"message",T:nu,repeated:!0},{no:11,name:"segment_outputs",kind:"message",T:nr,repeated:!0},{no:13,name:"image_outputs",kind:"message",T:no,repeated:!0}]),t9=tf.makeMessageType("livekit.ParticipantEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"screen_share",kind:"scalar",T:8},{no:4,name:"preset",kind:"enum",T:tf.getEnumType(t5),oneof:"options"},{no:5,name:"advanced",kind:"message",T:nd,oneof:"options"},{no:6,name:"file_outputs",kind:"message",T:nn,repeated:!0},{no:7,name:"stream_outputs",kind:"message",T:nu,repeated:!0},{no:8,name:"segment_outputs",kind:"message",T:nr,repeated:!0},{no:9,name:"image_outputs",kind:"message",T:no,repeated:!0}]),ne=tf.makeMessageType("livekit.TrackCompositeEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"audio_track_id",kind:"scalar",T:9},{no:3,name:"video_track_id",kind:"scalar",T:9},{no:4,name:"file",kind:"message",T:nn,oneof:"output"},{no:5,name:"stream",kind:"message",T:nu,oneof:"output"},{no:8,name:"segments",kind:"message",T:nr,oneof:"output"},{no:6,name:"preset",kind:"enum",T:tf.getEnumType(t5),oneof:"options"},{no:7,name:"advanced",kind:"message",T:nd,oneof:"options"},{no:11,name:"file_outputs",kind:"message",T:nn,repeated:!0},{no:12,name:"stream_outputs",kind:"message",T:nu,repeated:!0},{no:13,name:"segment_outputs",kind:"message",T:nr,repeated:!0},{no:14,name:"image_outputs",kind:"message",T:no,repeated:!0}]),nt=tf.makeMessageType("livekit.TrackEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"track_id",kind:"scalar",T:9},{no:3,name:"file",kind:"message",T:ni,oneof:"output"},{no:4,name:"websocket_url",kind:"scalar",T:9,oneof:"output"}]),nn=tf.makeMessageType("livekit.EncodedFileOutput",()=>[{no:1,name:"file_type",kind:"enum",T:tf.getEnumType(t0)},{no:2,name:"filepath",kind:"scalar",T:9},{no:6,name:"disable_manifest",kind:"scalar",T:8},{no:3,name:"s3",kind:"message",T:ns,oneof:"output"},{no:4,name:"gcp",kind:"message",T:na,oneof:"output"},{no:5,name:"azure",kind:"message",T:nl,oneof:"output"},{no:7,name:"aliOSS",kind:"message",T:nc,oneof:"output"}]),nr=tf.makeMessageType("livekit.SegmentedFileOutput",()=>[{no:1,name:"protocol",kind:"enum",T:tf.getEnumType(t1)},{no:2,name:"filename_prefix",kind:"scalar",T:9},{no:3,name:"playlist_name",kind:"scalar",T:9},{no:11,name:"live_playlist_name",kind:"scalar",T:9},{no:4,name:"segment_duration",kind:"scalar",T:13},{no:10,name:"filename_suffix",kind:"enum",T:tf.getEnumType(t2)},{no:8,name:"disable_manifest",kind:"scalar",T:8},{no:5,name:"s3",kind:"message",T:ns,oneof:"output"},{no:6,name:"gcp",kind:"message",T:na,oneof:"output"},{no:7,name:"azure",kind:"message",T:nl,oneof:"output"},{no:9,name:"aliOSS",kind:"message",T:nc,oneof:"output"}]),ni=tf.makeMessageType("livekit.DirectFileOutput",()=>[{no:1,name:"filepath",kind:"scalar",T:9},{no:5,name:"disable_manifest",kind:"scalar",T:8},{no:2,name:"s3",kind:"message",T:ns,oneof:"output"},{no:3,name:"gcp",kind:"message",T:na,oneof:"output"},{no:4,name:"azure",kind:"message",T:nl,oneof:"output"},{no:6,name:"aliOSS",kind:"message",T:nc,oneof:"output"}]),no=tf.makeMessageType("livekit.ImageOutput",()=>[{no:1,name:"capture_interval",kind:"scalar",T:13},{no:2,name:"width",kind:"scalar",T:5},{no:3,name:"height",kind:"scalar",T:5},{no:4,name:"filename_prefix",kind:"scalar",T:9},{no:5,name:"filename_suffix",kind:"enum",T:tf.getEnumType(t3)},{no:6,name:"image_codec",kind:"enum",T:tf.getEnumType(tb)},{no:7,name:"disable_manifest",kind:"scalar",T:8},{no:8,name:"s3",kind:"message",T:ns,oneof:"output"},{no:9,name:"gcp",kind:"message",T:na,oneof:"output"},{no:10,name:"azure",kind:"message",T:nl,oneof:"output"},{no:11,name:"aliOSS",kind:"message",T:nc,oneof:"output"}]),ns=tf.makeMessageType("livekit.S3Upload",()=>[{no:1,name:"access_key",kind:"scalar",T:9},{no:2,name:"secret",kind:"scalar",T:9},{no:3,name:"region",kind:"scalar",T:9},{no:4,name:"endpoint",kind:"scalar",T:9},{no:5,name:"bucket",kind:"scalar",T:9},{no:6,name:"force_path_style",kind:"scalar",T:8},{no:7,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:8,name:"tagging",kind:"scalar",T:9},{no:9,name:"content_disposition",kind:"scalar",T:9}]),na=tf.makeMessageType("livekit.GCPUpload",()=>[{no:1,name:"credentials",kind:"scalar",T:9},{no:2,name:"bucket",kind:"scalar",T:9},{no:3,name:"endpoint",kind:"scalar",T:9}]),nl=tf.makeMessageType("livekit.AzureBlobUpload",()=>[{no:1,name:"account_name",kind:"scalar",T:9},{no:2,name:"account_key",kind:"scalar",T:9},{no:3,name:"container_name",kind:"scalar",T:9}]),nc=tf.makeMessageType("livekit.AliOSSUpload",()=>[{no:1,name:"access_key",kind:"scalar",T:9},{no:2,name:"secret",kind:"scalar",T:9},{no:3,name:"region",kind:"scalar",T:9},{no:4,name:"endpoint",kind:"scalar",T:9},{no:5,name:"bucket",kind:"scalar",T:9}]),nu=tf.makeMessageType("livekit.StreamOutput",()=>[{no:1,name:"protocol",kind:"enum",T:tf.getEnumType(t4)},{no:2,name:"urls",kind:"scalar",T:9,repeated:!0}]),nd=tf.makeMessageType("livekit.EncodingOptions",()=>[{no:1,name:"width",kind:"scalar",T:5},{no:2,name:"height",kind:"scalar",T:5},{no:3,name:"depth",kind:"scalar",T:5},{no:4,name:"framerate",kind:"scalar",T:5},{no:5,name:"audio_codec",kind:"enum",T:tf.getEnumType(tv)},{no:6,name:"audio_bitrate",kind:"scalar",T:5},{no:11,name:"audio_quality",kind:"scalar",T:5},{no:7,name:"audio_frequency",kind:"scalar",T:5},{no:8,name:"video_codec",kind:"enum",T:tf.getEnumType(ty)},{no:9,name:"video_bitrate",kind:"scalar",T:5},{no:12,name:"video_quality",kind:"scalar",T:5},{no:10,name:"key_frame_interval",kind:"scalar",T:1}]);tf.makeMessageType("livekit.UpdateLayoutRequest",()=>[{no:1,name:"egress_id",kind:"scalar",T:9},{no:2,name:"layout",kind:"scalar",T:9}]),tf.makeMessageType("livekit.UpdateStreamRequest",()=>[{no:1,name:"egress_id",kind:"scalar",T:9},{no:2,name:"add_output_urls",kind:"scalar",T:9,repeated:!0},{no:3,name:"remove_output_urls",kind:"scalar",T:9,repeated:!0}]),tf.makeMessageType("livekit.ListEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"egress_id",kind:"scalar",T:9},{no:3,name:"active",kind:"scalar",T:8}]),tf.makeMessageType("livekit.ListEgressResponse",()=>[{no:1,name:"items",kind:"message",T:nh,repeated:!0}]),tf.makeMessageType("livekit.StopEgressRequest",()=>[{no:1,name:"egress_id",kind:"scalar",T:9}]);let nh=tf.makeMessageType("livekit.EgressInfo",()=>[{no:1,name:"egress_id",kind:"scalar",T:9},{no:2,name:"room_id",kind:"scalar",T:9},{no:13,name:"room_name",kind:"scalar",T:9},{no:3,name:"status",kind:"enum",T:tf.getEnumType(t6)},{no:10,name:"started_at",kind:"scalar",T:3},{no:11,name:"ended_at",kind:"scalar",T:3},{no:18,name:"updated_at",kind:"scalar",T:3},{no:21,name:"details",kind:"scalar",T:9},{no:9,name:"error",kind:"scalar",T:9},{no:4,name:"room_composite",kind:"message",T:t8,oneof:"request"},{no:14,name:"web",kind:"message",T:t7,oneof:"request"},{no:19,name:"participant",kind:"message",T:t9,oneof:"request"},{no:5,name:"track_composite",kind:"message",T:ne,oneof:"request"},{no:6,name:"track",kind:"message",T:nt,oneof:"request"},{no:7,name:"stream",kind:"message",T:np,oneof:"result"},{no:8,name:"file",kind:"message",T:ng,oneof:"result"},{no:12,name:"segments",kind:"message",T:nv,oneof:"result"},{no:15,name:"stream_results",kind:"message",T:nf,repeated:!0},{no:16,name:"file_results",kind:"message",T:ng,repeated:!0},{no:17,name:"segment_results",kind:"message",T:nv,repeated:!0},{no:20,name:"image_results",kind:"message",T:ny,repeated:!0}]),np=tf.makeMessageType("livekit.StreamInfoList",()=>[{no:1,name:"info",kind:"message",T:nf,repeated:!0}]),nf=tf.makeMessageType("livekit.StreamInfo",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3},{no:4,name:"duration",kind:"scalar",T:3},{no:5,name:"status",kind:"enum",T:tf.getEnumType(nm)},{no:6,name:"error",kind:"scalar",T:9}]),nm=tf.makeEnum("livekit.StreamInfo.Status",[{no:0,name:"ACTIVE"},{no:1,name:"FINISHED"},{no:2,name:"FAILED"}]),ng=tf.makeMessageType("livekit.FileInfo",()=>[{no:1,name:"filename",kind:"scalar",T:9},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3},{no:6,name:"duration",kind:"scalar",T:3},{no:4,name:"size",kind:"scalar",T:3},{no:5,name:"location",kind:"scalar",T:9}]),nv=tf.makeMessageType("livekit.SegmentsInfo",()=>[{no:1,name:"playlist_name",kind:"scalar",T:9},{no:8,name:"live_playlist_name",kind:"scalar",T:9},{no:2,name:"duration",kind:"scalar",T:3},{no:3,name:"size",kind:"scalar",T:3},{no:4,name:"playlist_location",kind:"scalar",T:9},{no:9,name:"live_playlist_location",kind:"scalar",T:9},{no:5,name:"segment_count",kind:"scalar",T:3},{no:6,name:"started_at",kind:"scalar",T:3},{no:7,name:"ended_at",kind:"scalar",T:3}]),ny=tf.makeMessageType("livekit.ImagesInfo",()=>[{no:1,name:"image_count",kind:"scalar",T:3},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3}]),nb=tf.makeMessageType("livekit.AutoParticipantEgress",()=>[{no:1,name:"preset",kind:"enum",T:tf.getEnumType(t5),oneof:"options"},{no:2,name:"advanced",kind:"message",T:nd,oneof:"options"},{no:3,name:"file_outputs",kind:"message",T:nn,repeated:!0},{no:4,name:"segment_outputs",kind:"message",T:nr,repeated:!0}]),nw=tf.makeMessageType("livekit.AutoTrackEgress",()=>[{no:1,name:"filepath",kind:"scalar",T:9},{no:5,name:"disable_manifest",kind:"scalar",T:8},{no:2,name:"s3",kind:"message",T:ns,oneof:"output"},{no:3,name:"gcp",kind:"message",T:na,oneof:"output"},{no:4,name:"azure",kind:"message",T:nl,oneof:"output"}]);tf.makeMessageType("livekit.CreateRoomRequest",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"empty_timeout",kind:"scalar",T:13},{no:10,name:"departure_timeout",kind:"scalar",T:13},{no:3,name:"max_participants",kind:"scalar",T:13},{no:4,name:"node_id",kind:"scalar",T:9},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"egress",kind:"message",T:n_},{no:7,name:"min_playout_delay",kind:"scalar",T:13},{no:8,name:"max_playout_delay",kind:"scalar",T:13},{no:9,name:"sync_streams",kind:"scalar",T:8}]);let n_=tf.makeMessageType("livekit.RoomEgress",()=>[{no:1,name:"room",kind:"message",T:t8},{no:3,name:"participant",kind:"message",T:nb},{no:2,name:"tracks",kind:"message",T:nw}]);tf.makeMessageType("livekit.ListRoomsRequest",()=>[{no:1,name:"names",kind:"scalar",T:9,repeated:!0}]),tf.makeMessageType("livekit.ListRoomsResponse",()=>[{no:1,name:"rooms",kind:"message",T:tP,repeated:!0}]),tf.makeMessageType("livekit.DeleteRoomRequest",()=>[{no:1,name:"room",kind:"scalar",T:9}]),tf.makeMessageType("livekit.DeleteRoomResponse",[]),tf.makeMessageType("livekit.ListParticipantsRequest",()=>[{no:1,name:"room",kind:"scalar",T:9}]),tf.makeMessageType("livekit.ListParticipantsResponse",()=>[{no:1,name:"participants",kind:"message",T:tO,repeated:!0}]),tf.makeMessageType("livekit.RoomParticipantIdentity",()=>[{no:1,name:"room",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9}]),tf.makeMessageType("livekit.RemoveParticipantResponse",[]),tf.makeMessageType("livekit.MuteRoomTrackRequest",()=>[{no:1,name:"room",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"track_sid",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8}]),tf.makeMessageType("livekit.MuteRoomTrackResponse",()=>[{no:1,name:"track",kind:"message",T:tD}]),tf.makeMessageType("livekit.UpdateParticipantRequest",()=>[{no:1,name:"room",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"metadata",kind:"scalar",T:9},{no:4,name:"permission",kind:"message",T:tR},{no:5,name:"name",kind:"scalar",T:9}]),tf.makeMessageType("livekit.UpdateSubscriptionsRequest",()=>[{no:1,name:"room",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"subscribe",kind:"scalar",T:8},{no:5,name:"participant_tracks",kind:"message",T:tq,repeated:!0}]),tf.makeMessageType("livekit.UpdateSubscriptionsResponse",[]),tf.makeMessageType("livekit.SendDataRequest",()=>[{no:1,name:"room",kind:"scalar",T:9},{no:2,name:"data",kind:"scalar",T:12},{no:3,name:"kind",kind:"enum",T:tf.getEnumType(tF)},{no:4,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:5,name:"topic",kind:"scalar",T:9,opt:!0}]),tf.makeMessageType("livekit.SendDataResponse",[]),tf.makeMessageType("livekit.UpdateRoomMetadataRequest",()=>[{no:1,name:"room",kind:"scalar",T:9},{no:2,name:"metadata",kind:"scalar",T:9}]);let nC=tf.makeEnum("livekit.JobType",[{no:0,name:"JT_ROOM"},{no:1,name:"JT_PUBLISHER"}]),nx=tf.makeEnum("livekit.WorkerStatus",[{no:0,name:"WS_AVAILABLE"},{no:1,name:"WS_FULL"}]),nk=tf.makeEnum("livekit.JobStatus",[{no:0,name:"JS_UNKNOWN"},{no:1,name:"JS_SUCCESS"},{no:2,name:"JS_FAILED"}]);tf.makeMessageType("livekit.AgentInfo",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:9}]);let nS=tf.makeMessageType("livekit.Job",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:tf.getEnumType(nC)},{no:3,name:"room",kind:"message",T:tP},{no:4,name:"participant",kind:"message",T:tO,opt:!0}]);tf.makeMessageType("livekit.WorkerMessage",()=>[{no:1,name:"register",kind:"message",T:nE,oneof:"message"},{no:2,name:"availability",kind:"message",T:nI,oneof:"message"},{no:3,name:"status",kind:"message",T:nA,oneof:"message"},{no:4,name:"job_update",kind:"message",T:nR,oneof:"message"}]),tf.makeMessageType("livekit.ServerMessage",()=>[{no:1,name:"register",kind:"message",T:nT,oneof:"message"},{no:2,name:"availability",kind:"message",T:nP,oneof:"message"},{no:3,name:"assignment",kind:"message",T:nO,oneof:"message"}]);let nE=tf.makeMessageType("livekit.RegisterWorkerRequest",()=>[{no:1,name:"type",kind:"enum",T:tf.getEnumType(nC)},{no:2,name:"worker_id",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:9},{no:4,name:"name",kind:"scalar",T:9}]),nT=tf.makeMessageType("livekit.RegisterWorkerResponse",()=>[{no:1,name:"worker_id",kind:"scalar",T:9},{no:2,name:"server_version",kind:"scalar",T:9}]),nP=tf.makeMessageType("livekit.AvailabilityRequest",()=>[{no:1,name:"job",kind:"message",T:nS}]),nI=tf.makeMessageType("livekit.AvailabilityResponse",()=>[{no:1,name:"job_id",kind:"scalar",T:9},{no:2,name:"available",kind:"scalar",T:8}]),nR=tf.makeMessageType("livekit.JobStatusUpdate",()=>[{no:1,name:"job_id",kind:"scalar",T:9},{no:2,name:"status",kind:"enum",T:tf.getEnumType(nk)},{no:3,name:"error",kind:"scalar",T:9},{no:4,name:"user_data",kind:"scalar",T:9}]),nO=tf.makeMessageType("livekit.JobAssignment",()=>[{no:1,name:"job",kind:"message",T:nS}]),nA=tf.makeMessageType("livekit.UpdateWorkerStatus",()=>[{no:1,name:"status",kind:"enum",T:tf.getEnumType(nx)}]),nN=tf.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),nL=tf.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),nM=tf.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),nD=tf.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:nG,oneof:"message"},{no:2,name:"answer",kind:"message",T:nG,oneof:"message"},{no:3,name:"trickle",kind:"message",T:nV,oneof:"message"},{no:4,name:"add_track",kind:"message",T:nF,oneof:"message"},{no:5,name:"mute",kind:"message",T:nB,oneof:"message"},{no:6,name:"subscription",kind:"message",T:n$,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:nZ,oneof:"message"},{no:8,name:"leave",kind:"message",T:nJ,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:nX,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:rt,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:rr,oneof:"message"},{no:13,name:"simulate",kind:"message",T:ro,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:nQ,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:rs,oneof:"message"}]),nj=tf.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:nz,oneof:"message"},{no:2,name:"answer",kind:"message",T:nG,oneof:"message"},{no:3,name:"offer",kind:"message",T:nG,oneof:"message"},{no:4,name:"trickle",kind:"message",T:nV,oneof:"message"},{no:5,name:"update",kind:"message",T:nW,oneof:"message"},{no:6,name:"track_published",kind:"message",T:nq,oneof:"message"},{no:8,name:"leave",kind:"message",T:nJ,oneof:"message"},{no:9,name:"mute",kind:"message",T:nB,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:n1,oneof:"message"},{no:11,name:"room_update",kind:"message",T:n2,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:n4,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:n6,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:n9,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:rn,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:nK,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:nH,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:ra,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:ru,oneof:"message"}]),nU=tf.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9}]),nF=tf.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:tf.getEnumType(tw)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:tf.getEnumType(t_)},{no:9,name:"layers",kind:"message",T:tj,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:nU,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:tf.getEnumType(tL)},{no:15,name:"stream",kind:"scalar",T:9}]),nV=tf.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:tf.getEnumType(nN)}]),nB=tf.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),nz=tf.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:tP},{no:2,name:"participant",kind:"message",T:tO},{no:3,name:"other_participants",kind:"message",T:tO,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:n0,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:tZ},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:tK},{no:13,name:"sif_trailer",kind:"scalar",T:12}]),nH=tf.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:n0,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:tZ}]),nq=tf.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:tD}]),nK=tf.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),nG=tf.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9}]),nW=tf.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:tO,repeated:!0}]),n$=tf.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:tq,repeated:!0}]),nZ=tf.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:tf.getEnumType(tC)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),nJ=tf.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:tf.getEnumType(tS)},{no:3,name:"action",kind:"enum",T:tf.getEnumType(nY)},{no:4,name:"regions",kind:"message",T:rl}]),nY=tf.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),nX=tf.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:tj,repeated:!0}]),nQ=tf.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9}]),n0=tf.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),n1=tf.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:tB,repeated:!0}]),n2=tf.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:tP}]),n3=tf.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:tf.getEnumType(tx)},{no:3,name:"score",kind:"scalar",T:2}]),n4=tf.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:n3,repeated:!0}]),n5=tf.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:tf.getEnumType(nL)}]),n6=tf.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:n5,repeated:!0}]),n8=tf.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:tf.getEnumType(tC)},{no:2,name:"enabled",kind:"scalar",T:8}]),n7=tf.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:n8,repeated:!0}]),n9=tf.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:n8,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:n7,repeated:!0}]),re=tf.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),rt=tf.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:re,repeated:!0}]),rn=tf.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),rr=tf.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:nG},{no:2,name:"subscription",kind:"message",T:n$},{no:3,name:"publish_tracks",kind:"message",T:nq,repeated:!0},{no:4,name:"data_channels",kind:"message",T:ri,repeated:!0},{no:5,name:"offer",kind:"message",T:nG},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0}]),ri=tf.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:tf.getEnumType(nN)}]),ro=tf.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:tf.getEnumType(nM),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"}]),rs=tf.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),ra=tf.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),rl=tf.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:rc,repeated:!0}]),rc=tf.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),ru=tf.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:tf.getEnumType(tT)}]),rd=tf.makeEnum("livekit.IngressInput",[{no:0,name:"RTMP_INPUT"},{no:1,name:"WHIP_INPUT"},{no:2,name:"URL_INPUT"}]),rh=tf.makeEnum("livekit.IngressAudioEncodingPreset",[{no:0,name:"OPUS_STEREO_96KBPS"},{no:1,name:"OPUS_MONO_64KBS"}]),rp=tf.makeEnum("livekit.IngressVideoEncodingPreset",[{no:0,name:"H264_720P_30FPS_3_LAYERS"},{no:1,name:"H264_1080P_30FPS_3_LAYERS"},{no:2,name:"H264_540P_25FPS_2_LAYERS"},{no:3,name:"H264_720P_30FPS_1_LAYER"},{no:4,name:"H264_1080P_30FPS_1_LAYER"},{no:5,name:"H264_720P_30FPS_3_LAYERS_HIGH_MOTION"},{no:6,name:"H264_1080P_30FPS_3_LAYERS_HIGH_MOTION"},{no:7,name:"H264_540P_25FPS_2_LAYERS_HIGH_MOTION"},{no:8,name:"H264_720P_30FPS_1_LAYER_HIGH_MOTION"},{no:9,name:"H264_1080P_30FPS_1_LAYER_HIGH_MOTION"}]);tf.makeMessageType("livekit.CreateIngressRequest",()=>[{no:1,name:"input_type",kind:"enum",T:tf.getEnumType(rd)},{no:9,name:"url",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"room_name",kind:"scalar",T:9},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"participant_name",kind:"scalar",T:9},{no:10,name:"participant_metadata",kind:"scalar",T:9},{no:8,name:"bypass_transcoding",kind:"scalar",T:8},{no:6,name:"audio",kind:"message",T:rf},{no:7,name:"video",kind:"message",T:rm}]);let rf=tf.makeMessageType("livekit.IngressAudioOptions",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"source",kind:"enum",T:tf.getEnumType(t_)},{no:3,name:"preset",kind:"enum",T:tf.getEnumType(rh),oneof:"encoding_options"},{no:4,name:"options",kind:"message",T:rg,oneof:"encoding_options"}]),rm=tf.makeMessageType("livekit.IngressVideoOptions",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"source",kind:"enum",T:tf.getEnumType(t_)},{no:3,name:"preset",kind:"enum",T:tf.getEnumType(rp),oneof:"encoding_options"},{no:4,name:"options",kind:"message",T:rv,oneof:"encoding_options"}]),rg=tf.makeMessageType("livekit.IngressAudioEncodingOptions",()=>[{no:1,name:"audio_codec",kind:"enum",T:tf.getEnumType(tv)},{no:2,name:"bitrate",kind:"scalar",T:13},{no:3,name:"disable_dtx",kind:"scalar",T:8},{no:4,name:"channels",kind:"scalar",T:13}]),rv=tf.makeMessageType("livekit.IngressVideoEncodingOptions",()=>[{no:1,name:"video_codec",kind:"enum",T:tf.getEnumType(ty)},{no:2,name:"frame_rate",kind:"scalar",T:1},{no:3,name:"layers",kind:"message",T:tj,repeated:!0}]),ry=tf.makeMessageType("livekit.IngressInfo",()=>[{no:1,name:"ingress_id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"stream_key",kind:"scalar",T:9},{no:4,name:"url",kind:"scalar",T:9},{no:5,name:"input_type",kind:"enum",T:tf.getEnumType(rd)},{no:13,name:"bypass_transcoding",kind:"scalar",T:8},{no:6,name:"audio",kind:"message",T:rf},{no:7,name:"video",kind:"message",T:rm},{no:8,name:"room_name",kind:"scalar",T:9},{no:9,name:"participant_identity",kind:"scalar",T:9},{no:10,name:"participant_name",kind:"scalar",T:9},{no:14,name:"participant_metadata",kind:"scalar",T:9},{no:11,name:"reusable",kind:"scalar",T:8},{no:12,name:"state",kind:"message",T:rb}]),rb=tf.makeMessageType("livekit.IngressState",()=>[{no:1,name:"status",kind:"enum",T:tf.getEnumType(rw)},{no:2,name:"error",kind:"scalar",T:9},{no:3,name:"video",kind:"message",T:r_},{no:4,name:"audio",kind:"message",T:rC},{no:5,name:"room_id",kind:"scalar",T:9},{no:7,name:"started_at",kind:"scalar",T:3},{no:8,name:"ended_at",kind:"scalar",T:3},{no:9,name:"resource_id",kind:"scalar",T:9},{no:6,name:"tracks",kind:"message",T:tD,repeated:!0}]),rw=tf.makeEnum("livekit.IngressState.Status",[{no:0,name:"ENDPOINT_INACTIVE"},{no:1,name:"ENDPOINT_BUFFERING"},{no:2,name:"ENDPOINT_PUBLISHING"},{no:3,name:"ENDPOINT_ERROR"},{no:4,name:"ENDPOINT_COMPLETE"}]),r_=tf.makeMessageType("livekit.InputVideoState",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"average_bitrate",kind:"scalar",T:13},{no:3,name:"width",kind:"scalar",T:13},{no:4,name:"height",kind:"scalar",T:13},{no:5,name:"framerate",kind:"scalar",T:1}]),rC=tf.makeMessageType("livekit.InputAudioState",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"average_bitrate",kind:"scalar",T:13},{no:3,name:"channels",kind:"scalar",T:13},{no:4,name:"sample_rate",kind:"scalar",T:13}]);tf.makeMessageType("livekit.UpdateIngressRequest",()=>[{no:1,name:"ingress_id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"room_name",kind:"scalar",T:9},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"participant_name",kind:"scalar",T:9},{no:9,name:"participant_metadata",kind:"scalar",T:9},{no:8,name:"bypass_transcoding",kind:"scalar",T:8,opt:!0},{no:6,name:"audio",kind:"message",T:rf},{no:7,name:"video",kind:"message",T:rm}]),tf.makeMessageType("livekit.ListIngressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"ingress_id",kind:"scalar",T:9}]),tf.makeMessageType("livekit.ListIngressResponse",()=>[{no:1,name:"items",kind:"message",T:ry,repeated:!0}]),tf.makeMessageType("livekit.DeleteIngressRequest",()=>[{no:1,name:"ingress_id",kind:"scalar",T:9}]),tf.makeMessageType("livekit.WebhookEvent",()=>[{no:1,name:"event",kind:"scalar",T:9},{no:2,name:"room",kind:"message",T:tP},{no:3,name:"participant",kind:"message",T:tO},{no:9,name:"egress_info",kind:"message",T:nh},{no:10,name:"ingress_info",kind:"message",T:ry},{no:8,name:"track",kind:"message",T:tD},{no:6,name:"id",kind:"scalar",T:9},{no:7,name:"created_at",kind:"scalar",T:3},{no:11,name:"num_dropped",kind:"scalar",T:5}]),tf.makeMessageType("livekit.CreateSIPTrunkRequest",()=>[{no:1,name:"inbound_addresses",kind:"scalar",T:9,repeated:!0},{no:2,name:"outbound_address",kind:"scalar",T:9},{no:3,name:"outbound_number",kind:"scalar",T:9},{no:4,name:"inbound_numbers_regex",kind:"scalar",T:9,repeated:!0},{no:9,name:"inbound_numbers",kind:"scalar",T:9,repeated:!0},{no:5,name:"inbound_username",kind:"scalar",T:9},{no:6,name:"inbound_password",kind:"scalar",T:9},{no:7,name:"outbound_username",kind:"scalar",T:9},{no:8,name:"outbound_password",kind:"scalar",T:9}]);let rx=tf.makeMessageType("livekit.SIPTrunkInfo",()=>[{no:1,name:"sip_trunk_id",kind:"scalar",T:9},{no:2,name:"inbound_addresses",kind:"scalar",T:9,repeated:!0},{no:3,name:"outbound_address",kind:"scalar",T:9},{no:4,name:"outbound_number",kind:"scalar",T:9},{no:5,name:"inbound_numbers_regex",kind:"scalar",T:9,repeated:!0},{no:10,name:"inbound_numbers",kind:"scalar",T:9,repeated:!0},{no:6,name:"inbound_username",kind:"scalar",T:9},{no:7,name:"inbound_password",kind:"scalar",T:9},{no:8,name:"outbound_username",kind:"scalar",T:9},{no:9,name:"outbound_password",kind:"scalar",T:9}]);tf.makeMessageType("livekit.ListSIPTrunkRequest",[]),tf.makeMessageType("livekit.ListSIPTrunkResponse",()=>[{no:1,name:"items",kind:"message",T:rx,repeated:!0}]),tf.makeMessageType("livekit.DeleteSIPTrunkRequest",()=>[{no:1,name:"sip_trunk_id",kind:"scalar",T:9}]);let rk=tf.makeMessageType("livekit.SIPDispatchRuleDirect",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"pin",kind:"scalar",T:9}]),rS=tf.makeMessageType("livekit.SIPDispatchRuleIndividual",()=>[{no:1,name:"room_prefix",kind:"scalar",T:9},{no:2,name:"pin",kind:"scalar",T:9}]),rE=tf.makeMessageType("livekit.SIPDispatchRule",()=>[{no:1,name:"dispatch_rule_direct",kind:"message",T:rk,oneof:"rule"},{no:2,name:"dispatch_rule_individual",kind:"message",T:rS,oneof:"rule"}]);tf.makeMessageType("livekit.CreateSIPDispatchRuleRequest",()=>[{no:1,name:"rule",kind:"message",T:rE},{no:2,name:"trunk_ids",kind:"scalar",T:9,repeated:!0},{no:3,name:"hide_phone_number",kind:"scalar",T:8}]);let rT=tf.makeMessageType("livekit.SIPDispatchRuleInfo",()=>[{no:1,name:"sip_dispatch_rule_id",kind:"scalar",T:9},{no:2,name:"rule",kind:"message",T:rE},{no:3,name:"trunk_ids",kind:"scalar",T:9,repeated:!0},{no:4,name:"hide_phone_number",kind:"scalar",T:8}]);tf.makeMessageType("livekit.ListSIPDispatchRuleRequest",[]),tf.makeMessageType("livekit.ListSIPDispatchRuleResponse",()=>[{no:1,name:"items",kind:"message",T:rT,repeated:!0}]),tf.makeMessageType("livekit.DeleteSIPDispatchRuleRequest",()=>[{no:1,name:"sip_dispatch_rule_id",kind:"scalar",T:9}]),tf.makeMessageType("livekit.CreateSIPParticipantRequest",()=>[{no:1,name:"sip_trunk_id",kind:"scalar",T:9},{no:2,name:"sip_call_to",kind:"scalar",T:9},{no:3,name:"room_name",kind:"scalar",T:9},{no:4,name:"participant_identity",kind:"scalar",T:9}]),tf.makeMessageType("livekit.SIPParticipantInfo",()=>[{no:1,name:"participant_id",kind:"scalar",T:9},{no:2,name:"participant_identity",kind:"scalar",T:9},{no:3,name:"room_name",kind:"scalar",T:9}]);var rP="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rI={exports:{}};d=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(t,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<t?e:this.methodFactory(o,t,n)}this.log=this.debug}function a(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function l(r,s,l){var c;return"debug"===(c=r)&&(c="log"),typeof console!==t&&("trace"===c&&n?o:void 0!==console[c]?i(console,c):void 0!==console.log?i(console,"log"):e)||a.apply(this,arguments)}function c(e,n,i){var o,a=this;n=null==n?"WARN":n;var c="loglevel";function u(){var e;if(typeof window!==t&&c){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(c)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?c+=":"+e:"symbol"==typeof e&&(c=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=i||l,a.getLevel=function(){return o},a.setLevel=function(n,i){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),"number"==typeof n&&n>=0&&n<=a.levels.SILENT){if(o=n,!1!==i&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&c){try{window.localStorage[c]=n;return}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+n+";"}catch(e){}}}(n),s.call(a,n,e),typeof console===t&&n<a.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+n},a.setDefaultLevel=function(e){n=e,u()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(n,!1),function(){if(typeof window!==t&&c){try{window.localStorage.removeItem(c);return}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var d=u();null==d&&(d=n),a.setLevel(d,!1)}var u=new c,d={};u.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new c(e,u.getLevel(),u.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=h),u},u.getLoggers=function(){return d},u.default=u,u},rI.exports?rI.exports=d():rP.log=d();var rR=rI.exports;(h=W||(W={}))[h.trace=0]="trace",h[h.debug=1]="debug",h[h.info=2]="info",h[h.warn=3]="warn",h[h.error=4]="error",h[h.silent=5]="silent",(p=$||($={})).Default="livekit",p.Room="livekit-room",p.Participant="livekit-participant",p.Track="livekit-track",p.Publication="livekit-track-publication",p.Engine="livekit-engine",p.Signal="livekit-signal",p.PCManager="livekit-pc-manager",p.PCTransport="livekit-pc-transport",p.E2EE="lk-e2ee";let rO=rR.getLogger("livekit");function rA(e){let t=rR.getLogger(e);return t.setDefaultLevel(rO.getLevel()),t}Object.values($).map(e=>rR.getLogger(e)),rO.setDefaultLevel(W.info);let rN=rR.getLogger("lk-e2ee"),rL=[0,300,1200,2700,4800,7e3,7e3,7e3,7e3,7e3];class rM{constructor(e){this._retryDelays=void 0!==e?[...e]:rL}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;let t=this._retryDelays[e.retryCount];return e.retryCount<=1?t:t+1e3*Math.random()}}function rD(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}function rj(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}"function"==typeof SuppressedError&&SuppressedError;var rU={exports:{}},rF="object"==typeof Reflect?Reflect:null,rV=rF&&"function"==typeof rF.apply?rF.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};Z=rF&&"function"==typeof rF.ownKeys?rF.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var rB=Number.isNaN||function(e){return e!=e};function rz(){rz.init.call(this)}rU.exports=rz,rU.exports.once=function(e,t){return new Promise(function(n,r){var i;function o(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}rX(e,t,s,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&rX(e,"error",o,i))})},rz.EventEmitter=rz,rz.prototype._events=void 0,rz.prototype._eventsCount=0,rz.prototype._maxListeners=void 0;var rH=10;function rq(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function rK(e){return void 0===e._maxListeners?rz.defaultMaxListeners:e._maxListeners}function rG(e,t,n,r){if(rq(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=rK(e))>0&&s.length>i&&!s.warned){s.warned=!0;var i,o,s,a=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,console&&console.warn&&console.warn(a)}return e}function rW(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function r$(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=rW.bind(r);return i.listener=n,r.wrapFn=i,i}function rZ(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):rY(i,i.length)}function rJ(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function rY(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function rX(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(rz,"defaultMaxListeners",{enumerable:!0,get:function(){return rH},set:function(e){if("number"!=typeof e||e<0||rB(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");rH=e}}),rz.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},rz.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||rB(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},rz.prototype.getMaxListeners=function(){return rK(this)},rz.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,s=Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)rV(a,this,t);else for(var l=a.length,c=rY(a,l),n=0;n<l;++n)rV(c[n],this,t);return!0},rz.prototype.addListener=function(e,t){return rG(this,e,t,!1)},rz.prototype.on=rz.prototype.addListener,rz.prototype.prependListener=function(e,t){return rG(this,e,t,!0)},rz.prototype.once=function(e,t){return rq(t),this.on(e,r$(this,e,t)),this},rz.prototype.prependOnceListener=function(e,t){return rq(t),this.prependListener(e,r$(this,e,t)),this},rz.prototype.removeListener=function(e,t){var n,r,i,o,s;if(rq(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},rz.prototype.off=rz.prototype.removeListener,rz.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},rz.prototype.listeners=function(e){return rZ(this,e,!0)},rz.prototype.rawListeners=function(e){return rZ(this,e,!1)},rz.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):rJ.call(e,t)},rz.prototype.listenerCount=rJ,rz.prototype.eventNames=function(){return this._eventsCount>0?Z(this._events):[]};var rQ=rU.exports;let r0=!0,r1=!0;function r2(e,t,n){let r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function r3(e,t,n){if(!e.RTCPeerConnection)return;let r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);let o=e=>{let t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};let o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t]||!this._eventMap[t].has(n))return o.apply(this,arguments);let r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function r4(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):(r0=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function r5(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):(r1=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function r6(){"object"!=typeof window||r0||"undefined"==typeof console||"function"!=typeof console.log||console.log.apply(console,arguments)}function r8(e,t){r1&&console.warn(e+" is deprecated, please use "+t+" instead.")}function r7(e){return"[object Object]"===Object.prototype.toString.call(e)}function r9(e,t,n){let r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;let o=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(t=>{e.forEach(n=>{n.type===r&&n.trackId===t.id&&function e(t,n,r){!n||r.has(n.id)||(r.set(n.id,n),Object.keys(n).forEach(i=>{i.endsWith("Id")?e(t,t.get(n[i]),r):i.endsWith("Ids")&&n[i].forEach(n=>{e(t,t.get(n),r)})}))}(e,n,i)})}),i}function ie(e,t){let n=e&&e.navigator;if(!n.mediaDevices)return;let r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;let t={};return Object.keys(e).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;let r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);let i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),(e={})[i("max",n)]=r.ideal):e[i("",n)]=r.ideal,t.optional.push(e)}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach(e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){let t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});let s=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!s)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:("user"===o.exact||"user"===o.ideal)&&(t=["front"]),t)return n.mediaDevices.enumerateDevices().then(n=>{let s=(n=n.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!s&&n.length&&t.includes("back")&&(s=n[n.length-1]),s&&(e.video.deviceId=o.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=r(e.video),r6("chrome: "+JSON.stringify(e)),i(e)})}e.video=r(e.video)}return r6("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=(function(e,t,r){i(e,e=>{n.webkitGetUserMedia(e,t,e=>{r&&r(o(e))})})}).bind(n),n.mediaDevices.getUserMedia){let e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(o(e))))}}}function it(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function ir(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)r3(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.track.id):{track:n.track};let i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}),t.stream.getTracks().forEach(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.id):{track:n};let i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function ii(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){let t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};let r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);let t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}let n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};let r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{let t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function io(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,n,r]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0==arguments.length||"function"!=typeof e))return t.apply(this,[]);let i=function(e){let t={};return e.result().forEach(e=>{let n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{n[t]=e.stat(t)}),t[n.id]=n}),t},o=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};return arguments.length>=2?t.apply(this,[function(e){n(o(i(e)))},e]):new Promise((e,n)=>{t.apply(this,[function(t){e(o(i(t)))},n])}).then(n,r)}}function is(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>r9(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),r3(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>r9(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){let e,t,n;let r=arguments[0];return(this.getSenders().forEach(t=>{t.track===r&&(e?n=!0:e=t)}),this.getReceivers().forEach(e=>(e.track===r&&(t?n=!0:t=e),e.track===r)),n||e&&t)?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():t?t.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function ia(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};let n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});let t=this.getSenders();n.apply(this,arguments);let r=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(r)};let r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};let i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{let n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),i.apply(this,arguments)}}function il(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return ia(e);let n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){let e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};let r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){let n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};let i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{let r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let i=this._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){let n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){let e=arguments,t=arguments.length&&"function"==typeof arguments[0];return t?n.apply(this,[t=>{let n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then(e=>o(this,e))}})[t]});let s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e,t;let n;return arguments.length&&arguments[0].type&&(arguments[0]=(e=this,t=arguments[0],n=t.sdp,Object.keys(e._reverseStreams||[]).forEach(t=>{let r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n}))),s.apply(this,arguments)};let a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){let e=a.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){let t;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{this._streams[n].getTracks().find(t=>e.track===t)&&(t=this._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ic(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}})[t]})}function iu(e,t){r3(e,"negotiationneeded",e=>{let n=e.target;if(!(t.version<72)&&(!n.getConfiguration||"plan-b"!==n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e})}var id=Object.freeze({__proto__:null,fixNegotiationNeeded:iu,shimAddTrackRemoveTrack:il,shimAddTrackRemoveTrackWithNative:ia,shimGetDisplayMedia:function(e,t){if((!e.navigator.mediaDevices||!("getDisplayMedia"in e.navigator.mediaDevices))&&e.navigator.mediaDevices){if("function"!=typeof t){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(t=>{let r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)})}}},shimGetSendersWithDtmf:ii,shimGetStats:io,shimGetUserMedia:ie,shimMediaStream:it,shimOnTrack:ir,shimPeerConnection:ic,shimSenderReceiverGetStats:is});function ih(e,t){let n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){r8("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){let e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(e((n=JSON.parse(JSON.stringify(n))).audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){let t=r.prototype.getSettings;r.prototype.getSettings=function(){let n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){let t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(e(n=JSON.parse(JSON.stringify(n)),"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function ip(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function im(e,t){if("object"!=typeof e||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}})[t]});let n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,i,o]=arguments;return r.apply(this,[e||null]).then(e=>{if(t.version<53&&!i)try{e.forEach(e=>{e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(i,o)}}function ig(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function iv(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),r3(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function iy(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){r8("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function ib(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function iw(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);let n=(e=[...e]).length>0;n&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw RangeError("max_framerate must be >= 0.0")});let r=t.apply(this,arguments);if(n){let{sender:t}=r,n=t.getParameters();"encodings"in n&&(1!==n.encodings.length||0!==Object.keys(n.encodings[0]).length)||(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return r})}function i_(e){if(!("object"==typeof e&&e.RTCRtpSender))return;let t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){let e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function iC(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function ix(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var ik=Object.freeze({__proto__:null,shimAddTransceiver:iw,shimCreateAnswer:ix,shimCreateOffer:iC,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){let e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:i_,shimGetUserMedia:ih,shimOnTrack:ip,shimPeerConnection:im,shimRTCDataChannel:ib,shimReceiverGetStats:iv,shimRemoveStream:iy,shimSenderGetStats:ig});function iS(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(n=>t.call(this,n,e)),e.getVideoTracks().forEach(n=>t.call(this,n,e))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r&&r.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);let n=e.getTracks();this.getSenders().forEach(e=>{n.includes(e.track)&&this.removeTrack(e)})})}}function iE(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);let t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){let e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);let n=new Event("addstream");n.stream=t,e.dispatchEvent(n)})}),t.apply(e,arguments)}}}function iT(e){if("object"!=typeof e||!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){let r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){let n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let a=function(e,t,n){let r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=a,a=function(e,t,n){let r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=a,a=function(e,t,n){let r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=a}function iP(e){let t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){let e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(iI(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}).bind(t))}function iI(e){return e&&void 0!==e.video?Object.assign({},e,{video:function e(t){return r7(t)?Object.keys(t).reduce(function(n,r){let i=r7(t[r]),o=i?e(t[r]):t[r],s=i&&!Object.keys(o).length;return void 0===o||s?n:Object.assign(n,{[r]:o})},{}):t}(e.video)}):e}function iR(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){let t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];void 0===r.urls&&r.url?(r8("RTCIceServer.url","RTCIceServer.urls"),(r=JSON.parse(JSON.stringify(r))).urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function iO(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function iA(e){let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);let t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);let n=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function iN(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var iL=Object.freeze({__proto__:null,shimAudioContext:iN,shimCallbacksAPI:iT,shimConstraints:iI,shimCreateOfferLegacy:iA,shimGetUserMedia:iP,shimLocalStreamsAPI:iS,shimRTCIceServerUrls:iR,shimRemoteStreamsAPI:iE,shimTrackEventTransceiver:iO}),iM={exports:{}};!function(e){let t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},t.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},t.getDescription=function(e){let n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){let n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter(e=>0===e.indexOf(n))},t.parseCandidate=function(e){let t;let n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":n.relatedAddress=t[e+1];break;case"rport":n.relatedPort=parseInt(t[e+1],10);break;case"tcptype":n.tcpType=t[e+1];break;case"ufrag":n.ufrag=t[e+1],n.usernameFragment=t[e+1];break;default:void 0===n[t[e]]&&(n[t[e]]=t[e+1])}return n},t.writeCandidate=function(e){let t=[];t.push(e.foundation);let n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);let r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);let n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){let t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){let t;let n={},r=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<r.length;e++)n[(t=r[e].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){let r=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){let t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){let t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substring(t+1,r),n.value=e.substring(r+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){let t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){let n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){let t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},t.parseCryptoLine=function(e){let t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;let t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){let r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){let n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");n.profile=r[2];for(let i=3;i<r.length;i++){let o=r[i],s=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){let r=t.parseRtpMap(s),i=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(r.parameters=i.length?t.parseFmtp(i[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach(e=>{n.headerExtensions.push(t.parseExtmap(e))});let i=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach(e=>{i.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" "+(n.codecs.length>0?"9":"0")+" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" "+n.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach(e=>{r+=t.writeRtpMap(e)+t.writeFmtp(e)+t.writeRtcpFb(e)});let i=0;return n.codecs.forEach(e=>{e.maxptime>i&&(i=e.maxptime)}),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach(e=>{r+=t.writeExtmap(e)}),r},t.parseRtpEncodingParameters=function(e){let n;let r=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),s=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),l=a.length>0&&a[0].ssrc,c=t.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));c.length>0&&c[0].length>1&&c[0][0]===l&&(n=c[0][1]),i.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&n&&(t.rtx={ssrc:n}),r.push(t),o&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},r.push(t))}}),0===r.length&&l&&r.push({ssrc:l});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?950*parseInt(u[0].substring(5),10)-16e3:void 0,r.forEach(e=>{e.maxBitrate=u})),r},t.parseRtcpParameters=function(e){let n={},r=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);let i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;let o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;let r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substring(7).split(" "))[0],track:n[1]};let i=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);if(i.length>0)return{stream:(n=i[0].value.split(" "))[0],track:n[1]}},t.parseSctpDescription=function(e){let n;let r=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(n=parseInt(i[0].substring(19),10)),isNaN(n)&&(n=65536);let o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:n};let s=t.matchPrefix(e,"a=sctpmap:");if(s.length>0){let e=s[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,r){return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+(void 0!==n?n:2)+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){let r=t.splitLines(e);for(let e=0;e<r.length;e++)switch(r[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[e].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){let n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){let n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;let n=t.splitLines(e);for(let e=0;e<n.length;e++)if(n[e].length<2||"="!==n[e].charAt(1))return!1;return!0},e.exports=t}(iM);var iD=iM.exports,ij=iD&&iD.__esModule&&Object.prototype.hasOwnProperty.call(iD,"default")?iD.default:iD,iU=(f={__proto__:null,default:ij},[iD].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(t){if("default"!==t&&!(t in f)){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(f,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}})}),Object.freeze(f));function iF(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;let t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){let n=new t(e),r=ij.parseCandidate(e.candidate);for(let e in r)e in n||Object.defineProperty(n,e,{value:r[e]});return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,r3(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function iV(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||r3(e,"icecandidate",e=>{if(e.candidate){let t=ij.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol=({0:"tls",1:"tcp",2:"udp"})[t.priority>>24])}return e})}function iB(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});let n=function(e){if(!e||!e.sdp)return!1;let t=ij.splitSections(e.sdp);return t.shift(),t.some(e=>{let t=ij.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},r=function(e){let t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return -1;let n=parseInt(t[1],10);return n!=n?-1:n},i=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},o=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);let i=ij.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substring(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){let{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){let e;let t=r(arguments[0]),n=i(t),s=o(arguments[0],t);e=0===n&&0===s?Number.POSITIVE_INFINITY:0===n||0===s?Math.max(n,s):Math.min(n,s);let a={};Object.defineProperty(a,"maxMessageSize",{get:()=>e}),this._sctp=a}return s.apply(this,arguments)}}function iz(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){let n=e.send;e.send=function(){let r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}let n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){let e=n.apply(this,arguments);return t(e,this),e},r3(e,"datachannel",e=>(t(e.channel,e.target),e))}function iH(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;let t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{let n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{let t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;let n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function iq(e,t){if(!e.RTCPeerConnection||"chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)return;let n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){let n=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function iK(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function iG(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(!(e={type:e.type,sdp:e.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?n.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>n.apply(this,[e]))})}var iW=Object.freeze({__proto__:null,removeExtmapAllowMixed:iq,shimAddIceCandidateNullOrEmpty:iK,shimConnectionState:iH,shimMaxMessageSize:iB,shimParameterlessSetLocalDescription:iG,shimRTCIceCandidate:iF,shimRTCIceCandidateRelayProtocol:iV,shimSendThrowTypeError:iz});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},n=function(e){let t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;let{navigator:n}=e;return n.mozGetUserMedia?(t.browser="firefox",t.version=r2(n.userAgent,/Firefox\/(\d+)\./,1)):n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection?(t.browser="chrome",t.version=r2(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./)?(t.browser="safari",t.version=r2(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype):t.browser="Not a supported browser.",t}(e),r={browserDetails:n,commonShim:iW,extractVersion:r2,disableLog:r4,disableWarnings:r5,sdp:iU};switch(n.browser){case"chrome":if(!id||!ic||!t.shimChrome){r6("Chrome shim is not included in this adapter release.");break}if(null===n.version){r6("Chrome shim can not determine version, not shimming.");break}r6("adapter.js shimming chrome."),r.browserShim=id,iK(e,n),iG(e),ie(e,n),it(e),ic(e,n),ir(e),il(e,n),ii(e),io(e),is(e),iu(e,n),iF(e),iV(e),iH(e),iB(e,n),iz(e),iq(e,n);break;case"firefox":if(!ik||!im||!t.shimFirefox){r6("Firefox shim is not included in this adapter release.");break}r6("adapter.js shimming firefox."),r.browserShim=ik,iK(e,n),iG(e),ih(e,n),im(e,n),ip(e),iy(e),ig(e),iv(e),ib(e),iw(e),i_(e),iC(e),ix(e),iF(e),iH(e),iB(e,n),iz(e);break;case"safari":if(!iL||!t.shimSafari){r6("Safari shim is not included in this adapter release.");break}r6("adapter.js shimming safari."),r.browserShim=iL,iK(e,n),iG(e),iR(e),iA(e),iT(e),iS(e),iE(e),iO(e),iP(e),iN(e),iF(e),iV(e),iB(e,n),iz(e),iq(e,n);break;default:r6("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});let i$="lk_e2ee";function iZ(){return void 0!==window.RTCRtpScriptTransform}(m=J||(J={})).SetKey="setKey",m.RatchetRequest="ratchetRequest",m.KeyRatcheted="keyRatcheted",(Y||(Y={})).KeyRatcheted="keyRatcheted",(g=X||(X={})).ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",g.EncryptionError="encryptionError",(Q||(Q={})).Error="cryptorError";class iJ extends Error{constructor(e,t){super(t||"an error has occured"),this.code=e}}class iY extends iJ{constructor(e,t,n){super(1,e),this.status=n,this.reason=t}}class iX extends iJ{constructor(e){super(21,null!=e?e:"device is unsupported")}}class iQ extends iJ{constructor(e){super(20,null!=e?e:"track is invalid")}}class i0 extends iJ{constructor(e){super(10,null!=e?e:"unsupported server")}}class i1 extends iJ{constructor(e){super(12,null!=e?e:"unexpected connection state")}}class i2 extends iJ{constructor(e){super(13,null!=e?e:"unable to negotiate")}}function i3(e,t,n){void 0===t&&(t=50),void 0===n&&(n={});var r,i,o,s=null!=(r=n.isImmediate)&&r,a=null!=(i=n.callback)&&i,l=n.maxWait,c=Date.now(),u=[],d=function(){var n=[].slice.call(arguments),r=this;return new Promise(function(i,d){var h=s&&void 0===o;if(void 0!==o&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,c=Date.now(),!s){var t=e.apply(r,n);a&&a(t),u.forEach(function(e){return(0,e.resolve)(t)}),u=[]}},function(){if(void 0!==l){var e=Date.now()-c;if(e+t>=l)return l-e}return t}()),h){var p=e.apply(r,n);return a&&a(p),i(p)}u.push({resolve:i,reject:d})})};return d.cancel=function(e){void 0!==o&&clearTimeout(o),u.forEach(function(t){return(0,t.reject)(e)}),u=[]},d}(v=ee||(ee={})).PermissionDenied="PermissionDenied",v.NotFound="NotFound",v.DeviceInUse="DeviceInUse",v.Other="Other",(y=ee||(ee={})).getFailure=function(e){if(e&&"name"in e)return"NotFoundError"===e.name||"DevicesNotFoundError"===e.name?y.NotFound:"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?y.PermissionDenied:"NotReadableError"===e.name||"TrackStartError"===e.name?y.DeviceInUse:y.Other},(b=et||(et={})).Connected="connected",b.Reconnecting="reconnecting",b.Reconnected="reconnected",b.Disconnected="disconnected",b.ConnectionStateChanged="connectionStateChanged",b.MediaDevicesChanged="mediaDevicesChanged",b.ParticipantConnected="participantConnected",b.ParticipantDisconnected="participantDisconnected",b.TrackPublished="trackPublished",b.TrackSubscribed="trackSubscribed",b.TrackSubscriptionFailed="trackSubscriptionFailed",b.TrackUnpublished="trackUnpublished",b.TrackUnsubscribed="trackUnsubscribed",b.TrackMuted="trackMuted",b.TrackUnmuted="trackUnmuted",b.LocalTrackPublished="localTrackPublished",b.LocalTrackUnpublished="localTrackUnpublished",b.LocalAudioSilenceDetected="localAudioSilenceDetected",b.ActiveSpeakersChanged="activeSpeakersChanged",b.ParticipantMetadataChanged="participantMetadataChanged",b.ParticipantNameChanged="participantNameChanged",b.RoomMetadataChanged="roomMetadataChanged",b.DataReceived="dataReceived",b.ConnectionQualityChanged="connectionQualityChanged",b.TrackStreamStateChanged="trackStreamStateChanged",b.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",b.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",b.AudioPlaybackStatusChanged="audioPlaybackChanged",b.VideoPlaybackStatusChanged="videoPlaybackChanged",b.MediaDevicesError="mediaDevicesError",b.ParticipantPermissionsChanged="participantPermissionsChanged",b.SignalConnected="signalConnected",b.RecordingStatusChanged="recordingStatusChanged",b.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",b.EncryptionError="encryptionError",b.DCBufferStatusChanged="dcBufferStatusChanged",b.ActiveDeviceChanged="activeDeviceChanged",(w=en||(en={})).TrackPublished="trackPublished",w.TrackSubscribed="trackSubscribed",w.TrackSubscriptionFailed="trackSubscriptionFailed",w.TrackUnpublished="trackUnpublished",w.TrackUnsubscribed="trackUnsubscribed",w.TrackMuted="trackMuted",w.TrackUnmuted="trackUnmuted",w.LocalTrackPublished="localTrackPublished",w.LocalTrackUnpublished="localTrackUnpublished",w.ParticipantMetadataChanged="participantMetadataChanged",w.ParticipantNameChanged="participantNameChanged",w.DataReceived="dataReceived",w.IsSpeakingChanged="isSpeakingChanged",w.ConnectionQualityChanged="connectionQualityChanged",w.TrackStreamStateChanged="trackStreamStateChanged",w.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",w.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",w.MediaDevicesError="mediaDevicesError",w.AudioStreamAcquired="audioStreamAcquired",w.ParticipantPermissionsChanged="participantPermissionsChanged",w.PCTrackAdded="pcTrackAdded",(_=er||(er={})).TransportsCreated="transportsCreated",_.Connected="connected",_.Disconnected="disconnected",_.Resuming="resuming",_.Resumed="resumed",_.Restarting="restarting",_.Restarted="restarted",_.SignalResumed="signalResumed",_.SignalRestarted="signalRestarted",_.Closing="closing",_.MediaTrackAdded="mediaTrackAdded",_.ActiveSpeakersUpdate="activeSpeakersUpdate",_.DataPacketReceived="dataPacketReceived",_.RTPVideoMapUpdate="rtpVideoMapUpdate",_.DCBufferStatusChanged="dcBufferStatusChanged",_.ParticipantUpdate="participantUpdate",_.RoomUpdate="roomUpdate",_.SpeakersChanged="speakersChanged",_.StreamStateChanged="streamStateChanged",_.ConnectionQualityUpdate="connectionQualityUpdate",_.SubscriptionError="subscriptionError",_.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",_.RemoteMute="remoteMute",_.SubscribedQualityUpdate="subscribedQualityUpdate",_.LocalTrackUnpublished="localTrackUnpublished",_.Offline="offline",(C=ei||(ei={})).Message="message",C.Muted="muted",C.Unmuted="unmuted",C.Restarted="restarted",C.Ended="ended",C.Subscribed="subscribed",C.Unsubscribed="unsubscribed",C.UpdateSettings="updateSettings",C.UpdateSubscription="updateSubscription",C.AudioPlaybackStarted="audioPlaybackStarted",C.AudioPlaybackFailed="audioPlaybackFailed",C.AudioSilenceDetected="audioSilenceDetected",C.VisibilityChanged="visibilityChanged",C.VideoDimensionsChanged="videoDimensionsChanged",C.VideoPlaybackStarted="videoPlaybackStarted",C.VideoPlaybackFailed="videoPlaybackFailed",C.ElementAttached="elementAttached",C.ElementDetached="elementDetached",C.UpstreamPaused="upstreamPaused",C.UpstreamResumed="upstreamResumed",C.SubscriptionPermissionChanged="subscriptionPermissionChanged",C.SubscriptionStatusChanged="subscriptionStatusChanged",C.SubscriptionFailed="subscriptionFailed",C.TrackProcessorUpdate="trackProcessorUpdate";let i4=/version\/(\d+(\.?_?\d+)+)/i;function i5(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(void 0===e&&"undefined"==typeof navigator)return;let n=(null!=e?e:navigator.userAgent).toLowerCase();if(void 0===r||t){let e=i6.find(e=>{let{test:t}=e;return t.test(n)});r=null==e?void 0:e.describe(n)}return r}let i6=[{test:/firefox|iceweasel|fxios/i,describe:e=>({name:"Firefox",version:i8(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0})},{test:/chrom|crios|crmo/i,describe:e=>({name:"Chrome",version:i8(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0})},{test:/safari|applewebkit/i,describe:e=>({name:"Safari",version:i8(i4,e),os:e.includes("mobile/")?"iOS":"macOS"})}];function i8(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.match(e);return r&&r.length>=n&&r[n]||""}class i7{}i7.setTimeout=function(){return setTimeout(...arguments)},i7.setInterval=function(){return setInterval(...arguments)},i7.clearTimeout=function(){return clearTimeout(...arguments)},i7.clearInterval=function(){return clearInterval(...arguments)};class i9{constructor(e,t,n,r,i){if("object"==typeof e)this.width=e.width,this.height=e.height,this.aspectRatio=e.aspectRatio,this.encoding={maxBitrate:e.maxBitrate,maxFramerate:e.maxFramerate,priority:e.priority};else if(void 0!==t&&void 0!==n)this.width=e,this.height=t,this.aspectRatio=e/t,this.encoding={maxBitrate:n,maxFramerate:r,priority:i};else throw TypeError("Unsupported options: provide at least width, height and maxBitrate")}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}let oe=["vp8","h264"],ot=["vp8","h264","vp9","av1"];(x=eo||(eo={})).telephone={maxBitrate:12e3},x.speech={maxBitrate:2e4},x.music={maxBitrate:32e3},x.musicStereo={maxBitrate:48e3},x.musicHighQuality={maxBitrate:64e3},x.musicHighQualityStereo={maxBitrate:96e3};let on={h90:new i9(160,90,9e4,20),h180:new i9(320,180,16e4,20),h216:new i9(384,216,18e4,20),h360:new i9(640,360,45e4,20),h540:new i9(960,540,8e5,25),h720:new i9(1280,720,17e5,30),h1080:new i9(1920,1080,3e6,30),h1440:new i9(2560,1440,5e6,30),h2160:new i9(3840,2160,8e6,30)},or={h120:new i9(160,120,7e4,20),h180:new i9(240,180,125e3,20),h240:new i9(320,240,14e4,20),h360:new i9(480,360,33e4,20),h480:new i9(640,480,5e5,20),h540:new i9(720,540,6e5,25),h720:new i9(960,720,13e5,30),h1080:new i9(1440,1080,23e5,30),h1440:new i9(1920,1440,38e5,30)},oi={h360fps3:new i9(640,360,2e5,3,"medium"),h360fps15:new i9(640,360,4e5,15,"medium"),h720fps5:new i9(1280,720,8e5,5,"medium"),h720fps15:new i9(1280,720,15e5,15,"medium"),h720fps30:new i9(1280,720,2e6,30,"medium"),h1080fps15:new i9(1920,1080,25e5,15,"medium"),h1080fps30:new i9(1920,1080,5e6,30,"medium"),original:new i9(0,0,7e6,30,"medium")},oo=[];(k=es||(es={}))[k.LOW=0]="LOW",k[k.MEDIUM=1]="MEDIUM",k[k.HIGH=2]="HIGH";class os extends rQ.EventEmitter{constructor(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.attachedElements=[],this.isMuted=!1,this.streamState=os.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=rO,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),"hidden"===document.visibilityState?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),5e3):this.handleAppVisibilityChanged()},this.log=rA(null!==(n=r.loggerName)&&void 0!==n?n:$.Track),this.loggerContextCb=r.loggerContextCb,this.setMaxListeners(100),this.kind=t,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=os.Source.Unknown}get logContext(){var e;return Object.assign(Object.assign({},null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this)),op(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let t="audio";this.kind===os.Kind.Video&&(t="video"),0===this.attachedElements.length&&os.Kind.Video&&this.addAppVisibilityListener(),e||("audio"===t&&(oo.forEach(t=>{null!==t.parentElement||e||(e=t)}),e&&oo.splice(oo.indexOf(e),1)),e||(e=document.createElement(t))),this.attachedElements.includes(e)||this.attachedElements.push(e),oa(this.mediaStreamTrack,e);let n=e.srcObject.getTracks(),r=n.some(e=>"audio"===e.kind);return e.play().then(()=>{this.emit(r?ei.AudioPlaybackStarted:ei.VideoPlaybackStarted)}).catch(t=>{"NotAllowedError"===t.name?this.emit(r?ei.AudioPlaybackFailed:ei.VideoPlaybackFailed,t):"AbortError"===t.name?rO.debug("".concat(r?"audio":"video"," playback aborted, likely due to new play request")):rO.warn("could not playback ".concat(r?"audio":"video"),t),r&&e&&n.some(e=>"video"===e.kind)&&"NotAllowedError"===t.name&&(e.muted=!0,e.play().catch(()=>{}))}),this.emit(ei.ElementAttached,e),e}detach(e){try{if(e){ol(this.mediaStreamTrack,e);let t=this.attachedElements.indexOf(e);return t>=0&&(this.attachedElements.splice(t,1),this.recycleElement(e),this.emit(ei.ElementDetached,e)),e}let t=[];return this.attachedElements.forEach(e=>{ol(this.mediaStreamTrack,e),t.push(e),this.recycleElement(e),this.emit(ei.ElementDetached,e)}),this.attachedElements=[],t}finally{0===this.attachedElements.length&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval)}updateLoggerOptions(e){e.loggerName&&(this.log=rA(e.loggerName)),e.loggerContextCb&&(this.loggerContextCb=e.loggerContextCb)}recycleElement(e){if(e instanceof HTMLAudioElement){let t=!0;e.pause(),oo.forEach(e=>{e.parentElement||(t=!1)}),t&&oo.push(e)}}handleAppVisibilityChanged(){return rD(this,void 0,void 0,function*(){this.isInBackground="hidden"===document.visibilityState})}addAppVisibilityListener(){ok()?(this.isInBackground="hidden"===document.visibilityState,document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){ok()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function oa(e,t){let n,r;t.srcObject instanceof MediaStream?n=t.srcObject:n=new MediaStream,(r="audio"===e.kind?n.getAudioTracks():n.getVideoTracks()).includes(e)||(r.forEach(e=>{n.removeTrack(e)}),n.addTrack(e)),oC()&&t instanceof HTMLVideoElement||(t.autoplay=!0),t.muted=0===n.getAudioTracks().length,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(oC()||o_())&&t instanceof HTMLVideoElement&&setTimeout(()=>{t.srcObject=n,t.play().catch(()=>{})},0))}function ol(e,t){if(t.srcObject instanceof MediaStream){let n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}function oc(e,t){return Object.keys(t).forEach(n=>{void 0===e[n]&&(e[n]=t[n])}),e}function ou(e){let t={};if(e.video){if("object"==typeof e.video){let n={},r=e.video;Object.keys(r).forEach(e=>{"resolution"===e?oc(n,r.resolution):n[e]=r[e]}),t.video=n}else t.video=e.video}else t.video=!1;return e.audio?"object"==typeof e.audio?t.audio=e.audio:t.audio=!0:t.audio=!1,t}function od(){let e="undefined"!=typeof window&&(window.AudioContext||window.webkitAudioContext);if(e)return new e({latencyHint:"interactive"})}function oh(e){let t=e.split("/")[1].toLowerCase();if(!ot.includes(t))throw Error("Video codec not supported: ".concat(t));return t}function op(e){return e instanceof os?{trackID:e.sid,source:e.source,muted:e.isMuted,enabled:e.mediaStreamTrack.enabled,kind:e.kind,streamID:e.mediaStreamID,streamTrackID:e.mediaStreamTrack.id}:{trackID:e.trackSid,enabled:e.isEnabled,muted:e.isMuted,trackInfo:Object.assign({mimeType:e.mimeType,name:e.trackName,encrypted:e.isEncrypted,kind:e.kind,source:e.source},e.track?op(e.track):{})}}(E=o=(S=os||(os={})).Kind||(S.Kind={})).Audio="audio",E.Video="video",E.Unknown="unknown",(T=s=S.Source||(S.Source={})).Camera="camera",T.Microphone="microphone",T.ScreenShare="screen_share",T.ScreenShareAudio="screen_share_audio",T.Unknown="unknown",(P=a=S.StreamState||(S.StreamState={})).Active="active",P.Paused="paused",P.Unknown="unknown",S.kindToProto=function(e){switch(e){case o.Audio:return tw.AUDIO;case o.Video:return tw.VIDEO;default:return tw.DATA}},S.kindFromProto=function(e){switch(e){case tw.AUDIO:return o.Audio;case tw.VIDEO:return o.Video;default:return o.Unknown}},S.sourceToProto=function(e){switch(e){case s.Camera:return t_.CAMERA;case s.Microphone:return t_.MICROPHONE;case s.ScreenShare:return t_.SCREEN_SHARE;case s.ScreenShareAudio:return t_.SCREEN_SHARE_AUDIO;default:return t_.UNKNOWN}},S.sourceFromProto=function(e){switch(e){case t_.CAMERA:return s.Camera;case t_.MICROPHONE:return s.Microphone;case t_.SCREEN_SHARE:return s.ScreenShare;case t_.SCREEN_SHARE_AUDIO:return s.ScreenShareAudio;default:return s.Unknown}},S.streamStateFromProto=function(e){switch(e){case nL.ACTIVE:return a.Active;case nL.PAUSED:return a.Paused;default:return a.Unknown}};let of="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function om(e){return rD(this,void 0,void 0,function*(){return new Promise(t=>i7.setTimeout(t,e))})}function og(){return"addTransceiver"in RTCPeerConnection.prototype}function ov(){return"addTrack"in RTCPeerConnection.prototype}function oy(e){return"av1"===e||"vp9"===e}function ob(e){return!!document&&(e||(e=document.createElement("audio")),"setSinkId"in e)}let ow={Chrome:"100",Safari:"15",Firefox:"100"};function o_(){var e;return(null===(e=i5())||void 0===e?void 0:e.name)==="Firefox"}function oC(){var e;return(null===(e=i5())||void 0===e?void 0:e.name)==="Safari"}function ox(){return!!ok()&&/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent)}function ok(){return"undefined"!=typeof document}function oS(){return"ReactNative"==navigator.product}function oE(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function oT(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function oP(){if(!oS())return;let e=oT();if(e)return e.platform}function oI(){if(ok())return window.devicePixelRatio;if(oS()){let e=oT();if(e)return e.devicePixelRatio}return 1}function oR(e,t){let n=e.split("."),r=t.split("."),i=Math.min(n.length,r.length);for(let e=0;e<i;++e){let t=parseInt(n[e],10),o=parseInt(r[e],10);if(t>o)return 1;if(t<o)return -1;if(e===i-1&&t===o)return 0}return""===e&&""!==t?-1:""===t?1:n.length==r.length?0:n.length<r.length?-1:1}function oO(e){for(let t of e)t.target.handleResize(t)}function oA(e){for(let t of e)t.target.handleVisibilityChanged(t)}let oN=null,oL=()=>(oN||(oN=new ResizeObserver(oO)),oN),oM=null,oD=()=>(oM||(oM=new IntersectionObserver(oA,{root:null,rootMargin:"0px"})),oM);function oj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=document.createElement("canvas");i.width=e,i.height=t;let o=i.getContext("2d");null==o||o.fillRect(0,0,i.width,i.height),r&&o&&(o.beginPath(),o.arc(e/2,t/2,50,0,2*Math.PI,!0),o.closePath(),o.fillStyle="grey",o.fill());let[s]=i.captureStream().getTracks();if(!s)throw Error("Could not get empty media stream video track");return s.enabled=n,s}function oU(){if(!i){let e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);let r=e.createMediaStreamDestination();if(t.connect(n),n.connect(r),t.start(),[i]=r.stream.getAudioTracks(),!i)throw Error("Could not get empty media stream audio track");i.enabled=!1}return i.clone()}class oF{constructor(e,t){this.onFinally=t,this.promise=new Promise((t,n)=>rD(this,void 0,void 0,function*(){this.resolve=t,this.reject=n,e&&(yield e(t,n))})).finally(()=>{var e;return null===(e=this.onFinally)||void 0===e?void 0:e.call(this)})}}class oV{constructor(){this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){let e;this._locks+=1;let t=new Promise(t=>e=()=>{this._locks-=1,t()}),n=this._locking.then(()=>e);return this._locking=this._locking.then(()=>t),n}}function oB(e){if("string"==typeof e)return e;if(Array.isArray(e))return e[0];if(e.exact)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(e.ideal)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function oz(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}let oH="default";class oq{static getInstance(){return void 0===this.instance&&(this.instance=new oq),this.instance}getDevices(e){var t;let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return rD(this,void 0,void 0,function*(){if((null===(t=oq.userMediaPromiseMap)||void 0===t?void 0:t.size)>0){rO.debug("awaiting getUserMedia promise");try{e?yield oq.userMediaPromiseMap.get(e):yield Promise.all(oq.userMediaPromiseMap.values())}catch(e){rO.warn("error waiting for media permissons")}}let r=yield navigator.mediaDevices.enumerateDevices();if(n&&!(oC()&&this.hasDeviceInUse(e))&&(0===r.length||r.some(t=>{let n=""===t.label,r=!e||t.kind===e;return n&&r}))){let t=yield navigator.mediaDevices.getUserMedia({video:"audioinput"!==e&&"audiooutput"!==e,audio:"videoinput"!==e});r=yield navigator.mediaDevices.enumerateDevices(),t.getTracks().forEach(e=>{e.stop()})}return e&&(r=r.filter(t=>t.kind===e)),r})}normalizeDeviceId(e,t,n){return rD(this,void 0,void 0,function*(){if(t!==oH)return t;let r=yield this.getDevices(e),i=new Map(r.map(e=>[e.groupId,0]));r.forEach(e=>{var t;return i.set(e.groupId,(null!==(t=i.get(e.groupId))&&void 0!==t?t:0)+1)});let o=r.find(e=>{var t;return(n===e.groupId||(null!==(t=i.get(e.groupId))&&void 0!==t?t:0)>1)&&e.deviceId!==oH});return null==o?void 0:o.deviceId})}hasDeviceInUse(e){return e?oq.userMediaPromiseMap.has(e):oq.userMediaPromiseMap.size>0}}oq.mediaDeviceKinds=["audioinput","audiooutput","videoinput"],oq.userMediaPromiseMap=new Map;class oK extends os{get constraints(){return this._constraints}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;super(e,t,i),this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=i3(()=>rD(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>rD(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(ei.Ended,this)},this.reacquireTrack=!1,this.providedByUser=r,this.muteLock=new oV,this.pauseUpstreamLock=new oV,this.processorLock=new oV,this.restartLock=new oV,this.setMediaStreamTrack(e,!0),this._constraints=e.getConstraints(),n&&(this._constraints=n)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==os.Kind.Video)return;let{width:e,height:t}=this._mediaStreamTrack.getSettings();if(e&&t)return{width:e,height:t}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var e,t;return null!==(t=null===(e=this.processor)||void 0===e?void 0:e.processedTrack)&&void 0!==t?t:this._mediaStreamTrack}setMediaStreamTrack(e,t){return rD(this,void 0,void 0,function*(){let n;if(e!==this._mediaStreamTrack||t){if(this._mediaStreamTrack&&(this.attachedElements.forEach(e=>{ol(this._mediaStreamTrack,e)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([e]),e&&(e.addEventListener("ended",this.handleEnded),e.addEventListener("mute",this.handleTrackMuteEvent),e.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=e.getConstraints()),this.processor&&e){let t=yield this.processorLock.lock();try{if(this.log.debug("restarting processor",this.logContext),"unknown"===this.kind)throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(oa(e,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:e,kind:this.kind,element:this.processorElement}),n=this.processor.processedTrack}finally{t()}}this.sender&&(yield this.sender.replaceTrack(null!=n?n:e)),this.providedByUser||this._mediaStreamTrack===e||this._mediaStreamTrack.stop(),this._mediaStreamTrack=e,e&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(t=>{oa(null!=n?n:e,t)}))}})}waitForDimensions(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return rD(this,void 0,void 0,function*(){if(this.kind===os.Kind.Audio)throw Error("cannot get dimensions for audio tracks");(null===(e=i5())||void 0===e?void 0:e.os)==="iOS"&&(yield om(10));let n=Date.now();for(;Date.now()-n<t;){let e=this.dimensions;if(e)return e;yield om(50)}throw new iQ("unable to get track dimensions after timeout")})}getDeviceId(){return rD(this,void 0,void 0,function*(){if(this.source===os.Source.ScreenShare)return;let{deviceId:e,groupId:t}=this._mediaStreamTrack.getSettings(),n=this.kind===os.Kind.Audio?"audioinput":"videoinput";return oq.getInstance().normalizeDeviceId(n,e,t)})}mute(){return rD(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return rD(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(e,t){return rD(this,void 0,void 0,function*(){let n,r;if(!this.sender)throw new iQ("unable to replace an unpublished track");return"boolean"==typeof t?n=t:void 0!==t&&(n=t.userProvidedTrack,r=t.stopProcessor),this.providedByUser=null==n||n,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(e),r&&this.processor&&(yield this.stopProcessor()),this})}restart(e){return rD(this,void 0,void 0,function*(){let t=yield this.restartLock.lock();try{e||(e=this._constraints),this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:e}));let t={audio:!1,video:!1};this.kind===os.Kind.Video?t.video=e:t.audio=e,this.attachedElements.forEach(e=>{ol(this.mediaStreamTrack,e)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();let n=(yield navigator.mediaDevices.getUserMedia(t)).getTracks()[0];return n.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(n),this._constraints=e,this.emit(ei.Restarted,this),this}finally{t()}})}setTrackMuted(e){this.log.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted"),this.logContext),(this.isMuted!==e||this._mediaStreamTrack.enabled===e)&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?ei.Muted:ei.Unmuted,this))}get needsReAcquisition(){return"live"!==this._mediaStreamTrack.readyState||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){let e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return rD(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),!ox()||(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),this.isInBackground||!this.needsReAcquisition||this.isUserProvided||this.isMuted||(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var e;super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),null===(e=this.processor)||void 0===e||e.destroy(),this.processor=void 0}pauseUpstream(){return rD(this,void 0,void 0,function*(){let e=yield this.pauseUpstreamLock.lock();try{if(!0===this._isUpstreamPaused)return;if(!this.sender){this.log.warn("unable to pause upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!0,this.emit(ei.UpstreamPaused,this);let e=i5();if((null==e?void 0:e.name)==="Safari"&&0>oR(e.version,"12.0"))throw new iX("pauseUpstream is not supported on Safari < 12.");yield this.sender.replaceTrack(null)}finally{e()}})}resumeUpstream(){return rD(this,void 0,void 0,function*(){let e=yield this.pauseUpstreamLock.lock();try{if(!1===this._isUpstreamPaused)return;if(!this.sender){this.log.warn("unable to resume upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!1,this.emit(ei.UpstreamResumed,this),yield this.sender.replaceTrack(this._mediaStreamTrack)}finally{e()}})}getRTCStatsReport(){var e;return rD(this,void 0,void 0,function*(){if(null===(e=this.sender)||void 0===e?void 0:e.getStats)return yield this.sender.getStats()})}setProcessor(e){var t,n;let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return rD(this,void 0,void 0,function*(){let i=yield this.processorLock.lock();try{this.log.debug("setting up processor",this.logContext),this.processorElement=null!==(t=this.processorElement)&&void 0!==t?t:document.createElement(this.kind);let i={kind:this.kind,track:this._mediaStreamTrack,element:this.processorElement,audioContext:this.audioContext};if(yield e.init(i),this.processor&&(yield this.stopProcessor()),"unknown"===this.kind)throw TypeError("cannot set processor on track of unknown kind");if(oa(this._mediaStreamTrack,this.processorElement),this.processorElement.muted=!0,this.processorElement.play().catch(e=>this.log.error("failed to play processor element",Object.assign(Object.assign({},this.logContext),{error:e}))),this.processor=e,this.processor.processedTrack){for(let e of this.attachedElements)e!==this.processorElement&&r&&(ol(this._mediaStreamTrack,e),oa(this.processor.processedTrack,e));yield null===(n=this.sender)||void 0===n?void 0:n.replaceTrack(this.processor.processedTrack)}this.emit(ei.TrackProcessorUpdate,this.processor)}finally{i()}})}getProcessor(){return this.processor}stopProcessor(){var e,t;return rD(this,void 0,void 0,function*(){this.processor&&(this.log.debug("stopping processor",this.logContext),null===(e=this.processor.processedTrack)||void 0===e||e.stop(),yield this.processor.destroy(),this.processor=void 0,null===(t=this.processorElement)||void 0===t||t.remove(),this.processorElement=void 0,yield this._mediaStreamTrack.applyConstraints(this._constraints),yield this.setMediaStreamTrack(this._mediaStreamTrack,!0),this.emit(ei.TrackProcessorUpdate))})}}class oG extends rQ.EventEmitter{constructor(e){super(),this.onWorkerMessage=e=>{var t,n;let{kind:r,data:i}=e.data;switch(r){case"error":rO.error(i.error.message),this.emit(X.EncryptionError,i.error);break;case"initAck":i.enabled&&this.keyProvider.getKeys().forEach(e=>{this.postKey(e)});break;case"enable":if(this.encryptionEnabled!==i.enabled&&i.participantIdentity===(null===(t=this.room)||void 0===t?void 0:t.localParticipant.identity))this.emit(X.ParticipantEncryptionStatusChanged,i.enabled,this.room.localParticipant),this.encryptionEnabled=i.enabled;else if(i.participantIdentity){let e=null===(n=this.room)||void 0===n?void 0:n.getParticipantByIdentity(i.participantIdentity);if(!e)throw TypeError("couldn't set encryption status, participant not found".concat(i.participantIdentity));this.emit(X.ParticipantEncryptionStatusChanged,i.enabled,e)}this.encryptionEnabled&&this.keyProvider.getKeys().forEach(e=>{this.postKey(e)});break;case"ratchetKey":this.keyProvider.emit(J.KeyRatcheted,i.material,i.keyIndex)}},this.onWorkerError=e=>{rO.error("e2ee worker encountered an error:",{error:e.error}),this.emit(X.EncryptionError,e.error)},this.keyProvider=e.keyProvider,this.worker=e.worker,this.encryptionEnabled=!1}setup(e){if(!(void 0!==window.RTCRtpSender&&void 0!==window.RTCRtpSender.prototype.createEncodedStreams||iZ()))throw new iX("tried to setup end-to-end encryption on an unsupported browser");if(rO.info("setting up e2ee"),e!==this.room){this.room=e,this.setupEventListeners(e,this.keyProvider);let t={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:rN.getLevel()}};this.worker&&(rO.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(t))}}setParticipantCryptorEnabled(e,t){rO.debug("set e2ee to ".concat(e," for participant ").concat(t)),this.postEnable(e,t)}setSifTrailer(e){e&&0!==e.length?this.postSifTrailer(e):rO.warn("ignoring server sent trailer as it's empty")}setupEngine(e){e.on(er.RTPVideoMapUpdate,e=>{this.postRTPMap(e)})}setupEventListeners(e,t){e.on(et.TrackPublished,(e,t)=>this.setParticipantCryptorEnabled(e.trackInfo.encryption!==tL.NONE,t.identity)),e.on(et.ConnectionStateChanged,t=>{t===eh.Connected&&e.remoteParticipants.forEach(e=>{e.trackPublications.forEach(t=>{this.setParticipantCryptorEnabled(t.trackInfo.encryption!==tL.NONE,e.identity)})})}).on(et.TrackUnsubscribed,(e,t,n)=>{var r;let i={kind:"removeTransform",data:{participantIdentity:n.identity,trackId:e.mediaStreamID}};null===(r=this.worker)||void 0===r||r.postMessage(i)}).on(et.TrackSubscribed,(e,t,n)=>{this.setupE2EEReceiver(e,n.identity,t.trackInfo)}).on(et.SignalConnected,()=>{if(!this.room)throw TypeError("expected room to be present on signal connect");this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity),t.getKeys().forEach(e=>{this.postKey(e)})}),e.localParticipant.on(en.LocalTrackPublished,e=>rD(this,void 0,void 0,function*(){this.setupE2EESender(e.track,e.track.sender)})),t.on(J.SetKey,e=>this.postKey(e)).on(J.RatchetRequest,(e,t)=>this.postRatchetRequest(e,t))}postRatchetRequest(e,t){if(!this.worker)throw Error("could not ratchet key, worker is missing");this.worker.postMessage({kind:"ratchetRequest",data:{participantIdentity:e,keyIndex:t}})}postKey(e){var t;let{key:n,participantIdentity:r,keyIndex:i}=e;if(!this.worker)throw Error("could not set key, worker is missing");let o={kind:"setKey",data:{participantIdentity:r,isPublisher:r===(null===(t=this.room)||void 0===t?void 0:t.localParticipant.identity),key:n,keyIndex:i}};this.worker.postMessage(o)}postEnable(e,t){if(this.worker)this.worker.postMessage({kind:"enable",data:{enabled:e,participantIdentity:t}});else throw ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(e){var t;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(null===(t=this.room)||void 0===t?void 0:t.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");let n={kind:"setRTPMap",data:{map:e,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(n)}postSifTrailer(e){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");this.worker.postMessage({kind:"setSifTrailer",data:{trailer:e}})}setupE2EEReceiver(e,t,n){if(e.receiver){if(!(null==n?void 0:n.mimeType)||""===n.mimeType)throw TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(e.receiver,e.mediaStreamID,t,"video"===e.kind?oh(n.mimeType):void 0)}}setupE2EESender(e,t){if(!(e instanceof oK)||!t){t||rO.warn("early return because sender is not ready");return}this.handleSender(t,e.mediaStreamID,void 0)}handleReceiver(e,t,n,r){return rD(this,void 0,void 0,function*(){if(this.worker){if(iZ())e.transform=new RTCRtpScriptTransform(this.worker,{kind:"decode",participantIdentity:n,trackId:t,codec:r});else{if(i$ in e&&r){this.worker.postMessage({kind:"updateCodec",data:{trackId:t,codec:r,participantIdentity:n}});return}let i=e.writableStream,o=e.readableStream;if(!i||!o){let t=e.createEncodedStreams();e.writableStream=t.writable,i=t.writable,e.readableStream=t.readable,o=t.readable}let s={kind:"decode",data:{readableStream:o,writableStream:i,trackId:t,codec:r,participantIdentity:n}};this.worker.postMessage(s,[o,i])}e[i$]=!0}})}handleSender(e,t,n){var r;if(!(i$ in e)&&this.worker){if(!(null===(r=this.room)||void 0===r?void 0:r.localParticipant.identity)||""===this.room.localParticipant.identity)throw TypeError("local identity needs to be known in order to set up encrypted sender");if(iZ()){rO.info("initialize script transform");let r={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:t,codec:n};e.transform=new RTCRtpScriptTransform(this.worker,r)}else{rO.info("initialize encoded streams");let r=e.createEncodedStreams(),i={kind:"encode",data:{readableStream:r.readable,writableStream:r.writable,codec:n,trackId:t,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(i,[r.readable,r.writable])}e[i$]=!0}}}(I=ea||(ea={}))[I.WAITING=0]="WAITING",I[I.RUNNING=1]="RUNNING",I[I.COMPLETED=2]="COMPLETED";class oW{constructor(){this.pendingTasks=new Map,this.taskMutex=new oV,this.nextTaskIndex=0}run(e){return rD(this,void 0,void 0,function*(){let t={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:ea.WAITING};this.pendingTasks.set(t.id,t);let n=yield this.taskMutex.lock();try{return t.executedAt=Date.now(),t.status=ea.RUNNING,yield e()}finally{t.status=ea.COMPLETED,this.pendingTasks.delete(t.id),n()}})}flush(){return rD(this,void 0,void 0,function*(){return this.run(()=>rD(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}let o$=["syncState","trickle","offer","answer","simulate","leave"];(R=el||(el={}))[R.CONNECTING=0]="CONNECTING",R[R.CONNECTED=1]="CONNECTED",R[R.RECONNECTING=2]="RECONNECTING",R[R.DISCONNECTING=3]="DISCONNECTING",R[R.DISCONNECTED=4]="DISCONNECTED";class oZ{get currentState(){return this.state}get isDisconnected(){return this.state===el.DISCONNECTING||this.state===el.DISCONNECTED}get isEstablishingConnection(){return this.state===el.CONNECTING||this.state===el.RECONNECTING}constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.rtt=0,this.state=el.DISCONNECTED,this.log=rO,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0},this.log=rA(null!==(e=n.loggerName)&&void 0!==e?e:$.Signal),this.loggerContextCb=n.loggerContextCb,this.useJSON=t,this.requestQueue=new oW,this.queuedRequests=[],this.closingLock=new oV,this.connectionLock=new oV,this.state=el.DISCONNECTED}get logContext(){var e,t;return null!==(t=null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this))&&void 0!==t?t:{}}join(e,t,n,r){return rD(this,void 0,void 0,function*(){return this.state=el.CONNECTING,this.options=n,yield this.connect(e,t,n,r)})}reconnect(e,t,n,r){return rD(this,void 0,void 0,function*(){if(!this.options){this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext);return}return this.state=el.RECONNECTING,this.clearPingInterval(),yield this.connect(e,t,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:n,reconnectReason:r}))})}connect(e,t,n,r){var i;this.connectOptions=n,e=(e=(i=e).startsWith("http")?i.replace(/^(http)/,"ws"):i).replace(/\/$/,"")+"/rtc";let o=function(e,t,n){var r;let i=new URLSearchParams;return i.set("access_token",e),n.reconnect&&(i.set("reconnect","1"),n.sid&&i.set("sid",n.sid)),i.set("auto_subscribe",n.autoSubscribe?"1":"0"),i.set("sdk",oS()?"reactnative":"js"),i.set("version",t.version),i.set("protocol",t.protocol.toString()),t.deviceModel&&i.set("device_model",t.deviceModel),t.os&&i.set("os",t.os),t.osVersion&&i.set("os_version",t.osVersion),t.browser&&i.set("browser",t.browser),t.browserVersion&&i.set("browser_version",t.browserVersion),n.adaptiveStream&&i.set("adaptive_stream","1"),n.reconnectReason&&i.set("reconnect_reason",n.reconnectReason.toString()),(null===(r=navigator.connection)||void 0===r?void 0:r.type)&&i.set("network",navigator.connection.type),"?".concat(i.toString())}(t,function(){var e;let t=new tW({sdk:t$.JS,protocol:12,version:"2.0.10"});return oS()&&(t.os=null!==(e=oP())&&void 0!==e?e:""),t}(),n);return new Promise((t,i)=>rD(this,void 0,void 0,function*(){let s=yield this.connectionLock.lock();try{let s=()=>rD(this,void 0,void 0,function*(){this.close(),clearTimeout(a),i(new iY("room connection has been cancelled (signal)"))}),a=setTimeout(()=>{this.close(),i(new iY("room connection has timed out (signal)"))},n.websocketTimeout);(null==r?void 0:r.aborted)&&s(),null==r||r.addEventListener("abort",s),this.log.debug("connecting to ".concat(e+o),this.logContext),this.ws&&(yield this.close(!1)),this.ws=new WebSocket(e+o),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{clearTimeout(a)},this.ws.onerror=t=>rD(this,void 0,void 0,function*(){if(this.state!==el.CONNECTED){this.state=el.DISCONNECTED,clearTimeout(a);try{let t=yield fetch("http".concat(e.substring(2),"/validate").concat(o));if(t.status.toFixed(0).startsWith("4")){let e=yield t.text();i(new iY(e,0,t.status))}else i(new iY("Internal error",2,t.status))}catch(e){i(new iY("server was not reachable",1))}return}this.handleWSError(t)}),this.ws.onmessage=e=>rD(this,void 0,void 0,function*(){var o,a,l;let c;if("string"==typeof e.data){let t=JSON.parse(e.data);c=nj.fromJson(t,{ignoreUnknownFields:!0})}else if(e.data instanceof ArrayBuffer)c=nj.fromBinary(new Uint8Array(e.data));else{this.log.error("could not decode websocket message: ".concat(typeof e.data),this.logContext);return}if(this.state!==el.CONNECTED){let e=!1;if((null===(o=c.message)||void 0===o?void 0:o.case)==="join"?(this.state=el.CONNECTED,null==r||r.removeEventListener("abort",s),this.pingTimeoutDuration=c.message.value.pingTimeout,this.pingIntervalDuration=c.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})),this.startPingInterval()),t(c.message.value)):this.state===el.RECONNECTING&&"leave"!==c.message.case?(this.state=el.CONNECTED,null==r||r.removeEventListener("abort",s),this.startPingInterval(),(null===(a=c.message)||void 0===a?void 0:a.case)==="reconnect"?t(c.message.value):(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),t(void 0),e=!0)):this.isEstablishingConnection&&"leave"===c.message.case?i(new iY("Received leave request while trying to (re)connect",4)):n.reconnect||i(new iY("did not receive join response, got ".concat(null===(l=c.message)||void 0===l?void 0:l.case," instead"))),!e)return}this.signalLatency&&(yield om(this.signalLatency)),this.handleSignalResponse(c)}),this.ws.onclose=e=>{this.isEstablishingConnection&&i(new iY("Websocket got closed during a (re)connection attempt")),this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:e.reason,code:e.code,wasClean:e.wasClean,state:this.state})),this.handleOnClose(e.reason)}}finally{s()}}))}close(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return rD(this,void 0,void 0,function*(){let t=yield this.closingLock.lock();try{if(e&&(this.state=el.DISCONNECTING),this.ws){this.ws.onmessage=null,this.ws.onopen=null,this.ws.onclose=null;let e=new Promise(e=>{this.ws?this.ws.onclose=()=>{e()}:e()});this.ws.readyState<this.ws.CLOSING&&(this.ws.close(),yield Promise.race([e,om(250)])),this.ws=void 0}}finally{e&&(this.state=el.DISCONNECTED),this.clearPingInterval(),t()}})}sendOffer(e){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:e.sdp})),this.sendRequest({case:"offer",value:oY(e)})}sendAnswer(e){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:e.sdp})),this.sendRequest({case:"answer",value:oY(e)})}sendIceCandidate(e,t){return this.log.trace("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:e})),this.sendRequest({case:"trickle",value:new nV({candidateInit:JSON.stringify(e),target:t})})}sendMuteTrack(e,t){return this.sendRequest({case:"mute",value:new nB({sid:e,muted:t})})}sendAddTrack(e){return this.sendRequest({case:"addTrack",value:e})}sendUpdateLocalMetadata(e,t){return this.sendRequest({case:"updateMetadata",value:new nQ({metadata:e,name:t})})}sendUpdateTrackSettings(e){this.sendRequest({case:"trackSetting",value:e})}sendUpdateSubscription(e){return this.sendRequest({case:"subscription",value:e})}sendSyncState(e){return this.sendRequest({case:"syncState",value:e})}sendUpdateVideoLayers(e,t){return this.sendRequest({case:"updateLayers",value:new nX({trackSid:e,layers:t})})}sendUpdateSubscriptionPermissions(e,t){return this.sendRequest({case:"subscriptionPermission",value:new rt({allParticipants:e,trackPermissions:t})})}sendSimulateScenario(e){return this.sendRequest({case:"simulate",value:e})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:eN.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new rs({timestamp:eN.parse(Date.now()),rtt:eN.parse(this.rtt)})})])}sendLeave(){return this.sendRequest({case:"leave",value:new nJ({canReconnect:!1,reason:tS.CLIENT_INITIATED})})}sendRequest(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return rD(this,void 0,void 0,function*(){if(!t&&!function(e){let t=o$.indexOf(e.case)>=0;return rO.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}(e)&&this.state===el.RECONNECTING){this.queuedRequests.push(()=>rD(this,void 0,void 0,function*(){yield this.sendRequest(e,!0)}));return}if(t||(yield this.requestQueue.flush()),this.signalLatency&&(yield om(this.signalLatency)),!this.ws||this.ws.readyState!==this.ws.OPEN){this.log.error("cannot send signal request before connected, type: ".concat(null==e?void 0:e.case),this.logContext);return}let n=new nD({message:e});try{this.useJSON?this.ws.send(n.toJsonString()):this.ws.send(n.toBinary())}catch(e){this.log.error("error sending signal message",Object.assign(Object.assign({},this.logContext),{error:e}))}})}handleSignalResponse(e){var t,n;let r=e.message;if(void 0==r){this.log.debug("received unsupported message",this.logContext);return}let i=!1;if("answer"===r.case){let e=oJ(r.value);this.onAnswer&&this.onAnswer(e)}else if("offer"===r.case){let e=oJ(r.value);this.onOffer&&this.onOffer(e)}else if("trickle"===r.case){let e=JSON.parse(r.value.candidateInit);this.onTrickle&&this.onTrickle(e,r.value.target)}else"update"===r.case?this.onParticipantUpdate&&this.onParticipantUpdate(null!==(t=r.value.participants)&&void 0!==t?t:[]):"trackPublished"===r.case?this.onLocalTrackPublished&&this.onLocalTrackPublished(r.value):"speakersChanged"===r.case?this.onSpeakersChanged&&this.onSpeakersChanged(null!==(n=r.value.speakers)&&void 0!==n?n:[]):"leave"===r.case?this.onLeave&&this.onLeave(r.value):"mute"===r.case?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(r.value.sid,r.value.muted):"roomUpdate"===r.case?this.onRoomUpdate&&r.value.room&&this.onRoomUpdate(r.value.room):"connectionQuality"===r.case?this.onConnectionQuality&&this.onConnectionQuality(r.value):"streamStateUpdate"===r.case?this.onStreamStateUpdate&&this.onStreamStateUpdate(r.value):"subscribedQualityUpdate"===r.case?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(r.value):"subscriptionPermissionUpdate"===r.case?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(r.value):"refreshToken"===r.case?this.onTokenRefresh&&this.onTokenRefresh(r.value):"trackUnpublished"===r.case?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(r.value):"subscriptionResponse"===r.case?this.onSubscriptionError&&this.onSubscriptionError(r.value):"pong"===r.case||("pongResp"===r.case?(this.rtt=Date.now()-Number.parseInt(r.value.lastPingTimestamp.toString()),this.resetPingTimeout(),i=!0):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:r.case})));i||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){let e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}}handleOnClose(e){return rD(this,void 0,void 0,function*(){if(this.state===el.DISCONNECTED)return;let t=this.onClose;yield this.close(),this.log.debug("websocket connection closed: ".concat(e),Object.assign(Object.assign({},this.logContext),{reason:e})),t&&t(e)})}handleWSError(e){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:e}))}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){this.log.warn("ping timeout duration not set",this.logContext);return}this.pingTimeout=i7.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-1e3*this.pingTimeoutDuration).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},1e3*this.pingTimeoutDuration)}clearPingTimeout(){this.pingTimeout&&i7.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){this.log.warn("ping interval duration not set",this.logContext);return}this.log.debug("start ping interval",this.logContext),this.pingInterval=i7.setInterval(()=>{this.sendPing()},1e3*this.pingIntervalDuration)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&i7.clearInterval(this.pingInterval)}}function oJ(e){let t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type}return t}function oY(e){return new nG({sdp:e.sdp,type:e.type})}var oX={},oQ={exports:{}},o0=oQ.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=(null!=e.raddr?" raddr %s rport %d":"%v%v")+(null!=e.tcptype?" tcptype %s":"%v"),null!=e.generation&&(t+=" generation %d"),t+=(null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){return"mediaclk:"+((null!=e.id?"id=%s %s":"%v%s")+(null!=e.mediaClockValue?"=%s":"")+(null!=e.rateNumerator?" rate=%s":""))+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(o0).forEach(function(e){o0[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})});var o1=oQ.exports;O=function(e){return String(Number(e))===e?Number(e):e},A=function(e,t,n,r){if(r&&!n)t[r]=O(e[1]);else for(var i=0;i<n.length;i+=1)null!=e[i+1]&&(t[n[i]]=O(e[i+1]))},N=function(e,t,n){var r=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:r&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:r?t[e.name]:t;A(n.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},L=RegExp.prototype.test.bind(/^([a-z])=(.*)/),oX.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(L).forEach(function(e){var t=e[0],i=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var o=0;o<(o1[t]||[]).length;o+=1){var s=o1[t][o];if(s.reg.test(i))return N(s,r,i)}}),t.media=n,t},M=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=O(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e},oX.parseParams=function(e){return e.split(/;\s?/).reduce(M,{})},oX.parseFmtpConfig=oX.parseParams,oX.parsePayloads=function(e){return e.toString().split(" ").map(Number)},oX.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(O),r=0;r<n.length;r+=3)t.push({component:n[r],ip:n[r+1],port:n[r+2]});return t},oX.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(M,{})})},oX.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,n=!1;return"~"!==e[0]?t=O(e):(t=O(e.substring(1,e.length)),n=!0),{scid:t,paused:n}})})};var o2=/%[sdv%]/g,o3=function(e){var t=1,n=arguments,r=n.length;return e.replace(o2,function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}})},o4=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var o=t.names[i];t.name?r.push(n[t.name][o]):r.push(n[t.names[i]])}else r.push(n[t.name]);return o3.apply(null,r)},o5=["v","o","s","i","u","e","p","c","b","t","r","z","a"],o6=["i","c","b","a"],o8=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var n=t.outerOrder||o5,r=t.innerOrder||o6,i=[];return n.forEach(function(t){o1[t].forEach(function(n){n.name in e&&null!=e[n.name]?i.push(o4(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){i.push(o4(t,n,e))})})}),e.media.forEach(function(e){i.push(o4("m",o1.m[0],e)),r.forEach(function(t){o1[t].forEach(function(n){n.name in e&&null!=e[n.name]?i.push(o4(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){i.push(o4(t,n,e))})})})}),i.join("\r\n")+"\r\n"},o7=oX.parse;oX.parseParams,oX.parseFmtpConfig,oX.parsePayloads,oX.parseRemoteCandidates,oX.parseImageAttributes,oX.parseSimulcastStreamList;let o9={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"};class se extends rQ.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.log=rO,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=i3(e=>rD(this,void 0,void 0,function*(){this.emit(o9.NegotiationStarted);try{yield this.createAndSendOffer()}catch(t){if(e)e(t);else throw t}}),100),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=rA(null!==(t=n.loggerName)&&void 0!==t?t:$.PCTransport),this.loggerOptions=n,this.config=e,this._pc=this.createPC()}createPC(){let e=new RTCPeerConnection(this.config);return e.onicecandidate=e=>{var t;e.candidate&&(null===(t=this.onIceCandidate)||void 0===t||t.call(this,e.candidate))},e.onicecandidateerror=e=>{var t;null===(t=this.onIceCandidateError)||void 0===t||t.call(this,e)},e.oniceconnectionstatechange=()=>{var t;null===(t=this.onIceConnectionStateChange)||void 0===t||t.call(this,e.iceConnectionState)},e.onsignalingstatechange=()=>{var t;null===(t=this.onSignalingStatechange)||void 0===t||t.call(this,e.signalingState)},e.onconnectionstatechange=()=>{var t;null===(t=this.onConnectionStateChange)||void 0===t||t.call(this,e.connectionState)},e.ondatachannel=e=>{var t;null===(t=this.onDataChannel)||void 0===t||t.call(this,e)},e.ontrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)},e}get logContext(){var e,t;return Object.assign({},null===(t=(e=this.loggerOptions).loggerContextCb)||void 0===t?void 0:t.call(e))}get isICEConnected(){return null!==this._pc&&("connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState)}addIceCandidate(e){return rD(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)})}setRemoteDescription(e){var t;return rD(this,void 0,void 0,function*(){let n;if("offer"===e.type){let{stereoMids:t,nackMids:n}=function(e){var t;let n=[],r=[],i=o7(null!==(t=e.sdp)&&void 0!==t?t:""),o=0;return i.media.forEach(e=>{var t;"audio"===e.type&&(e.rtp.some(e=>"opus"===e.codec&&(o=e.payload,!0)),(null===(t=e.rtcpFb)||void 0===t?void 0:t.some(e=>e.payload===o&&"nack"===e.type))&&r.push(e.mid),e.fmtp.some(t=>t.payload===o&&(t.config.includes("sprop-stereo=1")&&n.push(e.mid),!0)))}),{stereoMids:n,nackMids:r}}(e);this.remoteStereoMids=t,this.remoteNackMids=n}else if("answer"===e.type){let r=o7(null!==(t=e.sdp)&&void 0!==t?t:"");r.media.forEach(e=>{"audio"===e.type&&this.trackBitrates.some(t=>{if(!t.transceiver||e.mid!=t.transceiver.mid)return!1;let n=0;if(e.rtp.some(e=>e.codec.toUpperCase()===t.codec.toUpperCase()&&(n=e.payload,!0)),0===n)return!0;let r=!1;for(let i of e.fmtp)if(i.payload===n){i.config=i.config.split(";").filter(e=>!e.includes("maxaveragebitrate")).join(";"),t.maxbr>0&&(i.config+=";maxaveragebitrate=".concat(1e3*t.maxbr)),r=!0;break}return!r&&t.maxbr>0&&e.fmtp.push({payload:n,config:"maxaveragebitrate=".concat(1e3*t.maxbr)}),!0})}),n=o8(r)}yield this.setMungedSDP(e,n,!0),this.pendingCandidates.forEach(e=>{this.pc.addIceCandidate(e)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):"answer"===e.type&&(this.emit(o9.NegotiationComplete),e.sdp&&o7(e.sdp).media.forEach(e=>{"video"===e.type&&this.emit(o9.RTPVideoPayloadTypes,e.rtp)}))})}createAndSendOffer(e){var t;return rD(this,void 0,void 0,function*(){if(void 0===this.onOffer)return;if((null==e?void 0:e.iceRestart)&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&"have-local-offer"===this._pc.signalingState){let t=this._pc.remoteDescription;if((null==e?void 0:e.iceRestart)&&t)yield this._pc.setRemoteDescription(t);else{this.renegotiate=!0;return}}else if(!this._pc||"closed"===this._pc.signalingState){this.log.warn("could not createOffer with closed peer connection",this.logContext);return}this.log.debug("starting to negotiate",this.logContext);let n=yield this.pc.createOffer(e),r=o7(null!==(t=n.sdp)&&void 0!==t?t:"");r.media.forEach(e=>{"audio"===e.type?st(e,[],[]):"video"===e.type&&(function(e){var t,n,r,i;if(!oy(null===(n=null===(t=e.rtp[0])||void 0===t?void 0:t.codec)||void 0===n?void 0:n.toLowerCase()))return;let o=0;(null===(r=e.ext)||void 0===r?void 0:r.some(e=>e.uri===of||(e.value>o&&(o=e.value),!1)))||null===(i=e.ext)||void 0===i||i.push({value:o+1,uri:of})}(e),this.trackBitrates.some(t=>{if(!e.msid||!t.cid||!e.msid.includes(t.cid))return!1;let n=0;if(e.rtp.some(e=>e.codec.toUpperCase()===t.codec.toUpperCase()&&(n=e.payload,!0)),0===n)return!0;let r=Math.round(.7*t.maxbr);for(let t of e.fmtp)if(t.payload===n){t.config.includes("x-google-start-bitrate")||(t.config+=";x-google-start-bitrate=".concat(r));break}return!0}))}),yield this.setMungedSDP(n,o8(r)),this.onOffer(n)})}createAndSetAnswer(){var e;return rD(this,void 0,void 0,function*(){let t=yield this.pc.createAnswer(),n=o7(null!==(e=t.sdp)&&void 0!==e?e:"");return n.media.forEach(e=>{"audio"===e.type&&st(e,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(t,o8(n)),t})}createDataChannel(e,t){return this.pc.createDataChannel(e,t)}addTransceiver(e,t){return this.pc.addTransceiver(e,t)}addTrack(e){if(!this._pc)throw new i1("PC closed, cannot add track");return this._pc.addTrack(e)}setTrackCodecBitrate(e){this.trackBitrates.push(e)}setConfiguration(e){var t;if(!this._pc)throw new i1("PC closed, cannot configure");return null===(t=this._pc)||void 0===t?void 0:t.setConfiguration(e)}canRemoveTrack(){var e;return!!(null===(e=this._pc)||void 0===e?void 0:e.removeTrack)}removeTrack(e){var t;return null===(t=this._pc)||void 0===t?void 0:t.removeTrack(e)}getConnectionState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.connectionState)&&void 0!==t?t:"closed"}getICEConnectionState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.iceConnectionState)&&void 0!==t?t:"closed"}getSignallingState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.signalingState)&&void 0!==t?t:"closed"}getTransceivers(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.getTransceivers())&&void 0!==t?t:[]}getSenders(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.getSenders())&&void 0!==t?t:[]}getLocalDescription(){var e;return null===(e=this._pc)||void 0===e?void 0:e.localDescription}getRemoteDescription(){var e;return null===(e=this.pc)||void 0===e?void 0:e.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){var e;return rD(this,void 0,void 0,function*(){if(!this._pc)return;let t="",n=new Map,r=new Map;if((yield this._pc.getStats()).forEach(e=>{switch(e.type){case"transport":t=e.selectedCandidatePairId;break;case"candidate-pair":""===t&&e.selected&&(t=e.id),n.set(e.id,e);break;case"remote-candidate":r.set(e.id,"".concat(e.address,":").concat(e.port))}}),""===t)return;let i=null===(e=n.get(t))||void 0===e?void 0:e.remoteCandidateId;if(void 0!==i)return r.get(i)})}setMungedSDP(e,t,n){return rD(this,void 0,void 0,function*(){if(t){let r=e.sdp;e.sdp=t;try{this.log.debug("setting munged ".concat(n?"remote":"local"," description"),this.logContext),n?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e);return}catch(n){this.log.warn("not able to set ".concat(e.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:n,sdp:t})),e.sdp=r}}try{n?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e)}catch(i){let t="unknown error";i instanceof Error?t=i.message:"string"==typeof i&&(t=i);let r={error:t,sdp:e.sdp};throw!n&&this.pc.remoteDescription&&(r.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(e.type),Object.assign(Object.assign({},this.logContext),{fields:r})),new i2(t)}})}}function st(e,t,n){let r=0;e.rtp.some(e=>"opus"===e.codec&&(r=e.payload,!0)),r>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(e.mid)&&!e.rtcpFb.some(e=>e.payload===r&&"nack"===e.type)&&e.rtcpFb.push({payload:r,type:"nack"}),t.includes(e.mid)&&e.fmtp.some(e=>e.payload===r&&(e.config.includes("stereo=1")||(e.config+=";stereo=1"),!0)))}let sn={audioPreset:eo.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:oi.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:"vp8",backupCodec:!0},sr={autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0},si={resolution:on.h720.resolution},so={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new rM,disconnectOnPageLeave:!0,webAudioMix:!0},ss={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};(D=ec||(ec={}))[D.NEW=0]="NEW",D[D.CONNECTING=1]="CONNECTING",D[D.CONNECTED=2]="CONNECTED",D[D.FAILED=3]="FAILED",D[D.CLOSING=4]="CLOSING",D[D.CLOSED=5]="CLOSED";class sa{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(e,t,n){var r;this.peerConnectionTimeout=ss.peerConnectionTimeout,this.log=rO,this.updateState=()=>{var e;let t=this.state,n=this.requiredTransports.map(e=>e.getConnectionState());n.every(e=>"connected"===e)?this.state=ec.CONNECTED:n.some(e=>"failed"===e)?this.state=ec.FAILED:n.some(e=>"connecting"===e)?this.state=ec.CONNECTING:n.every(e=>"closed"===e)?this.state=ec.CLOSED:n.some(e=>"closed"===e)?this.state=ec.CLOSING:n.every(e=>"new"===e)&&(this.state=ec.NEW),t!==this.state&&(this.log.debug("pc state change: from ".concat(ec[t]," to ").concat(ec[this.state]),this.logContext),null===(e=this.onStateChange)||void 0===e||e.call(this,this.state,this.publisher.getConnectionState(),this.subscriber.getConnectionState()))},this.log=rA(null!==(r=n.loggerName)&&void 0!==r?r:$.PCManager),this.loggerOptions=n,this.isPublisherConnectionRequired=!t,this.isSubscriberConnectionRequired=t,this.publisher=new se(e,n),this.subscriber=new se(e,n),this.publisher.onConnectionStateChange=this.updateState,this.subscriber.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=e=>{var t;null===(t=this.onIceCandidate)||void 0===t||t.call(this,e,nN.PUBLISHER)},this.subscriber.onIceCandidate=e=>{var t;null===(t=this.onIceCandidate)||void 0===t||t.call(this,e,nN.SUBSCRIBER)},this.subscriber.onDataChannel=e=>{var t;null===(t=this.onDataChannel)||void 0===t||t.call(this,e)},this.subscriber.onTrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)},this.publisher.onOffer=e=>{var t;null===(t=this.onPublisherOffer)||void 0===t||t.call(this,e)},this.state=ec.NEW,this.connectionLock=new oV}get logContext(){var e,t;return Object.assign({},null===(t=(e=this.loggerOptions).loggerContextCb)||void 0===t?void 0:t.call(e))}requirePublisher(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this.isPublisherConnectionRequired=e,this.updateState()}requireSubscriber(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this.isSubscriberConnectionRequired=e,this.updateState()}createAndSendPublisherOffer(e){return this.publisher.createAndSendOffer(e)}setPublisherAnswer(e){return this.publisher.setRemoteDescription(e)}removeTrack(e){return this.publisher.removeTrack(e)}close(){return rD(this,void 0,void 0,function*(){if(this.publisher&&"closed"!==this.publisher.getSignallingState()){let e=this.publisher;for(let t of e.getSenders())try{e.canRemoveTrack()&&e.removeTrack(t)}catch(e){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:e}))}}yield Promise.all([this.publisher.close(),this.subscriber.close()]),this.updateState()})}triggerIceRestart(){return rD(this,void 0,void 0,function*(){this.subscriber.restartingIce=!0,this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(e,t){return rD(this,void 0,void 0,function*(){t===nN.PUBLISHER?yield this.publisher.addIceCandidate(e):yield this.subscriber.addIceCandidate(e)})}createSubscriberAnswerFromOffer(e){return rD(this,void 0,void 0,function*(){return this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,signalingState:this.subscriber.getSignallingState().toString()})),yield this.subscriber.setRemoteDescription(e),yield this.subscriber.createAndSetAnswer()})}updateConfiguration(e,t){this.publisher.setConfiguration(e),this.subscriber.setConfiguration(e),t&&this.triggerIceRestart()}ensurePCTransportConnection(e,t){var n;return rD(this,void 0,void 0,function*(){let r=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&"connected"!==this.publisher.getConnectionState()&&"connecting"!==this.publisher.getConnectionState()&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all(null===(n=this.requiredTransports)||void 0===n?void 0:n.map(n=>this.ensureTransportConnected(n,e,t)))}finally{r()}})}negotiate(e){return rD(this,void 0,void 0,function*(){return new Promise((t,n)=>rD(this,void 0,void 0,function*(){let r=setTimeout(()=>{n("negotiation timed out")},this.peerConnectionTimeout);e.signal.addEventListener("abort",()=>{clearTimeout(r),n("negotiation aborted")}),this.publisher.once(o9.NegotiationStarted,()=>{e.signal.aborted||this.publisher.once(o9.NegotiationComplete,()=>{clearTimeout(r),t()})}),yield this.publisher.negotiate(e=>{clearTimeout(r),n(e)})}))})}addPublisherTransceiver(e,t){return this.publisher.addTransceiver(e,t)}addPublisherTrack(e){return this.publisher.addTrack(e)}createPublisherDataChannel(e,t){return this.publisher.createDataChannel(e,t)}getConnectedAddress(e){return e===nN.PUBLISHER?this.publisher.getConnectedAddress():e===nN.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){let e=[];return this.isPublisherConnectionRequired&&e.push(this.publisher),this.isSubscriberConnectionRequired&&e.push(this.subscriber),e}ensureTransportConnected(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.peerConnectionTimeout;return rD(this,void 0,void 0,function*(){if("connected"!==e.getConnectionState())return new Promise((e,r)=>rD(this,void 0,void 0,function*(){let i=()=>{this.log.warn("abort transport connection",this.logContext),i7.clearTimeout(o),r(new iY("room connection has been cancelled",3))};(null==t?void 0:t.signal.aborted)&&i(),null==t||t.signal.addEventListener("abort",i);let o=i7.setTimeout(()=>{null==t||t.signal.removeEventListener("abort",i),r(new iY("could not establish pc connection"))},n);for(;this.state!==ec.CONNECTED;)if(yield om(50),null==t?void 0:t.signal.aborted){r(new iY("room connection has been cancelled",3));return}i7.clearTimeout(o),null==t||t.signal.removeEventListener("abort",i),e()}))})}}let sl="_lossy",sc="_reliable",su="leave-reconnect";(j=eu||(eu={}))[j.New=0]="New",j[j.Connected=1]="Connected",j[j.Disconnected=2]="Disconnected",j[j.Reconnecting=3]="Reconnecting",j[j.Closed=4]="Closed";class sd extends rQ.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(e){var t;super(),this.options=e,this.rtcConfig={},this.peerConnectionTimeout=ss.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.subscriberPrimary=!1,this.pcState=eu.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=rO,this.handleDataChannel=e=>{let{channel:t}=e;return rD(this,void 0,void 0,function*(){if(t){if(t.label===sc)this.reliableDCSub=t;else{if(t.label!==sl)return;this.lossyDCSub=t}this.log.debug("on data channel ".concat(t.id,", ").concat(t.label),this.logContext),t.onmessage=this.handleDataMessage}})},this.handleDataMessage=e=>rD(this,void 0,void 0,function*(){var t,n;let r=yield this.dataProcessLock.lock();try{let r;if(e.data instanceof ArrayBuffer)r=e.data;else if(e.data instanceof Blob)r=yield e.data.arrayBuffer();else{this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:e.data}));return}let i=tU.fromBinary(new Uint8Array(r));(null===(t=i.value)||void 0===t?void 0:t.case)==="speaker"?this.emit(er.ActiveSpeakersUpdate,i.value.value.speakers):(null===(n=i.value)||void 0===n?void 0:n.case)==="user"&&this.emit(er.DataPacketReceived,i.value.value,i.kind)}finally{r()}}),this.handleDataError=e=>{let t=0===e.currentTarget.maxRetransmits?"lossy":"reliable";if(e instanceof ErrorEvent&&e.error){let{error:n}=e.error;this.log.error("DataChannel error on ".concat(t,": ").concat(e.message),Object.assign(Object.assign({},this.logContext),{error:n}))}else this.log.error("Unknown DataChannel error on ".concat(t),Object.assign(Object.assign({},this.logContext),{event:e}))},this.handleBufferedAmountLow=e=>{let t=0===e.currentTarget.maxRetransmits?tF.LOSSY:tF.RELIABLE;this.updateAndEmitDCBufferStatus(t)},this.handleDisconnect=(e,t)=>{if(this._isClosed)return;this.log.warn("".concat(e," disconnected"),this.logContext),0===this.reconnectAttempts&&(this.reconnectStart=Date.now());let n=Date.now()-this.reconnectStart,r=this.getNextRetryDelay({elapsedMs:n,retryCount:this.reconnectAttempts});if(null===r){(e=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(e,"ms. giving up"),this.logContext),this.emit(er.Disconnected),this.close()})(n);return}e===su&&(r=0),this.log.debug("reconnecting in ".concat(r,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=i7.setTimeout(()=>this.attemptReconnect(t).finally(()=>this.reconnectTimeout=void 0),r)},this.waitForRestarted=()=>new Promise((e,t)=>{this.pcState===eu.Connected&&e();let n=()=>{this.off(er.Disconnected,r),e()},r=()=>{this.off(er.Restarted,n),t()};this.once(er.Restarted,n),this.once(er.Disconnected,r)}),this.updateAndEmitDCBufferStatus=e=>{let t=this.isBufferStatusLow(e);void 0!==t&&t!==this.dcBufferStatus.get(e)&&(this.dcBufferStatus.set(e,t),this.emit(er.DCBufferStatusChanged,t,e))},this.isBufferStatusLow=e=>{let t=this.dataChannelForKind(e);if(t)return t.bufferedAmount<=t.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.currentState===el.RECONNECTING&&(this.clearReconnectTimeout(),this.attemptReconnect(tE.RR_SIGNAL_DISCONNECTED))},this.log=rA(null!==(t=e.loggerName)&&void 0!==t?t:$.Engine),this.loggerOptions={loggerName:e.loggerName,loggerContextCb:()=>this.logContext},this.client=new oZ(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new oV,this.dataProcessLock=new oV,this.dcBufferStatus=new Map([[tF.LOSSY,!0],[tF.RELIABLE,!0]]),this.client.onParticipantUpdate=e=>this.emit(er.ParticipantUpdate,e),this.client.onConnectionQuality=e=>this.emit(er.ConnectionQualityUpdate,e),this.client.onRoomUpdate=e=>this.emit(er.RoomUpdate,e),this.client.onSubscriptionError=e=>this.emit(er.SubscriptionError,e),this.client.onSubscriptionPermissionUpdate=e=>this.emit(er.SubscriptionPermissionUpdate,e),this.client.onSpeakersChanged=e=>this.emit(er.SpeakersChanged,e),this.client.onStreamStateUpdate=e=>this.emit(er.StreamStateChanged,e)}get logContext(){var e,t,n,r,i,o,s,a;return{room:null===(t=null===(e=this.latestJoinResponse)||void 0===e?void 0:e.room)||void 0===t?void 0:t.name,roomID:null===(r=null===(n=this.latestJoinResponse)||void 0===n?void 0:n.room)||void 0===r?void 0:r.sid,participant:null===(o=null===(i=this.latestJoinResponse)||void 0===i?void 0:i.participant)||void 0===o?void 0:o.identity,pID:null===(a=null===(s=this.latestJoinResponse)||void 0===s?void 0:s.participant)||void 0===a?void 0:a.sid}}join(e,t,n,r){return rD(this,void 0,void 0,function*(){this.url=e,this.token=t,this.signalOpts=n,this.maxJoinAttempts=n.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();let i=yield this.client.join(e,t,n,r);return this._isClosed=!1,this.latestJoinResponse=i,this.subscriberPrimary=i.subscriberPrimary,this.pcManager||(yield this.configure(i)),this.subscriberPrimary||this.negotiate(),this.clientConfiguration=i.clientConfiguration,i}catch(i){if(i instanceof iY&&1===i.reason&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(e,t,n,r);throw i}})}close(){return rD(this,void 0,void 0,function*(){let e=yield this.closingLock.lock();if(this.isClosed){e();return}try{this._isClosed=!0,this.emit(er.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{e()}})}cleanupPeerConnections(){var e;return rD(this,void 0,void 0,function*(){yield null===(e=this.pcManager)||void 0===e?void 0:e.close(),this.pcManager=void 0;let t=e=>{e&&(e.close(),e.onbufferedamountlow=null,e.onclose=null,e.onclosing=null,e.onerror=null,e.onmessage=null,e.onopen=null)};t(this.lossyDC),t(this.lossyDCSub),t(this.reliableDC),t(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0})}cleanupClient(){return rD(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new iQ("a track with the same ID has already been published");return new Promise((t,n)=>{let r=setTimeout(()=>{delete this.pendingTrackResolvers[e.cid],n(new iY("publication of local track timed out, no response from server"))},1e4);this.pendingTrackResolvers[e.cid]={resolve:e=>{clearTimeout(r),t(e)},reject:()=>{clearTimeout(r),n(Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(e)})}removeTrack(e){if(e.track&&this.pendingTrackResolvers[e.track.id]){let{reject:t}=this.pendingTrackResolvers[e.track.id];t&&t(),delete this.pendingTrackResolvers[e.track.id]}try{return this.pcManager.removeTrack(e),!0}catch(e){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:e}))}return!1}updateMuteStatus(e,t){this.client.sendMuteTrack(e,t)}get dataSubscriberReadyState(){var e;return null===(e=this.reliableDCSub)||void 0===e?void 0:e.readyState}getConnectedServerAddress(){var e;return rD(this,void 0,void 0,function*(){return null===(e=this.pcManager)||void 0===e?void 0:e.getConnectedAddress()})}setRegionUrlProvider(e){this.regionUrlProvider=e}configure(e){var t;return rD(this,void 0,void 0,function*(){if(this.pcManager&&this.pcManager.currentState!==ec.NEW)return;this.participantSid=null===(t=e.participant)||void 0===t?void 0:t.sid;let n=this.makeRTCConfiguration(e);this.pcManager=new sa(n,e.subscriberPrimary,this.loggerOptions),this.emit(er.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(e,t)=>{this.client.sendIceCandidate(e,t)},this.pcManager.onPublisherOffer=e=>{this.client.sendOffer(e)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(t,n,r)=>rD(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(t),this.logContext),t===ec.CONNECTED){let t=this.pcState===eu.New;this.pcState=eu.Connected,t&&this.emit(er.Connected,e)}else t===ec.FAILED&&this.pcState===eu.Connected&&(this.pcState=eu.Disconnected,this.handleDisconnect("peerconnection failed","failed"===r?tE.RR_SUBSCRIBER_FAILED:tE.RR_PUBLISHER_FAILED));let n=this.client.isDisconnected||this.client.currentState===el.RECONNECTING,i=[ec.FAILED,ec.CLOSING,ec.CLOSED].includes(t);n&&i&&!this._isClosed&&this.emit(er.Offline)}),this.pcManager.onTrack=e=>{this.emit(er.MediaTrackAdded,e.track,e.streams[0],e.receiver)},this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=e=>rD(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type})),yield this.pcManager.setPublisherAnswer(e))}),this.client.onTrickle=(e,t)=>{this.pcManager&&(this.log.trace("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:e,target:t})),this.pcManager.addIceCandidate(e,t))},this.client.onOffer=e=>rD(this,void 0,void 0,function*(){if(!this.pcManager)return;let t=yield this.pcManager.createSubscriberAnswerFromOffer(e);this.client.sendAnswer(t)}),this.client.onLocalTrackPublished=e=>{var t;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:e.cid,track:null===(t=e.track)||void 0===t?void 0:t.sid})),!this.pendingTrackResolvers[e.cid]){this.log.error("missing track resolver for ".concat(e.cid),Object.assign(Object.assign({},this.logContext),{cid:e.cid}));return}let{resolve:n}=this.pendingTrackResolvers[e.cid];delete this.pendingTrackResolvers[e.cid],n(e.track)},this.client.onLocalTrackUnpublished=e=>{this.emit(er.LocalTrackUnpublished,e)},this.client.onTokenRefresh=e=>{this.token=e},this.client.onRemoteMuteChanged=(e,t)=>{this.emit(er.RemoteMute,e,t)},this.client.onSubscribedQualityUpdate=e=>{this.emit(er.SubscribedQualityUpdate,e)},this.client.onClose=()=>{this.handleDisconnect("signal",tE.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=e=>{(null==e?void 0:e.canReconnect)?(this.fullReconnectOnNext=!0,this.handleDisconnect(su)):(this.emit(er.Disconnected,null==e?void 0:e.reason),this.close()),this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:null==e?void 0:e.reason}))}}makeRTCConfiguration(e){var t;let n=Object.assign({},this.rtcConfig);if((null===(t=this.signalOpts)||void 0===t?void 0:t.e2eeEnabled)&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),n.encodedInsertableStreams=!0),e.iceServers&&!n.iceServers){let t=[];e.iceServers.forEach(e=>{let n={urls:e.urls};e.username&&(n.username=e.username),e.credential&&(n.credential=e.credential),t.push(n)}),n.iceServers=t}return e.clientConfiguration&&e.clientConfiguration.forceRelay===tk.ENABLED&&(n.iceTransportPolicy="relay"),n.sdpSemantics="unified-plan",n.continualGatheringPolicy="gather_continually",n}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(sl,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(sc,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}setPreferredCodec(e,t,n){if(!("getCapabilities"in RTCRtpReceiver))return;let r=RTCRtpReceiver.getCapabilities(t);if(!r)return;this.log.debug("get receiver capabilities",Object.assign(Object.assign({},this.logContext),{cap:r}));let i=[],o=[],s=[];r.codecs.forEach(e=>{let t=e.mimeType.toLowerCase();if("audio/opus"===t){i.push(e);return}if(t!=="video/".concat(n)){s.push(e);return}if("h264"===n){e.sdpFmtpLine&&e.sdpFmtpLine.includes("profile-level-id=42e01f")?i.push(e):o.push(e);return}i.push(e)}),function(e){if(!ok()||!("setCodecPreferences"in e))return!1;let t=i5();if(!(null==t?void 0:t.name)||!t.version)return!1;let n=ow[t.name];return!!n&&oR(t.version,n)>=0}(e)&&e.setCodecPreferences(i.concat(o,s))}createSender(e,t,n){return rD(this,void 0,void 0,function*(){if(og())return yield this.createTransceiverRTCRtpSender(e,t,n);if(ov())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(e.mediaStreamTrack);throw new i1("Required webRTC APIs not supported on this device")})}createSimulcastSender(e,t,n,r){return rD(this,void 0,void 0,function*(){if(og())return this.createSimulcastTransceiverSender(e,t,n,r);if(ov())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(e.mediaStreamTrack);throw new i1("Cannot stream on this device")})}createTransceiverRTCRtpSender(e,t,n){return rD(this,void 0,void 0,function*(){if(!this.pcManager)throw new i1("publisher is closed");let r=[];e.mediaStream&&r.push(e.mediaStream);let i={direction:"sendonly",streams:r};n&&(i.sendEncodings=n);let o=yield this.pcManager.addPublisherTransceiver(e.mediaStreamTrack,i);return e.kind===os.Kind.Video&&t.videoCodec&&(this.setPreferredCodec(o,e.kind,t.videoCodec),e.codec=t.videoCodec),o.sender})}createSimulcastTransceiverSender(e,t,n,r){return rD(this,void 0,void 0,function*(){if(!this.pcManager)throw new i1("publisher is closed");let i={direction:"sendonly"};r&&(i.sendEncodings=r);let o=yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,i);if(n.videoCodec)return this.setPreferredCodec(o,e.kind,n.videoCodec),e.setSimulcastTrackSender(n.videoCodec,o.sender),o.sender})}createRTCRtpSender(e){return rD(this,void 0,void 0,function*(){if(!this.pcManager)throw new i1("publisher is closed");return this.pcManager.addPublisherTrack(e)})}attemptReconnect(e){var t,n,r;return rD(this,void 0,void 0,function*(){if(!this._isClosed){if(this.attemptingReconnect){rO.warn("already attempting reconnect, returning early",this.logContext);return}((null===(t=this.clientConfiguration)||void 0===t?void 0:t.resumeConnection)===tk.DISABLED||(null!==(r=null===(n=this.pcManager)||void 0===n?void 0:n.currentState)&&void 0!==r?r:ec.NEW)===ec.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(e),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(t){this.reconnectAttempts+=1;let e=!0;t instanceof i1?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:t})),e=!1):t instanceof sh||(this.fullReconnectOnNext=!0),e?this.handleDisconnect("reconnect",tE.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(er.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(e){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:e}))}return null}restartConnection(e){var t,n,r;return rD(this,void 0,void 0,function*(){try{let n;if(!this.url||!this.token)throw new i1("could not reconnect, url or token not saved");this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(er.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new sh;n=yield this.join(null!=e?e:this.url,this.token,this.signalOpts)}catch(e){if(e instanceof iY&&0===e.reason)throw new i1("could not reconnect, token might be expired");throw new sh}if(this.shouldFailNext)throw this.shouldFailNext=!1,Error("simulated failure");if(this.client.setReconnected(),this.emit(er.SignalRestarted,n),yield this.waitForPCReconnected(),this.client.currentState!==el.CONNECTED)throw new sh("Signal connection got severed during reconnect");null===(t=this.regionUrlProvider)||void 0===t||t.resetAttempts(),this.emit(er.Restarted)}catch(t){let e=yield null===(n=this.regionUrlProvider)||void 0===n?void 0:n.getNextBestRegionUrl();if(e){yield this.restartConnection(e);return}throw null===(r=this.regionUrlProvider)||void 0===r||r.resetAttempts(),t}})}resumeConnection(e){var t;return rD(this,void 0,void 0,function*(){let n;if(!this.url||!this.token)throw new i1("could not reconnect, url or token not saved");if(!this.pcManager)throw new i1("publisher and subscriber connections unset");this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(er.Resuming);try{this.setupSignalClientCallbacks(),n=yield this.client.reconnect(this.url,this.token,this.participantSid,e)}catch(t){let e="";if(t instanceof Error&&(e=t.message,this.log.error(t.message,Object.assign(Object.assign({},this.logContext),{error:t}))),t instanceof iY&&0===t.reason)throw new i1("could not reconnect, token might be expired");if(t instanceof iY&&4===t.reason)throw t;throw new sh(e)}if(this.emit(er.SignalResumed),n){let e=this.makeRTCConfiguration(n);this.pcManager.updateConfiguration(e)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==el.CONNECTED)throw new sh("Signal connection got severed during reconnect");this.client.setReconnected(),(null===(t=this.reliableDC)||void 0===t?void 0:t.readyState)==="open"&&null===this.reliableDC.id&&this.createDataChannels(),this.emit(er.Resumed)})}waitForPCInitialConnection(e,t){return rD(this,void 0,void 0,function*(){if(!this.pcManager)throw new i1("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(t,e)})}waitForPCReconnected(){return rD(this,void 0,void 0,function*(){this.pcState=eu.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield om(2e3),!this.pcManager)throw new i1("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=eu.Connected}catch(e){throw this.pcState=eu.Disconnected,new iY("could not establish PC connection, ".concat(e.message))}})}sendDataPacket(e,t){return rD(this,void 0,void 0,function*(){let n=e.toBinary();yield this.ensurePublisherConnected(t);let r=this.dataChannelForKind(t);r&&r.send(n),this.updateAndEmitDCBufferStatus(t)})}ensureDataTransportConnected(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.subscriberPrimary;return rD(this,void 0,void 0,function*(){if(!this.pcManager)throw new i1("PC manager is closed");let r=n?this.pcManager.subscriber:this.pcManager.publisher,i=n?"Subscriber":"Publisher";if(!r)throw new iY("".concat(i," connection not set"));n||this.pcManager.publisher.isICEConnected||"checking"===this.pcManager.publisher.getICEConnectionState()||this.negotiate();let o=this.dataChannelForKind(e,n);if((null==o?void 0:o.readyState)==="open")return;let s=new Date().getTime()+this.peerConnectionTimeout;for(;new Date().getTime()<s;){if(r.isICEConnected&&(null===(t=this.dataChannelForKind(e,n))||void 0===t?void 0:t.readyState)==="open")return;yield om(50)}throw new iY("could not establish ".concat(i," connection, state: ").concat(r.getICEConnectionState()))})}ensurePublisherConnected(e){return rD(this,void 0,void 0,function*(){yield this.ensureDataTransportConnected(e,!1)})}verifyTransport(){return!!this.pcManager&&this.pcManager.currentState===ec.CONNECTED&&!!this.client.ws&&this.client.ws.readyState!==WebSocket.CLOSED}negotiate(){return rD(this,void 0,void 0,function*(){return new Promise((e,t)=>rD(this,void 0,void 0,function*(){if(!this.pcManager){t(new i2("PC manager is closed"));return}this.pcManager.requirePublisher();let n=new AbortController,r=()=>{n.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),e()};this.isClosed&&t("cannot negotiate on closed engine"),this.on(er.Closing,r),this.pcManager.publisher.once(o9.RTPVideoPayloadTypes,e=>{let t=new Map;e.forEach(e=>{let n=e.codec.toLowerCase();ot.includes(n)&&t.set(e.payload,n)}),this.emit(er.RTPVideoMapUpdate,t)});try{yield this.pcManager.negotiate(n),e()}catch(e){e instanceof i2&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",tE.RR_UNKNOWN),t(e)}finally{this.off(er.Closing,r)}}))})}dataChannelForKind(e,t){if(t){if(e===tF.LOSSY)return this.lossyDCSub;if(e===tF.RELIABLE)return this.reliableDCSub}else{if(e===tF.LOSSY)return this.lossyDC;if(e===tF.RELIABLE)return this.reliableDC}}sendSyncState(e,t){var n,r;if(!this.pcManager){this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);return}let i=this.pcManager.subscriber.getLocalDescription(),o=this.pcManager.subscriber.getRemoteDescription(),s=null===(r=null===(n=this.signalOpts)||void 0===n?void 0:n.autoSubscribe)||void 0===r||r,a=[],l=[];e.forEach(e=>{e.isDesired!==s&&a.push(e.trackSid),e.isEnabled||l.push(e.trackSid)}),this.client.sendSyncState(new rr({answer:i?oY({sdp:i.sdp,type:i.type}):void 0,offer:o?oY({sdp:o.sdp,type:o.type}):void 0,subscription:new n$({trackSids:a,subscribe:!s,participantTracks:[]}),publishTracks:function(e){let t=[];return e.forEach(e=>{void 0!==e.track&&t.push(new nq({cid:e.track.mediaStreamID,track:e.trackInfo}))}),t}(t),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:l}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){let e=[],t=(t,n)=>{(null==t?void 0:t.id)!==void 0&&null!==t.id&&e.push(new ri({label:t.label,id:t.id,target:n}))};return t(this.dataChannelForKind(tF.LOSSY),nN.PUBLISHER),t(this.dataChannelForKind(tF.RELIABLE),nN.PUBLISHER),t(this.dataChannelForKind(tF.LOSSY,!0),nN.SUBSCRIBER),t(this.dataChannelForKind(tF.RELIABLE,!0),nN.SUBSCRIBER),e}clearReconnectTimeout(){this.reconnectTimeout&&i7.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){ok()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){ok()&&window.removeEventListener("online",this.handleBrowserOnLine)}}class sh extends Error{}class sp{constructor(e,t){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(e),this.token=t}updateToken(e){this.token=e}isCloud(){return oE(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(e){return rD(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(e));let t=this.regionSettings.regions.filter(e=>!this.attemptedRegions.find(t=>t.url===e.url));if(!(t.length>0))return null;{let e=t[0];return this.attemptedRegions.push(e),rO.debug("next region: ".concat(e.region)),e.url}})}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(e){return rD(this,void 0,void 0,function*(){var t;let n=yield fetch("".concat((t=this.serverUrl,"".concat(t.protocol.replace("ws","http"),"//").concat(t.host,"/settings")),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:e});if(n.ok){let e=yield n.json();return this.lastUpdateAt=Date.now(),e}throw new iY("Could not fetch region settings: ".concat(n.statusText),401===n.status?0:void 0,n.status)})}}function sf(e,t){let n,r;return t?("bytesReceived"in e?(n=e.bytesReceived,r=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,r=t.bytesSent),void 0===n||void 0===r||void 0===e.timestamp||void 0===t.timestamp)?0:(n-r)*8e3/(e.timestamp-t.timestamp):0}class sm extends oK{constructor(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;super(e,os.Kind.Audio,t,n,i),this.stopOnMute=!1,this.monitorSender=()=>rD(this,void 0,void 0,function*(){let e;if(!this.sender){this._currentBitrate=0;return}try{e=yield this.getSenderStats()}catch(e){this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:e}));return}e&&this.prevStats&&(this._currentBitrate=sf(e,this.prevStats)),this.prevStats=e}),this.audioContext=r,this.checkForSilence()}setDeviceId(e){return rD(this,void 0,void 0,function*(){return this._constraints.deviceId===e&&this._mediaStreamTrack.getSettings().deviceId===oB(e)||(this._constraints.deviceId=e,this.isMuted||(yield this.restartTrack()),this.isMuted||oB(e)===this._mediaStreamTrack.getSettings().deviceId)})}mute(){let e=Object.create(null,{mute:{get:()=>super.mute}});return rD(this,void 0,void 0,function*(){let t=yield this.muteLock.lock();try{if(this.isMuted)return this.log.debug("Track already muted",this.logContext),this;return this.source===os.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this}finally{t()}})}unmute(){let e=Object.create(null,{unmute:{get:()=>super.unmute}});return rD(this,void 0,void 0,function*(){let t=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;let t=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==oB(this._constraints.deviceId);return this.source===os.Source.Microphone&&(this.stopOnMute||"ended"===this._mediaStreamTrack.readyState||t)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this}finally{t()}})}restartTrack(e){return rD(this,void 0,void 0,function*(){let t;if(e){let n=ou({audio:e});"boolean"!=typeof n.audio&&(t=n.audio)}yield this.restart(t)})}restart(e){let t=Object.create(null,{restart:{get:()=>super.restart}});return rD(this,void 0,void 0,function*(){let n=yield t.restart.call(this,e);return this.checkForSilence(),n})}startMonitor(){ok()&&!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},2e3))}setProcessor(e){var t;return rD(this,void 0,void 0,function*(){let n=yield this.processorLock.lock();try{if(!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.stopProcessor());let n={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(e.name),this.logContext),yield e.init(n),this.processor=e,this.processor.processedTrack&&(yield null===(t=this.sender)||void 0===t?void 0:t.replaceTrack(this.processor.processedTrack)),this.emit(ei.TrackProcessorUpdate,this.processor)}finally{n()}})}setAudioContext(e){this.audioContext=e}getSenderStats(){var e;return rD(this,void 0,void 0,function*(){let t;if(null===(e=this.sender)||void 0===e?void 0:e.getStats)return(yield this.sender.getStats()).forEach(e=>{"outbound-rtp"===e.type&&(t={type:"audio",streamId:e.id,packetsSent:e.packetsSent,packetsLost:e.packetsLost,bytesSent:e.bytesSent,timestamp:e.timestamp,roundTripTime:e.roundTripTime,jitter:e.jitter})}),t})}checkForSilence(){return rD(this,void 0,void 0,function*(){let e=yield function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return rD(this,void 0,void 0,function*(){let n=od();if(n){let r=n.createAnalyser();r.fftSize=2048;let i=new Uint8Array(r.frequencyBinCount);n.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(r),yield om(t),r.getByteTimeDomainData(i);let o=i.some(e=>128!==e&&0!==e);return n.close(),!o}return!1})}(this);return e&&(this.isMuted||this.log.warn("silence detected on local audio track",this.logContext),this.emit(ei.AudioSilenceDetected)),e})}}let sg=Object.values(on),sv=Object.values(or),sy=Object.values(oi),sb=[on.h180,on.h360],sw=[or.h180,or.h360],s_=e=>[{scaleResolutionDownBy:2,fps:e.encoding.maxFramerate}].map(t=>{var n,r;return new i9(Math.floor(e.width/t.scaleResolutionDownBy),Math.floor(e.height/t.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(t.scaleResolutionDownBy,2)*((null!==(n=e.encoding.maxFramerate)&&void 0!==n?n:30)/(null!==(r=t.fps)&&void 0!==r?r:30))))),t.fps,e.encoding.priority)}),sC=["q","h","f"];function sx(e,t,n,r){var i,o;let s;let a=null==r?void 0:r.videoEncoding;e&&(a=null==r?void 0:r.screenShareEncoding);let l=null==r?void 0:r.simulcast,c=null==r?void 0:r.scalabilityMode,u=null==r?void 0:r.videoCodec;if(!a&&!l&&!c||!t||!n)return[{}];a||(a=function(e,t,n,r){let i=function(e,t,n){if(e)return sy;let r=t>n?t/n:n/t;return Math.abs(r-16/9)<Math.abs(r-4/3)?sg:sv}(e,t,n),{encoding:o}=i[0],s=Math.max(t,n);for(let e=0;e<i.length;e+=1){let t=i[e];if(o=t.encoding,t.width>=s)break}if(r)switch(r){case"av1":(o=Object.assign({},o)).maxBitrate=.7*o.maxBitrate;break;case"vp9":(o=Object.assign({},o)).maxBitrate=.85*o.maxBitrate}return o}(e,t,n,u),rO.debug("using video encoding",a));let d=new i9(t,n,a.maxBitrate,a.maxFramerate,a.priority);if(c&&oy(u)){let e=new sT(c),t=[];if(e.spatial>3)throw Error("unsupported scalabilityMode: ".concat(c));let n=i5();if(oC()||(null==n?void 0:n.name)==="Chrome"&&0>oR(null==n?void 0:n.version,"113")){for(let n=0;n<e.spatial;n+=1)t.push({rid:sC[2-n],maxBitrate:a.maxBitrate/Math.pow(3,n),maxFramerate:d.encoding.maxFramerate});t[0].scalabilityMode=c}else t.push({maxBitrate:a.maxBitrate,maxFramerate:d.encoding.maxFramerate,scalabilityMode:c});return rO.debug("using svc encoding",{encodings:t}),t}if(!l)return[a];let h=[];if((h=e?null!==(i=sE(null==r?void 0:r.screenShareSimulcastLayers))&&void 0!==i?i:sk(e,d):null!==(o=sE(null==r?void 0:r.videoSimulcastLayers))&&void 0!==o?o:sk(e,d)).length>0){let e=h[0];h.length>1&&([,s]=h);let r=Math.max(t,n);if(r>=960&&s)return sS(t,n,[e,s,d]);if(r>=480)return sS(t,n,[e,d])}return sS(t,n,[d])}function sk(e,t){if(e)return s_(t);let{width:n,height:r}=t,i=n>r?n/r:r/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?sb:sw}function sS(e,t,n){let r=[];if(n.forEach((n,i)=>{if(i>=sC.length)return;let o=Math.min(e,t),s={rid:sC[i],scaleResolutionDownBy:Math.max(1,o/Math.min(n.width,n.height)),maxBitrate:n.encoding.maxBitrate};n.encoding.maxFramerate&&(s.maxFramerate=n.encoding.maxFramerate);let a=o_()||0===i;n.encoding.priority&&a&&(s.priority=n.encoding.priority,s.networkPriority=n.encoding.priority),r.push(s)}),oS()&&"ios"===oP()){let e;r.forEach(t=>{e?t.maxFramerate&&t.maxFramerate>e&&(e=t.maxFramerate):e=t.maxFramerate});let t=!0;r.forEach(n=>{var r;n.maxFramerate!=e&&(t&&(t=!1,rO.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),rO.info('Setting framerate of encoding "'.concat(null!==(r=n.rid)&&void 0!==r?r:"",'" to ').concat(e)),n.maxFramerate=e)})}return r}function sE(e){if(e)return e.sort((e,t)=>{let{encoding:n}=e,{encoding:r}=t;return n.maxBitrate>r.maxBitrate?1:n.maxBitrate<r.maxBitrate?-1:n.maxBitrate===r.maxBitrate&&n.maxFramerate&&r.maxFramerate?n.maxFramerate>r.maxFramerate?1:-1:0})}class sT{constructor(e){let t=e.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!t)throw Error("invalid scalability mode");if(this.spatial=parseInt(t[1]),this.temporal=parseInt(t[2]),t.length>3)switch(t[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=t[3]}}toString(){var e;return"L".concat(this.spatial,"T").concat(this.temporal).concat(null!==(e=this.suffix)&&void 0!==e?e:"")}}class sP extends oK{constructor(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=arguments.length>3?arguments[3]:void 0;super(e,os.Kind.Video,t,n,r),this.simulcastCodecs=new Map,this.monitorSender=()=>rD(this,void 0,void 0,function*(){let e;if(!this.sender){this._currentBitrate=0;return}try{e=yield this.getSenderStats()}catch(e){this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:e}));return}let t=new Map(e.map(e=>[e.rid,e]));if(this.prevStats){let e=0;t.forEach((t,n)=>{var r;let i=null===(r=this.prevStats)||void 0===r?void 0:r.get(n);e+=sf(t,i)}),this._currentBitrate=e}this.prevStats=t}),this.senderLock=new oV}get isSimulcast(){return!!this.sender&&this.sender.getParameters().encodings.length>1}startMonitor(e){var t;if(this.signalClient=e,!ok())return;let n=null===(t=this.sender)||void 0===t?void 0:t.getParameters();n&&(this.encodings=n.encodings),this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},2e3))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(e=>{e.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){var e,t,n,r,i;let o=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return rD(this,void 0,void 0,function*(){yield o.pauseUpstream.call(this);try{for(var s,a=!0,l=rj(this.simulcastCodecs.values());!(e=(s=yield l.next()).done);a=!0)r=s.value,a=!1,yield null===(i=r.sender)||void 0===i?void 0:i.replaceTrack(null)}catch(e){t={error:e}}finally{try{!a&&!e&&(n=l.return)&&(yield n.call(l))}finally{if(t)throw t.error}}})}resumeUpstream(){var e,t,n,r,i;let o=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return rD(this,void 0,void 0,function*(){yield o.resumeUpstream.call(this);try{for(var s,a=!0,l=rj(this.simulcastCodecs.values());!(e=(s=yield l.next()).done);a=!0)r=s.value,a=!1,yield null===(i=r.sender)||void 0===i?void 0:i.replaceTrack(r.mediaStreamTrack)}catch(e){t={error:e}}finally{try{!a&&!e&&(n=l.return)&&(yield n.call(l))}finally{if(t)throw t.error}}})}mute(){let e=Object.create(null,{mute:{get:()=>super.mute}});return rD(this,void 0,void 0,function*(){let t=yield this.muteLock.lock();try{if(this.isMuted)return this.log.debug("Track already muted",this.logContext),this;return this.source!==os.Source.Camera||this.isUserProvided||(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this}finally{t()}})}unmute(){let e=Object.create(null,{unmute:{get:()=>super.unmute}});return rD(this,void 0,void 0,function*(){let t=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;return this.source!==os.Source.Camera||this.isUserProvided||(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this}finally{t()}})}setTrackMuted(e){for(let t of(super.setTrackMuted(e),this.simulcastCodecs.values()))t.mediaStreamTrack.enabled=!e}getSenderStats(){var e;return rD(this,void 0,void 0,function*(){if(!(null===(e=this.sender)||void 0===e?void 0:e.getStats))return[];let t=[],n=yield this.sender.getStats();return n.forEach(e=>{var r;if("outbound-rtp"===e.type){let i={type:"video",streamId:e.id,frameHeight:e.frameHeight,frameWidth:e.frameWidth,framesPerSecond:e.framesPerSecond,framesSent:e.framesSent,firCount:e.firCount,pliCount:e.pliCount,nackCount:e.nackCount,packetsSent:e.packetsSent,bytesSent:e.bytesSent,qualityLimitationReason:e.qualityLimitationReason,qualityLimitationDurations:e.qualityLimitationDurations,qualityLimitationResolutionChanges:e.qualityLimitationResolutionChanges,rid:null!==(r=e.rid)&&void 0!==r?r:e.id,retransmittedPacketsSent:e.retransmittedPacketsSent,targetBitrate:e.targetBitrate,timestamp:e.timestamp},o=n.get(e.remoteId);o&&(i.jitter=o.jitter,i.packetsLost=o.packetsLost,i.roundTripTime=o.roundTripTime),t.push(i)}}),t.sort((e,t)=>{var n,r;return(null!==(n=t.frameWidth)&&void 0!==n?n:0)-(null!==(r=e.frameWidth)&&void 0!==r?r:0)}),t})}setPublishingQuality(e){let t=[];for(let n=es.LOW;n<=es.HIGH;n+=1)t.push(new n8({quality:n,enabled:n<=e}));this.log.debug("setting publishing quality. max quality ".concat(e),this.logContext),this.setPublishingLayers(t)}setDeviceId(e){return rD(this,void 0,void 0,function*(){return this._constraints.deviceId===e&&this._mediaStreamTrack.getSettings().deviceId===oB(e)||(this._constraints.deviceId=e,this.isMuted||(yield this.restartTrack()),this.isMuted||oB(e)===this._mediaStreamTrack.getSettings().deviceId)})}restartTrack(e){var t,n,r,i;return rD(this,void 0,void 0,function*(){let o;if(e){let t=ou({video:e});"boolean"!=typeof t.video&&(o=t.video)}yield this.restart(o);try{for(var s,a=!0,l=rj(this.simulcastCodecs.values());!(t=(s=yield l.next()).done);a=!0)i=s.value,a=!1,i.sender&&(i.mediaStreamTrack=this.mediaStreamTrack.clone(),yield i.sender.replaceTrack(i.mediaStreamTrack))}catch(e){n={error:e}}finally{try{!a&&!t&&(r=l.return)&&(yield r.call(l))}finally{if(n)throw n.error}}})}setProcessor(e){var t,n,r,i,o,s;let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],l=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return rD(this,void 0,void 0,function*(){if(yield l.setProcessor.call(this,e,a),null===(o=this.processor)||void 0===o?void 0:o.processedTrack)try{for(var c,u=!0,d=rj(this.simulcastCodecs.values());!(t=(c=yield d.next()).done);u=!0)i=c.value,u=!1,yield null===(s=i.sender)||void 0===s?void 0:s.replaceTrack(this.processor.processedTrack)}catch(e){n={error:e}}finally{try{!u&&!t&&(r=d.return)&&(yield r.call(d))}finally{if(n)throw n.error}}})}addSimulcastTrack(e,t){if(this.simulcastCodecs.has(e)){this.log.error("".concat(e," already added, skipping adding simulcast codec"),this.logContext);return}let n={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:t};return this.simulcastCodecs.set(e,n),n}setSimulcastTrackSender(e,t){let n=this.simulcastCodecs.get(e);n&&(n.sender=t,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},5e3))}setPublishingCodecs(e){var t,n,r,i,o,s,a;return rD(this,void 0,void 0,function*(){if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:e,currentCodec:this.codec})),!this.codec&&e.length>0)return yield this.setPublishingLayers(e[0].qualities),[];this.subscribedCodecs=e;let l=[];try{for(t=!0,n=rj(e);!(i=(r=yield n.next()).done);t=!0)if(a=r.value,t=!1,this.codec&&this.codec!==a.codec){let e=this.simulcastCodecs.get(a.codec);if(this.log.debug("try setPublishingCodec for ".concat(a.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:e})),e&&e.sender)e.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(a.codec),this.logContext),yield sI(e.sender,e.encodings,a.qualities,this.senderLock,this.log,this.logContext));else for(let e of a.qualities)if(e.enabled){l.push(a.codec);break}}else yield this.setPublishingLayers(a.qualities)}catch(e){o={error:e}}finally{try{!t&&!i&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}return l})}setPublishingLayers(e){return rD(this,void 0,void 0,function*(){this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:e})),this.sender&&this.encodings&&(yield sI(this.sender,this.encodings,e,this.senderLock,this.log,this.logContext))})}handleAppVisibilityChanged(){let e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return rD(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),ox()&&this.isInBackground&&this.source===os.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function sI(e,t,n,r,i,o){return rD(this,void 0,void 0,function*(){let s=yield r.lock();i.debug("setPublishingLayersForSender",Object.assign(Object.assign({},o),{sender:e,qualities:n,senderEncodings:t}));try{let r=e.getParameters(),{encodings:s}=r;if(!s)return;if(s.length!==t.length){i.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},o),{encodings:s,senderEncodings:t}));return}let a=!1;s.forEach((e,r)=>{var s;let l=null!==(s=e.rid)&&void 0!==s?s:"";""===l&&(l="q");let c=sR(l),u=n.find(e=>e.quality===c);u&&e.active!==u.enabled&&(a=!0,e.active=u.enabled,i.debug("setting layer ".concat(u.quality," to ").concat(e.active?"enabled":"disabled"),o),o_()&&(u.enabled?(e.scaleResolutionDownBy=t[r].scaleResolutionDownBy,e.maxBitrate=t[r].maxBitrate,e.maxFrameRate=t[r].maxFrameRate):(e.scaleResolutionDownBy=4,e.maxBitrate=10,e.maxFrameRate=2)))}),a&&(r.encodings=s,i.debug("setting encodings",Object.assign(Object.assign({},o),{encodings:r.encodings})),yield e.setParameters(r))}finally{s()}})}function sR(e){switch(e){case"f":default:return es.HIGH;case"h":return es.MEDIUM;case"q":return es.LOW}}function sO(e,t,n,r){if(!n)return[new tj({quality:es.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(r){let r=new sT(n[0].scalabilityMode),i=[];for(let o=0;o<r.spatial;o+=1)i.push(new tj({quality:es.HIGH-o,width:Math.ceil(e/Math.pow(2,o)),height:Math.ceil(t/Math.pow(2,o)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(3,o)):0,ssrc:0}));return i}return n.map(n=>{var r,i,o;let s=null!==(r=n.scaleResolutionDownBy)&&void 0!==r?r:1;return new tj({quality:sR(null!==(i=n.rid)&&void 0!==i?i:""),width:Math.ceil(e/s),height:Math.ceil(t/s),bitrate:null!==(o=n.maxBitrate)&&void 0!==o?o:0,ssrc:0})})}class sA extends os{constructor(e,t,n,r,i){super(e,n,i),this.sid=t,this.receiver=r}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?ei.Muted:ei.Unmuted,this))}setMediaStream(e){this.mediaStream=e;let t=n=>{n.track===this._mediaStreamTrack&&(e.removeEventListener("removetrack",t),this.receiver=void 0,this._currentBitrate=0,this.emit(ei.Ended,this))};e.addEventListener("removetrack",t)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){var e;return rD(this,void 0,void 0,function*(){if(null===(e=this.receiver)||void 0===e?void 0:e.getStats)return yield this.receiver.getStats()})}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),2e3))}}class sN extends sA{constructor(e,t,n,r,i,o){super(e,t,os.Kind.Audio,n,o),this.monitorReceiver=()=>rD(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}let e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=sf(e,this.prevStats)),this.prevStats=e}),this.audioContext=r,this.webAudioPluginNodes=[],i&&(this.sinkId=i.deviceId)}setVolume(e){var t;for(let n of this.attachedElements)this.audioContext?null===(t=this.gainNode)||void 0===t||t.gain.setTargetAtTime(e,0,.1):n.volume=e;oS()&&this._mediaStreamTrack._setVolume(e),this.elementVolume=e}getVolume(){if(this.elementVolume)return this.elementVolume;if(oS())return 1;let e=0;return this.attachedElements.forEach(t=>{t.volume>e&&(e=t.volume)}),e}setSinkId(e){return rD(this,void 0,void 0,function*(){this.sinkId=e,yield Promise.all(this.attachedElements.map(t=>{if(ob(t))return t.setSinkId(e)}))})}attach(e){let t=0===this.attachedElements.length;return e?super.attach(e):e=super.attach(),this.sinkId&&ob(e)&&e.setSinkId(this.sinkId),this.audioContext&&t&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),e}detach(e){let t;return e?(t=super.detach(e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(t=super.detach(),this.disconnectWebAudio()),t}setAudioContext(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}setWebAudioPlugins(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(e,t){this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(t.srcObject);let n=this.sourceNode;this.webAudioPluginNodes.forEach(e=>{n.connect(e),n=e}),this.gainNode=e.createGain(),n.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),"running"!==e.state&&e.resume().then(()=>{"running"!==e.state&&this.emit(ei.AudioPlaybackFailed,Error("Audio Context couldn't be started automatically"))}).catch(e=>{this.emit(ei.AudioPlaybackFailed,e)})}disconnectWebAudio(){var e,t;null===(e=this.gainNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return rD(this,void 0,void 0,function*(){let e;if(this.receiver&&this.receiver.getStats)return(yield this.receiver.getStats()).forEach(t=>{"inbound-rtp"===t.type&&(e={type:"audio",timestamp:t.timestamp,jitter:t.jitter,bytesReceived:t.bytesReceived,concealedSamples:t.concealedSamples,concealmentEvents:t.concealmentEvents,silentConcealedSamples:t.silentConcealedSamples,silentConcealmentEvents:t.silentConcealmentEvents,totalAudioEnergy:t.totalAudioEnergy,totalSamplesDuration:t.totalSamplesDuration})}),e})}}class sL extends sA{constructor(e,t,n,r,i){super(e,t,os.Kind.Video,n,i),this.elementInfos=[],this.monitorReceiver=()=>rD(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}let e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=sf(e,this.prevStats)),this.prevStats=e}),this.debouncedHandleResize=i3(()=>{this.updateDimensions()},100),this.adaptiveStreamSettings=r}get isAdaptiveStream(){return void 0!==this.adaptiveStreamSettings}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach(t=>{e?ol(this._mediaStreamTrack,t):oa(this._mediaStreamTrack,t)})}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&void 0===this.elementInfos.find(t=>t.element===e)){let t=new sM(e);this.observeElementInfo(t)}return e}observeElementInfo(e){this.adaptiveStreamSettings&&void 0===this.elementInfos.find(t=>t===e)?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(e){if(!this.isAdaptiveStream){this.log.warn("stopObservingElementInfo ignored",this.logContext);return}for(let t of this.elementInfos.filter(t=>t===e))t.stopObserving();this.elementInfos=this.elementInfos.filter(t=>t!==e),this.updateVisibility(),this.debouncedHandleResize()}detach(e){let t=[];if(e)return this.stopObservingElement(e),super.detach(e);for(let e of t=super.detach())this.stopObservingElement(e);return t}getDecoderImplementation(){var e;return null===(e=this.prevStats)||void 0===e?void 0:e.decoderImplementation}getReceiverStats(){return rD(this,void 0,void 0,function*(){let e;if(!this.receiver||!this.receiver.getStats)return;let t=yield this.receiver.getStats(),n="",r=new Map;return t.forEach(t=>{"inbound-rtp"===t.type?(n=t.codecId,e={type:"video",framesDecoded:t.framesDecoded,framesDropped:t.framesDropped,framesReceived:t.framesReceived,packetsReceived:t.packetsReceived,packetsLost:t.packetsLost,frameWidth:t.frameWidth,frameHeight:t.frameHeight,pliCount:t.pliCount,firCount:t.firCount,nackCount:t.nackCount,jitter:t.jitter,timestamp:t.timestamp,bytesReceived:t.bytesReceived,decoderImplementation:t.decoderImplementation}):"codec"===t.type&&r.set(t.id,t)}),e&&""!==n&&r.get(n)&&(e.mimeType=r.get(n).mimeType),e})}stopObservingElement(e){for(let t of this.elementInfos.filter(t=>t.element===e))this.stopObservingElementInfo(t)}handleAppVisibilityChanged(){let e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return rD(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(){var e,t;let n=this.elementInfos.reduce((e,t)=>Math.max(e,t.visibilityChangedAt||0),0),r=(null===(t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pauseVideoInBackground)||void 0===t||!!t)&&this.isInBackground,i=this.elementInfos.some(e=>e.pictureInPicture),o=this.elementInfos.some(e=>e.visible)&&!r||i;if(this.lastVisible!==o){if(!o&&Date.now()-n<100){i7.setTimeout(()=>{this.updateVisibility()},100);return}this.lastVisible=o,this.emit(ei.VisibilityChanged,o,this)}}updateDimensions(){var e,t;let n=0,r=0,i=this.getPixelDensity();for(let e of this.elementInfos){let t=e.width()*i,o=e.height()*i;t+o>n+r&&(n=t,r=o)}((null===(e=this.lastDimensions)||void 0===e?void 0:e.width)!==n||(null===(t=this.lastDimensions)||void 0===t?void 0:t.height)!==r)&&(this.lastDimensions={width:n,height:r},this.emit(ei.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var e;let t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pixelDensity;return"screen"===t?oI():t||(oI()>2?2:1)}}class sM{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(e,t){this.onVisibilityChanged=e=>{var t;let{target:n,isIntersecting:r}=e;n===this.element&&(this.isIntersecting=r,this.visibilityChangedAt=Date.now(),null===(t=this.handleVisibilityChanged)||void 0===t||t.call(this))},this.onEnterPiP=()=>{var e;this.isPiP=!0,null===(e=this.handleVisibilityChanged)||void 0===e||e.call(this)},this.onLeavePiP=()=>{var e;this.isPiP=!1,null===(e=this.handleVisibilityChanged)||void 0===e||e.call(this)},this.element=e,this.isIntersecting=null!=t?t:sD(e),this.isPiP=ok()&&document.pictureInPictureElement===e,this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){this.isIntersecting=sD(this.element),this.isPiP=document.pictureInPictureElement===this.element,this.element.handleResize=()=>{var e;null===(e=this.handleResize)||void 0===e||e.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,oD().observe(this.element),oL().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP)}stopObserving(){var e,t;null===(e=oD())||void 0===e||e.unobserve(this.element),null===(t=oL())||void 0===t||t.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP)}}function sD(e){let t=e.offsetTop,n=e.offsetLeft,r=e.offsetWidth,i=e.offsetHeight,{hidden:o}=e,{opacity:s,display:a}=getComputedStyle(e);for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+r>window.pageXOffset&&!o&&(""===s||parseFloat(s)>0)&&"none"!==a}class sj extends rQ.EventEmitter{constructor(e,t,n,r){var i;super(),this.metadataMuted=!1,this.encryption=tL.NONE,this.log=rO,this.handleMuted=()=>{this.emit(ei.Muted)},this.handleUnmuted=()=>{this.emit(ei.Unmuted)},this.log=rA(null!==(i=null==r?void 0:r.loggerName)&&void 0!==i?i:$.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=e,this.trackSid=t,this.trackName=n,this.source=os.Source.Unknown}setTrack(e){this.track&&(this.track.off(ei.Muted,this.handleMuted),this.track.off(ei.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(ei.Muted,this.handleMuted),e.on(ei.Unmuted,this.handleUnmuted))}get logContext(){var e;return Object.assign(Object.assign({},null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this)),op(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return void 0!==this.track}get isEncrypted(){return this.encryption!==tL.NONE}get audioTrack(){if(this.track instanceof sm||this.track instanceof sN)return this.track}get videoTrack(){if(this.track instanceof sP||this.track instanceof sL)return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=os.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===os.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.encryption=e.encryption,this.trackInfo=e,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:e}))}}(F=(U=sj||(sj={})).SubscriptionStatus||(U.SubscriptionStatus={})).Desired="desired",F.Subscribed="subscribed",F.Unsubscribed="unsubscribed",(V=U.PermissionStatus||(U.PermissionStatus={})).Allowed="allowed",V.NotAllowed="not_allowed";class sU extends sj{get isUpstreamPaused(){var e;return null===(e=this.track)||void 0===e?void 0:e.isUpstreamPaused}constructor(e,t,n,r){super(e,t.sid,t.name,r),this.track=void 0,this.handleTrackEnded=()=>{this.emit(ei.Ended)},this.updateInfo(t),this.setTrack(n)}setTrack(e){this.track&&this.track.off(ei.Ended,this.handleTrackEnded),super.setTrack(e),e&&e.on(ei.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}mute(){var e;return rD(this,void 0,void 0,function*(){return null===(e=this.track)||void 0===e?void 0:e.mute()})}unmute(){var e;return rD(this,void 0,void 0,function*(){return null===(e=this.track)||void 0===e?void 0:e.unmute()})}pauseUpstream(){var e;return rD(this,void 0,void 0,function*(){yield null===(e=this.track)||void 0===e?void 0:e.pauseUpstream()})}resumeUpstream(){var e;return rD(this,void 0,void 0,function*(){yield null===(e=this.track)||void 0===e?void 0:e.resumeUpstream()})}}(B=ed||(ed={})).Excellent="excellent",B.Good="good",B.Poor="poor",B.Lost="lost",B.Unknown="unknown";class sF extends rQ.EventEmitter{get logContext(){var e,t;return Object.assign({},null===(t=null===(e=this.loggerOptions)||void 0===e?void 0:e.loggerContextCb)||void 0===t?void 0:t.call(e))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(e=>e.isEncrypted)}get isAgent(){var e,t;return null!==(t=null===(e=this.permissions)||void 0===e?void 0:e.agent)&&void 0!==t&&t}constructor(e,t,n,r,i){var o;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=ed.Unknown,this.log=rO,this.log=rA(null!==(o=null==i?void 0:i.loggerName)&&void 0!==o?o:$.Participant),this.loggerOptions=i,this.setMaxListeners(100),this.sid=e,this.identity=t,this.name=n,this.metadata=r,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(e){for(let[,t]of this.trackPublications)if(t.source===e)return t}getTrackPublicationByName(e){for(let[,t]of this.trackPublications)if(t.trackName===e)return t}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;let t=this.getTrackPublication(os.Source.Camera);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isMicrophoneEnabled(){var e;let t=this.getTrackPublication(os.Source.Microphone);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isScreenShareEnabled(){return!!this.getTrackPublication(os.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(1e3*Number.parseInt(this.participantInfo.joinedAt.toString())):new Date}updateInfo(e){return(!this.participantInfo||this.participantInfo.sid!==e.sid||!(this.participantInfo.version>e.version))&&(this.identity=e.identity,this.sid=e.sid,this._setName(e.name),this._setMetadata(e.metadata),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,this.log.trace("update participant info",Object.assign(Object.assign({},this.logContext),{info:e})),!0)}_setMetadata(e){let t=this.metadata!==e,n=this.metadata;this.metadata=e,t&&this.emit(en.ParticipantMetadataChanged,n)}_setName(e){let t=this.name!==e;this.name=e,t&&this.emit(en.ParticipantNameChanged,e)}setPermissions(e){var t,n,r,i,o;let s=this.permissions,a=e.canPublish!==(null===(t=this.permissions)||void 0===t?void 0:t.canPublish)||e.canSubscribe!==(null===(n=this.permissions)||void 0===n?void 0:n.canSubscribe)||e.canPublishData!==(null===(r=this.permissions)||void 0===r?void 0:r.canPublishData)||e.hidden!==(null===(i=this.permissions)||void 0===i?void 0:i.hidden)||e.recorder!==(null===(o=this.permissions)||void 0===o?void 0:o.recorder)||e.canPublishSources.length!==this.permissions.canPublishSources.length||e.canPublishSources.some((e,t)=>{var n;return e!==(null===(n=this.permissions)||void 0===n?void 0:n.canPublishSources[t])});return this.permissions=e,a&&this.emit(en.ParticipantPermissionsChanged,s),a}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(en.IsSpeakingChanged,e))}setConnectionQuality(e){let t=this._connectionQuality;this._connectionQuality=function(e){switch(e){case tx.EXCELLENT:return ed.Excellent;case tx.GOOD:return ed.Good;case tx.POOR:return ed.Poor;case tx.LOST:return ed.Lost;default:return ed.Unknown}}(e),t!==this._connectionQuality&&this.emit(en.ConnectionQualityChanged,this._connectionQuality)}setAudioContext(e){this.audioContext=e,this.audioTrackPublications.forEach(t=>(t.track instanceof sN||t.track instanceof sm)&&t.track.setAudioContext(e))}addTrackPublication(e){switch(e.on(ei.Muted,()=>{this.emit(en.TrackMuted,e)}),e.on(ei.Unmuted,()=>{this.emit(en.TrackUnmuted,e)}),e.track&&(e.track.sid=e.trackSid),this.trackPublications.set(e.trackSid,e),e.kind){case os.Kind.Audio:this.audioTrackPublications.set(e.trackSid,e);break;case os.Kind.Video:this.videoTrackPublications.set(e.trackSid,e)}}}class sV extends sF{constructor(e,t,n,r){super(e,t,void 0,void 0,{loggerName:r.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=tL.NONE,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new oF)},this.handleReconnected=()=>{var e,t;null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.resolve)||void 0===t||t.call(e),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleDisconnected=()=>{var e,t;this.reconnectFuture&&(this.reconnectFuture.promise.catch(e=>this.log.warn(e.message,this.logContext)),null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.reject)||void 0===t||t.call(e,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0)},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(e=>(function(e){var t,n,r;if(!e.participantSid&&!e.participantIdentity)throw Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new re({participantIdentity:null!==(t=e.participantIdentity)&&void 0!==t?t:"",participantSid:null!==(n=e.participantSid)&&void 0!==n?n:"",allTracks:null!==(r=e.allowAll)&&void 0!==r&&r,trackSids:e.allowedTrackSids||[]})})(e)))},this.onTrackUnmuted=e=>{this.onTrackMuted(e,e.isUpstreamPaused)},this.onTrackMuted=(e,t)=>{if(void 0===t&&(t=!0),!e.sid){this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),op(e)));return}this.engine.updateMuteStatus(e.sid,t)},this.onTrackUpstreamPaused=e=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),op(e))),this.onTrackMuted(e,!0)},this.onTrackUpstreamResumed=e=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),op(e))),this.onTrackMuted(e,e.isMuted)},this.handleSubscribedQualityUpdate=e=>rD(this,void 0,void 0,function*(){if(!(null===(s=this.roomOptions)||void 0===s?void 0:s.dynacast))return;let t=this.videoTrackPublications.get(e.trackSid);if(!t){this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:e.trackSid}));return}if(e.subscribedCodecs.length>0){if(!t.videoTrack)return;let d=yield t.videoTrack.setPublishingCodecs(e.subscribedCodecs);try{for(var n,r,i,o,s,a,l,c=!0,u=rj(d);!(n=(l=yield u.next()).done);c=!0)o=l.value,c=!1,function(e){return!!oe.find(t=>t===e)}(o)&&(this.log.debug("publish ".concat(o," for ").concat(t.videoTrack.sid),Object.assign(Object.assign({},this.logContext),op(t))),yield this.publishAdditionalCodecForTrack(t.videoTrack,o,t.options))}catch(e){r={error:e}}finally{try{!c&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}}else e.subscribedQualities.length>0&&(yield null===(a=t.videoTrack)||void 0===a?void 0:a.setPublishingLayers(e.subscribedQualities))}),this.handleLocalTrackUnpublished=e=>{let t=this.trackPublications.get(e.trackSid);if(!t){this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:e.trackSid}));return}this.unpublishTrack(t.track)},this.handleTrackEnded=e=>rD(this,void 0,void 0,function*(){if(e.source===os.Source.ScreenShare||e.source===os.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),op(e))),this.unpublishTrack(e);else if(e.isUserProvided)yield e.mute();else if(e instanceof sm||e instanceof sP)try{if(ok())try{let t=yield null==navigator?void 0:navigator.permissions.query({name:e.source===os.Source.Camera?"camera":"microphone"});if(t&&"denied"===t.state)throw this.log.warn("user has revoked access to ".concat(e.source),Object.assign(Object.assign({},this.logContext),op(e))),t.onchange=()=>{"denied"!==t.state&&(e.isMuted||e.restartTrack(),t.onchange=null)},Error("GetUserMedia Permission denied")}catch(e){}e.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),op(e))),yield e.restartTrack())}catch(t){this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),op(e))),yield e.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=n,this.roomOptions=r,this.setupEngine(n),this.activeDeviceMap=new Map}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==tL.NONE}getTrackPublication(e){let t=super.getTrackPublication(e);if(t)return t}getTrackPublicationByName(e){let t=super.getTrackPublicationByName(e);if(t)return t}setupEngine(e){this.engine=e,this.engine.on(er.RemoteMute,(e,t)=>{let n=this.trackPublications.get(e);n&&n.track&&(t?n.mute():n.unmute())}),this.engine.on(er.Connected,this.handleReconnected).on(er.SignalRestarted,this.handleReconnected).on(er.SignalResumed,this.handleReconnected).on(er.Restarting,this.handleReconnecting).on(er.Resuming,this.handleReconnecting).on(er.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(er.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(er.Disconnected,this.handleDisconnected)}setMetadata(e){var t;this.engine.client.sendUpdateLocalMetadata(e,null!==(t=this.name)&&void 0!==t?t:"")}setName(e){var t;this.engine.client.sendUpdateLocalMetadata(null!==(t=this.metadata)&&void 0!==t?t:"",e)}setCameraEnabled(e,t,n){return this.setTrackEnabled(os.Source.Camera,e,t,n)}setMicrophoneEnabled(e,t,n){return this.setTrackEnabled(os.Source.Microphone,e,t,n)}setScreenShareEnabled(e,t,n){return this.setTrackEnabled(os.Source.ScreenShare,e,t,n)}setPermissions(e){let t=this.permissions,n=super.setPermissions(e);return n&&t&&this.emit(en.ParticipantPermissionsChanged,t),n}setE2EEEnabled(e){return rD(this,void 0,void 0,function*(){this.encryptionType=e?tL.GCM:tL.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(e,t,n,r){var i,o;return rD(this,void 0,void 0,function*(){this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:e,enabled:t}));let s=this.getTrackPublication(e);if(t){if(s)yield s.unmute();else{let t;if(this.pendingPublishing.has(e)){this.log.info("skipping duplicate published source",Object.assign(Object.assign({},this.logContext),{source:e}));return}this.pendingPublishing.add(e);try{switch(e){case os.Source.Camera:t=yield this.createTracks({video:null===(i=n)||void 0===i||i});break;case os.Source.Microphone:t=yield this.createTracks({audio:null===(o=n)||void 0===o||o});break;case os.Source.ScreenShare:t=yield this.createScreenTracks(Object.assign({},n));break;default:throw new iQ(e)}let a=[];for(let e of t)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),op(e))),a.push(this.publishTrack(e,r));let l=yield Promise.all(a);[s]=l}catch(e){throw null==t||t.forEach(e=>{e.stop()}),e instanceof Error&&!(e instanceof iQ)&&this.emit(en.MediaDevicesError,e),e}finally{this.pendingPublishing.delete(e)}}}else if(s&&s.track){if(e===os.Source.ScreenShare){s=yield this.unpublishTrack(s.track);let e=this.getTrackPublication(os.Source.ScreenShareAudio);e&&e.track&&this.unpublishTrack(e.track)}else yield s.mute()}return s})}enableCameraAndMicrophone(){return rD(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(os.Source.Camera)||this.pendingPublishing.has(os.Source.Microphone))){this.pendingPublishing.add(os.Source.Camera),this.pendingPublishing.add(os.Source.Microphone);try{let e=yield this.createTracks({audio:!0,video:!0});yield Promise.all(e.map(e=>this.publishTrack(e)))}finally{this.pendingPublishing.delete(os.Source.Camera),this.pendingPublishing.delete(os.Source.Microphone)}}})}createTracks(e){var t,n;return rD(this,void 0,void 0,function*(){let r;let i=ou(function(e,t,n){var r;let i=null!==(r=void 0===e?void 0:"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e)))&&void 0!==r?r:{};return!0===i.audio&&(i.audio={}),!0===i.video&&(i.video={}),i.audio&&oc(i.audio,t),i.video&&oc(i.video,n),i}(e,null===(t=this.roomOptions)||void 0===t?void 0:t.audioCaptureDefaults,null===(n=this.roomOptions)||void 0===n?void 0:n.videoCaptureDefaults));try{r=yield navigator.mediaDevices.getUserMedia(i)}catch(e){throw e instanceof Error&&(i.audio&&(this.microphoneError=e),i.video&&(this.cameraError=e)),e}return i.audio&&(this.microphoneError=void 0,this.emit(en.AudioStreamAcquired)),i.video&&(this.cameraError=void 0),r.getTracks().map(t=>{let n;let o="audio"===t.kind;o?e.audio:e.video;let s=o?i.audio:i.video;"boolean"!=typeof s&&(n=s);let a=function(e,t,n){switch(e.kind){case"audio":return new sm(e,t,!1,void 0,n);case"video":return new sP(e,t,!1,n);default:throw new iQ("unsupported track type: ".concat(e.kind))}}(t,n,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});return a.kind===os.Kind.Video?a.source=os.Source.Camera:a.kind===os.Kind.Audio&&(a.source=os.Source.Microphone),a.mediaStream=r,a})})}createScreenTracks(e){return rD(this,void 0,void 0,function*(){var t,n,r;let i;if(void 0===e&&(e={}),void 0===navigator.mediaDevices.getDisplayMedia)throw new iX("getDisplayMedia not supported");void 0===e.resolution&&!function(){let e=i5();return(null==e?void 0:e.name)==="Safari"&&e.version.startsWith("17.")}()&&(e.resolution=oi.h1080fps30.resolution);let o=(i=null===(n=(t=e).video)||void 0===n||n,t.resolution&&t.resolution.width>0&&t.resolution.height>0&&(i="boolean"==typeof i?{}:i,i=oC()?Object.assign(Object.assign({},i),{width:{max:t.resolution.width},height:{max:t.resolution.height},frameRate:t.resolution.frameRate}):Object.assign(Object.assign({},i),{width:{ideal:t.resolution.width},height:{ideal:t.resolution.height},frameRate:t.resolution.frameRate})),{audio:null!==(r=t.audio)&&void 0!==r&&r,video:i,controller:t.controller,selfBrowserSurface:t.selfBrowserSurface,surfaceSwitching:t.surfaceSwitching,systemAudio:t.systemAudio,preferCurrentTab:t.preferCurrentTab}),s=yield navigator.mediaDevices.getDisplayMedia(o),a=s.getVideoTracks();if(0===a.length)throw new iQ("no video track found");let l=new sP(a[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});l.source=os.Source.ScreenShare,e.contentHint&&(l.mediaStreamTrack.contentHint=e.contentHint);let c=[l];if(s.getAudioTracks().length>0){this.emit(en.AudioStreamAcquired);let e=new sm(s.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});e.source=os.Source.ScreenShareAudio,c.push(e)}return c})}publishTrack(e,t){var n,r,i,o;return rD(this,void 0,void 0,function*(){let s,a;if(e instanceof sm&&e.setAudioContext(this.audioContext),yield null===(n=this.reconnectFuture)||void 0===n?void 0:n.promise,e instanceof oK&&this.pendingPublishPromises.has(e)&&(yield this.pendingPublishPromises.get(e)),e instanceof MediaStreamTrack)s=e.getConstraints();else{let t;switch(s=e.constraints,e.source){case os.Source.Microphone:t="audioinput";break;case os.Source.Camera:t="videoinput"}t&&this.activeDeviceMap.has(t)&&(s=Object.assign(Object.assign({},s),{deviceId:this.activeDeviceMap.get(t)}))}if(e instanceof MediaStreamTrack)switch(e.kind){case"audio":e=new sm(e,s,!0,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});break;case"video":e=new sP(e,s,!0,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});break;default:throw new iQ("unsupported MediaStreamTrack kind ".concat(e.kind))}else e.updateLoggerOptions({loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(this.trackPublications.forEach(t=>{t.track&&t.track===e&&(a=t)}),a)return this.log.warn("track has already been published, skipping",Object.assign(Object.assign({},this.logContext),op(a))),a;let l="channelCount"in e.mediaStreamTrack.getSettings()&&2===e.mediaStreamTrack.getSettings().channelCount||2===e.mediaStreamTrack.getConstraints().channelCount,c=null!==(r=null==t?void 0:t.forceStereo)&&void 0!==r?r:l;c&&(t||(t={}),void 0===t.dtx&&this.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},this.logContext),op(e))),void 0===t.red&&this.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),null!==(i=t.dtx)&&void 0!==i||(t.dtx=!1),null!==(o=t.red)&&void 0!==o||(t.red=!1));let u=Object.assign(Object.assign({},this.roomOptions.publishDefaults),t);oC()&&this.roomOptions.e2ee&&(this.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari",Object.assign({},this.logContext)),u.simulcast=!1),u.source&&(e.source=u.source);let d=this.publish(e,u,c);this.pendingPublishPromises.set(e,d);try{return yield d}catch(e){throw e}finally{this.pendingPublishPromises.delete(e)}})}publish(e,t,n){var r,i,o,s,a,l,c,u,d,h,p,f;return rD(this,void 0,void 0,function*(){let m,g;Array.from(this.trackPublications.values()).find(t=>e instanceof oK&&t.source===e.source)&&e.source!==os.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(e.source),Object.assign(Object.assign({},this.logContext),op(e))),t.stopMicTrackOnMute&&e instanceof sm&&(e.stopOnMute=!0),e.source===os.Source.ScreenShare&&o_()&&(t.simulcast=!1),"av1"===t.videoCodec&&!function(){if(!("getCapabilities"in RTCRtpSender)||oC())return!1;let e=RTCRtpSender.getCapabilities("video"),t=!1;if(e){for(let n of e.codecs)if("video/AV1"===n.mimeType){t=!0;break}}return t}()&&(t.videoCodec=void 0),"vp9"===t.videoCodec&&!function(){if(!("getCapabilities"in RTCRtpSender)||o_())return!1;if(oC()){let e=i5();if((null==e?void 0:e.version)&&0>oR(e.version,"16"))return!1}let e=RTCRtpSender.getCapabilities("video"),t=!1;if(e){for(let n of e.codecs)if("video/VP9"===n.mimeType){t=!0;break}}return t}()&&(t.videoCodec=void 0),void 0===t.videoCodec&&(t.videoCodec="vp8");let v=t.videoCodec;e.on(ei.Muted,this.onTrackMuted),e.on(ei.Unmuted,this.onTrackUnmuted),e.on(ei.Ended,this.handleTrackEnded),e.on(ei.UpstreamPaused,this.onTrackUpstreamPaused),e.on(ei.UpstreamResumed,this.onTrackUpstreamResumed);let y=new nF({cid:e.mediaStreamTrack.id,name:t.name,type:os.kindToProto(e.kind),muted:e.isMuted,source:os.sourceToProto(e.source),disableDtx:!(null===(r=t.dtx)||void 0===r||r),encryption:this.encryptionType,stereo:n,disableRed:this.isE2EEEnabled||!(null===(i=t.red)||void 0===i||i),stream:null==t?void 0:t.stream});if(e.kind===os.Kind.Video){let n={width:0,height:0};try{n=yield e.waitForDimensions()}catch(r){let t=null!==(s=null===(o=this.roomOptions.videoCaptureDefaults)||void 0===o?void 0:o.resolution)&&void 0!==s?s:on.h720.resolution;n={width:t.width,height:t.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),op(e)),{dims:n}))}y.width=n.width,y.height=n.height,e instanceof sP&&(oy(v)&&(e.source===os.Source.ScreenShare&&(t.scalabilityMode="L1T3","contentHint"in e.mediaStreamTrack&&(e.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),op(e))))),t.scalabilityMode=null!==(a=t.scalabilityMode)&&void 0!==a?a:"L3T3_KEY"),y.simulcastCodecs=[new nU({codec:v,cid:e.mediaStreamTrack.id})],!0===t.backupCodec&&(t.backupCodec={codec:"vp8"}),t.backupCodec&&v!==t.backupCodec.codec&&y.encryption===tL.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),y.simulcastCodecs.push(new nU({codec:t.backupCodec.codec,cid:""})))),m=sx(e.source===os.Source.ScreenShare,y.width,y.height,t),y.layers=sO(y.width,y.height,m,oy(t.videoCodec))}else e.kind===os.Kind.Audio&&(m=[{maxBitrate:null===(l=t.audioPreset)||void 0===l?void 0:l.maxBitrate,priority:null!==(u=null===(c=t.audioPreset)||void 0===c?void 0:c.priority)&&void 0!==u?u:"high",networkPriority:null!==(h=null===(d=t.audioPreset)||void 0===d?void 0:d.priority)&&void 0!==h?h:"high"}]);if(!this.engine||this.engine.isClosed)throw new i1("cannot publish track when not connected");let b=yield this.engine.addTrack(y);if(b.codecs.forEach(e=>{void 0===g&&(g=e.mimeType)}),g&&e.kind===os.Kind.Video){let n=oh(g);n!==v&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),op(e)),{codec:n})),t.videoCodec=n,m=sx(e.source===os.Source.ScreenShare,y.width,y.height,t))}let w=new sU(e.kind,b,e,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(w.options=t,e.sid=b.sid,!this.engine.pcManager)throw new i1("pcManager is not ready");if(this.log.debug("publishing ".concat(e.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:m,trackInfo:b})),e.sender=yield this.engine.createSender(e,t,m),m){if(o_()&&e.kind===os.Kind.Audio){let t;for(let n of this.engine.pcManager.publisher.getTransceivers())if(n.sender===e.sender){t=n;break}t&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:t,codec:"opus",maxbr:(null===(p=m[0])||void 0===p?void 0:p.maxBitrate)?m[0].maxBitrate/1e3:0})}else e.codec&&"av1"==e.codec&&(null===(f=m[0])||void 0===f?void 0:f.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:y.cid,codec:e.codec,maxbr:m[0].maxBitrate/1e3})}if(e.kind===os.Kind.Video&&e.source===os.Source.ScreenShare)try{this.log.debug("setting degradationPreference to maintain-resolution");let t=e.sender.getParameters();t.degradationPreference="maintain-resolution",yield e.sender.setParameters(t)}catch(e){this.log.warn("failed to set degradationPreference: ".concat(e))}return yield this.engine.negotiate(),e instanceof sP?e.startMonitor(this.engine.client):e instanceof sm&&e.startMonitor(),this.addTrackPublication(w),this.emit(en.LocalTrackPublished,w),w})}get isLocal(){return!0}publishAdditionalCodecForTrack(e,t,n){var r;return rD(this,void 0,void 0,function*(){let i;if(this.encryptionType!==tL.NONE)return;if(this.trackPublications.forEach(t=>{t.track&&t.track===e&&(i=t)}),!i)throw new iQ("track is not published");if(!(e instanceof sP))throw new iQ("track is not a video track");let o=Object.assign(Object.assign({},null===(r=this.roomOptions)||void 0===r?void 0:r.publishDefaults),n),s=function(e,t,n){var r,i,o,s;if(!n.backupCodec||!0===n.backupCodec||n.backupCodec.codec===n.videoCodec)return;t!==n.backupCodec.codec&&rO.warn("requested a different codec than specified as backup",{serverRequested:t,backup:n.backupCodec.codec}),n.videoCodec=t,n.videoEncoding=n.backupCodec.encoding;let a=e.mediaStreamTrack.getSettings(),l=null!==(r=a.width)&&void 0!==r?r:null===(i=e.dimensions)||void 0===i?void 0:i.width,c=null!==(o=a.height)&&void 0!==o?o:null===(s=e.dimensions)||void 0===s?void 0:s.height;return sx(e.source===os.Source.ScreenShare,l,c,n)}(e,t,o);if(!s){this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),op(e)));return}let a=e.addSimulcastTrack(t,s);if(!a)return;let l=new nF({cid:a.mediaStreamTrack.id,type:os.kindToProto(e.kind),muted:e.isMuted,source:os.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:o.videoCodec,cid:a.mediaStreamTrack.id}]});if(l.layers=sO(l.width,l.height,s),!this.engine||this.engine.isClosed)throw new i1("cannot publish track when not connected");let c=yield this.engine.addTrack(l);yield this.engine.createSimulcastSender(e,a,o,s),yield this.engine.negotiate(),this.log.debug("published ".concat(t," for track ").concat(e.sid),Object.assign(Object.assign({},this.logContext),{encodings:s,trackInfo:c}))})}unpublishTrack(e,t){var n,r;return rD(this,void 0,void 0,function*(){let i=this.getPublicationForTrack(e),o=i?op(i):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),o)),!i||!i.track){this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),o));return}(e=i.track).off(ei.Muted,this.onTrackMuted),e.off(ei.Unmuted,this.onTrackUnmuted),e.off(ei.Ended,this.handleTrackEnded),e.off(ei.UpstreamPaused,this.onTrackUpstreamPaused),e.off(ei.UpstreamResumed,this.onTrackUpstreamResumed),void 0===t&&(t=null===(r=null===(n=this.roomOptions)||void 0===n?void 0:n.stopLocalTrackOnUnpublish)||void 0===r||r),t&&e.stop();let s=!1,a=e.sender;if(e.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<ec.FAILED&&a)try{for(let e of this.engine.pcManager.publisher.getTransceivers())e.sender===a&&(e.direction="inactive",s=!0);if(this.engine.removeTrack(a)&&(s=!0),e instanceof sP){for(let[,t]of e.simulcastCodecs)t.sender&&(this.engine.removeTrack(t.sender)&&(s=!0),t.sender=void 0);e.simulcastCodecs.clear()}}catch(e){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),o),{error:e}))}switch(this.trackPublications.delete(i.trackSid),i.kind){case os.Kind.Audio:this.audioTrackPublications.delete(i.trackSid);break;case os.Kind.Video:this.videoTrackPublications.delete(i.trackSid)}return this.emit(en.LocalTrackUnpublished,i),i.setTrack(void 0),s&&(yield this.engine.negotiate()),i})}unpublishTracks(e){return rD(this,void 0,void 0,function*(){return(yield Promise.all(e.map(e=>this.unpublishTrack(e)))).filter(e=>e instanceof sU)})}republishAllTracks(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return rD(this,void 0,void 0,function*(){let n=[];this.trackPublications.forEach(t=>{t.track&&(e&&(t.options=Object.assign(Object.assign({},t.options),e)),n.push(t))}),yield Promise.all(n.map(e=>rD(this,void 0,void 0,function*(){let n=e.track;yield this.unpublishTrack(n,!1),t&&!n.isMuted&&n.source!==os.Source.ScreenShare&&n.source!==os.Source.ScreenShareAudio&&(n instanceof sm||n instanceof sP)&&!n.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:e.trackSid})),yield n.restartTrack()),yield this.publishTrack(n,e.options)})))})}publishData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rD(this,void 0,void 0,function*(){let n=t.reliable?tF.RELIABLE:tF.LOSSY,r=t.destinationIdentities,i=t.topic,o=new tU({kind:n,value:{case:"user",value:new tz({participantIdentity:this.identity,payload:e,destinationIdentities:r,topic:i})}});yield this.engine.sendDataPacket(o,n)})}setTrackSubscriptionPermissions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.participantTrackPermissions=t,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}updateInfo(e){return!!(e.sid===this.sid&&super.updateInfo(e))&&(e.tracks.forEach(e=>{var t,n;let r=this.trackPublications.get(e.sid);if(r){let i=r.isMuted||null!==(n=null===(t=r.track)||void 0===t?void 0:t.isUpstreamPaused)&&void 0!==n&&n;i!==e.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),op(r)),{mutedOnServer:i})),this.engine.client.sendMuteTrack(e.sid,i))}}),!0)}getPublicationForTrack(e){let t;return this.trackPublications.forEach(n=>{let r=n.track;r&&(e instanceof MediaStreamTrack?(r instanceof sm||r instanceof sP)&&r.mediaStreamTrack===e&&(t=n):e===r&&(t=n))}),t}}class sB extends sj{constructor(e,t,n,r){super(e,t.sid,t.name,r),this.track=void 0,this.allowed=!0,this.disabled=!1,this.currentVideoQuality=es.HIGH,this.handleEnded=e=>{this.setTrack(void 0),this.emit(ei.Ended,e)},this.handleVisibilityChange=e=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(e),this.logContext),this.disabled=!e,this.emitTrackUpdate()},this.handleVideoDimensionsChange=e=>{this.log.debug("adaptivestream video dimensions ".concat(e.width,"x").concat(e.height),this.logContext),this.videoDimensions=e,this.emitTrackUpdate()},this.subscribed=n,this.updateInfo(t)}setSubscribed(e){let t=this.subscriptionStatus,n=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);let r=new n$({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new tq({participantSid:"",trackSids:[this.trackSid]})]});this.emit(ei.UpdateSubscription,r),this.emitSubscriptionUpdateIfChanged(t),this.emitPermissionUpdateIfChanged(n)}get subscriptionStatus(){return!1===this.subscribed?sj.SubscriptionStatus.Unsubscribed:super.isSubscribed?sj.SubscriptionStatus.Subscribed:sj.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?sj.PermissionStatus.Allowed:sj.PermissionStatus.NotAllowed}get isSubscribed(){return!1!==this.subscribed&&super.isSubscribed}get isDesired(){return!1!==this.subscribed}get isEnabled(){return!this.disabled}setEnabled(e){this.isManualOperationAllowed()&&!e!==this.disabled&&(this.disabled=!e,this.emitTrackUpdate())}setVideoQuality(e){this.isManualOperationAllowed()&&this.currentVideoQuality!==e&&(this.currentVideoQuality=e,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var t,n;this.isManualOperationAllowed()&&((null===(t=this.videoDimensions)||void 0===t?void 0:t.width)!==e.width||(null===(n=this.videoDimensions)||void 0===n?void 0:n.height)!==e.height)&&(this.track instanceof sL&&(this.videoDimensions=e),this.currentVideoQuality=void 0,this.emitTrackUpdate())}setVideoFPS(e){this.isManualOperationAllowed()&&this.track instanceof sL&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}get videoQuality(){return this.currentVideoQuality}setTrack(e){let t=this.subscriptionStatus,n=this.permissionStatus,r=this.track;r!==e&&(r&&(r.off(ei.VideoDimensionsChanged,this.handleVideoDimensionsChange),r.off(ei.VisibilityChanged,this.handleVisibilityChange),r.off(ei.Ended,this.handleEnded),r.detach(),r.stopMonitor(),this.emit(ei.Unsubscribed,r)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(ei.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(ei.VisibilityChanged,this.handleVisibilityChange),e.on(ei.Ended,this.handleEnded),this.emit(ei.Subscribed,e)),this.emitPermissionUpdateIfChanged(n),this.emitSubscriptionUpdateIfChanged(t))}setAllowed(e){let t=this.subscriptionStatus,n=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(n),this.emitSubscriptionUpdateIfChanged(t)}setSubscriptionError(e){this.emit(ei.SubscriptionFailed,e)}updateInfo(e){super.updateInfo(e);let t=this.metadataMuted;this.metadataMuted=e.muted,this.track?this.track.setMuted(e.muted):t!==e.muted&&this.emit(e.muted?ei.Muted:ei.Unmuted)}emitSubscriptionUpdateIfChanged(e){let t=this.subscriptionStatus;e!==t&&this.emit(ei.SubscriptionStatusChanged,t,e)}emitPermissionUpdateIfChanged(e){this.permissionStatus!==e&&this.emit(ei.SubscriptionPermissionChanged,this.permissionStatus,e)}isManualOperationAllowed(){return this.kind===os.Kind.Video&&this.isAdaptiveStream?(this.log.warn("adaptive stream is enabled, cannot change video track settings",this.logContext),!1):!!this.isDesired||(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return this.track instanceof sL&&this.track.isAdaptiveStream}emitTrackUpdate(){let e=new nZ({trackSids:[this.trackSid],disabled:this.disabled,fps:this.fps});this.videoDimensions?(e.width=Math.ceil(this.videoDimensions.width),e.height=Math.ceil(this.videoDimensions.height)):void 0!==this.currentVideoQuality?e.quality=this.currentVideoQuality:e.quality=es.HIGH,this.emit(ei.UpdateSettings,e)}}class sz extends sF{static fromParticipantInfo(e,t){return new sz(e,t.sid,t.identity,t.name,t.metadata)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(e,t,n,r,i,o){super(t,n||"",r,i,o),this.signalClient=e,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(e){super.addTrackPublication(e),e.on(ei.UpdateSettings,t=>{this.log.debug("send update settings",Object.assign(Object.assign({},this.logContext),op(e))),this.signalClient.sendUpdateTrackSettings(t)}),e.on(ei.UpdateSubscription,e=>{e.participantTracks.forEach(e=>{e.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(e)}),e.on(ei.SubscriptionPermissionChanged,t=>{this.emit(en.TrackSubscriptionPermissionChanged,e,t)}),e.on(ei.SubscriptionStatusChanged,t=>{this.emit(en.TrackSubscriptionStatusChanged,e,t)}),e.on(ei.Subscribed,t=>{this.emit(en.TrackSubscribed,t,e)}),e.on(ei.Unsubscribed,t=>{this.emit(en.TrackUnsubscribed,t,e)}),e.on(ei.SubscriptionFailed,t=>{this.emit(en.TrackSubscriptionFailed,e.trackSid,t)})}getTrackPublication(e){let t=super.getTrackPublication(e);if(t)return t}getTrackPublicationByName(e){let t=super.getTrackPublicationByName(e);if(t)return t}setVolume(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:os.Source.Microphone;this.volumeMap.set(t,e);let n=this.getTrackPublication(t);n&&n.track&&n.track.setVolume(e)}getVolume(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os.Source.Microphone,t=this.getTrackPublication(e);return t&&t.track?t.track.getVolume():this.volumeMap.get(e)}addSubscribedMediaTrack(e,t,n,r,i,o){let s,a=this.getTrackPublicationBySid(t);if(a||t.startsWith("TR")||this.trackPublications.forEach(t=>{a||e.kind!==t.kind.toString()||(a=t)}),!a){if(0===o){this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:t})),this.emit(en.TrackSubscriptionFailed,t);return}void 0===o&&(o=20),setTimeout(()=>{this.addSubscribedMediaTrack(e,t,n,r,i,o-1)},150);return}if("ended"===e.readyState){this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),op(a))),this.emit(en.TrackSubscriptionFailed,t);return}return(s="video"===e.kind?new sL(e,t,r,i):new sN(e,t,r,this.audioContext,this.audioOutput)).source=a.source,s.isMuted=a.isMuted,s.setMediaStream(n),s.start(),a.setTrack(s),this.volumeMap.has(a.source)&&s instanceof sN&&s.setVolume(this.volumeMap.get(a.source)),a}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(e){return this.trackPublications.get(e)}updateInfo(e){if(!super.updateInfo(e))return!1;let t=new Map,n=new Map;return e.tracks.forEach(e=>{var r,i;let o=this.getTrackPublicationBySid(e.sid);if(o)o.updateInfo(e);else{let t=os.kindFromProto(e.type);if(!t)return;(o=new sB(t,e,null===(r=this.signalClient.connectOptions)||void 0===r?void 0:r.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:null===(i=this.loggerOptions)||void 0===i?void 0:i.loggerName})).updateInfo(e),n.set(e.sid,o);let s=Array.from(this.trackPublications.values()).find(e=>e.source===(null==o?void 0:o.source));s&&o.source!==os.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(o.source),Object.assign(Object.assign({},this.logContext),{oldTrack:op(s),newTrack:op(o)})),this.addTrackPublication(o)}t.set(e.sid,o)}),this.trackPublications.forEach(e=>{t.has(e.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),op(e))),this.unpublishTrack(e.trackSid,!0))}),n.forEach(e=>{this.emit(en.TrackPublished,e)}),!0}unpublishTrack(e,t){let n=this.trackPublications.get(e);if(!n)return;let{track:r}=n;switch(r&&(r.stop(),n.setTrack(void 0)),this.trackPublications.delete(e),n.kind){case os.Kind.Audio:this.audioTrackPublications.delete(e);break;case os.Kind.Video:this.videoTrackPublications.delete(e)}t&&this.emit(en.TrackUnpublished,n)}setAudioOutput(e){return rD(this,void 0,void 0,function*(){this.audioOutput=e;let t=[];this.audioTrackPublications.forEach(n=>{var r;n.track instanceof sN&&t.push(n.track.setSinkId(null!==(r=e.deviceId)&&void 0!==r?r:"default"))}),yield Promise.all(t)})}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:e,args:n})),super.emit(e,...n)}}(z=eh||(eh={})).Disconnected="disconnected",z.Connecting="connecting",z.Connected="connected",z.Reconnecting="reconnecting";class sH extends rQ.EventEmitter{constructor(e){var t,n,r;super(),t=this,this.state=eh.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=rO,this.bufferedEvents=[],this.isResuming=!1,this.connect=(e,t,n)=>rD(this,void 0,void 0,function*(){var r;if(!("undefined"!=typeof RTCPeerConnection&&(og()||ov()))){if(oS())throw Error("WebRTC isn't detected, have you called registerGlobals?");throw Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.")}let i=yield this.disconnectLock.lock();if(this.state===eh.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),i(),Promise.resolve();if(this.connectFuture)return i(),this.connectFuture.promise;this.setAndEmitConnectionState(eh.Connecting),(null===(r=this.regionUrlProvider)||void 0===r?void 0:r.getServerUrl().toString())!==e&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),oE(new URL(e))&&(void 0===this.regionUrlProvider?this.regionUrlProvider=new sp(e,t):this.regionUrlProvider.updateToken(t),this.regionUrlProvider.fetchRegionSettings().catch(e=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:e}))}));let o=(r,s,a)=>rD(this,void 0,void 0,function*(){var l;this.abortController&&this.abortController.abort();let c=new AbortController;this.abortController=c,null==i||i();try{yield this.attemptConnection(null!=a?a:e,t,n,c),this.abortController=void 0,r()}catch(e){if(this.regionUrlProvider&&e instanceof iY&&3!==e.reason&&0!==e.reason){let t=null;try{t=yield this.regionUrlProvider.getNextBestRegionUrl(null===(l=this.abortController)||void 0===l?void 0:l.signal)}catch(e){if(e instanceof iY&&(401===e.status||3===e.reason)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),s(e);return}}t?(this.log.info("Initial connection failed with ConnectionError: ".concat(e.message,". Retrying with another region: ").concat(t),this.logContext),this.recreateEngine(),yield o(r,s,t)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),s(e))}else this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),s(e)}}),s=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new oF((e,t)=>{o(e,t,s)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(e,t,n,r,i,o)=>rD(this,void 0,void 0,function*(){var s,a,l;let c=yield n.join(e,t,{autoSubscribe:r.autoSubscribe,adaptiveStream:"object"==typeof i.adaptiveStream||i.adaptiveStream,maxRetries:r.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:r.websocketTimeout},o.signal),u=c.serverInfo;if(u||(u={version:c.serverVersion,region:c.serverRegion}),this.log.debug("connected to Livekit Server ".concat(Object.entries(u).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n)}).join(", ")),{room:null===(s=c.room)||void 0===s?void 0:s.name,roomSid:null===(a=c.room)||void 0===a?void 0:a.sid,identity:null===(l=c.participant)||void 0===l?void 0:l.identity}),!c.serverVersion)throw new i0("unknown server version");return"0.15.1"===c.serverVersion&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),i.dynacast=!1),c}),this.applyJoinResponse=e=>{let t=e.participant;if(this.localParticipant.sid=t.sid,this.localParticipant.identity=t.identity,this.options.e2ee&&this.e2eeManager)try{this.e2eeManager.setSifTrailer(e.sifTrailer)}catch(e){this.log.error(e instanceof Error?e.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:e}))}this.handleParticipantUpdates([t,...e.otherParticipants]),e.room&&this.handleRoomUpdate(e.room)},this.attemptConnection=(e,t,n,r)=>rD(this,void 0,void 0,function*(){var i,o,s;this.state===eh.Reconnecting||this.isResuming||(null===(i=this.engine)||void 0===i?void 0:i.pendingReconnect)?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),(null===(o=this.regionUrlProvider)||void 0===o?void 0:o.isCloud())&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},ss),n),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{let n=yield this.connectSignal(e,t,this.engine,this.connOptions,this.options,r);this.applyJoinResponse(n),this.setupLocalParticipantEvents(),this.emit(et.SignalConnected)}catch(t){yield this.engine.close(),this.recreateEngine();let e=new iY("could not establish signal connection");throw t instanceof Error&&(e.message="".concat(e.message,": ").concat(t.message)),t instanceof iY&&(e.reason=t.reason,e.status=t.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:t})),e}if(r.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new iY("Connection attempt aborted");try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,r)}catch(e){throw yield this.engine.close(),this.recreateEngine(),e}ok()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),ok()&&(document.addEventListener("freeze",this.onPageLeave),null===(s=navigator.mediaDevices)||void 0===s||s.addEventListener("devicechange",this.handleDeviceChange)),this.setAndEmitConnectionState(eh.Connected),this.emit(et.Connected),this.registerConnectionReconcile()}),this.disconnect=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return rD(t,void 0,void 0,function*(){var t,n,r,i;let o=yield this.disconnectLock.lock();try{if(this.state===eh.Disconnected){this.log.debug("already disconnected",this.logContext);return}this.log.info("disconnect from room",Object.assign({},this.logContext)),(this.state===eh.Connecting||this.state===eh.Reconnecting||this.isResuming)&&(this.log.warn("abort connection attempt",this.logContext),null===(t=this.abortController)||void 0===t||t.abort(),null===(r=null===(n=this.connectFuture)||void 0===n?void 0:n.reject)||void 0===r||r.call(n,new iY("Client initiated disconnect")),this.connectFuture=void 0),(null===(i=this.engine)||void 0===i?void 0:i.client.isDisconnected)||(yield this.engine.client.sendLeave()),this.engine&&(yield this.engine.close()),this.handleDisconnect(e,tS.CLIENT_INITIATED),this.engine=void 0}finally{o()}})},this.onPageLeave=()=>rD(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>rD(this,void 0,void 0,function*(){let e=[],t=i5();if(t&&"iOS"===t.os){let t="livekit-dummy-audio-el",n=document.getElementById(t);if(!n){(n=document.createElement("audio")).id=t,n.autoplay=!0,n.hidden=!0;let e=oU();e.enabled=!0;let r=new MediaStream([e]);n.srcObject=r,document.addEventListener("visibilitychange",()=>{n&&(n.srcObject=document.hidden?null:r,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(n),this.once(et.Disconnected,()=>{null==n||n.remove(),n=null})}e.push(n)}this.remoteParticipants.forEach(t=>{t.audioTrackPublications.forEach(t=>{t.track&&t.track.attachedElements.forEach(t=>{e.push(t)})})});try{yield Promise.all([this.acquireAudioContext(),...e.map(e=>(e.muted=!1,e.play()))]),this.handleAudioPlaybackStarted()}catch(e){throw this.handleAudioPlaybackFailed(e),e}}),this.startVideo=()=>rD(this,void 0,void 0,function*(){let e=[];for(let t of this.remoteParticipants.values())t.videoTrackPublications.forEach(t=>{var n;null===(n=t.track)||void 0===n||n.attachedElements.forEach(t=>{e.includes(t)||e.push(t)})});yield Promise.all(e.map(e=>e.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(e=>{"NotAllowedError"===e.name?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{for(let e of(this.clearConnectionReconcile(),this.isResuming=!1,this.remoteParticipants.values()))this.handleParticipantDisconnected(e.identity,e);this.setAndEmitConnectionState(eh.Reconnecting)&&this.emit(et.Reconnecting)},this.handleSignalRestarted=e=>rD(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(e.serverRegion),Object.assign(Object.assign({},this.logContext),{region:e.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(e);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(e){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:e}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:e.serverRegion}))}catch(e){return}this.setAndEmitConnectionState(eh.Connected),this.emit(et.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=e=>{e.forEach(e=>{var t;if(e.identity===this.localParticipant.identity){this.localParticipant.updateInfo(e);return}""===e.identity&&(e.identity=null!==(t=this.sidToIdentity.get(e.sid))&&void 0!==t?t:"");let n=this.remoteParticipants.get(e.identity);e.state===tA.DISCONNECTED?this.handleParticipantDisconnected(e.identity,n):n=this.getOrCreateParticipant(e.identity,e)})},this.handleActiveSpeakersUpdate=e=>{let t=[],n={};e.forEach(e=>{if(n[e.sid]=!0,e.sid===this.localParticipant.sid)this.localParticipant.audioLevel=e.level,this.localParticipant.setIsSpeaking(!0),t.push(this.localParticipant);else{let n=this.getRemoteParticipantBySid(e.sid);n&&(n.audioLevel=e.level,n.setIsSpeaking(!0),t.push(n))}}),n[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(e=>{n[e.sid]||(e.audioLevel=0,e.setIsSpeaking(!1))}),this.activeSpeakers=t,this.emitWhenConnected(et.ActiveSpeakersChanged,t)},this.handleSpeakersChanged=e=>{let t=new Map;this.activeSpeakers.forEach(e=>{t.set(e.sid,e)}),e.forEach(e=>{let n=this.getRemoteParticipantBySid(e.sid);e.sid===this.localParticipant.sid&&(n=this.localParticipant),n&&(n.audioLevel=e.level,n.setIsSpeaking(e.active),e.active?t.set(e.sid,n):t.delete(e.sid))});let n=Array.from(t.values());n.sort((e,t)=>t.audioLevel-e.audioLevel),this.activeSpeakers=n,this.emitWhenConnected(et.ActiveSpeakersChanged,n)},this.handleStreamStateUpdate=e=>{e.streamStates.forEach(e=>{let t=this.getRemoteParticipantBySid(e.participantSid);if(!t)return;let n=t.getTrackPublicationBySid(e.trackSid);n&&n.track&&(n.track.streamState=os.streamStateFromProto(e.state),t.emit(en.TrackStreamStateChanged,n,n.track.streamState),this.emitWhenConnected(et.TrackStreamStateChanged,n,n.track.streamState,t))})},this.handleSubscriptionPermissionUpdate=e=>{let t=this.getRemoteParticipantBySid(e.participantSid);if(!t)return;let n=t.getTrackPublicationBySid(e.trackSid);n&&n.setAllowed(e.allowed)},this.handleSubscriptionError=e=>{let t=Array.from(this.remoteParticipants.values()).find(t=>t.trackPublications.has(e.trackSid));if(!t)return;let n=t.getTrackPublicationBySid(e.trackSid);n&&n.setSubscriptionError(e.err)},this.handleDataPacket=(e,t)=>{let n=this.remoteParticipants.get(e.participantIdentity);this.emit(et.DataReceived,e.payload,n,t,e.topic),null==n||n.emit(en.DataReceived,e.payload,t)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(et.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=e=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:e})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(et.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(et.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(et.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>rD(this,void 0,void 0,function*(){this.emit(et.MediaDevicesChanged)}),this.handleRoomUpdate=e=>{let t=this.roomInfo;this.roomInfo=e,t&&t.metadata!==e.metadata&&this.emitWhenConnected(et.RoomMetadataChanged,e.metadata),(null==t?void 0:t.activeRecording)!==e.activeRecording&&this.emitWhenConnected(et.RecordingStatusChanged,e.activeRecording)},this.handleConnectionQualityUpdate=e=>{e.updates.forEach(e=>{if(e.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(e.quality);return}let t=this.getRemoteParticipantBySid(e.participantSid);t&&t.setConnectionQuality(e.quality)})},this.onLocalParticipantMetadataChanged=e=>{this.emit(et.ParticipantMetadataChanged,e,this.localParticipant)},this.onLocalParticipantNameChanged=e=>{this.emit(et.ParticipantNameChanged,e,this.localParticipant)},this.onLocalTrackMuted=e=>{this.emit(et.TrackMuted,e,this.localParticipant)},this.onLocalTrackUnmuted=e=>{this.emit(et.TrackUnmuted,e,this.localParticipant)},this.onTrackProcessorUpdate=e=>{var t;null===(t=null==e?void 0:e.onPublish)||void 0===t||t.call(e,this)},this.onLocalTrackPublished=e=>rD(this,void 0,void 0,function*(){var t,n,r,i,o,s;null===(t=e.track)||void 0===t||t.on(ei.TrackProcessorUpdate,this.onTrackProcessorUpdate),null===(i=null===(r=null===(n=e.track)||void 0===n?void 0:n.getProcessor())||void 0===r?void 0:r.onPublish)||void 0===i||i.call(r,this),this.emit(et.LocalTrackPublished,e,this.localParticipant),e.track instanceof sm&&(yield e.track.checkForSilence())&&this.emit(et.LocalAudioSilenceDetected,e);let a=yield null===(o=e.track)||void 0===o?void 0:o.getDeviceId(),l=(s=e.source)===os.Source.Microphone?"audioinput":s===os.Source.Camera?"videoinput":void 0;l&&a&&a!==this.localParticipant.activeDeviceMap.get(l)&&(this.localParticipant.activeDeviceMap.set(l,a),this.emit(et.ActiveDeviceChanged,l,a))}),this.onLocalTrackUnpublished=e=>{var t;null===(t=e.track)||void 0===t||t.off(ei.TrackProcessorUpdate,this.onTrackProcessorUpdate),this.emit(et.LocalTrackUnpublished,e,this.localParticipant)},this.onLocalConnectionQualityChanged=e=>{this.emit(et.ConnectionQualityChanged,e,this.localParticipant)},this.onMediaDevicesError=e=>{this.emit(et.MediaDevicesError,e)},this.onLocalParticipantPermissionsChanged=e=>{this.emit(et.ParticipantPermissionsChanged,e,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},so),e),this.log=rA(null!==(n=this.options.loggerName)&&void 0!==n?n:$.Room),this.options.audioCaptureDefaults=Object.assign(Object.assign({},sr),null==e?void 0:e.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},si),null==e?void 0:e.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},sn),null==e?void 0:e.publishDefaults),this.maybeCreateEngine(),this.disconnectLock=new oV,this.localParticipant=new sV("","",this.engine,this.options),this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",oB(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",oB(this.options.audioCaptureDefaults.deviceId)),(null===(r=this.options.audioOutput)||void 0===r?void 0:r.deviceId)&&this.switchActiveDevice("audiooutput",oB(this.options.audioOutput.deviceId)).catch(e=>this.log.warn("Could not set audio output: ".concat(e.message),this.logContext)),this.options.e2ee&&this.setupE2EE()}setE2EEEnabled(e){return rD(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(e)]),""!==this.localParticipant.identity&&this.e2eeManager.setParticipantCryptorEnabled(e,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var e;this.options.e2ee&&(this.e2eeManager=new oG(this.options.e2ee),this.e2eeManager.on(X.ParticipantEncryptionStatusChanged,(e,t)=>{t instanceof sV&&(this.isE2EEEnabled=e),this.emit(et.ParticipantEncryptionStatusChanged,e,t)}),this.e2eeManager.on(X.EncryptionError,e=>this.emit(et.EncryptionError,e)),null===(e=this.e2eeManager)||void 0===e||e.setup(this))}get logContext(){var e;return{room:this.name,roomID:null===(e=this.roomInfo)||void 0===e?void 0:e.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.activeRecording)&&void 0!==t&&t}getSid(){return rD(this,void 0,void 0,function*(){return this.state===eh.Disconnected?"":this.roomInfo&&""!==this.roomInfo.sid?this.roomInfo.sid:new Promise((e,t)=>{let n=t=>{""!==t.sid&&(this.engine.off(er.RoomUpdate,n),e(t.sid))};this.engine.on(er.RoomUpdate,n),this.once(et.Disconnected,()=>{this.engine.off(er.RoomUpdate,n),t("Room disconnected before room server id was available")})})})}get name(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.name)&&void 0!==t?t:""}get metadata(){var e;return null===(e=this.roomInfo)||void 0===e?void 0:e.metadata}get numParticipants(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.numParticipants)&&void 0!==t?t:0}get numPublishers(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.numPublishers)&&void 0!==t?t:0}maybeCreateEngine(){(!this.engine||this.engine.isClosed)&&(this.engine=new sd(this.options),this.engine.on(er.ParticipantUpdate,this.handleParticipantUpdates).on(er.RoomUpdate,this.handleRoomUpdate).on(er.SpeakersChanged,this.handleSpeakersChanged).on(er.StreamStateChanged,this.handleStreamStateUpdate).on(er.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(er.SubscriptionError,this.handleSubscriptionError).on(er.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(er.MediaTrackAdded,(e,t,n)=>{this.onTrackAdded(e,t,n)}).on(er.Disconnected,e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)}).on(er.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(er.DataPacketReceived,this.handleDataPacket).on(er.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext)}).on(er.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents()}).on(er.SignalResumed,()=>{this.bufferedEvents=[],(this.state===eh.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(er.Restarting,this.handleRestarting).on(er.SignalRestarted,this.handleSignalRestarted).on(er.Offline,()=>{this.setAndEmitConnectionState(eh.Reconnecting)&&this.emit(et.Reconnecting)}).on(er.DCBufferStatusChanged,(e,t)=>{this.emit(et.DCBufferStatusChanged,e,t)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine))}static getLocalDevices(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return oq.getInstance().getDevices(e,t)}prepareConnection(e,t){return rD(this,void 0,void 0,function*(){if(this.state===eh.Disconnected){this.log.debug("prepareConnection to ".concat(e),this.logContext);try{if(oE(new URL(e))&&t){this.regionUrlProvider=new sp(e,t);let n=yield this.regionUrlProvider.getNextBestRegionUrl();n&&this.state===eh.Disconnected&&(this.regionUrl=n,yield fetch(oz(n),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(n),this.logContext))}else yield fetch(oz(e),{method:"HEAD"})}catch(e){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:e}))}}})}getParticipantByIdentity(e){return this.localParticipant.identity===e?this.localParticipant:this.remoteParticipants.get(e)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(e,t){return rD(this,void 0,void 0,function*(){let n,r=()=>{};switch(e){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":n=new ro({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":n=new ro({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":n=new ro({scenario:{case:"serverLeave",value:!0}});break;case"migration":n=new ro({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":r=()=>rD(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),n=new ro({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":r=()=>rD(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),n=new ro({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":n=new ro({scenario:{case:"switchCandidateProtocol",value:"force-tls"===e?2:1}}),r=()=>rD(this,void 0,void 0,function*(){let e=this.engine.client.onLeave;e&&e(new nJ({reason:tS.CLIENT_INITIATED,canReconnect:!0}))});break;case"subscriber-bandwidth":if(void 0===t||"number"!=typeof t)throw Error("subscriber-bandwidth requires a number as argument");n=new ro({scenario:{case:"subscriberBandwidth",value:BigInt(t)}})}n&&(yield this.engine.client.sendSimulateScenario(n),yield r())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(e){return this.localParticipant.activeDeviceMap.get(e)}switchActiveDevice(e,t){var n,r,i,o;let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return rD(this,void 0,void 0,function*(){let a=!1,l=!0,c=s?{exact:t}:t;if("audioinput"===e){let e=this.options.audioCaptureDefaults.deviceId;this.options.audioCaptureDefaults.deviceId=c,a=e!==c;let t=Array.from(this.localParticipant.audioTrackPublications.values()).filter(e=>e.source===os.Source.Microphone);try{l=(yield Promise.all(t.map(e=>{var t;return null===(t=e.audioTrack)||void 0===t?void 0:t.setDeviceId(c)}))).every(e=>!0===e)}catch(t){throw this.options.audioCaptureDefaults.deviceId=e,t}}else if("videoinput"===e){let e=this.options.videoCaptureDefaults.deviceId;this.options.videoCaptureDefaults.deviceId=c,a=e!==c;let t=Array.from(this.localParticipant.videoTrackPublications.values()).filter(e=>e.source===os.Source.Camera);try{l=(yield Promise.all(t.map(e=>{var t;return null===(t=e.videoTrack)||void 0===t?void 0:t.setDeviceId(c)}))).every(e=>!0===e)}catch(t){throw this.options.videoCaptureDefaults.deviceId=e,t}}else if("audiooutput"===e){if(!ob()&&!this.options.webAudioMix||this.options.webAudioMix&&this.audioContext&&!("setSinkId"in this.audioContext))throw Error("cannot switch audio output, setSinkId not supported");this.options.webAudioMix&&(t=null!==(n=yield oq.getInstance().normalizeDeviceId("audiooutput",t))&&void 0!==n?n:""),null!==(r=(o=this.options).audioOutput)&&void 0!==r||(o.audioOutput={});let e=this.options.audioOutput.deviceId;this.options.audioOutput.deviceId=t,a=e!==c;try{this.options.webAudioMix?null===(i=this.audioContext)||void 0===i||i.setSinkId(t):yield Promise.all(Array.from(this.remoteParticipants.values()).map(e=>e.setAudioOutput({deviceId:t})))}catch(t){throw this.options.audioOutput.deviceId=e,t}}return a&&l&&(this.localParticipant.activeDeviceMap.set(e,t),this.emit(et.ActiveDeviceChanged,e,t)),l})}setupLocalParticipantEvents(){this.localParticipant.on(en.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(en.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(en.TrackMuted,this.onLocalTrackMuted).on(en.TrackUnmuted,this.onLocalTrackUnmuted).on(en.LocalTrackPublished,this.onLocalTrackPublished).on(en.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(en.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(en.MediaDevicesError,this.onMediaDevicesError).on(en.AudioStreamAcquired,this.startAudio).on(en.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var e;null===(e=this.engine)||void 0===e||e.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(e,t,n){let r;if(this.state===eh.Connecting||this.state===eh.Reconnecting){let r=()=>{this.onTrackAdded(e,t,n),i()},i=()=>{this.off(et.Reconnected,r),this.off(et.Connected,r),this.off(et.Disconnected,i)};this.once(et.Reconnected,r),this.once(et.Connected,r),this.once(et.Disconnected,i);return}if(this.state===eh.Disconnected){this.log.warn("skipping incoming track after Room disconnected",this.logContext);return}let i=function(e){let t=e.split("|");return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}(t.id),o=i[0],s=i[1],a=e.id;if(s&&s.startsWith("TR")&&(a=s),o===this.localParticipant.sid){this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);return}let l=Array.from(this.remoteParticipants.values()).find(e=>e.sid===o);if(!l){this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(o),this.logContext);return}this.options.adaptiveStream&&(r="object"==typeof this.options.adaptiveStream?this.options.adaptiveStream:{}),l.addSubscribedMediaTrack(e,a,t,n,r)}handleDisconnect(){var e;let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=arguments.length>1?arguments[1]:void 0;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.state!==eh.Disconnected){this.regionUrl=void 0;try{this.remoteParticipants.forEach(e=>{e.trackPublications.forEach(t=>{e.unpublishTrack(t.trackSid)})}),this.localParticipant.trackPublications.forEach(e=>{var n,r;e.track&&this.localParticipant.unpublishTrack(e.track,t),t&&(null===(n=e.track)||void 0===n||n.detach(),null===(r=e.track)||void 0===r||r.stop())}),this.localParticipant.off(en.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(en.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(en.TrackMuted,this.onLocalTrackMuted).off(en.TrackUnmuted,this.onLocalTrackUnmuted).off(en.LocalTrackPublished,this.onLocalTrackPublished).off(en.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(en.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(en.MediaDevicesError,this.onMediaDevicesError).off(en.AudioStreamAcquired,this.startAudio).off(en.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&"boolean"==typeof this.options.webAudioMix&&(this.audioContext.close(),this.audioContext=void 0),ok()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),null===(e=navigator.mediaDevices)||void 0===e||e.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(eh.Disconnected),this.emit(et.Disconnected,n)}}}handleParticipantDisconnected(e,t){this.remoteParticipants.delete(e),t&&(t.trackPublications.forEach(e=>{t.unpublishTrack(e.trackSid,!0)}),this.emit(et.ParticipantDisconnected,t))}acquireAudioContext(){var e,t;return rD(this,void 0,void 0,function*(){if("boolean"!=typeof this.options.webAudioMix&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:this.audioContext&&"closed"!==this.audioContext.state||(this.audioContext=null!==(e=od())&&void 0!==e?e:void 0),this.audioContext&&"suspended"===this.audioContext.state)try{yield this.audioContext.resume()}catch(e){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:e}))}this.options.webAudioMix&&this.remoteParticipants.forEach(e=>e.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext);let n=(null===(t=this.audioContext)||void 0===t?void 0:t.state)==="running";n!==this.canPlaybackAudio&&(this.audioEnabled=n,this.emit(et.AudioPlaybackStatusChanged,n))})}createParticipant(e,t){var n;let r;return r=t?sz.fromParticipantInfo(this.engine.client,t):new sz(this.engine.client,"",e,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&r.setAudioContext(this.audioContext),(null===(n=this.options.audioOutput)||void 0===n?void 0:n.deviceId)&&r.setAudioOutput(this.options.audioOutput).catch(e=>this.log.warn("Could not set audio output: ".concat(e.message),this.logContext)),r}getOrCreateParticipant(e,t){if(this.remoteParticipants.has(e)){let n=this.remoteParticipants.get(e);return t&&n.updateInfo(t)&&this.sidToIdentity.set(t.sid,t.identity),n}let n=this.createParticipant(e,t);return this.remoteParticipants.set(e,n),this.sidToIdentity.set(t.sid,t.identity),this.emitWhenConnected(et.ParticipantConnected,n),n.on(en.TrackPublished,e=>{this.emitWhenConnected(et.TrackPublished,e,n)}).on(en.TrackSubscribed,(e,t)=>{e.kind===os.Kind.Audio?(e.on(ei.AudioPlaybackStarted,this.handleAudioPlaybackStarted),e.on(ei.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):e.kind===os.Kind.Video&&(e.on(ei.VideoPlaybackFailed,this.handleVideoPlaybackFailed),e.on(ei.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(et.TrackSubscribed,e,t,n)}).on(en.TrackUnpublished,e=>{this.emit(et.TrackUnpublished,e,n)}).on(en.TrackUnsubscribed,(e,t)=>{this.emit(et.TrackUnsubscribed,e,t,n)}).on(en.TrackSubscriptionFailed,e=>{this.emit(et.TrackSubscriptionFailed,e,n)}).on(en.TrackMuted,e=>{this.emitWhenConnected(et.TrackMuted,e,n)}).on(en.TrackUnmuted,e=>{this.emitWhenConnected(et.TrackUnmuted,e,n)}).on(en.ParticipantMetadataChanged,e=>{this.emitWhenConnected(et.ParticipantMetadataChanged,e,n)}).on(en.ParticipantNameChanged,e=>{this.emitWhenConnected(et.ParticipantNameChanged,e,n)}).on(en.ConnectionQualityChanged,e=>{this.emitWhenConnected(et.ConnectionQualityChanged,e,n)}).on(en.ParticipantPermissionsChanged,e=>{this.emitWhenConnected(et.ParticipantPermissionsChanged,e,n)}).on(en.TrackSubscriptionStatusChanged,(e,t)=>{this.emitWhenConnected(et.TrackSubscriptionStatusChanged,e,t,n)}).on(en.TrackSubscriptionFailed,(e,t)=>{this.emit(et.TrackSubscriptionFailed,e,n,t)}).on(en.TrackSubscriptionPermissionChanged,(e,t)=>{this.emitWhenConnected(et.TrackSubscriptionPermissionChanged,e,t,n)}),t&&n.updateInfo(t),n}sendSyncState(){let e=Array.from(this.remoteParticipants.values()).reduce((e,t)=>(e.push(...t.getTrackPublications()),e),[]),t=this.localParticipant.getTrackPublications();this.engine.sendSyncState(e,t)}updateSubscriptions(){for(let e of this.remoteParticipants.values())for(let t of e.videoTrackPublications.values())t.isSubscribed&&t instanceof sB&&t.emitTrackUpdate()}getRemoteParticipantBySid(e){let t=this.sidToIdentity.get(e);if(t)return this.remoteParticipants.get(t)}registerConnectionReconcile(){this.clearConnectionReconcile();let e=0;this.connectionReconcileInterval=i7.setInterval(()=>{this.engine&&!this.engine.isClosed&&this.engine.verifyTransport()?e=0:(e++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:e,engine:{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}})),e>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,tS.STATE_MISMATCH)))},2e3)}clearConnectionReconcile(){this.connectionReconcileInterval&&i7.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(e){return e!==this.state&&(this.state=e,this.emit(et.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(e=>{let[t,n]=e;this.emit(t,...n)}),this.bufferedEvents=[]}emitWhenConnected(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.state===eh.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([e,n]);else if(this.state===eh.Connected)return this.emit(e,...n);return!1}simulateParticipants(e){var t,n;return rD(this,void 0,void 0,function*(){let r=Object.assign({audio:!0,video:!0,useRealTracks:!1},e.publish),i=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},e.participants);if(this.handleDisconnect(),this.roomInfo=new tP({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:eN.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new tO({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(et.SignalConnected),this.emit(et.Connected),this.setAndEmitConnectionState(eh.Connected),r.video){let e=new sU(os.Kind.Video,new tD({source:t_.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:tw.AUDIO,name:"video-dummy"}),new sP(r.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:oj(160*(null!==(t=i.aspectRatios[0])&&void 0!==t?t:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(e),this.localParticipant.emit(en.LocalTrackPublished,e)}if(r.audio){let e=new sU(os.Kind.Audio,new tD({source:t_.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:tw.AUDIO}),new sm(r.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:oU(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(e),this.localParticipant.emit(en.LocalTrackPublished,e)}for(let e=0;e<i.count-1;e+=1){let t=new tO({sid:Math.floor(1e4*Math.random()).toString(),identity:"simulated-".concat(e),state:tA.ACTIVE,tracks:[],joinedAt:eN.parse(Date.now())}),r=this.getOrCreateParticipant(t.identity,t);if(i.video){let o=oj(160*(null!==(n=i.aspectRatios[e%i.aspectRatios.length])&&void 0!==n?n:1),160,!1,!0),s=new tD({source:t_.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:tw.AUDIO});r.addSubscribedMediaTrack(o,s.sid,new MediaStream([o])),t.tracks=[...t.tracks,s]}if(i.audio){let e=oU(),n=new tD({source:t_.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:tw.AUDIO});r.addSubscribedMediaTrack(e,n.sid,new MediaStream([e])),t.tracks=[...t.tracks,n]}r.updateInfo(t)}})}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e!==et.ActiveSpeakersChanged){let t=(function e(t){return t.map(t=>t?Array.isArray(t)?e(t):"object"==typeof t?"logContext"in t&&t.logContext:t:void 0)})(n).filter(e=>void 0!==e);this.log.debug("room event ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:t}))}return super.emit(e,...n)}}(H=ep||(ep={}))[H.IDLE=0]="IDLE",H[H.RUNNING=1]="RUNNING",H[H.SKIPPED=2]="SKIPPED",H[H.SUCCESS=3]="SUCCESS",H[H.FAILED=4]="FAILED"},95518:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(67870);let i=r.Xq.safeParse(r.xZ);if(!i.success)throw Error("Invalid client environment variables: ".concat(JSON.stringify(i.error.format(),null,2)));for(let e of Object.keys(i.data))if(!e.startsWith("NEXT_PUBLIC_"))throw Error("Invalid public environment variable name");let o=i.data},67870:function(e,t,n){"use strict";n.d(t,{Nb:function(){return s},Xq:function(){return a},xZ:function(){return l}});var r=n(30195),i=n(93542);let o="__default__";r.z.object({NODE_ENV:r.z.enum(["development","test","production"]),CHAR_SERVER_URL:r.z.string(),NEO_HOST_BASE:r.z.string(),SESSION_COOKIE_PASSWORD:r.z.string(),CF_PAGES_URL:r.z.string().default("http://localhost:8007"),CF_ACCESS_CLIENT_ID:r.z.string(),CF_ACCESS_CLIENT_SECRET:r.z.string(),SERVICE_ACCESS_TOKEN:r.z.string(),ALWAYS_PREFETCH:r.z.boolean().default(!1),SENDGRID_API_KEY:r.z.string().default(o),DISCORD_BOT_TOKEN:r.z.string(),DISCORD_CAIPLUS_ROLE_ID:r.z.string(),DISCORD_NON_CAIPLUS_ROLE_ID:r.z.string(),DISCORD_CLIENT_ID:r.z.string(),DISCORD_CLIENT_SECRET:r.z.string(),DISCORD_GUILD_ID:r.z.string(),DISCORD_SERVER_URL:r.z.string(),API_DEBUG_MODE:r.z.string().default("off"),IDENTITY_PLATFORM_SA_KEY:r.z.string().default(o),IDENTITY_PLATFORM_SA_EMAIL:r.z.string().default(o),GIT_SHA:r.z.string().optional(),GIT_BRANCH:r.z.string().optional(),PAGES_URL:r.z.string().optional(),IS_CF_PAGES:r.z.boolean().default(!1),GPT4TURBO_API_KEY:r.z.string().optional(),APPSFLYER_API_KEY:r.z.string(),TIKTOK_ADS_ACCESS_TOKEN:r.z.string(),STATSIG_SERVER_SECRET:r.z.string(),ST_OPEN_AI_KEY:r.z.string().optional(),ST_TWITCH_KEY:r.z.string().optional(),GAME_JUDGE_APPLICATION_KEY:r.z.string(),STATSIG_CLIENT_KEY:r.z.string(),GHOST_CONTENT_API_KEY:r.z.string()});let s={NODE_ENV:"production",CHAR_SERVER_URL:"https://plus.character.ai/",NEO_HOST_BASE:"neo.character.ai",SESSION_COOKIE_PASSWORD:i.env.SESSION_COOKIE_PASSWORD,CF_PAGES_URL:i.env.CF_PAGES_URL,CF_ACCESS_CLIENT_ID:i.env.CF_ACCESS_CLIENT_ID,CF_ACCESS_CLIENT_SECRET:i.env.CF_ACCESS_CLIENT_SECRET,SERVICE_ACCESS_TOKEN:i.env.SERVICE_ACCESS_TOKEN,ALWAYS_PREFETCH:"true"===i.env.ALWAYS_PREFETCH,SENDGRID_API_KEY:i.env.SENDGRID_API_KEY,DISCORD_BOT_TOKEN:i.env.DISCORD_BOT_TOKEN,DISCORD_CAIPLUS_ROLE_ID:i.env.DISCORD_CAIPLUS_ROLE_ID,DISCORD_NON_CAIPLUS_ROLE_ID:i.env.DISCORD_NON_CAIPLUS_ROLE_ID,DISCORD_CLIENT_ID:"1218265483464147008",DISCORD_CLIENT_SECRET:i.env.DISCORD_CLIENT_SECRET,DISCORD_GUILD_ID:i.env.DISCORD_GUILD_ID,DISCORD_SERVER_URL:i.env.DISCORD_SERVER_URL,IDENTITY_PLATFORM_SA_KEY:i.env.IDENTITY_PLATFORM_SA_KEY,IDENTITY_PLATFORM_SA_EMAIL:i.env.IDENTITY_PLATFORM_SA_EMAIL,GIT_SHA:i.env.CF_PAGES_COMMIT_SHA,GIT_BRANCH:i.env.CF_PAGES_BRANCH,PAGES_URL:i.env.CF_PAGES_URL,IS_CF_PAGES:"1"===i.env.CF_PAGES,GPT4TURBO_API_KEY:i.env.GPT4TURBO_API_KEY,APPSFLYER_API_KEY:i.env.APPSFLYER_API_KEY,TIKTOK_ADS_ACCESS_TOKEN:i.env.TIKTOK_ADS_ACCESS_TOKEN,STATSIG_SERVER_SECRET:i.env.STATSIG_SERVER_SECRET,ST_OPEN_AI_KEY:i.env.ST_OPEN_AI_KEY,ST_TWITCH_KEY:i.env.ST_TWITCH_KEY,API_DEBUG_MODE:i.env.API_DEBUG_MODE,GAME_JUDGE_APPLICATION_KEY:i.env.GAME_JUDGE_APPLICATION_KEY,STATSIG_CLIENT_KEY:"client-E7e7QNngJ3X7w12EevvqJRVq3rnaJU4bOjXwlJPFDqN",GHOST_CONTENT_API_KEY:i.env.GHOST_CONTENT_API_KEY},a=r.z.object({NEXT_PUBLIC_CHAR_SERVER_URL:r.z.string(),NEXT_PUBLIC_NEO_HOST_BASE:r.z.string(),NEXT_PUBLIC_ENABLE_REACT_QUERY_DEV_TOOLS:r.z.string().optional(),NEXT_PUBLIC_URL:r.z.string().default("http://localhost:8007"),NEXT_PUBLIC_DISCORD_CLIENT_ID:r.z.string(),NEXT_PUBLIC_STATSIG_CLIENT_KEY:r.z.string()}),l={NEXT_PUBLIC_CHAR_SERVER_URL:"https://plus.character.ai/",NEXT_PUBLIC_NEO_HOST_BASE:"neo.character.ai",NEXT_PUBLIC_ENABLE_REACT_QUERY_DEV_TOOLS:i.env.NEXT_PUBLIC_ENABLE_REACT_QUERY_DEV_TOOLS,NEXT_PUBLIC_URL:i.env.CF_PAGES_URL,NEXT_PUBLIC_DISCORD_CLIENT_ID:"1218265483464147008",NEXT_PUBLIC_STATSIG_CLIENT_KEY:"client-E7e7QNngJ3X7w12EevvqJRVq3rnaJU4bOjXwlJPFDqN"}},3758:function(e,t,n){"use strict";function r(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}n.d(t,{M:function(){return r}})},77864:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(2784),i=n(30017),o=n(46389),s=n(57621);function a(e){let t=e+"CollectionProvider",[n,a]=(0,i.b)(t),[l,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=e+"CollectionSlot",d=r.forwardRef((e,t)=>{let{scope:n,children:i}=e,a=c(u,n),l=(0,o.e)(t,a.collectionRef);return r.createElement(s.g7,{ref:l},i)}),h=e+"CollectionItemSlot",p="data-radix-collection-item";return[{Provider:e=>{let{scope:t,children:n}=e,i=r.useRef(null),o=r.useRef(new Map).current;return r.createElement(l,{scope:t,itemMap:o,collectionRef:i},n)},Slot:d,ItemSlot:r.forwardRef((e,t)=>{let{scope:n,children:i,...a}=e,l=r.useRef(null),u=(0,o.e)(t,l),d=c(h,n);return r.useEffect(()=>(d.itemMap.set(l,{ref:l,...a}),()=>void d.itemMap.delete(l))),r.createElement(s.g7,{[p]:"",ref:u},i)})},function(t){let n=c(e+"CollectionConsumer",t);return r.useCallback(()=>{let e=n.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll("[".concat(p,"]")));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},a]}},46389:function(e,t,n){"use strict";n.d(t,{F:function(){return i},e:function(){return o}});var r=n(2784);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useCallback)(i(...t),t)}},30017:function(e,t,n){"use strict";n.d(t,{b:function(){return o},k:function(){return i}});var r=n(2784);function i(e,t){let n=(0,r.createContext)(t);function i(e){let{children:t,...i}=e,o=(0,r.useMemo)(()=>i,Object.values(i));return(0,r.createElement)(n.Provider,{value:o},t)}return i.displayName=e+"Provider",[i,function(i){let o=(0,r.useContext)(n);if(o)return o;if(void 0!==t)return t;throw Error("`".concat(i,"` must be used within `").concat(e,"`"))}]}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],i=()=>{let t=n.map(e=>(0,r.createContext)(e));return function(n){let i=(null==n?void 0:n[e])||t;return(0,r.useMemo)(()=>({["__scope".concat(e)]:{...n,[e]:i}}),[n,i])}};return i.scopeName=e,[function(t,i){let o=(0,r.createContext)(i),s=n.length;function a(t){let{scope:n,children:i,...a}=t,l=(null==n?void 0:n[e][s])||o,c=(0,r.useMemo)(()=>a,Object.values(a));return(0,r.createElement)(l.Provider,{value:c},i)}return n=[...n,i],a.displayName=t+"Provider",[a,function(n,a){let l=(null==a?void 0:a[e][s])||o,c=(0,r.useContext)(l);if(c)return c;if(void 0!==i)return i;throw Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=t[0];if(1===t.length)return i;let o=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let n=e.reduce((e,n)=>{let{useScope:r,scopeName:i}=n,o=r(t)["__scope".concat(i)];return{...e,...o}},{});return(0,r.useMemo)(()=>({["__scope".concat(i.scopeName)]:n}),[n])}};return o.scopeName=i.scopeName,o}(i,...t)]}},99248:function(e,t,n){"use strict";n.d(t,{x8:function(){return eb},VY:function(){return eg},dk:function(){return ey},$N:function(){return es},aV:function(){return em},h_:function(){return ef},fC:function(){return eh},Dx:function(){return ev},xz:function(){return ep}});var r=n(7896),i=n(2784),o=n(3758),s=n(46389),a=n(30017),l=n(87819),c=n(64147),u=n(25390),d=n(71656),h=n(62745),p=n(1),f=n(81722),m=n(85184),g=n(22970),v=n(95346),y=n(22442),b=(0,n(64597)._)(),w=function(){},_=i.forwardRef(function(e,t){var n=i.useRef(null),r=i.useState({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:w}),o=r[0],s=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noIsolation,m=e.inert,v=e.allowPinchZoom,_=e.as,C=(0,g._T)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=(0,y.q)([n,t]),k=(0,g.pi)((0,g.pi)({},C),o);return i.createElement(i.Fragment,null,d&&i.createElement(p,{sideCar:b,removeScrollBar:u,shards:h,noIsolation:f,inert:m,setCallbacks:s,allowPinchZoom:!!v,lockRef:n}),a?i.cloneElement(i.Children.only(l),(0,g.pi)((0,g.pi)({},k),{ref:x})):i.createElement(void 0===_?"div":_,(0,g.pi)({},k,{className:c,ref:x}),l))});_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},_.classNames={fullWidth:v.zi,zeroRight:v.pF};var C=n(57758),x=n(181),k=n(33225),S=!1;try{var E=Object.defineProperty({},"passive",{get:function(){return S=!0,!0}});window.addEventListener("test",E,E),window.removeEventListener("test",E,E)}catch(e){S=!1}var T=!!S&&{passive:!1},P=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===n[t])},I=function(e,t){var n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),R(e,n)){var r=O(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},R=function(e,t){return"v"===e?P(t,"overflowY"):P(t,"overflowX")},O=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},A=function(e,t,n,r,i){var o,s=(o=window.getComputedStyle(t).direction,"h"===e&&"rtl"===o?-1:1),a=s*r,l=n.target,c=t.contains(l),u=!1,d=a>0,h=0,p=0;do{var f=O(e,l),m=f[0],g=f[1]-f[2]-s*m;(m||g)&&R(e,l)&&(h+=g,p+=m),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return d&&(i&&0===h||!i&&a>h)?u=!0:!d&&(i&&0===p||!i&&-a>p)&&(u=!0),u},N=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},L=function(e){return[e.deltaX,e.deltaY]},M=function(e){return e&&"current"in e?e.current:e},D=0,j=[],U=(0,C.L)(b,function(e){var t=i.useRef([]),n=i.useRef([0,0]),r=i.useRef(),o=i.useState(D++)[0],s=i.useState(function(){return(0,k.Ws)()})[0],a=i.useRef(e);i.useEffect(function(){a.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=(0,g.ev)([e.lockRef.current],(e.shards||[]).map(M),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=i.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!a.current.allowPinchZoom;var i,o=N(e),s=n.current,l="deltaX"in e?e.deltaX:s[0]-o[0],c="deltaY"in e?e.deltaY:s[1]-o[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=I(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=I(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var p=r.current||i;return A(p,t,e,"h"===p?l:c,!0)},[]),c=i.useCallback(function(e){if(j.length&&j[j.length-1]===s){var n="deltaY"in e?L(e):N(e),r=t.current.filter(function(t){var r;return t.name===e.type&&t.target===e.target&&(r=t.delta)[0]===n[0]&&r[1]===n[1]})[0];if(r&&r.should){e.cancelable&&e.preventDefault();return}if(!r){var i=(a.current.shards||[]).map(M).filter(Boolean).filter(function(t){return t.contains(e.target)});(i.length>0?l(e,i[0]):!a.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),u=i.useCallback(function(e,n,r,i){var o={name:e,delta:n,target:r,should:i};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),d=i.useCallback(function(e){n.current=N(e),r.current=void 0},[]),h=i.useCallback(function(t){u(t.type,L(t),t.target,l(t,e.lockRef.current))},[]),p=i.useCallback(function(t){u(t.type,N(t),t.target,l(t,e.lockRef.current))},[]);i.useEffect(function(){return j.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,T),document.addEventListener("touchmove",c,T),document.addEventListener("touchstart",d,T),function(){j=j.filter(function(e){return e!==s}),document.removeEventListener("wheel",c,T),document.removeEventListener("touchmove",c,T),document.removeEventListener("touchstart",d,T)}},[]);var f=e.removeScrollBar,m=e.inert;return i.createElement(i.Fragment,null,m?i.createElement(s,{styles:"\n  .block-interactivity-".concat(o," {pointer-events: none;}\n  .allow-interactivity-").concat(o," {pointer-events: all;}\n")}):null,f?i.createElement(x.jp,{gapMode:"margin"}):null)}),F=i.forwardRef(function(e,t){return i.createElement(_,(0,g.pi)({},e,{ref:t,sideCar:U}))});F.classNames=_.classNames;var V=n(49732),B=n(57621);let z="Dialog",[H,q]=(0,a.b)(z),[K,G]=H(z),W=(0,i.forwardRef)((e,t)=>{let{__scopeDialog:n,...a}=e,l=G("DialogTrigger",n),c=(0,s.e)(t,l.triggerRef);return(0,i.createElement)(f.WV.button,(0,r.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":ec(l.open)},a,{ref:c,onClick:(0,o.M)(e.onClick,l.onOpenToggle)}))}),$="DialogPortal",[Z,J]=H($,{forceMount:void 0}),Y="DialogOverlay",X=(0,i.forwardRef)((e,t)=>{let n=J(Y,e.__scopeDialog),{forceMount:o=n.forceMount,...s}=e,a=G(Y,e.__scopeDialog);return a.modal?(0,i.createElement)(p.z,{present:o||a.open},(0,i.createElement)(Q,(0,r.Z)({},s,{ref:t}))):null}),Q=(0,i.forwardRef)((e,t)=>{let{__scopeDialog:n,...o}=e,s=G(Y,n);return(0,i.createElement)(F,{as:B.g7,allowPinchZoom:!0,shards:[s.contentRef]},(0,i.createElement)(f.WV.div,(0,r.Z)({"data-state":ec(s.open)},o,{ref:t,style:{pointerEvents:"auto",...o.style}})))}),ee="DialogContent",et=(0,i.forwardRef)((e,t)=>{let n=J(ee,e.__scopeDialog),{forceMount:o=n.forceMount,...s}=e,a=G(ee,e.__scopeDialog);return(0,i.createElement)(p.z,{present:o||a.open},a.modal?(0,i.createElement)(en,(0,r.Z)({},s,{ref:t})):(0,i.createElement)(er,(0,r.Z)({},s,{ref:t})))}),en=(0,i.forwardRef)((e,t)=>{let n=G(ee,e.__scopeDialog),a=(0,i.useRef)(null),l=(0,s.e)(t,n.contentRef,a);return(0,i.useEffect)(()=>{let e=a.current;if(e)return(0,V.Ry)(e)},[]),(0,i.createElement)(ei,(0,r.Z)({},e,{ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,o.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:(0,o.M)(e.onFocusOutside,e=>e.preventDefault())}))}),er=(0,i.forwardRef)((e,t)=>{let n=G(ee,e.__scopeDialog),o=(0,i.useRef)(!1),s=(0,i.useRef)(!1);return(0,i.createElement)(ei,(0,r.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,i;null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented||(o.current||null===(i=n.triggerRef.current)||void 0===i||i.focus(),t.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:t=>{var r,i;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(o.current=!0,"pointerdown"!==t.detail.originalEvent.type||(s.current=!0));let a=t.target;(null===(i=n.triggerRef.current)||void 0===i?void 0:i.contains(a))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}}))}),ei=(0,i.forwardRef)((e,t)=>{let{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,...c}=e,h=G(ee,n),p=(0,i.useRef)(null),f=(0,s.e)(t,p);return(0,m.EW)(),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.M,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:l},(0,i.createElement)(u.XB,(0,r.Z)({role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":ec(h.open)},c,{ref:f,onDismiss:()=>h.onOpenChange(!1)}))),!1)}),eo="DialogTitle",es=(0,i.forwardRef)((e,t)=>{let{__scopeDialog:n,...o}=e,s=G(eo,n);return(0,i.createElement)(f.WV.h2,(0,r.Z)({id:s.titleId},o,{ref:t}))}),ea=(0,i.forwardRef)((e,t)=>{let{__scopeDialog:n,...o}=e,s=G("DialogDescription",n);return(0,i.createElement)(f.WV.p,(0,r.Z)({id:s.descriptionId},o,{ref:t}))}),el=(0,i.forwardRef)((e,t)=>{let{__scopeDialog:n,...s}=e,a=G("DialogClose",n);return(0,i.createElement)(f.WV.button,(0,r.Z)({type:"button"},s,{ref:t,onClick:(0,o.M)(e.onClick,()=>a.onOpenChange(!1))}))});function ec(e){return e?"open":"closed"}let[eu,ed]=(0,a.k)("DialogTitleWarning",{contentName:ee,titleName:eo,docsSlug:"dialog"}),eh=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,u=(0,i.useRef)(null),d=(0,i.useRef)(null),[h=!1,p]=(0,c.T)({prop:r,defaultProp:o,onChange:s});return(0,i.createElement)(K,{scope:t,triggerRef:u,contentRef:d,contentId:(0,l.M)(),titleId:(0,l.M)(),descriptionId:(0,l.M)(),open:h,onOpenChange:p,onOpenToggle:(0,i.useCallback)(()=>p(e=>!e),[p]),modal:a},n)},ep=W,ef=e=>{let{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=G($,t);return(0,i.createElement)(Z,{scope:t,forceMount:n},i.Children.map(r,e=>(0,i.createElement)(p.z,{present:n||s.open},(0,i.createElement)(h.h,{asChild:!0,container:o},e))))},em=X,eg=et,ev=es,ey=ea,eb=el},14354:function(e,t,n){"use strict";n.d(t,{gm:function(){return o}});var r=n(2784);let i=(0,r.createContext)(void 0);function o(e){let t=(0,r.useContext)(i);return e||t||"ltr"}},25390:function(e,t,n){"use strict";let r;n.d(t,{XB:function(){return h}});var i=n(7896),o=n(2784),s=n(3758),a=n(81722),l=n(46389),c=n(53693);let u="dismissableLayer.update",d=(0,o.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),h=(0,o.forwardRef)((e,t)=>{var n;let{disableOutsidePointerEvents:h=!1,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:y,onDismiss:b,...w}=e,_=(0,o.useContext)(d),[C,x]=(0,o.useState)(null),k=null!==(n=null==C?void 0:C.ownerDocument)&&void 0!==n?n:null==globalThis?void 0:globalThis.document,[,S]=(0,o.useState)({}),E=(0,l.e)(t,e=>x(e)),T=Array.from(_.layers),[P]=[..._.layersWithOutsidePointerEventsDisabled].slice(-1),I=T.indexOf(P),R=C?T.indexOf(C):-1,O=_.layersWithOutsidePointerEventsDisabled.size>0,A=R>=I,N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,n=(0,c.W)(e),r=(0,o.useRef)(!1),i=(0,o.useRef)(()=>{});return(0,o.useEffect)(()=>{let e=e=>{if(e.target&&!r.current){let r={originalEvent:e};function o(){f("dismissableLayer.pointerDownOutside",n,r,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=o,t.addEventListener("click",i.current,{once:!0})):o()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{let t=e.target,n=[..._.branches].some(e=>e.contains(t));!A||n||(null==g||g(e),null==y||y(e),e.defaultPrevented||null==b||b())},k),L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,n=(0,c.W)(e),r=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{let e=e=>{e.target&&!r.current&&f("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{let t=e.target;[..._.branches].some(e=>e.contains(t))||(null==v||v(e),null==y||y(e),e.defaultPrevented||null==b||b())},k);return!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,n=(0,c.W)(e);(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},[n,t])}(e=>{R!==_.layers.size-1||(null==m||m(e),!e.defaultPrevented&&b&&(e.preventDefault(),b()))},k),(0,o.useEffect)(()=>{if(C)return h&&(0===_.layersWithOutsidePointerEventsDisabled.size&&(r=k.body.style.pointerEvents,k.body.style.pointerEvents="none"),_.layersWithOutsidePointerEventsDisabled.add(C)),_.layers.add(C),p(),()=>{h&&1===_.layersWithOutsidePointerEventsDisabled.size&&(k.body.style.pointerEvents=r)}},[C,k,h,_]),(0,o.useEffect)(()=>()=>{C&&(_.layers.delete(C),_.layersWithOutsidePointerEventsDisabled.delete(C),p())},[C,_]),(0,o.useEffect)(()=>{let e=()=>S({});return document.addEventListener(u,e),()=>document.removeEventListener(u,e)},[]),(0,o.createElement)(a.WV.div,(0,i.Z)({},w,{ref:E,style:{pointerEvents:O?A?"auto":"none":void 0,...e.style},onFocusCapture:(0,s.M)(e.onFocusCapture,L.onFocusCapture),onBlurCapture:(0,s.M)(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:(0,s.M)(e.onPointerDownCapture,N.onPointerDownCapture)}))});function p(){let e=new CustomEvent(u);document.dispatchEvent(e)}function f(e,t,n,r){let{discrete:i}=r,o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?(0,a.jH)(o,s):o.dispatchEvent(s)}},85184:function(e,t,n){"use strict";n.d(t,{EW:function(){return o}});var r=n(2784);let i=0;function o(){(0,r.useEffect)(()=>{var e,t;let n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:s()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:s()),i++,()=>{1===i&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),i--}},[])}function s(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}},71656:function(e,t,n){"use strict";let r;n.d(t,{M:function(){return h}});var i=n(7896),o=n(2784),s=n(46389),a=n(81722),l=n(53693);let c="focusScope.autoFocusOnMount",u="focusScope.autoFocusOnUnmount",d={bubbles:!1,cancelable:!0},h=(0,o.forwardRef)((e,t)=>{let{loop:n=!1,trapped:r=!1,onMountAutoFocus:h,onUnmountAutoFocus:v,...y}=e,[b,w]=(0,o.useState)(null),_=(0,l.W)(h),C=(0,l.W)(v),x=(0,o.useRef)(null),k=(0,s.e)(t,e=>w(e)),S=(0,o.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,o.useEffect)(()=>{if(r){function e(e){if(S.paused||!b)return;let t=e.target;b.contains(t)?x.current=t:m(x.current,{select:!0})}function t(e){if(S.paused||!b)return;let t=e.relatedTarget;null===t||b.contains(t)||m(x.current,{select:!0})}document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&m(b)});return b&&n.observe(b,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[r,b,S.paused]),(0,o.useEffect)(()=>{if(b){g.add(S);let e=document.activeElement;if(!b.contains(e)){let t=new CustomEvent(c,d);b.addEventListener(c,_),b.dispatchEvent(t),t.defaultPrevented||(function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.activeElement;for(let r of e)if(m(r,{select:t}),document.activeElement!==n)return}(p(b).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&m(b))}return()=>{b.removeEventListener(c,_),setTimeout(()=>{let t=new CustomEvent(u,d);b.addEventListener(u,C),b.dispatchEvent(t),t.defaultPrevented||m(null!=e?e:document.body,{select:!0}),b.removeEventListener(u,C),g.remove(S)},0)}}},[b,_,C,S]);let E=(0,o.useCallback)(e=>{if(!n&&!r||S.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){let t=e.currentTarget,[r,o]=function(e){let t=p(e);return[f(t,e),f(t.reverse(),e)]}(t);r&&o?e.shiftKey||i!==o?e.shiftKey&&i===r&&(e.preventDefault(),n&&m(o,{select:!0})):(e.preventDefault(),n&&m(r,{select:!0})):i===t&&e.preventDefault()}},[n,r,S.paused]);return(0,o.createElement)(a.WV.div,(0,i.Z)({tabIndex:-1},y,{ref:k,onKeyDown:E}))});function p(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function f(e,t){for(let n of e)if(!function(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===n||e!==n);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function m(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){var n;let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}let g=(r=[],{add(e){let t=r[0];e!==t&&(null==t||t.pause()),(r=v(r,e)).unshift(e)},remove(e){var t;null===(t=(r=v(r,e))[0])||void 0===t||t.resume()}});function v(e,t){let n=[...e],r=n.indexOf(t);return -1!==r&&n.splice(r,1),n}},87819:function(e,t,n){"use strict";n.d(t,{M:function(){return l}});var r,i=n(2784),o=n(18137);let s=(r||(r=n.t(i,2)))["useId".toString()]||(()=>void 0),a=0;function l(e){let[t,n]=i.useState(s());return(0,o.b)(()=>{e||n(e=>null!=e?e:String(a++))},[e]),e||(t?"radix-".concat(t):"")}},87265:function(e,t,n){"use strict";n.d(t,{ee:function(){return eK},Eh:function(){return eW},VY:function(){return eG},fC:function(){return eq},D7:function(){return eO}});var r=n(7896),i=n(2784);let o=["top","right","bottom","left"],s=Math.min,a=Math.max,l=Math.round,c=Math.floor,u=e=>({x:e,y:e}),d={left:"right",right:"left",bottom:"top",top:"bottom"},h={start:"end",end:"start"};function p(e,t){return"function"==typeof e?e(t):e}function f(e){return e.split("-")[0]}function m(e){return e.split("-")[1]}function g(e){return"x"===e?"y":"x"}function v(e){return"y"===e?"height":"width"}function y(e){return["top","bottom"].includes(f(e))?"y":"x"}function b(e){return e.replace(/start|end/g,e=>h[e])}function w(e){return e.replace(/left|right|bottom|top/g,e=>d[e])}function _(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function C(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function x(e,t,n){let r,{reference:i,floating:o}=e,s=y(t),a=g(y(t)),l=v(a),c=f(t),u="y"===s,d=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,p=i[l]/2-o[l]/2;switch(c){case"top":r={x:d,y:i.y-o.height};break;case"bottom":r={x:d,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:h};break;case"left":r={x:i.x-o.width,y:h};break;default:r={x:i.x,y:i.y}}switch(m(t)){case"start":r[a]-=p*(n&&u?-1:1);break;case"end":r[a]+=p*(n&&u?-1:1)}return r}let k=async(e,t,n)=>{let{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await (null==s.isRTL?void 0:s.isRTL(t)),c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=x(c,r,l),h=r,p={},f=0;for(let n=0;n<a.length;n++){let{name:o,fn:m}=a[n],{x:g,y:v,data:y,reset:b}=await m({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,p={...p,[o]:{...p[o],...y}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:u,y:d}=x(c,h,l)),n=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function S(e,t){var n;void 0===t&&(t={});let{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=p(t,e),m=_(f),g=a[h?"floating"===d?"reference":"floating":d],v=C(await o.getClippingRect({element:null==(n=await (null==o.isElement?void 0:o.isElement(g)))||n?g:g.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await (null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),w=await (null==o.isElement?void 0:o.isElement(b))&&await (null==o.getScale?void 0:o.getScale(b))||{x:1,y:1},x=C(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(v.top-x.top+m.top)/w.y,bottom:(x.bottom-v.bottom+m.bottom)/w.y,left:(v.left-x.left+m.left)/w.x,right:(x.right-v.right+m.right)/w.x}}function E(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function T(e){return o.some(t=>e[t]>=0)}async function P(e,t){let{placement:n,platform:r,elements:i}=e,o=await (null==r.isRTL?void 0:r.isRTL(i.floating)),s=f(n),a=m(n),l="y"===y(n),c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=p(t,e),{mainAxis:h,crossAxis:g,alignmentAxis:v}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&"number"==typeof v&&(g="end"===a?-1*v:v),l?{x:g*u,y:h*c}:{x:h*c,y:g*u}}function I(){return"undefined"!=typeof window}function R(e){return N(e)?(e.nodeName||"").toLowerCase():"#document"}function O(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function A(e){var t;return null==(t=(N(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function N(e){return!!I()&&(e instanceof Node||e instanceof O(e).Node)}function L(e){return!!I()&&(e instanceof Element||e instanceof O(e).Element)}function M(e){return!!I()&&(e instanceof HTMLElement||e instanceof O(e).HTMLElement)}function D(e){return!!I()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof O(e).ShadowRoot)}function j(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=z(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function U(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function F(e){let t=V(),n=L(e)?z(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function V(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function B(e){return["html","body","#document"].includes(R(e))}function z(e){return O(e).getComputedStyle(e)}function H(e){return L(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function q(e){if("html"===R(e))return e;let t=e.assignedSlot||e.parentNode||D(e)&&e.host||A(e);return D(t)?t.host:t}function K(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);let i=function e(t){let n=q(t);return B(n)?t.ownerDocument?t.ownerDocument.body:t.body:M(n)&&j(n)?n:e(n)}(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=O(i);if(o){let e=G(s);return t.concat(s,s.visualViewport||[],j(i)?i:[],e&&n?K(e):[])}return t.concat(i,K(i,[],n))}function G(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function W(e){let t=z(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=M(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=l(n)!==o||l(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function $(e){return L(e)?e:e.contextElement}function Z(e){let t=$(e);if(!M(t))return u(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:o}=W(t),s=(o?l(n.width):n.width)/r,a=(o?l(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}let J=u(0);function Y(e){let t=O(e);return V()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:J}function X(e,t,n,r){var i;void 0===t&&(t=!1),void 0===n&&(n=!1);let o=e.getBoundingClientRect(),s=$(e),a=u(1);t&&(r?L(r)&&(a=Z(r)):a=Z(e));let l=(void 0===(i=n)&&(i=!1),r&&(!i||r===O(s))&&i)?Y(s):u(0),c=(o.left+l.x)/a.x,d=(o.top+l.y)/a.y,h=o.width/a.x,p=o.height/a.y;if(s){let e=O(s),t=r&&L(r)?O(r):r,n=e,i=G(n);for(;i&&r&&t!==n;){let e=Z(i),t=i.getBoundingClientRect(),r=z(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,d*=e.y,h*=e.x,p*=e.y,c+=o,d+=s,i=G(n=O(i))}}return C({width:h,height:p,x:c,y:d})}function Q(e,t){let n=H(e).scrollLeft;return t?t.left+n:X(A(e)).left+n}function ee(e,t,n){let r;if("viewport"===t)r=function(e,t){let n=O(e),r=A(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;let e=V();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}(e,n);else if("document"===t)r=function(e){let t=A(e),n=H(e),r=e.ownerDocument.body,i=a(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=a(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),s=-n.scrollLeft+Q(e),l=-n.scrollTop;return"rtl"===z(r).direction&&(s+=a(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:l}}(A(e));else if(L(t))r=function(e,t){let n=X(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=M(e)?Z(e):u(1),s=e.clientWidth*o.x;return{width:s,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{let n=Y(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return C(r)}function et(e){return"static"===z(e).position}function en(e,t){if(!M(e)||"fixed"===z(e).position)return null;if(t)return t(e);let n=e.offsetParent;return A(e)===n&&(n=n.ownerDocument.body),n}function er(e,t){let n=O(e);if(U(e))return n;if(!M(e)){let t=q(e);for(;t&&!B(t);){if(L(t)&&!et(t))return t;t=q(t)}return n}let r=en(e,t);for(;r&&["table","td","th"].includes(R(r))&&et(r);)r=en(r,t);return r&&B(r)&&et(r)&&!F(r)?n:r||function(e){let t=q(e);for(;M(t)&&!B(t);){if(F(t))return t;if(U(t))break;t=q(t)}return null}(e)||n}let ei=async function(e){let t=this.getOffsetParent||er,n=this.getDimensions,r=await n(e.floating);return{reference:function(e,t,n){let r=M(t),i=A(t),o="fixed"===n,s=X(e,!0,o,t),a={scrollLeft:0,scrollTop:0},l=u(0);if(r||!r&&!o){if(("body"!==R(t)||j(i))&&(a=H(t)),r){let e=X(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=Q(i))}let c=0,d=0;if(i&&!r&&!o){let e=i.getBoundingClientRect();d=e.top+a.scrollTop,c=e.left+a.scrollLeft-Q(i,e)}return{x:s.left+a.scrollLeft-l.x-c,y:s.top+a.scrollTop-l.y-d,width:s.width,height:s.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},eo={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,o="fixed"===i,s=A(r),a=!!t&&U(t.floating);if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=u(1),d=u(0),h=M(r);if((h||!h&&!o)&&(("body"!==R(r)||j(s))&&(l=H(r)),M(r))){let e=X(r);c=Z(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}},getDocumentElement:A,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,o=[..."clippingAncestors"===n?U(t)?[]:function(e,t){let n=t.get(e);if(n)return n;let r=K(e,[],!1).filter(e=>L(e)&&"body"!==R(e)),i=null,o="fixed"===z(e).position,s=o?q(e):e;for(;L(s)&&!B(s);){let t=z(s),n=F(s);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&!!i&&["absolute","fixed"].includes(i.position)||j(s)&&!n&&function e(t,n){let r=q(t);return!(r===n||!L(r)||B(r))&&("fixed"===z(r).position||e(r,n))}(e,s))?r=r.filter(e=>e!==s):i=t,s=q(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((e,n)=>{let r=ee(t,n,i);return e.top=a(r.top,e.top),e.right=s(r.right,e.right),e.bottom=s(r.bottom,e.bottom),e.left=a(r.left,e.left),e},ee(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:er,getElementRects:ei,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=W(e);return{width:t,height:n}},getScale:Z,isElement:L,isRTL:function(e){return"rtl"===z(e).direction}},es=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:r,placement:i,rects:o,platform:l,elements:c,middlewareData:u}=t,{element:d,padding:h=0}=p(e,t)||{};if(null==d)return{};let f=_(h),b={x:n,y:r},w=g(y(i)),C=v(w),x=await l.getDimensions(d),k="y"===w,S=k?"clientHeight":"clientWidth",E=o.reference[C]+o.reference[w]-b[w]-o.floating[C],T=b[w]-o.reference[w],P=await (null==l.getOffsetParent?void 0:l.getOffsetParent(d)),I=P?P[S]:0;I&&await (null==l.isElement?void 0:l.isElement(P))||(I=c.floating[S]||o.floating[C]);let R=I/2-x[C]/2-1,O=s(f[k?"top":"left"],R),A=s(f[k?"bottom":"right"],R),N=I-x[C]-A,L=I/2-x[C]/2+(E/2-T/2),M=a(O,s(L,N)),D=!u.arrow&&null!=m(i)&&L!==M&&o.reference[C]/2-(L<O?O:A)-x[C]/2<0,j=D?L<O?L-O:L-N:0;return{[w]:b[w]+j,data:{[w]:M,centerOffset:L-M-j,...D&&{alignmentOffset:j}},reset:D}}}),ea=(e,t,n)=>{let r=new Map,i={platform:eo,...n},o={...i.platform,_c:r};return k(e,t,{...i,platform:o})};var el=n(28316),ec="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function eu(e,t){let n,r,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!eu(e[r],t[r]))return!1;return!0}if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!({}).hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){let n=i[r];if(("_owner"!==n||!e.$$typeof)&&!eu(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function ed(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eh(e,t){let n=ed(e);return Math.round(t*n)/n}function ep(e){let t=i.useRef(e);return ec(()=>{t.current=e}),t}let ef=e=>({name:"arrow",options:e,fn(t){let{element:n,padding:r}="function"==typeof e?e(t):e;return n&&({}).hasOwnProperty.call(n,"current")?null!=n.current?es({element:n.current,padding:r}).fn(t):{}:n?es({element:n,padding:r}).fn(t):{}}}),em=(e,t)=>{var n;return{...(void 0===(n=e)&&(n=0),{name:"offset",options:n,async fn(e){var t,r;let{x:i,y:o,placement:s,middlewareData:a}=e,l=await P(e,n);return s===(null==(t=a.offset)?void 0:t.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}),options:[e,t]}},eg=(e,t)=>{var n;return{...(void 0===(n=e)&&(n={}),{name:"shift",options:n,async fn(e){let{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...u}=p(n,e),d={x:t,y:r},h=await S(e,u),m=y(f(i)),v=g(m),b=d[v],w=d[m];if(o){let e="y"===v?"top":"left",t="y"===v?"bottom":"right",n=b+h[e],r=b-h[t];b=a(n,s(b,r))}if(l){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",n=w+h[e],r=w-h[t];w=a(n,s(w,r))}let _=c.fn({...e,[v]:b,[m]:w});return{..._,data:{x:_.x-t,y:_.y-r}}}}),options:[e,t]}},ev=(e,t)=>{var n;return{...(void 0===(n=e)&&(n={}),{options:n,fn(e){let{x:t,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=p(n,e),u={x:t,y:r},d=y(i),h=g(d),m=u[h],v=u[d],b=p(a,e),w="number"==typeof b?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){let e="y"===h?"height":"width",t=o.reference[h]-o.floating[e]+w.mainAxis,n=o.reference[h]+o.reference[e]-w.mainAxis;m<t?m=t:m>n&&(m=n)}if(c){var _,C;let e="y"===h?"width":"height",t=["top","left"].includes(f(i)),n=o.reference[d]-o.floating[e]+(t&&(null==(_=s.offset)?void 0:_[d])||0)+(t?0:w.crossAxis),r=o.reference[d]+o.reference[e]+(t?0:(null==(C=s.offset)?void 0:C[d])||0)-(t?w.crossAxis:0);v<n?v=n:v>r&&(v=r)}return{[h]:m,[d]:v}}}),options:[e,t]}},ey=(e,t)=>{var n;return{...(void 0===(n=e)&&(n={}),{name:"flip",options:n,async fn(e){var t,r,i,o,s;let{placement:a,middlewareData:l,rects:c,initialPlacement:u,platform:d,elements:h}=e,{mainAxis:_=!0,crossAxis:C=!0,fallbackPlacements:x,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:T=!0,...P}=p(n,e);if(null!=(t=l.arrow)&&t.alignmentOffset)return{};let I=f(a),R=y(u),O=f(u)===u,A=await (null==d.isRTL?void 0:d.isRTL(h.floating)),N=x||(O||!T?[w(u)]:function(e){let t=w(e);return[b(e),t,b(t)]}(u)),L="none"!==E;!x&&L&&N.push(...function(e,t,n,r){let i=m(e),o=function(e,t,n){let r=["left","right"],i=["right","left"];switch(e){case"top":case"bottom":if(n)return t?i:r;return t?r:i;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(f(e),"start"===n,r);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(b)))),o}(u,T,E,A));let M=[u,...N],D=await S(e,P),j=[],U=(null==(r=l.flip)?void 0:r.overflows)||[];if(_&&j.push(D[I]),C){let e=function(e,t,n){void 0===n&&(n=!1);let r=m(e),i=g(y(e)),o=v(i),s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=w(s)),[s,w(s)]}(a,c,A);j.push(D[e[0]],D[e[1]])}if(U=[...U,{placement:a,overflows:j}],!j.every(e=>e<=0)){let e=((null==(i=l.flip)?void 0:i.index)||0)+1,t=M[e];if(t)return{data:{index:e,overflows:U},reset:{placement:t}};let n=null==(o=U.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:o.placement;if(!n)switch(k){case"bestFit":{let e=null==(s=U.filter(e=>{if(L){let t=y(e.placement);return t===R||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:s[0];e&&(n=e);break}case"initialPlacement":n=u}if(a!==n)return{reset:{placement:n}}}return{}}}),options:[e,t]}},eb=(e,t)=>{var n;return{...(void 0===(n=e)&&(n={}),{name:"size",options:n,async fn(e){let t,r;let{placement:i,rects:o,platform:l,elements:c}=e,{apply:u=()=>{},...d}=p(n,e),h=await S(e,d),g=f(i),v=m(i),b="y"===y(i),{width:w,height:_}=o.floating;"top"===g||"bottom"===g?(t=g,r=v===(await (null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(r=g,t="end"===v?"top":"bottom");let C=_-h.top-h.bottom,x=w-h.left-h.right,k=s(_-h[t],C),E=s(w-h[r],x),T=!e.middlewareData.shift,P=k,I=E;if(b?I=v||T?s(E,x):x:P=v||T?s(k,C):C,T&&!v){let e=a(h.left,0),t=a(h.right,0),n=a(h.top,0),r=a(h.bottom,0);b?I=w-2*(0!==e||0!==t?e+t:a(h.left,h.right)):P=_-2*(0!==n||0!==r?n+r:a(h.top,h.bottom))}await u({...e,availableWidth:I,availableHeight:P});let R=await l.getDimensions(c.floating);return w!==R.width||_!==R.height?{reset:{rects:!0}}:{}}}),options:[e,t]}},ew=(e,t)=>{var n;return{...(void 0===(n=e)&&(n={}),{name:"hide",options:n,async fn(e){let{rects:t}=e,{strategy:r="referenceHidden",...i}=p(n,e);switch(r){case"referenceHidden":{let n=E(await S(e,{...i,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:n,referenceHidden:T(n)}}}case"escaped":{let n=E(await S(e,{...i,altBoundary:!0}),t.floating);return{data:{escapedOffsets:n,escaped:T(n)}}}default:return{}}}}),options:[e,t]}},e_=(e,t)=>({...ef(e),options:[e,t]});var eC=n(81722);let ex=(0,i.forwardRef)((e,t)=>{let{children:n,width:o=10,height:s=5,...a}=e;return(0,i.createElement)(eC.WV.svg,(0,r.Z)({},a,{ref:t,width:o,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:(0,i.createElement)("polygon",{points:"0,0 30,0 15,10"}))});var ek=n(46389),eS=n(30017),eE=n(53693),eT=n(18137),eP=n(56958);let eI="Popper",[eR,eO]=(0,eS.b)(eI),[eA,eN]=eR(eI),eL=(0,i.forwardRef)((e,t)=>{let{__scopePopper:n,virtualRef:o,...s}=e,a=eN("PopperAnchor",n),l=(0,i.useRef)(null),c=(0,ek.e)(t,l);return(0,i.useEffect)(()=>{a.onAnchorChange((null==o?void 0:o.current)||l.current)}),o?null:(0,i.createElement)(eC.WV.div,(0,r.Z)({},s,{ref:c}))}),eM="PopperContent",[eD,ej]=eR(eM),eU=(0,i.forwardRef)((e,t)=>{var n,o,l,u,d,h,p,f;let{__scopePopper:m,side:g="bottom",sideOffset:v=0,align:y="center",alignOffset:b=0,arrowPadding:w=0,avoidCollisions:_=!0,collisionBoundary:C=[],collisionPadding:x=0,sticky:k="partial",hideWhenDetached:S=!1,updatePositionStrategy:E="optimized",onPlaced:T,...P}=e,I=eN(eM,m),[R,O]=(0,i.useState)(null),N=(0,ek.e)(t,e=>O(e)),[L,M]=(0,i.useState)(null),D=(0,eP.t)(L),j=null!==(n=null==D?void 0:D.width)&&void 0!==n?n:0,U=null!==(o=null==D?void 0:D.height)&&void 0!==o?o:0,F="number"==typeof x?x:{top:0,right:0,bottom:0,left:0,...x},V=Array.isArray(C)?C:[C],B=V.length>0,z={padding:F,boundary:V.filter(eB),altBoundary:B},{refs:H,floatingStyles:q,placement:G,isPositioned:W,middlewareData:Z}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=i.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=i.useState(r);eu(p,r)||f(r);let[m,g]=i.useState(null),[v,y]=i.useState(null),b=i.useCallback(e=>{e!==x.current&&(x.current=e,g(e))},[]),w=i.useCallback(e=>{e!==k.current&&(k.current=e,y(e))},[]),_=s||m,C=a||v,x=i.useRef(null),k=i.useRef(null),S=i.useRef(d),E=null!=c,T=ep(c),P=ep(o),I=i.useCallback(()=>{if(!x.current||!k.current)return;let e={placement:t,strategy:n,middleware:p};P.current&&(e.platform=P.current),ea(x.current,k.current,e).then(e=>{let t={...e,isPositioned:!0};R.current&&!eu(S.current,t)&&(S.current=t,el.flushSync(()=>{h(t)}))})},[p,t,n,P]);ec(()=>{!1===u&&S.current.isPositioned&&(S.current.isPositioned=!1,h(e=>({...e,isPositioned:!1})))},[u]);let R=i.useRef(!1);ec(()=>(R.current=!0,()=>{R.current=!1}),[]),ec(()=>{if(_&&(x.current=_),C&&(k.current=C),_&&C){if(T.current)return T.current(_,C,I);I()}},[_,C,I,T,E]);let O=i.useMemo(()=>({reference:x,floating:k,setReference:b,setFloating:w}),[b,w]),A=i.useMemo(()=>({reference:_,floating:C}),[_,C]),N=i.useMemo(()=>{let e={position:n,left:0,top:0};if(!A.floating)return e;let t=eh(A.floating,d.x),r=eh(A.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...ed(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,l,A.floating,d.x,d.y]);return i.useMemo(()=>({...d,update:I,refs:O,elements:A,floatingStyles:N}),[d,I,O,A,N])}({strategy:"fixed",placement:g+("center"!==y?"-"+y:""),whileElementsMounted:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t,n,r){let i;void 0===r&&(r={});let{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:h=!1}=r,p=$(e),f=o||l?[...p?K(p):[],...K(t)]:[];f.forEach(e=>{o&&e.addEventListener("scroll",n,{passive:!0}),l&&e.addEventListener("resize",n)});let m=p&&d?function(e,t){let n,r=null,i=A(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return!function l(u,d){void 0===u&&(u=!1),void 0===d&&(d=1),o();let{left:h,top:p,width:f,height:m}=e.getBoundingClientRect();if(u||t(),!f||!m)return;let g=c(p),v=c(i.clientWidth-(h+f)),y={rootMargin:-g+"px "+-v+"px "+-c(i.clientHeight-(p+m))+"px "+-c(h)+"px",threshold:a(0,s(1,d))||1},b=!0;function w(e){let t=e[0].intersectionRatio;if(t!==d){if(!b)return l();t?l(!1,t):n=setTimeout(()=>{l(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(w,{...y,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(w,y)}r.observe(e)}(!0),o}(p,n):null,g=-1,v=null;u&&(v=new ResizeObserver(e=>{let[r]=e;r&&r.target===p&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var e;null==(e=v)||e.observe(t)})),n()}),p&&!h&&v.observe(p),v.observe(t));let y=h?X(e):null;return h&&function t(){let r=X(e);y&&(r.x!==y.x||r.y!==y.y||r.width!==y.width||r.height!==y.height)&&n(),y=r,i=requestAnimationFrame(t)}(),n(),()=>{var e;f.forEach(e=>{o&&e.removeEventListener("scroll",n),l&&e.removeEventListener("resize",n)}),null==m||m(),null==(e=v)||e.disconnect(),v=null,h&&cancelAnimationFrame(i)}}(...t,{animationFrame:"always"===E})},elements:{reference:I.anchor},middleware:[em({mainAxis:v+U,alignmentAxis:b}),_&&eg({mainAxis:!0,crossAxis:!1,limiter:"partial"===k?ev():void 0,...z}),_&&ey({...z}),eb({...z,apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:i}=e,{width:o,height:s}=n.reference,a=t.floating.style;a.setProperty("--radix-popper-available-width","".concat(r,"px")),a.setProperty("--radix-popper-available-height","".concat(i,"px")),a.setProperty("--radix-popper-anchor-width","".concat(o,"px")),a.setProperty("--radix-popper-anchor-height","".concat(s,"px"))}}),L&&e_({element:L,padding:w}),ez({arrowWidth:j,arrowHeight:U}),S&&ew({strategy:"referenceHidden",...z})]}),[J,Y]=eH(G),Q=(0,eE.W)(T);(0,eT.b)(()=>{W&&(null==Q||Q())},[W,Q]);let ee=null===(l=Z.arrow)||void 0===l?void 0:l.x,et=null===(u=Z.arrow)||void 0===u?void 0:u.y,en=(null===(d=Z.arrow)||void 0===d?void 0:d.centerOffset)!==0,[er,ei]=(0,i.useState)();return(0,eT.b)(()=>{R&&ei(window.getComputedStyle(R).zIndex)},[R]),(0,i.createElement)("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:W?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:er,"--radix-popper-transform-origin":[null===(h=Z.transformOrigin)||void 0===h?void 0:h.x,null===(p=Z.transformOrigin)||void 0===p?void 0:p.y].join(" ")},dir:e.dir},(0,i.createElement)(eD,{scope:m,placedSide:J,onArrowChange:M,arrowX:ee,arrowY:et,shouldHideArrow:en},(0,i.createElement)(eC.WV.div,(0,r.Z)({"data-side":J,"data-align":Y},P,{ref:N,style:{...P.style,animation:W?void 0:"none",opacity:null!==(f=Z.hide)&&void 0!==f&&f.referenceHidden?0:void 0}}))))}),eF={top:"bottom",right:"left",bottom:"top",left:"right"},eV=(0,i.forwardRef)(function(e,t){let{__scopePopper:n,...o}=e,s=ej("PopperArrow",n),a=eF[s.placedSide];return(0,i.createElement)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},(0,i.createElement)(ex,(0,r.Z)({},o,{ref:t,style:{...o.style,display:"block"}})))});function eB(e){return null!==e}let ez=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,s;let{placement:a,rects:l,middlewareData:c}=t,u=(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset)!==0,d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[p,f]=eH(a),m={start:"0%",center:"50%",end:"100%"}[f],g=(null!==(r=null===(i=c.arrow)||void 0===i?void 0:i.x)&&void 0!==r?r:0)+d/2,v=(null!==(o=null===(s=c.arrow)||void 0===s?void 0:s.y)&&void 0!==o?o:0)+h/2,y="",b="";return"bottom"===p?(y=u?m:"".concat(g,"px"),b="".concat(-h,"px")):"top"===p?(y=u?m:"".concat(g,"px"),b="".concat(l.floating.height+h,"px")):"right"===p?(y="".concat(-h,"px"),b=u?m:"".concat(v,"px")):"left"===p&&(y="".concat(l.floating.width+h,"px"),b=u?m:"".concat(v,"px")),{data:{x:y,y:b}}}});function eH(e){let[t,n="center"]=e.split("-");return[t,n]}let eq=e=>{let{__scopePopper:t,children:n}=e,[r,o]=(0,i.useState)(null);return(0,i.createElement)(eA,{scope:t,anchor:r,onAnchorChange:o},n)},eK=eL,eG=eU,eW=eV},62745:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(7896),i=n(2784),o=n(28316),s=n(81722);let a=(0,i.forwardRef)((e,t)=>{var n;let{container:a=null==globalThis?void 0:null===(n=globalThis.document)||void 0===n?void 0:n.body,...l}=e;return a?o.createPortal((0,i.createElement)(s.WV.div,(0,r.Z)({},l,{ref:t})),a):null})},1:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var r=n(2784),i=n(28316),o=n(46389),s=n(18137);let a=e=>{let{present:t,children:n}=e,a=function(e){var t,n;let[o,a]=(0,r.useState)(),c=(0,r.useRef)({}),u=(0,r.useRef)(e),d=(0,r.useRef)("none"),[h,p]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},(0,r.useReducer)((e,t)=>{let r=n[e][t];return null!=r?r:e},t));return(0,r.useEffect)(()=>{let e=l(c.current);d.current="mounted"===h?e:"none"},[h]),(0,s.b)(()=>{let t=c.current,n=u.current;if(n!==e){let r=d.current,i=l(t);e?p("MOUNT"):"none"===i||(null==t?void 0:t.display)==="none"?p("UNMOUNT"):n&&r!==i?p("ANIMATION_OUT"):p("UNMOUNT"),u.current=e}},[e,p]),(0,s.b)(()=>{if(o){let e=e=>{let t=l(c.current).includes(e.animationName);e.target===o&&t&&(0,i.flushSync)(()=>p("ANIMATION_END"))},t=e=>{e.target===o&&(d.current=l(c.current))};return o.addEventListener("animationstart",t),o.addEventListener("animationcancel",e),o.addEventListener("animationend",e),()=>{o.removeEventListener("animationstart",t),o.removeEventListener("animationcancel",e),o.removeEventListener("animationend",e)}}p("ANIMATION_END")},[o,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:(0,r.useCallback)(e=>{e&&(c.current=getComputedStyle(e)),a(e)},[])}}(t),c="function"==typeof n?n({present:a.isPresent}):r.Children.only(n),u=(0,o.e)(a.ref,c.ref);return"function"==typeof n||a.isPresent?(0,r.cloneElement)(c,{ref:u}):null};function l(e){return(null==e?void 0:e.animationName)||"none"}a.displayName="Presence"},81722:function(e,t,n){"use strict";n.d(t,{WV:function(){return a},jH:function(){return l}});var r=n(7896),i=n(2784),o=n(28316),s=n(57621);let a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=(0,i.forwardRef)((e,n)=>{let{asChild:o,...a}=e,l=o?s.g7:t;return(0,i.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,i.createElement)(l,(0,r.Z)({},a,{ref:n}))});return n.displayName="Primitive.".concat(t),{...e,[t]:n}},{});function l(e,t){e&&(0,o.flushSync)(()=>e.dispatchEvent(t))}},1775:function(e,t,n){"use strict";n.d(t,{Pc:function(){return _},ck:function(){return R},fC:function(){return I}});var r=n(7896),i=n(2784),o=n(3758),s=n(77864),a=n(46389),l=n(30017),c=n(87819),u=n(81722),d=n(53693),h=n(64147),p=n(14354);let f="rovingFocusGroup.onEntryFocus",m={bubbles:!1,cancelable:!0},g="RovingFocusGroup",[v,y,b]=(0,s.B)(g),[w,_]=(0,l.b)(g,[b]),[C,x]=w(g),k=(0,i.forwardRef)((e,t)=>(0,i.createElement)(v.Provider,{scope:e.__scopeRovingFocusGroup},(0,i.createElement)(v.Slot,{scope:e.__scopeRovingFocusGroup},(0,i.createElement)(S,(0,r.Z)({},e,{ref:t}))))),S=(0,i.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:s,loop:l=!1,dir:c,currentTabStopId:g,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:b,onEntryFocus:w,..._}=e,x=(0,i.useRef)(null),k=(0,a.e)(t,x),S=(0,p.gm)(c),[E=null,T]=(0,h.T)({prop:g,defaultProp:v,onChange:b}),[I,R]=(0,i.useState)(!1),O=(0,d.W)(w),A=y(n),N=(0,i.useRef)(!1),[L,M]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=x.current;if(e)return e.addEventListener(f,O),()=>e.removeEventListener(f,O)},[O]),(0,i.createElement)(C,{scope:n,orientation:s,dir:S,loop:l,currentTabStopId:E,onItemFocus:(0,i.useCallback)(e=>T(e),[T]),onItemShiftTab:(0,i.useCallback)(()=>R(!0),[]),onFocusableItemAdd:(0,i.useCallback)(()=>M(e=>e+1),[]),onFocusableItemRemove:(0,i.useCallback)(()=>M(e=>e-1),[])},(0,i.createElement)(u.WV.div,(0,r.Z)({tabIndex:I||0===L?-1:0,"data-orientation":s},_,{ref:k,style:{outline:"none",...e.style},onMouseDown:(0,o.M)(e.onMouseDown,()=>{N.current=!0}),onFocus:(0,o.M)(e.onFocus,e=>{let t=!N.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(f,m);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);P([e.find(e=>e.active),e.find(e=>e.id===E),...e].filter(Boolean).map(e=>e.ref.current))}}N.current=!1}),onBlur:(0,o.M)(e.onBlur,()=>R(!1))})))}),E=(0,i.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:l,...d}=e,h=(0,c.M)(),p=l||h,f=x("RovingFocusGroupItem",n),m=f.currentTabStopId===p,g=y(n),{onFocusableItemAdd:b,onFocusableItemRemove:w}=f;return(0,i.useEffect)(()=>{if(s)return b(),()=>w()},[s,b,w]),(0,i.createElement)(v.ItemSlot,{scope:n,id:p,focusable:s,active:a},(0,i.createElement)(u.WV.span,(0,r.Z)({tabIndex:m?0:-1,"data-orientation":f.orientation},d,{ref:t,onMouseDown:(0,o.M)(e.onMouseDown,e=>{s?f.onItemFocus(p):e.preventDefault()}),onFocus:(0,o.M)(e.onFocus,()=>f.onItemFocus(p)),onKeyDown:(0,o.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){f.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,n){var r;let i=(r=e.key,"rtl"!==n?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return T[i]}(e,f.orientation,f.dir);if(void 0!==t){e.preventDefault();let i=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)i.reverse();else if("prev"===t||"next"===t){var n,r;"prev"===t&&i.reverse();let o=i.indexOf(e.currentTarget);i=f.loop?(n=i,r=o+1,n.map((e,t)=>n[(r+t)%n.length])):i.slice(o+1)}setTimeout(()=>P(i))}})})))}),T={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}let I=k,R=E},57621:function(e,t,n){"use strict";n.d(t,{A4:function(){return l},g7:function(){return s}});var r=n(7896),i=n(2784),o=n(46389);let s=(0,i.forwardRef)((e,t)=>{let{children:n,...o}=e,s=i.Children.toArray(n),l=s.find(c);if(l){let e=l.props.children,n=s.map(t=>t!==l?t:i.Children.count(e)>1?i.Children.only(null):(0,i.isValidElement)(e)?e.props.children:null);return(0,i.createElement)(a,(0,r.Z)({},o,{ref:t}),(0,i.isValidElement)(e)?(0,i.cloneElement)(e,void 0,n):null)}return(0,i.createElement)(a,(0,r.Z)({},o,{ref:t}),n)});s.displayName="Slot";let a=(0,i.forwardRef)((e,t)=>{let{children:n,...r}=e;return(0,i.isValidElement)(n)?(0,i.cloneElement)(n,{...function(e,t){let n={...t};for(let r in t){let i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o(...t),i(...t)}:i&&(n[r]=i):"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props),ref:t?(0,o.F)(t,n.ref):n.ref}):i.Children.count(n)>1?i.Children.only(null):null});a.displayName="SlotClone";let l=e=>{let{children:t}=e;return(0,i.createElement)(i.Fragment,null,t)};function c(e){return(0,i.isValidElement)(e)&&e.type===l}},53693:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(2784);function i(e){let t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e}),(0,r.useMemo)(()=>function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call(t,...r)},[])}},64147:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(2784),i=n(53693);function o(e){let{prop:t,defaultProp:n,onChange:o=()=>{}}=e,[s,a]=function(e){let{defaultProp:t,onChange:n}=e,o=(0,r.useState)(t),[s]=o,a=(0,r.useRef)(s),l=(0,i.W)(n);return(0,r.useEffect)(()=>{a.current!==s&&(l(s),a.current=s)},[s,a,l]),o}({defaultProp:n,onChange:o}),l=void 0!==t,c=l?t:s,u=(0,i.W)(o);return[c,(0,r.useCallback)(e=>{if(l){let n="function"==typeof e?e(t):e;n!==t&&u(n)}else a(e)},[l,t,a,u])]}},18137:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(2784);let i=(null==globalThis?void 0:globalThis.document)?r.useLayoutEffect:()=>{}},32578:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(2784);function i(e){let t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},56958:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(2784),i=n(18137);function o(e){let[t,n]=(0,r.useState)(void 0);return(0,i.b)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,i;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;n({width:r,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}},34006:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var r=n(7896),i=n(2784),o=n(81722);let s=(0,i.forwardRef)((e,t)=>(0,i.createElement)(o.WV.span,(0,r.Z)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})))},44457:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(2784),i=n(78914),o=n(66514);let s=e=>{let{children:t,options:n,state:s}=e;return!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.NL)({context:t.context}),s=r.useRef(t);s.current=t,r.useMemo(()=>{e&&(0,i.ZB)(n,e,s.current)},[n,e])}(s,n),t}},66514:function(e,t,n){"use strict";n.d(t,{NL:function(){return a},aH:function(){return l}});var r=n(2784);let i=r.createContext(void 0),o=r.createContext(!1);function s(e,t){return e||(t?(window.ReactQueryClientContext||(window.ReactQueryClientContext=i),window.ReactQueryClientContext):i)}let a=function(){let{context:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useContext(s(e,r.useContext(o)));if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},l=e=>{let{client:t,children:n,context:i,contextSharing:a=!1}=e;r.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);let l=s(i,a);return r.createElement(o.Provider,{value:!i&&a},r.createElement(l.Provider,{value:t},n))}},80605:function(e,t,n){"use strict";let r;n.d(t,{_:function(){return s}});var i=n(2784);let o=i.createContext((r=!1,{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r})),s=()=>i.useContext(o)},98147:function(e,t,n){"use strict";n.d(t,{JN:function(){return s},KJ:function(){return a},pf:function(){return o}});var r=n(2784),i=n(34879);let o=(e,t)=>{(e.suspense||e.useErrorBoundary)&&!t.isReset()&&(e.retryOnMount=!1)},s=e=>{r.useEffect(()=>{e.clearReset()},[e])},a=e=>{let{result:t,errorResetBoundary:n,useErrorBoundary:r,query:o}=e;return t.isError&&!n.isReset()&&!t.isFetching&&(0,i.L)(r,[t.error,o])}},15971:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(2784);let i=r.createContext(!1),o=()=>r.useContext(i);i.Provider},726:function(e,t,n){"use strict";n.d(t,{Fb:function(){return r},SB:function(){return o},Z$:function(){return i},j8:function(){return s}});let r=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},i=(e,t)=>e.isLoading&&e.isFetching&&!t,o=(e,t,n)=>(null==e?void 0:e.suspense)&&i(t,n),s=(e,t,n)=>t.fetchOptimistic(e).then(t=>{let{data:n}=t;null==e.onSuccess||e.onSuccess(n),null==e.onSettled||e.onSettled(n,null)}).catch(t=>{n.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)})},34197:function(e,t,n){"use strict";n.d(t,{r:function(){return d}});var r=n(2784),i=n(3709),o=n(85648),s=n(80605),a=n(66514),l=n(15971),c=n(98147),u=n(726);function d(e,t){let n=(0,a.NL)({context:e.context}),d=(0,l.S)(),h=(0,s._)(),p=n.defaultQueryOptions(e);p._optimisticResults=d?"isRestoring":"optimistic",p.onError&&(p.onError=i.V.batchCalls(p.onError)),p.onSuccess&&(p.onSuccess=i.V.batchCalls(p.onSuccess)),p.onSettled&&(p.onSettled=i.V.batchCalls(p.onSettled)),(0,u.Fb)(p),(0,c.pf)(p,h),(0,c.JN)(h);let[f]=r.useState(()=>new t(n,p)),m=f.getOptimisticResult(p);if((0,o.$)(r.useCallback(e=>{let t=d?()=>void 0:f.subscribe(i.V.batchCalls(e));return f.updateResult(),t},[f,d]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),r.useEffect(()=>{f.setOptions(p,{listeners:!1})},[p,f]),(0,u.SB)(p,m,d))throw(0,u.j8)(p,f,h);if((0,c.KJ)({result:m,errorResetBoundary:h,useErrorBoundary:p.useErrorBoundary,query:f.getCurrentQuery()}))throw m.error;return p.notifyOnChangeProps?m:f.trackResult(m)}},34121:function(e,t,n){"use strict";n.d(t,{N:function(){return l}});var r=n(36370),i=n(91578),o=n(54388);class s extends i.z{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,o.Gm)()},t)}getOptimisticResult(e){return e.behavior=(0,o.Gm)(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var n,r,i,s,a,l;let{state:c}=e,u=super.createResult(e,t),{isFetching:d,isRefetching:h}=u,p=d&&(null==(n=c.fetchMeta)?void 0:null==(r=n.fetchMore)?void 0:r.direction)==="forward",f=d&&(null==(i=c.fetchMeta)?void 0:null==(s=i.fetchMore)?void 0:s.direction)==="backward";return{...u,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,o.Qy)(t,null==(a=c.data)?void 0:a.pages),hasPreviousPage:(0,o.ZF)(t,null==(l=c.data)?void 0:l.pages),isFetchingNextPage:p,isFetchingPreviousPage:f,isRefetching:h&&!p&&!f}}}var a=n(34197);function l(e,t,n){let i=(0,r._v)(e,t,n);return(0,a.r)(i,s)}},75919:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(2784),i=n(36370),o=n(96278),s=n(3709),a=n(22436);class l extends a.l{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;let n=this.options;this.options=this.client.defaultMutationOptions(e),(0,i.VS)(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.currentMutation)||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();let t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let e=this.currentMutation?this.currentMutation.state:(0,o.R)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){s.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var t,n,r,i,o,s,a,l;e.onSuccess?(null==(t=(n=this.mutateOptions).onSuccess)||t.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(r=(i=this.mutateOptions).onSettled)||r.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&(null==(o=(s=this.mutateOptions).onError)||o.call(s,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(l=this.mutateOptions).onSettled)||a.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)})})}}var c=n(85648),u=n(66514),d=n(34879);function h(e,t,n){let o=(0,i.lV)(e,t,n),a=(0,u.NL)({context:o.context}),[h]=r.useState(()=>new l(a,o));r.useEffect(()=>{h.setOptions(o)},[h,o]);let f=(0,c.$)(r.useCallback(e=>h.subscribe(s.V.batchCalls(e)),[h]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),m=r.useCallback((e,t)=>{h.mutate(e,t).catch(p)},[h]);if(f.error&&(0,d.L)(h.options.useErrorBoundary,[f.error]))throw f.error;return{...f,mutate:m,mutateAsync:f.mutate}}function p(){}},85108:function(e,t,n){"use strict";n.d(t,{a:function(){return s}});var r=n(36370),i=n(91578),o=n(34197);function s(e,t,n){let s=(0,r._v)(e,t,n);return(0,o.r)(s,i.z)}},85648:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});let r=n(43100).useSyncExternalStore},34879:function(e,t,n){"use strict";function r(e,t){return"function"==typeof e?e(...t):!!e}n.d(t,{L:function(){return r}})},50799:function(e,t,n){"use strict";function r(e){return t=>{let n=(e?Math[e]:Math.trunc)(t);return 0===n?0:n}}n.d(t,{u:function(){return r}})},63075:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(60298);function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let o=r.L.bind(null,e||n.find(e=>"object"==typeof e));return n.map(o)}},63519:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var r=n(60298),i=n(24817);function o(e,t,n){let o=(0,i.Q)(e,null==n?void 0:n.in);return isNaN(t)?(0,r.L)((null==n?void 0:n.in)||e,NaN):(t&&o.setDate(o.getDate()+t),o)}},58033:function(e,t,n){"use strict";n.d(t,{H_:function(){return l},I7:function(){return c},dP:function(){return i},fH:function(){return a},jE:function(){return r},vh:function(){return s},yJ:function(){return o}});let r=6048e5,i=864e5,o=6e4,s=36e5,a=43200,l=1440,c=Symbol.for("constructDateFrom")},60298:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(58033);function i(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&r.I7 in e?e[r.I7](t):e instanceof Date?new e.constructor(t):new Date(t)}},79443:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(50799),i=n(63075),o=n(58033);function s(e,t,n){let[s,a]=(0,i.d)(null==n?void 0:n.in,e,t),l=(+s-+a)/o.vh;return(0,r.u)(null==n?void 0:n.roundingMethod)(l)}},24817:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(60298);function i(e,t){return(0,r.L)(t||e,e)}},59218:function(e,t,n){"use strict";let r;n.d(t,{a3:function(){return A},cC:function(){return I},$G:function(){return O}});var i=n(2784),o=n(7896),s=n(64896),a=n.n(s),l=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function c(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(a()[n[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:-1!==r?e.slice(4,r):""}}for(var i=new RegExp(l),o=null;null!==(o=i.exec(e));)if(o[0].trim()){if(o[1]){var s=o[1].trim(),c=[s,""];s.indexOf("=")>-1&&(c=s.split("=")),t.attrs[c[0]]=c[1],i.lastIndex--}else o[2]&&(t.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1))}return t}var u=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,d=/^\s*$/,h=Object.create(null),p={parse:function(e,t){t||(t={}),t.components||(t.components=h);var n,r=[],i=[],o=-1,s=!1;if(0!==e.indexOf("<")){var a=e.indexOf("<");r.push({type:"text",content:-1===a?e:e.substring(0,a)})}return e.replace(u,function(a,l){if(s){if(a!=="</"+n.name+">")return;s=!1}var u,h="/"!==a.charAt(1),p=a.startsWith("<!--"),f=l+a.length,m=e.charAt(f);if(p){var g=c(a);return o<0?r.push(g):(u=i[o]).children.push(g),r}if(h&&(o++,"tag"===(n=c(a)).type&&t.components[n.name]&&(n.type="component",s=!0),n.voidElement||s||!m||"<"===m||n.children.push({type:"text",content:e.slice(f,e.indexOf("<",f))}),0===o&&r.push(n),(u=i[o-1])&&u.children.push(n),i[o]=n),(!h||n.voidElement)&&(o>-1&&(n.voidElement||n.name===a.slice(2,-1))&&(n=-1==--o?r:i[o]),!s&&"<"!==m&&m)){u=-1===o?r:i[o].children;var v=e.indexOf("<",f),y=e.slice(f,-1===v?void 0:v);d.test(y)&&(y=" "),(v>-1&&o+u.length>=0||" "!==y)&&u.push({type:"text",content:y})}}),r}};function f(){if(console&&console.warn){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]="react-i18next:: ".concat(t[0]))}}let m={};function g(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&m[t[0]]||("string"==typeof t[0]&&(m[t[0]]=new Date),f(...t))}let v=(e,t)=>()=>{if(e.isInitialized)t();else{let n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function y(e,t,n){e.loadNamespaces(t,v(e,n))}function b(e,t,n,r){"string"==typeof n&&(n=[n]),n.forEach(t=>{0>e.options.ns.indexOf(t)&&e.options.ns.push(t)}),e.loadLanguages(t,v(e,r))}let w=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},C=e=>_[e],x={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(w,C)};function k(e,t){if(!e)return!1;let n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function S(e){if(!e)return[];let t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?E(t):t}function E(e){return Array.isArray(e)?e:[e]}let T=(0,i.createContext)();class P{addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}constructor(){this.usedNamespaces={}}}function I(e){let{children:t,count:n,parent:s,i18nKey:a,context:l,tOptions:c={},values:u,defaults:d,components:h,ns:m,i18n:v,t:y,shouldUnescape:b,...w}=e,{i18n:_,defaultNS:C}=(0,i.useContext)(T)||{},P=v||_||r,I=y||P&&P.t.bind(P);return function(e){let{children:t,count:n,parent:s,i18nKey:a,context:l,tOptions:c={},values:u,defaults:d,components:h,ns:m,i18n:v,t:y,shouldUnescape:b,...w}=e,_=v||r;if(!_)return g("You will need to pass in an i18next instance by using i18nextReactModule"),t;let C=y||_.t.bind(_)||(e=>e);l&&(c.context=l);let T={...x,..._.options&&_.options.react},P=m||C.ns||_.options&&_.options.defaultNS;P="string"==typeof P?[P]:P||["translation"];let I=function e(t,n){if(!t)return"";let r="",o=E(t),s=n.transSupportBasicHtmlNodes&&n.transKeepBasicHtmlNodesFor?n.transKeepBasicHtmlNodesFor:[];return o.forEach((t,o)=>{if("string"==typeof t)r+="".concat(t);else if((0,i.isValidElement)(t)){let i=Object.keys(t.props).length,a=s.indexOf(t.type)>-1,l=t.props.children;if(!l&&a&&0===i)r+="<".concat(t.type,"/>");else if(l||a&&0===i){if(t.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(a&&1===i&&"string"==typeof l)r+="<".concat(t.type,">").concat(l,"</").concat(t.type,">");else{let t=e(l,n);r+="<".concat(o,">").concat(t,"</").concat(o,">")}}else r+="<".concat(o,"></").concat(o,">")}else if(null===t)f("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"==typeof t){let{format:e,...n}=t,i=Object.keys(n);if(1===i.length){let t=e?"".concat(i[0],", ").concat(e):i[0];r+="{{".concat(t,"}}")}else f("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",t)}else f("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",t)}),r}(t,T),R=d||I||T.transEmptyNodeValue||a,{hashTransKey:O}=T,A=a||(O?O(I||R):I||R);_.options&&_.options.interpolation&&_.options.interpolation.defaultVariables&&(u=u&&Object.keys(u).length>0?{...u,..._.options.interpolation.defaultVariables}:{..._.options.interpolation.defaultVariables});let N=u?c.interpolation:{interpolation:{...c.interpolation,prefix:"#$?",suffix:"?$#"}},L={...c,count:n,...u,...N,defaultValue:R,ns:P},M=A?C(A,L):R;h&&Object.keys(h).forEach(e=>{let t=h[e];"function"==typeof t.type||!t.props||!t.props.children||0>M.indexOf("".concat(e,"/>"))&&0>M.indexOf("".concat(e," />"))||(h[e]=i.createElement(function(){return i.createElement(i.Fragment,null,t)},null))});let D=function(e,t,n,r,s,a){if(""===t)return[];let l=r.transKeepBasicHtmlNodesFor||[],c=t&&new RegExp(l.map(e=>"<".concat(e)).join("|")).test(t);if(!e&&!c&&!a)return[t];let u={};!function e(t){E(t).forEach(t=>{"string"==typeof t||(k(t)?e(S(t)):"object"!=typeof t||(0,i.isValidElement)(t)||Object.assign(u,t))})}(e);let d=p.parse("<0>".concat(t,"</0>")),h={...u,...s};function f(e,t,n){let r=S(e),o=g(r,t.children,n);return"[object Array]"===Object.prototype.toString.call(r)&&r.every(e=>(0,i.isValidElement)(e))&&0===o.length||e.props&&e.props.i18nIsDynamicList?r:o}function m(e,t,n,r,s){e.dummy?(e.children=t,n.push((0,i.cloneElement)(e,{key:r},s?void 0:t))):n.push(...i.Children.map([e],e=>{let n={...e.props};return delete n.i18nIsDynamicList,i.createElement(e.type,(0,o.Z)({},n,{key:r,ref:e.ref},s?{}:{children:t}))}))}function g(t,o,s){let u=E(t);return E(o).reduce((t,o,d)=>{let p=o.children&&o.children[0]&&o.children[0].content&&n.services.interpolator.interpolate(o.children[0].content,h,n.language);if("tag"===o.type){let a=u[parseInt(o.name,10)];1!==s.length||a||(a=s[0][o.name]),a||(a={});let v=0!==Object.keys(o.attrs).length?function(e,t){let n={...t};return n.props=Object.assign(e.props,t.props),n}({props:o.attrs},a):a,y=(0,i.isValidElement)(v),b=y&&k(o,!0)&&!o.voidElement,w=c&&"object"==typeof v&&v.dummy&&!y,_="object"==typeof e&&null!==e&&Object.hasOwnProperty.call(e,o.name);if("string"==typeof v){let e=n.services.interpolator.interpolate(v,h,n.language);t.push(e)}else if(k(v)||b){let e=f(v,o,s);m(v,e,t,d)}else if(w)m(v,g(u,o.children,s),t,d);else if(Number.isNaN(parseFloat(o.name))){if(_){let e=f(v,o,s);m(v,e,t,d,o.voidElement)}else if(r.transSupportBasicHtmlNodes&&l.indexOf(o.name)>-1){if(o.voidElement)t.push((0,i.createElement)(o.name,{key:"".concat(o.name,"-").concat(d)}));else{let e=g(u,o.children,s);t.push((0,i.createElement)(o.name,{key:"".concat(o.name,"-").concat(d)},e))}}else if(o.voidElement)t.push("<".concat(o.name," />"));else{let e=g(u,o.children,s);t.push("<".concat(o.name,">").concat(e,"</").concat(o.name,">"))}}else if("object"!=typeof v||y)m(v,p,t,d,1!==o.children.length||!p);else{let e=o.children[0]?p:null;e&&t.push(e)}}else if("text"===o.type){let e=r.transWrapTextNodes,s=a?r.unescape(n.services.interpolator.interpolate(o.content,h,n.language)):n.services.interpolator.interpolate(o.content,h,n.language);e?t.push((0,i.createElement)(e,{key:"".concat(o.name,"-").concat(d)},s)):t.push(s)}return t},[])}return S(g([{dummy:!0,children:e||[]}],d,E(e||[]))[0])}(h||t,M,_,T,L,b),j=void 0!==s?s:T.defaultTransParent;return j?(0,i.createElement)(j,w,D):D}({children:t,count:n,parent:s,i18nKey:a,context:l,tOptions:c,values:u,defaults:d,components:h,ns:m||I&&I.ns||C||P&&P.options&&P.options.defaultNS,i18n:P,t:y,shouldUnescape:b,...w})}let R=(e,t)=>{let n=(0,i.useRef)();return(0,i.useEffect)(()=>{n.current=t?n.current:e},[e,t]),n.current};function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{i18n:n}=t,{i18n:o,defaultNS:s}=(0,i.useContext)(T)||{},a=n||o||r;if(a&&!a.reportNamespaces&&(a.reportNamespaces=new P),!a){g("You will need to pass in an i18next instance by using initReactI18next");let e=(e,t)=>"string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}a.options.react&&void 0!==a.options.react.wait&&g("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let l={...x,...a.options.react,...t},{useSuspense:c,keyPrefix:u}=l,d=e||s||a.options&&a.options.defaultNS;d="string"==typeof d?[d]:d||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(d);let h=(a.isInitialized||a.initializedStoreOnce)&&d.every(e=>(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;let s=(e,n)=>{let r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return -1===r||2===r};return(!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1)||!t.services.backendConnector.backend||!t.isLanguageChangingTo||!!s(t.isLanguageChangingTo,e))&&!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}(e,t,n):(g("i18n.languages were undefined or empty",t.languages),!0)})(e,a,l));function p(){return a.getFixedT(t.lng||null,"fallback"===l.nsMode?d:d[0],u)}let[f,m]=(0,i.useState)(p),v=d.join();t.lng&&(v="".concat(t.lng).concat(v));let w=R(v),_=(0,i.useRef)(!0);(0,i.useEffect)(()=>{let{bindI18n:e,bindI18nStore:n}=l;function r(){_.current&&m(p)}return _.current=!0,h||c||(t.lng?b(a,t.lng,d,()=>{_.current&&m(p)}):y(a,d,()=>{_.current&&m(p)})),h&&w&&w!==v&&_.current&&m(p),e&&a&&a.on(e,r),n&&a&&a.store.on(n,r),()=>{_.current=!1,e&&a&&e.split(" ").forEach(e=>a.off(e,r)),n&&a&&n.split(" ").forEach(e=>a.store.off(e,r))}},[a,v]);let C=(0,i.useRef)(!0);(0,i.useEffect)(()=>{_.current&&!C.current&&m(p),C.current=!1},[a,u]);let k=[f,a,h];if(k.t=f,k.i18n=a,k.ready=h,h||!h&&!c)return k;throw new Promise(e=>{t.lng?b(a,t.lng,d,()=>e()):y(a,d,()=>e())})}function A(e){let{i18n:t,defaultNS:n,children:r}=e,o=(0,i.useMemo)(()=>({i18n:t,defaultNS:n}),[t,n]);return(0,i.createElement)(T.Provider,{value:o},r)}},37940:function(e,t,n){"use strict";n.d(t,{KpZ:function(){return i},Vs6:function(){return s},bUO:function(){return c},evw:function(){return l},k1O:function(){return o},sky:function(){return a}});var r=n(3617);function i(e){return(0,r.w_)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.545 2.907a13.2 13.2 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.2 12.2 0 0 0-3.658 0 8 8 0 0 0-.412-.833.05.05 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.04.04 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032q.003.022.021.037a13.3 13.3 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019q.463-.63.818-1.329a.05.05 0 0 0-.01-.059l-.018-.011a9 9 0 0 1-1.248-.595.05.05 0 0 1-.02-.066l.015-.019q.127-.095.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.05.05 0 0 1 .053.007q.121.1.248.195a.05.05 0 0 1-.004.085 8 8 0 0 1-1.249.594.05.05 0 0 0-.03.03.05.05 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.2 13.2 0 0 0 4.001-2.02.05.05 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.03.03 0 0 0-.02-.019m-8.198 7.307c-.789 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612"},child:[]}]})(e)}function o(e){return(0,r.w_)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"},child:[]}]})(e)}function s(e){return(0,r.w_)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"},child:[]}]})(e)}function a(e){return(0,r.w_)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.167 8a.83.83 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661m1.843 3.647c.315 0 1.403-.038 1.976-.611a.23.23 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83s.83-.381.83-.83a.831.831 0 0 0-1.66 0z"},child:[]},{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.2.2 0 0 0-.153.028.2.2 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224q-.03.17-.029.353c0 1.795 2.091 3.256 4.669 3.256s4.668-1.451 4.668-3.256c0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165"},child:[]}]})(e)}function l(e){return(0,r.w_)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"},child:[]}]})(e)}function c(e){return(0,r.w_)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2zM6.4 5.209v4.818l4.157-2.408z"},child:[]}]})(e)}},76330:function(e,t,n){"use strict";n.d(t,{DNl:function(){return f},G7_:function(){return c},Wfz:function(){return o},_TT:function(){return p},ceS:function(){return l},eL2:function(){return u},gjK:function(){return d},jJN:function(){return g},kUi:function(){return h},nTm:function(){return s},oPZ:function(){return i},tvD:function(){return a},wEH:function(){return m}});var r=n(3617);function i(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(e)}function o(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M325.3 234.3L104.6 13l280.8 161.2-60.1 60.1zM47 0C34 6.8 25.3 19.2 25.3 35.3v441.3c0 16.1 8.7 28.5 21.7 35.3l256.6-256L47 0zm425.2 225.6l-58.9-34.1-65.7 64.5 65.7 64.5 60.1-34.1c18-14.3 18-46.5-1.2-60.8zM104.6 499l280.8-161.2-60.1-60.1L104.6 499z"},child:[]}]})(e)}function s(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(e)}function a(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function l(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function c(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M575.81 217.98C572.64 157.41 518.28 112 457.63 112h-9.37c-52.82 0-104.25-16.25-147.74-46.24-41.99-28.96-96.04-41.62-153.21-28.7C129.3 41.12-.08 78.24 0 224c.04 70.95 38.68 132.8 95.99 166.01V464c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-54.26c15.36 3.96 31.4 6.26 48 6.26 5.44 0 10.68-.73 16-1.18V464c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-59.43c14.24-5.06 27.88-11.39 40.34-19.51C342.07 355.25 393.86 336 448.46 336c25.48 0 16.01-.31 23.05-.78l74.41 136.44c2.86 5.23 8.3 8.34 14.05 8.34 1.31 0 2.64-.16 3.95-.5 7.09-1.8 12.05-8.19 12.05-15.5 0 0 .14-240.24-.16-246.02zM463.97 248c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24zm80 153.25l-39.86-73.08c15.12-5.83 28.73-14.6 39.86-25.98v99.06z"},child:[]}]})(e)}function u(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm173.696 119.559l-63.399 63.399c-10.987-18.559-26.67-34.252-45.255-45.255l63.399-63.399a218.396 218.396 0 0 1 45.255 45.255zM256 352c-53.019 0-96-42.981-96-96s42.981-96 96-96 96 42.981 96 96-42.981 96-96 96zM127.559 82.304l63.399 63.399c-18.559 10.987-34.252 26.67-45.255 45.255l-63.399-63.399a218.372 218.372 0 0 1 45.255-45.255zM82.304 384.441l63.399-63.399c10.987 18.559 26.67 34.252 45.255 45.255l-63.399 63.399a218.396 218.396 0 0 1-45.255-45.255zm302.137 45.255l-63.399-63.399c18.559-10.987 34.252-26.67 45.255-45.255l63.399 63.399a218.403 218.403 0 0 1-45.255 45.255z"},child:[]}]})(e)}function d(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function h(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function p(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"},child:[]}]})(e)}function f(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(e)}function m(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function g(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(e)}},63881:function(e,t,n){"use strict";n.d(t,{A8q:function(){return f},AlO:function(){return d},BJv:function(){return o},IC0:function(){return p},N6x:function(){return c},Nte:function(){return u},Siq:function(){return s},bcx:function(){return i},i1c:function(){return l},nlg:function(){return a},rzC:function(){return h}});var r=n(3617);function i(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function o(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function s(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"5",r:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"8"},child:[]},{tag:"path",attr:{d:"M5 12H2a10 10 0 0 0 20 0h-3"},child:[]}]})(e)}function a(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"},child:[]},{tag:"polyline",attr:{points:"7 6 12 11 17 6"},child:[]}]})(e)}function l(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 11 12 6 7 11"},child:[]},{tag:"polyline",attr:{points:"17 18 12 13 7 18"},child:[]}]})(e)}function c(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function u(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function d(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function h(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function p(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function f(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"},child:[]},{tag:"polyline",attr:{points:"16 6 12 2 8 6"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"15"},child:[]}]})(e)}},51813:function(e,t,n){"use strict";n.d(t,{Ig3:function(){return i}});var r=n(3617);function i(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.25 15.5a.75.75 0 0 1-.75-.75V7.56L7.28 17.78a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L16.44 6.5H9.25a.75.75 0 0 1 0-1.5h9a.75.75 0 0 1 .75.75v9a.75.75 0 0 1-.75.75Z"},child:[]}]})(e)}},3617:function(e,t,n){"use strict";n.d(t,{w_:function(){return u}});var r=n(2784),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=r.createContext&&r.createContext(i),s=["attr","size","title"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){return t=>r.createElement(d,a({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,n)=>r.createElement(t.tag,c({key:n},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var n,{attr:i,size:o,title:l}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,s),d=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:n,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==o?r.createElement(o.Consumer,null,e=>t(e)):t(i)}},85256:function(e,t,n){"use strict";n.d(t,{Vyx:function(){return s},_HA:function(){return o},sdR:function(){return i}});var r=n(3617);function i(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"},child:[]}]})(e)}function o(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.9 21.9-8.49-8.49-9.82-9.82L2.1 2.1.69 3.51 3 5.83V19c0 1.1.9 2 2 2h13.17l2.31 2.31 1.42-1.41zM5 18l3.5-4.5 2.5 3.01L12.17 15l3 3H5zm16 .17L5.83 3H19c1.1 0 2 .9 2 2v13.17z"},child:[]}]})(e)}function s(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(e)}},67696:function(e,t,n){"use strict";function r(e,t,n){if(!t.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}n.d(t,{J:function(){return r}})},27677:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(67696);function i(e,t){var n=(0,r.J)(e,t,"get");return n.get?n.get.call(e):n.value}},57868:function(e,t,n){"use strict";function r(e,t,n){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}n.d(t,{_:function(){return r}})},95391:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(67696);function i(e,t,n){var i=(0,r.J)(e,t,"set");return!function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=n}}(e,i,n),n}},13959:function(e,t,n){"use strict";n.d(t,{y:function(){return i}});var r=n(2784);function i(){let e=new Set;function t(t){e.add(t)}function n(t){e.delete(t)}return{fire:t=>Array.from(e).map(e=>e(t)),useListen:function(e,i){(0,r.useEffect)(()=>(t(e),()=>n(e)),i)},listen:t,unlisten:n}}},63955:function(e,t,n){"use strict";n.d(t,{Gc:function(){return x},KN:function(){return j},Qr:function(){return D},RV:function(){return k},U2:function(){return v},cI:function(){return e_},t8:function(){return M}});var r=n(2784),i=e=>"checkbox"===e.type,o=e=>e instanceof Date,s=e=>null==e;let a=e=>"object"==typeof e;var l=e=>!s(e)&&!Array.isArray(e)&&a(e)&&!o(e),c=e=>l(e)&&e.target?i(e.target)?e.target.checked:e.target.value:e,u=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,d=(e,t)=>e.has(u(t)),h=e=>{let t=e.constructor&&e.constructor.prototype;return l(t)&&t.hasOwnProperty("isPrototypeOf")},p="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function f(e){let t;let n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(!(p&&(e instanceof Blob||e instanceof FileList))&&(n||l(e))))return e;else if(t=n?[]:{},n||h(e))for(let n in e)e.hasOwnProperty(n)&&(t[n]=f(e[n]));else t=e;return t}var m=e=>Array.isArray(e)?e.filter(Boolean):[],g=e=>void 0===e,v=(e,t,n)=>{if(!t||!l(e))return n;let r=m(t.split(/[,[\].]+?/)).reduce((e,t)=>s(e)?e:e[t],e);return g(r)||r===e?g(e[t])?n:e[t]:r},y=e=>"boolean"==typeof e;let b={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},w={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},C=r.createContext(null),x=()=>r.useContext(C),k=e=>{let{children:t,...n}=e;return r.createElement(C.Provider,{value:n},t)};var S=(e,t,n,r=!0)=>{let i={defaultValues:t._defaultValues};for(let o in e)Object.defineProperty(i,o,{get:()=>(t._proxyFormState[o]!==w.all&&(t._proxyFormState[o]=!r||w.all),n&&(n[o]=!0),e[o])});return i},E=e=>l(e)&&!Object.keys(e).length,T=(e,t,n,r)=>{n(e);let{name:i,...o}=e;return E(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(e=>t[e]===(!r||w.all))},P=e=>Array.isArray(e)?e:[e],I=(e,t,n)=>!e||!t||e===t||P(e).some(e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e)));function R(e){let t=r.useRef(e);t.current=e,r.useEffect(()=>{let n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var O=e=>"string"==typeof e,A=(e,t,n,r,i)=>O(e)?(r&&t.watch.add(e),v(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),v(n,e))):(r&&(t.watchAll=!0),n),N=e=>/^\w*$/.test(e),L=e=>m(e.replace(/["|']|\]/g,"").split(/\.|\[/)),M=(e,t,n)=>{let r=-1,i=N(t)?[t]:L(t),o=i.length,s=o-1;for(;++r<o;){let t=i[r],o=n;if(r!==s){let n=e[t];o=l(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}e[t]=o,e=e[t]}return e};let D=e=>e.render(function(e){let t=x(),{name:n,disabled:i,control:o=t.control,shouldUnregister:s}=e,a=d(o._names.array,n),l=function(e){let t=x(),{control:n=t.control,name:i,defaultValue:o,disabled:s,exact:a}=e||{},l=r.useRef(i);l.current=i,R({disabled:s,subject:n._subjects.values,next:e=>{I(l.current,e.name,a)&&u(f(A(l.current,n._names,e.values||n._formValues,!1,o)))}});let[c,u]=r.useState(n._getWatch(i,o));return r.useEffect(()=>n._removeUnmounted()),c}({control:o,name:n,defaultValue:v(o._formValues,n,v(o._defaultValues,n,e.defaultValue)),exact:!0}),u=function(e){let t=x(),{control:n=t.control,disabled:i,name:o,exact:s}=e||{},[a,l]=r.useState(n._formState),c=r.useRef(!0),u=r.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=r.useRef(o);return d.current=o,R({disabled:i,next:e=>c.current&&I(d.current,e.name,s)&&T(e,u.current,n._updateFormState)&&l({...n._formState,...e}),subject:n._subjects.state}),r.useEffect(()=>(c.current=!0,u.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),S(a,n,u.current,!1)}({control:o,name:n}),h=r.useRef(o.register(n,{...e.rules,value:l,...y(e.disabled)?{disabled:e.disabled}:{}}));return r.useEffect(()=>{let e=o._options.shouldUnregister||s,t=(e,t)=>{let n=v(o._fields,e);n&&(n._f.mount=t)};if(t(n,!0),e){let e=f(v(o._options.defaultValues,n));M(o._defaultValues,n,e),g(v(o._formValues,n))&&M(o._formValues,n,e)}return()=>{(a?e&&!o._state.action:e)?o.unregister(n):t(n,!1)}},[n,o,a,s]),r.useEffect(()=>{v(o._fields,n)&&o._updateDisabledField({disabled:i,fields:o._fields,name:n,value:v(o._fields,n)._f.value})},[i,n,o]),{field:{name:n,value:l,...y(i)||u.disabled?{disabled:u.disabled||i}:{},onChange:r.useCallback(e=>h.current.onChange({target:{value:c(e),name:n},type:b.CHANGE}),[n]),onBlur:r.useCallback(()=>h.current.onBlur({target:{value:v(o._formValues,n),name:n},type:b.BLUR}),[n,o]),ref:e=>{let t=v(o._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!v(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!v(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!v(u.touchedFields,n)},error:{enumerable:!0,get:()=>v(u.errors,n)}})}}(e));var j=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},U=e=>({isOnSubmit:!e||e===w.onSubmit,isOnBlur:e===w.onBlur,isOnChange:e===w.onChange,isOnAll:e===w.all,isOnTouch:e===w.onTouched}),F=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let V=(e,t,n,r)=>{for(let i of n||Object.keys(e)){let n=v(e,i);if(n){let{_f:e,...o}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r||e.ref&&t(e.ref,e.name)&&!r)break;V(o,t)}else l(o)&&V(o,t)}}};var B=(e,t,n)=>{let r=m(v(e,n));return M(r,"root",t[n]),M(e,n,r),e},z=e=>"file"===e.type,H=e=>"function"==typeof e,q=e=>{if(!p)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},K=e=>O(e),G=e=>"radio"===e.type,W=e=>e instanceof RegExp;let $={value:!1,isValid:!1},Z={value:!0,isValid:!0};var J=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!g(e[0].attributes.value)?g(e[0].value)||""===e[0].value?Z:{value:e[0].value,isValid:!0}:Z:$}return $};let Y={isValid:!1,value:null};var X=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Y):Y;function Q(e,t,n="validate"){if(K(e)||Array.isArray(e)&&e.every(K)||y(e)&&!e)return{type:n,message:K(e)?e:"",ref:t}}var ee=e=>l(e)&&!W(e)?e:{value:e,message:""},et=async(e,t,n,r,o)=>{let{ref:a,refs:c,required:u,maxLength:d,minLength:h,min:p,max:f,pattern:m,validate:b,name:w,valueAsNumber:C,mount:x,disabled:k}=e._f,S=v(t,w);if(!x||k)return{};let T=c?c[0]:a,P=e=>{r&&T.reportValidity&&(T.setCustomValidity(y(e)?"":e||""),T.reportValidity())},I={},R=G(a),A=i(a),N=(C||z(a))&&g(a.value)&&g(S)||q(a)&&""===a.value||""===S||Array.isArray(S)&&!S.length,L=j.bind(null,w,n,I),M=(e,t,n,r=_.maxLength,i=_.minLength)=>{let o=e?t:n;I[w]={type:e?r:i,message:o,ref:a,...L(e?r:i,o)}};if(o?!Array.isArray(S)||!S.length:u&&(!(R||A)&&(N||s(S))||y(S)&&!S||A&&!J(c).isValid||R&&!X(c).isValid)){let{value:e,message:t}=K(u)?{value:!!u,message:u}:ee(u);if(e&&(I[w]={type:_.required,message:t,ref:T,...L(_.required,t)},!n))return P(t),I}if(!N&&(!s(p)||!s(f))){let e,t;let r=ee(f),i=ee(p);if(s(S)||isNaN(S)){let n=a.valueAsDate||new Date(S),o=e=>new Date(new Date().toDateString()+" "+e),s="time"==a.type,l="week"==a.type;O(r.value)&&S&&(e=s?o(S)>o(r.value):l?S>r.value:n>new Date(r.value)),O(i.value)&&S&&(t=s?o(S)<o(i.value):l?S<i.value:n<new Date(i.value))}else{let n=a.valueAsNumber||(S?+S:S);s(r.value)||(e=n>r.value),s(i.value)||(t=n<i.value)}if((e||t)&&(M(!!e,r.message,i.message,_.max,_.min),!n))return P(I[w].message),I}if((d||h)&&!N&&(O(S)||o&&Array.isArray(S))){let e=ee(d),t=ee(h),r=!s(e.value)&&S.length>+e.value,i=!s(t.value)&&S.length<+t.value;if((r||i)&&(M(r,e.message,t.message),!n))return P(I[w].message),I}if(m&&!N&&O(S)){let{value:e,message:t}=ee(m);if(W(e)&&!S.match(e)&&(I[w]={type:_.pattern,message:t,ref:a,...L(_.pattern,t)},!n))return P(t),I}if(b){if(H(b)){let e=Q(await b(S,t),T);if(e&&(I[w]={...e,...L(_.validate,e.message)},!n))return P(e.message),I}else if(l(b)){let e={};for(let r in b){if(!E(e)&&!n)break;let i=Q(await b[r](S,t),T,r);i&&(e={...i,...L(r,i.message)},P(i.message),n&&(I[w]=e))}if(!E(e)&&(I[w]={ref:T,...e},!n))return I}}return P(!0),I};function en(e,t){let n=Array.isArray(t)?t:N(t)?[t]:L(t),r=1===n.length?e:function(e,t){let n=t.slice(0,-1).length,r=0;for(;r<n;)e=g(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,o=n[i];return r&&delete r[o],0!==i&&(l(r)&&E(r)||Array.isArray(r)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!g(e[t]))return!1;return!0}(r))&&en(e,n.slice(0,-1)),e}var er=()=>{let e=[];return{get observers(){return e},next:t=>{for(let n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},ei=e=>s(e)||!a(e);function eo(e,t){if(ei(e)||ei(t))return e===t;if(o(e)&&o(t))return e.getTime()===t.getTime();let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i of n){let n=e[i];if(!r.includes(i))return!1;if("ref"!==i){let e=t[i];if(o(n)&&o(e)||l(n)&&l(e)||Array.isArray(n)&&Array.isArray(e)?!eo(n,e):n!==e)return!1}}return!0}var es=e=>"select-multiple"===e.type,ea=e=>G(e)||i(e),el=e=>q(e)&&e.isConnected,ec=e=>{for(let t in e)if(H(e[t]))return!0;return!1};function eu(e,t={}){let n=Array.isArray(e);if(l(e)||n)for(let n in e)Array.isArray(e[n])||l(e[n])&&!ec(e[n])?(t[n]=Array.isArray(e[n])?[]:{},eu(e[n],t[n])):s(e[n])||(t[n]=!0);return t}var ed=(e,t)=>(function e(t,n,r){let i=Array.isArray(t);if(l(t)||i)for(let i in t)Array.isArray(t[i])||l(t[i])&&!ec(t[i])?g(n)||ei(r[i])?r[i]=Array.isArray(t[i])?eu(t[i],[]):{...eu(t[i])}:e(t[i],s(n)?{}:n[i],r[i]):r[i]=!eo(t[i],n[i]);return r})(e,t,eu(t)),eh=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>g(e)?e:t?""===e?NaN:e?+e:e:n&&O(e)?new Date(e):r?r(e):e;function ep(e){let t=e.ref;return(e.refs?e.refs.every(e=>e.disabled):t.disabled)?void 0:z(t)?t.files:G(t)?X(e.refs).value:es(t)?[...t.selectedOptions].map(({value:e})=>e):i(t)?J(e.refs).value:eh(g(t.value)?e.ref.value:t.value,e)}var ef=(e,t,n,r)=>{let i={};for(let n of e){let e=v(t,n);e&&M(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},em=e=>g(e)?e:W(e)?e.source:l(e)?W(e.value)?e.value.source:e.value:e,eg=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ev(e,t,n){let r=v(e,n);if(r||N(n))return{error:r,name:n};let i=n.split(".");for(;i.length;){let r=i.join("."),o=v(t,r),s=v(e,r);if(o&&!Array.isArray(o)&&n!==r)break;if(s&&s.type)return{name:r,error:s};i.pop()}return{name:n}}var ey=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?!r.isOnChange:!i.isOnChange)||e),eb=(e,t)=>!m(v(e,t)).length&&en(e,t);let ew={mode:w.onSubmit,reValidateMode:w.onChange,shouldFocusError:!0};function e_(e={}){let t=r.useRef(),n=r.useRef(),[a,u]=r.useState({isDirty:!1,isValidating:!1,isLoading:H(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:H(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...function(e={},t){let n,r={...ew,...e},a={submitCount:0,isDirty:!1,isLoading:H(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:r.errors||{},disabled:r.disabled||!1},u={},h=(l(r.defaultValues)||l(r.values))&&f(r.defaultValues||r.values)||{},_=r.shouldUnregister?{}:f(h),C={action:!1,mount:!1,watch:!1},x={mount:new Set,unMount:new Set,array:new Set,watch:new Set},k=0,S={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},T={values:er(),array:er(),state:er()},I=U(r.mode),R=U(r.reValidateMode),N=r.criteriaMode===w.all,L=e=>t=>{clearTimeout(k),k=setTimeout(e,t)},D=async e=>{if(S.isValid||e){let e=r.resolver?E((await Z()).errors):await Y(u,!0);e!==a.isValid&&T.state.next({isValid:e})}},j=e=>S.isValidating&&T.state.next({isValidating:e}),K=(e,t)=>{M(a.errors,e,t),T.state.next({errors:a.errors})},G=(e,t,n,r)=>{let i=v(u,e);if(i){let o=v(_,e,g(n)?v(h,e):n);g(o)||r&&r.defaultChecked||t?M(_,e,t?o:ep(i._f)):ee(e,o),C.mount&&D()}},W=(e,t,n,r,i)=>{let o=!1,s=!1,l={name:e},c=!!(v(u,e)&&v(u,e)._f.disabled);if(!n||r){S.isDirty&&(s=a.isDirty,a.isDirty=l.isDirty=X(),o=s!==l.isDirty);let n=c||eo(v(h,e),t);s=!!(!c&&v(a.dirtyFields,e)),n||c?en(a.dirtyFields,e):M(a.dirtyFields,e,!0),l.dirtyFields=a.dirtyFields,o=o||S.dirtyFields&&!n!==s}if(n){let t=v(a.touchedFields,e);t||(M(a.touchedFields,e,n),l.touchedFields=a.touchedFields,o=o||S.touchedFields&&t!==n)}return o&&i&&T.state.next(l),o?l:{}},$=(t,r,i,o)=>{let s=v(a.errors,t),l=S.isValid&&y(r)&&a.isValid!==r;if(e.delayError&&i?(n=L(()=>K(t,i)))(e.delayError):(clearTimeout(k),n=null,i?M(a.errors,t,i):en(a.errors,t)),(i?!eo(s,i):s)||!E(o)||l){let e={...o,...l&&y(r)?{isValid:r}:{},errors:a.errors,name:t};a={...a,...e},T.state.next(e)}j(!1)},Z=async e=>r.resolver(_,r.context,ef(e||x.mount,u,r.criteriaMode,r.shouldUseNativeValidation)),J=async e=>{let{errors:t}=await Z(e);if(e)for(let n of e){let e=v(t,n);e?M(a.errors,n,e):en(a.errors,n)}else a.errors=t;return t},Y=async(e,t,n={valid:!0})=>{for(let i in e){let o=e[i];if(o){let{_f:e,...i}=o;if(e){let i=x.array.has(e.name),s=await et(o,_,N,r.shouldUseNativeValidation&&!t,i);if(s[e.name]&&(n.valid=!1,t))break;t||(v(s,e.name)?i?B(a.errors,s,e.name):M(a.errors,e.name,s[e.name]):en(a.errors,e.name))}i&&await Y(i,t,n)}}return n.valid},X=(e,t)=>(e&&t&&M(_,e,t),!eo(ek(),h)),Q=(e,t,n)=>A(e,x,{...C.mount?_:g(t)?h:O(e)?{[e]:t}:t},n,t),ee=(e,t,n={})=>{let r=v(u,e),o=t;if(r){let n=r._f;n&&(n.disabled||M(_,e,eh(t,n)),o=q(n.ref)&&s(t)?"":t,es(n.ref)?[...n.ref.options].forEach(e=>e.selected=o.includes(e.value)):n.refs?i(n.ref)?n.refs.length>1?n.refs.forEach(e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(o)?!!o.find(t=>t===e.value):o===e.value)):n.refs[0]&&(n.refs[0].checked=!!o):n.refs.forEach(e=>e.checked=e.value===o):z(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||T.values.next({name:e,values:{..._}})))}(n.shouldDirty||n.shouldTouch)&&W(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&ex(e)},ec=(e,t,n)=>{for(let r in t){let i=t[r],s=`${e}.${r}`,a=v(u,s);!x.array.has(e)&&ei(i)&&(!a||a._f)||o(i)?ee(s,i,n):ec(s,i,n)}},eu=(e,n,r={})=>{let i=v(u,e),o=x.array.has(e),l=f(n);M(_,e,l),o?(T.array.next({name:e,values:{..._}}),(S.isDirty||S.dirtyFields)&&r.shouldDirty&&T.state.next({name:e,dirtyFields:ed(h,_),isDirty:X(e,l)})):!i||i._f||s(l)?ee(e,l,r):ec(e,l,r),F(e,x)&&T.state.next({...a}),T.values.next({name:e,values:{..._}}),C.mount||t()},e_=async e=>{let t=e.target,i=t.name,o=!0,s=v(u,i),l=e=>{o=Number.isNaN(e)||e===v(_,i,e)};if(s){let d,h;let p=t.type?ep(s._f):c(e),f=e.type===b.BLUR||e.type===b.FOCUS_OUT,m=!eg(s._f)&&!r.resolver&&!v(a.errors,i)&&!s._f.deps||ey(f,v(a.touchedFields,i),a.isSubmitted,R,I),g=F(i,x,f);M(_,i,p),f?(s._f.onBlur&&s._f.onBlur(e),n&&n(0)):s._f.onChange&&s._f.onChange(e);let y=W(i,p,f,!1),w=!E(y)||g;if(f||T.values.next({name:i,type:e.type,values:{..._}}),m)return S.isValid&&D(),w&&T.state.next({name:i,...g?{}:y});if(!f&&g&&T.state.next({...a}),j(!0),r.resolver){let{errors:e}=await Z([i]);if(l(p),o){let t=ev(a.errors,u,i),n=ev(e,u,t.name||i);d=n.error,i=n.name,h=E(e)}}else d=(await et(s,_,N,r.shouldUseNativeValidation))[i],l(p),o&&(d?h=!1:S.isValid&&(h=await Y(u,!0)));o&&(s._f.deps&&ex(s._f.deps),$(i,h,d,y))}},eC=(e,t)=>{if(v(a.errors,t)&&e.focus)return e.focus(),1},ex=async(e,t={})=>{let n,i;let o=P(e);if(j(!0),r.resolver){let t=await J(g(e)?e:o);n=E(t),i=e?!o.some(e=>v(t,e)):n}else e?((i=(await Promise.all(o.map(async e=>{let t=v(u,e);return await Y(t&&t._f?{[e]:t}:t)}))).every(Boolean))||a.isValid)&&D():i=n=await Y(u);return T.state.next({...!O(e)||S.isValid&&n!==a.isValid?{}:{name:e},...r.resolver||!e?{isValid:n}:{},errors:a.errors,isValidating:!1}),t.shouldFocus&&!i&&V(u,eC,e?o:x.mount),i},ek=e=>{let t={...h,...C.mount?_:{}};return g(e)?t:O(e)?v(t,e):e.map(e=>v(t,e))},eS=(e,t)=>({invalid:!!v((t||a).errors,e),isDirty:!!v((t||a).dirtyFields,e),isTouched:!!v((t||a).touchedFields,e),error:v((t||a).errors,e)}),eE=(e,t,n)=>{let r=(v(u,e,{_f:{}})._f||{}).ref;M(a.errors,e,{...t,ref:r}),T.state.next({name:e,errors:a.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},eT=(e,t={})=>{for(let n of e?P(e):x.mount)x.mount.delete(n),x.array.delete(n),t.keepValue||(en(u,n),en(_,n)),t.keepError||en(a.errors,n),t.keepDirty||en(a.dirtyFields,n),t.keepTouched||en(a.touchedFields,n),r.shouldUnregister||t.keepDefaultValue||en(h,n);T.values.next({values:{..._}}),T.state.next({...a,...t.keepDirty?{isDirty:X()}:{}}),t.keepIsValid||D()},eP=({disabled:e,name:t,field:n,fields:r,value:i})=>{if(y(e)){let o=e?void 0:g(i)?ep(n?n._f:v(r,t)._f):i;M(_,t,o),W(t,o,!1,!1,!0)}},eI=(e,t={})=>{let n=v(u,e),i=y(t.disabled);return M(u,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),x.mount.add(e),n?eP({field:n,disabled:t.disabled,name:e,value:t.value}):G(e,!0,t.value),{...i?{disabled:t.disabled}:{},...r.progressive?{required:!!t.required,min:em(t.min),max:em(t.max),minLength:em(t.minLength),maxLength:em(t.maxLength),pattern:em(t.pattern)}:{},name:e,onChange:e_,onBlur:e_,ref:i=>{if(i){eI(e,t),n=v(u,e);let r=g(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,o=ea(r),s=n._f.refs||[];(o?s.find(e=>e===r):r===n._f.ref)||(M(u,e,{_f:{...n._f,...o?{refs:[...s.filter(el),r,...Array.isArray(v(h,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),G(e,!1,void 0,r))}else(n=v(u,e,{}))._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&!(d(x.array,e)&&C.action)&&x.unMount.add(e)}}},eR=()=>r.shouldFocusError&&V(u,eC,x.mount),eO=(e,t)=>async n=>{n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let i=f(_);if(T.state.next({isSubmitting:!0}),r.resolver){let{errors:e,values:t}=await Z();a.errors=e,i=t}else await Y(u);en(a.errors,"root"),E(a.errors)?(T.state.next({errors:{}}),await e(i,n)):(t&&await t({...a.errors},n),eR(),setTimeout(eR)),T.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:E(a.errors),submitCount:a.submitCount+1,errors:a.errors})},eA=(n,r={})=>{let i=n?f(n):h,o=f(i),s=n&&!E(n)?o:h;if(r.keepDefaultValues||(h=i),!r.keepValues){if(r.keepDirtyValues)for(let e of x.mount)v(a.dirtyFields,e)?M(s,e,v(_,e)):eu(e,v(s,e));else{if(p&&g(n))for(let e of x.mount){let t=v(u,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(q(e)){let t=e.closest("form");if(t){t.reset();break}}}}u={}}_=e.shouldUnregister?r.keepDefaultValues?f(h):{}:f(s),T.array.next({values:{...s}}),T.values.next({values:{...s}})}x={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},C.mount||t(),C.mount=!S.isValid||!!r.keepIsValid,C.watch=!!e.shouldUnregister,T.state.next({submitCount:r.keepSubmitCount?a.submitCount:0,isDirty:r.keepDirty?a.isDirty:!!(r.keepDefaultValues&&!eo(n,h)),isSubmitted:!!r.keepIsSubmitted&&a.isSubmitted,dirtyFields:r.keepDirtyValues?a.dirtyFields:r.keepDefaultValues&&n?ed(h,n):{},touchedFields:r.keepTouched?a.touchedFields:{},errors:r.keepErrors?a.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1})},eN=(e,t)=>eA(H(e)?e(_):e,t);return{control:{register:eI,unregister:eT,getFieldState:eS,handleSubmit:eO,setError:eE,_executeSchema:Z,_getWatch:Q,_getDirty:X,_updateValid:D,_removeUnmounted:()=>{for(let e of x.unMount){let t=v(u,e);t&&(t._f.refs?t._f.refs.every(e=>!el(e)):!el(t._f.ref))&&eT(e)}x.unMount=new Set},_updateFieldArray:(e,t=[],n,r,i=!0,o=!0)=>{if(r&&n){if(C.action=!0,o&&Array.isArray(v(u,e))){let t=n(v(u,e),r.argA,r.argB);i&&M(u,e,t)}if(o&&Array.isArray(v(a.errors,e))){let t=n(v(a.errors,e),r.argA,r.argB);i&&M(a.errors,e,t),eb(a.errors,e)}if(S.touchedFields&&o&&Array.isArray(v(a.touchedFields,e))){let t=n(v(a.touchedFields,e),r.argA,r.argB);i&&M(a.touchedFields,e,t)}S.dirtyFields&&(a.dirtyFields=ed(h,_)),T.state.next({name:e,isDirty:X(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else M(_,e,t)},_updateDisabledField:eP,_getFieldArray:t=>m(v(C.mount?_:h,t,e.shouldUnregister?v(h,t,[]):[])),_reset:eA,_resetDefaultValues:()=>H(r.defaultValues)&&r.defaultValues().then(e=>{eN(e,r.resetOptions),T.state.next({isLoading:!1})}),_updateFormState:e=>{a={...a,...e}},_disableForm:e=>{y(e)&&(T.state.next({disabled:e}),V(u,(t,n)=>{let r=e,i=v(u,n);i&&y(i._f.disabled)&&(r||(r=i._f.disabled)),t.disabled=r},0,!1))},_subjects:T,_proxyFormState:S,_setErrors:e=>{a.errors=e,T.state.next({errors:a.errors,isValid:!1})},get _fields(){return u},get _formValues(){return _},get _state(){return C},set _state(value){C=value},get _defaultValues(){return h},get _names(){return x},set _names(value){x=value},get _formState(){return a},set _formState(value){a=value},get _options(){return r},set _options(value){r={...r,...value}}},trigger:ex,register:eI,handleSubmit:eO,watch:(e,t)=>H(e)?T.values.subscribe({next:n=>e(Q(void 0,t),n)}):Q(e,t,!0),setValue:eu,getValues:ek,reset:eN,resetField:(e,t={})=>{v(u,e)&&(g(t.defaultValue)?eu(e,f(v(h,e))):(eu(e,t.defaultValue),M(h,e,f(t.defaultValue))),t.keepTouched||en(a.touchedFields,e),t.keepDirty||(en(a.dirtyFields,e),a.isDirty=t.defaultValue?X(e,f(v(h,e))):X()),!t.keepError&&(en(a.errors,e),S.isValid&&D()),T.state.next({...a}))},clearErrors:e=>{e&&P(e).forEach(e=>en(a.errors,e)),T.state.next({errors:e?a.errors:{}})},unregister:eT,setError:eE,setFocus:(e,t={})=>{let n=v(u,e),r=n&&n._f;if(r){let e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:eS}}(e,()=>u(e=>({...e}))),formState:a});let h=t.current.control;return h._options=e,R({subject:h._subjects.state,next:e=>{T(e,h._proxyFormState,h._updateFormState,!0)&&u({...h._formState})}}),r.useEffect(()=>h._disableForm(e.disabled),[h,e.disabled]),r.useEffect(()=>{if(h._proxyFormState.isDirty){let e=h._getDirty();e!==a.isDirty&&h._subjects.state.next({isDirty:e})}},[h,a.isDirty]),r.useEffect(()=>{e.values&&!eo(e.values,n.current)?(h._reset(e.values,h._options.resetOptions),n.current=e.values,u(e=>({...e}))):h._resetDefaultValues()},[e.values,h]),r.useEffect(()=>{e.errors&&h._setErrors(e.errors)},[e.errors,h]),r.useEffect(()=>{h._state.mount||(h._updateValid(),h._state.mount=!0),h._state.watch&&(h._state.watch=!1,h._subjects.state.next({...h._formState})),h._removeUnmounted()}),t.current.formState=S(a,h),t.current}},71103:function(e,t,n){"use strict";n.d(t,{sm:function(){return j},Ix:function(){return F},Am:function(){return R}});var r=n(2784),i=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r};!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var o=e=>"number"==typeof e&&!isNaN(e),s=e=>"string"==typeof e,a=e=>"function"==typeof e,l=e=>s(e)||o(e),c=e=>s(e)||a(e)?e:null,u=(e,t)=>!1===e||o(e)&&e>0?e:t,d=e=>(0,r.isValidElement)(e)||s(e)||a(e)||o(e);function h({enter:e,exit:t,appendPosition:n=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:s,position:a,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:h}){let p=n?`${e}--${a}`:e,f=n?`${t}--${a}`:t,m=(0,r.useRef)(0);return(0,r.useLayoutEffect)(()=>{let e=u.current,t=p.split(" "),n=r=>{r.target===u.current&&(h(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,r.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}(e,c,o):c()};d||(l?t():(m.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))},[d]),r.createElement(r.Fragment,null,s)}}function p(e,t){return{content:f(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function f(e,t,n=!1){return(0,r.isValidElement)(e)&&!s(e.type)?(0,r.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):a(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function m({delay:e,isRunning:t,closeToast:n,type:o="default",hide:s,className:l,controlledProgress:c,progress:u,rtl:d,isIn:h,theme:p}){let f=s||c&&0===u,m={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(m.transform=`scaleX(${u})`);let g=i("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":d}),v=a(l)?l({rtl:d,type:o,defaultClassName:g}):i(g,l);return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},r.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${o}`}),r.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:v,style:m,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&n()}}))}var g=1,v=()=>`${g++}`,y=new Map,b=[],w=new Set,_=e=>w.forEach(t=>t(e)),C=()=>y.size>0,x=(e,{containerId:t})=>{var n;return null==(n=y.get(t||1))?void 0:n.toasts.get(e)};function k(e,t){var n;if(t)return!!(null!=(n=y.get(t))&&n.isToastActive(e));let r=!1;return y.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function S(e,t){d(e)&&(C()||b.push({content:e,options:t}),y.forEach(n=>{n.buildToast(e,t)}))}function E(e,t){y.forEach(n=>{null!=t&&null!=t&&t.containerId&&(null==t?void 0:t.containerId)!==n.id||n.toggle(e,null==t?void 0:t.id)})}function T(e,t){return S(e,t),t.toastId}function P(e,t){return{...t,type:t&&t.type||e,toastId:t&&(s(t.toastId)||o(t.toastId))?t.toastId:v()}}function I(e){return(t,n)=>T(t,P(e,n))}function R(e,t){return T(e,P("default",t))}R.loading=(e,t)=>T(e,P("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),R.promise=function(e,{pending:t,error:n,success:r},i){let o;t&&(o=s(t)?R.loading(t,i):R.loading(t.render,{...i,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(e,t,n)=>{if(null==t){R.dismiss(o);return}let r={type:e,...l,...i,data:n},a=s(t)?{render:t}:t;return o?R.update(o,{...r,...a}):R(a.render,{...r,...a}),n},u=a(e)?e():e;return u.then(e=>c("success",r,e)).catch(e=>c("error",n,e)),u},R.success=I("success"),R.info=I("info"),R.error=I("error"),R.warning=I("warning"),R.warn=R.warning,R.dark=(e,t)=>T(e,P("default",{theme:"dark",...t})),R.dismiss=function(e){!function(e){if(!C()){b=b.filter(t=>null!=e&&t.options.toastId!==e);return}if(null==e||l(e))y.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=y.get(e.containerId);t?t.removeToast(e.id):y.forEach(t=>{t.removeToast(e.id)})}}(e)},R.clearWaitingQueue=(e={})=>{y.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},R.isActive=k,R.update=(e,t={})=>{let n=x(e,t);if(n){let{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:v()};o.toastId!==e&&(o.staleId=e);let s=o.render||i;delete o.render,T(s,o)}},R.done=e=>{R.update(e,{progress:1})},R.onChange=function(e){return w.add(e),()=>{w.delete(e)}},R.play=e=>E(!0,e),R.pause=e=>E(!1,e);var O="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,A=({theme:e,type:t,isLoading:n,...i})=>r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":`var(--toastify-icon-color-${t})`,...i}),N={info:function(e){return r.createElement(A,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(A,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(A,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(A,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}},L=e=>e in N,M=e=>{let{isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:s,playToast:l}=function(e){var t,n;let[i,o]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),l=(0,r.useRef)(null),c=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:d,closeToast:h,onClick:p,closeOnClick:f}=e;function m(){o(!0)}function g(){o(!1)}function v(t){let n=l.current;if(c.canDrag&&n){c.didMove=!0,i&&g(),"x"===e.draggableDirection?c.delta=t.clientX-c.start:c.delta=t.clientY-c.start,c.start!==t.clientX&&(c.canCloseOnClick=!1);let r="x"===e.draggableDirection?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;n.style.transform=`translate3d(${r},0)`,n.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function b(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",b);let t=l.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),e.closeToast(!0),e.collapseAll();return}t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}t={id:e.toastId,containerId:e.containerId,fn:o},null==(n=y.get(t.containerId||1))||n.setToggle(t.id,t.fn),(0,r.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}},[e.pauseOnFocusLoss]);let w={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){c.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",b);let n=l.current;c.canCloseOnClick=!0,c.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(c.start=t.clientX,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=t.clientY,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:i,right:o}=l.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=o&&t.clientY>=n&&t.clientY<=r?g():m()}};return u&&d&&(w.onMouseEnter=g,e.stacked||(w.onMouseLeave=m)),f&&(w.onClick=e=>{p&&p(e),c.canCloseOnClick&&h(!0)}),{playToast:m,pauseToast:g,isRunning:i,preventExitTransition:s,toastRef:l,eventHandlers:w}}(e),{closeButton:c,children:u,autoClose:d,onClick:h,type:p,hideProgressBar:g,closeToast:v,transition:b,position:w,className:_,style:C,progressClassName:x,updateId:k,role:S,progress:E,rtl:T,toastId:P,deleteToast:I,isIn:R,isLoading:O,closeOnClick:A,theme:M,ariaLabel:D}=e,j=i("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":A}),U=a(_)?_({rtl:T,position:w,type:p,defaultClassName:j}):i(j,_),F=function({theme:e,type:t,isLoading:n,icon:i}){let o=null,s={theme:e,type:t};return!1===i||(a(i)?o=i({...s,isLoading:n}):(0,r.isValidElement)(i)?o=(0,r.cloneElement)(i,s):n?o=N.spinner():L(t)&&(o=N[t](s))),o}(e),V=!!E||!d,B={closeToast:v,type:p,theme:M},z=null;return!1===c||(z=a(c)?c(B):(0,r.isValidElement)(c)?(0,r.cloneElement)(c,B):function({closeToast:e,theme:t,ariaLabel:n="close"}){return r.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:t=>{t.stopPropagation(),e(!0)},"aria-label":n},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(B)),r.createElement(b,{isIn:R,done:I,position:w,preventExitTransition:n,nodeRef:o,playToast:l},r.createElement("div",{id:P,tabIndex:0,onClick:h,"data-in":R,className:U,...s,style:C,ref:o,...R&&{role:S,"aria-label":D}},null!=F&&r.createElement("div",{className:i("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},F),f(u,e,!t),z,!e.customProgressBar&&r.createElement(m,{...k&&!V?{key:`p-${k}`}:{},rtl:T,theme:M,delay:d,isRunning:t,isIn:R,closeToast:v,hide:g,type:p,className:x,controlledProgress:V,progress:E||0})))},D=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),j=h(D("bounce",!0));h(D("slide",!0)),h(D("zoom")),h(D("flip"));var U={position:"top-right",transition:j,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code};function F(e){let t={...U,...e},n=e.stacked,[s,l]=(0,r.useState)(!0),h=(0,r.useRef)(null),{getToastToRender:f,isToastActive:m,count:g}=function(e){var t;let n;let{subscribe:i,getSnapshot:s,setProps:a}=(0,r.useRef)((n=e.containerId||1,{subscribe(t){let r,i,s,a,l,h,f,m,g,v,w,C;let x=(r=1,i=0,s=[],a=[],l=e,h=new Map,f=new Set,m=()=>{a=Array.from(h.values()),f.forEach(e=>e())},g=({containerId:e,toastId:t,updateId:r})=>{let i=h.has(t)&&null==r;return(e?e!==n:1!==n)||i},v=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},w=e=>{if(null==e)h.forEach(v);else{let t=h.get(e);t&&v(t)}m()},C=e=>{var t,n;let{toastId:r,updateId:i}=e.props,o=null==i;e.staleId&&h.delete(e.staleId),e.isActive=!0,h.set(r,e),m(),_(p(e,o?"added":"updated")),o&&(null==(n=(t=e.props).onOpen)||n.call(t))},{id:n,props:l,observe:e=>(f.add(e),()=>f.delete(e)),toggle:(e,t)=>{h.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:w,toasts:h,clearQueue:()=>{i-=s.length,s=[]},buildToast:(e,t)=>{if(g(t))return;let{toastId:n,updateId:a,data:f,staleId:v,delay:y}=t,b=null==a;b&&i++;let x={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(t).filter(([e,t])=>null!=t)),toastId:n,updateId:a,data:f,isIn:!1,className:c(t.className||l.toastClassName),progressClassName:c(t.progressClassName||l.progressClassName),autoClose:!t.isLoading&&u(t.autoClose,l.autoClose),closeToast(e){h.get(n).removalReason=e,w(n)},deleteToast(){let e=h.get(n);if(null!=e){if(_(p(e,"removed")),h.delete(n),--i<0&&(i=0),s.length>0){C(s.shift());return}m()}}};x.closeButton=l.closeButton,!1===t.closeButton||d(t.closeButton)?x.closeButton=t.closeButton:!0===t.closeButton&&(x.closeButton=!d(l.closeButton)||l.closeButton);let k={content:e,props:x,staleId:v};l.limit&&l.limit>0&&i>l.limit&&b?s.push(k):o(y)?setTimeout(()=>{C(k)},y):C(k)},setProps(e){l=e},setToggle:(e,t)=>{let n=h.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=h.get(e))?void 0:t.isActive},getSnapshot:()=>a});y.set(n,x);let k=x.observe(t);return b.forEach(e=>S(e.content,e.options)),b=[],()=>{k(),y.delete(n)}},setProps(e){var t;null==(t=y.get(n))||t.setProps(e)},getSnapshot(){var e;return null==(e=y.get(n))?void 0:e.getSnapshot()}})).current;a(e);let l=null==(t=(0,r.useSyncExternalStore)(i,s,s))?void 0:t.slice();return{getToastToRender:function(t){if(!l)return[];let n=new Map;return e.newestOnTop&&l.reverse(),l.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:k,count:null==l?void 0:l.length}}(t),{className:v,style:w,rtl:C,containerId:x,hotKeys:E}=t;function T(){n&&(l(!0),R.play())}return O(()=>{var e;if(n){let n=h.current.querySelectorAll('[data-in="true"]'),r=null==(e=t.position)?void 0:e.includes("top"),i=0,o=0;Array.from(n).reverse().forEach((e,t)=>{e.classList.add("Toastify__toast--stacked"),t>0&&(e.dataset.collapsed=`${s}`),e.dataset.pos||(e.dataset.pos=r?"top":"bot");let n=i*(s?.2:1)+(s?0:12*t);e.style.setProperty("--y",`${r?n:-1*n}px`),e.style.setProperty("--g","12"),e.style.setProperty("--s",`${1-(s?o:0)}`),i+=e.offsetHeight,o+=.025})}},[s,g,n]),(0,r.useEffect)(()=>{function e(e){var t;let n=h.current;E(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),l(!1),R.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(l(!0),R.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[E]),r.createElement("section",{ref:h,className:"Toastify",id:x,onMouseEnter:()=>{n&&(l(!1),R.pause())},onMouseLeave:T,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((e,t)=>{let o,s=t.length?{...w}:{...w,pointerEvents:"none"};return r.createElement("div",{tabIndex:-1,className:(o=i("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":C}),a(v)?v({position:e,rtl:C,defaultClassName:o}):i(o,c(v))),"data-stacked":n,style:s,key:`c-${e}`},t.map(({content:e,props:t})=>r.createElement(M,{...t,stacked:n,collapseAll:T,isIn:m(t.toastId,t.containerId),key:`t-${t.key}`},e)))}))}},15584:function(e,t,n){"use strict";n.d(t,{BF:function(){return o},MZ:function(){return r.MZ},qs:function(){return a},td:function(){return r.td},zb:function(){return s}});var r=n(66712),i=n(2784);function o(e){let[t,n]=(0,i.useState)(e.value);return(0,i.useEffect)(()=>(0,r.cE)(()=>n(e.value)),[e]),t}function s(e){let t=a(e),n=o(t);return[t,n]}function a(e){return(0,i.useMemo)(()=>new r.MZ(e),[])}var l=Symbol.for("react.element");Object.defineProperties(r.MZ.prototype,{$$typeof:{configurable:!0,value:l},type:{configurable:!0,value:function({data:e}){return o(e)}},props:{configurable:!0,get(){return{data:this}}},ref:{configurable:!0,value:null}})},11895:function(e,t,n){"use strict";n.d(t,{tv:function(){return Q}});var r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=e=>!e||"object"!=typeof e||0===Object.keys(e).length,o=(e,t)=>JSON.stringify(e)===JSON.stringify(t);function s(e){let t=[];return function e(t,n){t.forEach(function(t){Array.isArray(t)?e(t,n):n.push(t)})}(e,t),t}var a=(...e)=>s(e).filter(Boolean),l=(e,t)=>{let n={},r=Object.keys(e),i=Object.keys(t);for(let o of r)if(i.includes(o)){let r=e[o],i=t[o];"object"==typeof r&&"object"==typeof i?n[o]=l(r,i):Array.isArray(r)||Array.isArray(i)?n[o]=a(i,r):n[o]=i+" "+r}else n[o]=e[o];for(let e of i)r.includes(e)||(n[e]=t[e]);return n},c=e=>e&&"string"==typeof e?e.replace(/\s+/g," ").trim():e,u=/^\[(.+)\]$/;function d(e,t){var n=e;return t.split("-").forEach(function(e){n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n}var h=/\s+/;function p(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){if("string"==typeof t)return t;for(var n,r="",i=0;i<t.length;i++)t[i]&&(n=e(t[i]))&&(r&&(r+=" "),r+=n);return r}(e))&&(r&&(r+=" "),r+=t);return r}function f(){for(var e,t,n,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=function(r){var o=i[0];return t=(e=function(e){var t,n,r,i,o,s,a,l,c,h,p;return{cache:function(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(i,o){n.set(i,o),++t>e&&(t=0,r=n,n=new Map)}return{get:function(e){var t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set:function(e,t){n.has(e)?n.set(e,t):i(e,t)}}}(e.cacheSize),splitModifiers:(n=1===(t=e.separator||":").length,r=t[0],i=t.length,function(e){for(var o,s=[],a=0,l=0,c=0;c<e.length;c++){var u=e[c];if(0===a){if(u===r&&(n||e.slice(c,c+i)===t)){s.push(e.slice(l,c)),l=c+i;continue}if("/"===u){o=c;continue}}"["===u?a++:"]"===u&&a--}var d=0===s.length?e:e.substring(l),h=d.startsWith("!"),p=h?d.substring(1):d;return{modifiers:s,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:o&&o>l?o-l:void 0}}),...(l=e.theme,c=e.prefix,h={nextPart:new Map,validators:[]},(p=Object.entries(e.classGroups),c?p.map(function(e){return[e[0],e[1].map(function(e){return"string"==typeof e?c+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(function(e){return[c+e[0],e[1]]})):e})]}):p).forEach(function(e){var t=e[0];(function e(t,n,r,i){t.forEach(function(t){if("string"==typeof t){(""===t?n:d(n,t)).classGroupId=r;return}if("function"==typeof t){if(t.isThemeGetter){e(t(i),n,r,i);return}n.validators.push({validator:t,classGroupId:r});return}Object.entries(t).forEach(function(t){var o=t[0];e(t[1],d(n,o),r,i)})})})(e[1],h,t,l)}),o=e.conflictingClassGroups,a=void 0===(s=e.conflictingClassGroupModifiers)?{}:s,{getClassGroupId:function(e){var t=e.split("-");return""===t[0]&&1!==t.length&&t.shift(),function e(t,n){if(0===t.length)return n.classGroupId;var r=t[0],i=n.nextPart.get(r),o=i?e(t.slice(1),i):void 0;if(o)return o;if(0!==n.validators.length){var s=t.join("-");return n.validators.find(function(e){return(0,e.validator)(s)})?.classGroupId}}(t,h)||function(e){if(u.test(e)){var t=u.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}(e)},getConflictingClassGroupIds:function(e,t){var n=o[e]||[];return t&&a[e]?[].concat(n,a[e]):n}})}}(i.slice(1).reduce(function(e,t){return t(e)},o()))).cache.get,n=e.cache.set,s=a,a(r)};function a(r){var i,o,s,a,l,c=t(r);if(c)return c;var u=(o=(i=e).splitModifiers,s=i.getClassGroupId,a=i.getConflictingClassGroupIds,l=new Set,r.trim().split(h).map(function(e){var t=o(e),n=t.modifiers,r=t.hasImportantModifier,i=t.baseClassName,a=t.maybePostfixModifierPosition,l=s(a?i.substring(0,a):i),c=!!a;if(!l){if(!a||!(l=s(i)))return{isTailwindClass:!1,originalClassName:e};c=!1}var u=(function(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(e){"["===e[0]?(t.push.apply(t,n.sort().concat([e])),n=[]):n.push(e)}),t.push.apply(t,n.sort()),t})(n).join(":");return{isTailwindClass:!0,modifierId:r?u+"!":u,classGroupId:l,originalClassName:e,hasPostfixModifier:c}}).reverse().filter(function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,n=e.classGroupId,r=e.hasPostfixModifier,i=t+n;return!l.has(i)&&(l.add(i),a(n,r).forEach(function(e){return l.add(t+e)}),!0)}).reverse().map(function(e){return e.originalClassName}).join(" "));return n(r,u),u}return function(){return s(p.apply(null,arguments))}}function m(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var g=/^\[(?:([a-z-]+):)?(.+)\]$/i,v=/^\d+\/\d+$/,y=new Set(["px","full","screen"]),b=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function C(e){return P(e)||y.has(e)||v.test(e)||x(e)}function x(e){return M(e,"length",D)}function k(e){return M(e,"size",j)}function S(e){return M(e,"position",j)}function E(e){return M(e,"url",U)}function T(e){return M(e,"number",P)}function P(e){return!Number.isNaN(Number(e))}function I(e){return e.endsWith("%")&&P(e.slice(0,-1))}function R(e){return F(e)||M(e,"number",F)}function O(e){return g.test(e)}function A(){return!0}function N(e){return b.test(e)}function L(e){return M(e,"",V)}function M(e,t,n){var r=g.exec(e);return!!r&&(r[1]?r[1]===t:n(r[2]))}function D(e){return w.test(e)}function j(){return!1}function U(e){return e.startsWith("url(")}function F(e){return Number.isInteger(Number(e))}function V(e){return _.test(e)}function B(){var e=m("colors"),t=m("spacing"),n=m("blur"),r=m("brightness"),i=m("borderColor"),o=m("borderRadius"),s=m("borderSpacing"),a=m("borderWidth"),l=m("contrast"),c=m("grayscale"),u=m("hueRotate"),d=m("invert"),h=m("gap"),p=m("gradientColorStops"),f=m("gradientColorStopPositions"),g=m("inset"),v=m("margin"),y=m("opacity"),b=m("padding"),w=m("saturate"),_=m("scale"),M=m("sepia"),D=m("skew"),j=m("space"),U=m("translate"),F=function(){return["auto","contain","none"]},V=function(){return["auto","hidden","clip","visible","scroll"]},B=function(){return["auto",O,t]},z=function(){return[O,t]},H=function(){return["",C]},q=function(){return["auto",P,O]},K=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},G=function(){return["solid","dashed","dotted","double","none"]},W=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},$=function(){return["start","end","center","between","around","evenly","stretch"]},Z=function(){return["","0",O]},J=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Y=function(){return[P,T]},X=function(){return[P,O]};return{cacheSize:500,theme:{colors:[A],spacing:[C],blur:["none","",N,O],brightness:Y(),borderColor:[e],borderRadius:["none","","full",N,O],borderSpacing:z(),borderWidth:H(),contrast:Y(),grayscale:Z(),hueRotate:X(),invert:Z(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[I,x],inset:B(),margin:B(),opacity:Y(),padding:z(),saturate:Y(),scale:Y(),sepia:Z(),skew:X(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",O]}],container:["container"],columns:[{columns:[N]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(K(),[O])}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",R]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",O]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",R]}],"grid-cols":[{"grid-cols":[A]}],"col-start-end":[{col:["auto",{span:["full",R]},O]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[A]}],"row-start-end":[{row:["auto",{span:[R]},O]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",O]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",O]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat($())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat($(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat($(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",O,t]}],"min-w":[{"min-w":["min","max","fit",O,C]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[N]},N,O]}],h:[{h:[O,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",O,C]}],"max-h":[{"max-h":[O,t,"min","max","fit"]}],"font-size":[{text:["base",N,x]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",T]}],"font-family":[{font:[A]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",O]}],"line-clamp":[{"line-clamp":["none",P,T]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",O,C]}],"list-image":[{"list-image":["none",O]}],"list-style-type":[{list:["none","disc","decimal",O]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(G(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",C]}],"underline-offset":[{"underline-offset":["auto",O,C]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",O]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",O]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(K(),[S])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",k]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},E]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(G(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(G())}],"outline-offset":[{"outline-offset":[O,C]}],"outline-w":[{outline:[C]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[C]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",N,L]}],"shadow-color":[{shadow:[A]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",N,O]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",O]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",O]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",O]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[R,O]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",O]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",O]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",O]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[C,T]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var z=f(B),H=Object.prototype.hasOwnProperty,q=new Set(["string","number","boolean"]),K={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},G=e=>e||void 0,W=(...e)=>G(s(e).filter(Boolean).join(" ")),$=null,Z={},J=!1,Y=(...e)=>t=>t.twMerge?((!$||J)&&(J=!1,$=i(Z)?z:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?f.apply(void 0,[B,e].concat(n)):f.apply(void 0,[function(){return function(e,t){for(var n in t)(function e(t,n,r){if(!H.call(t,n)||q.has(typeof r)||null===r){t[n]=r;return}if(Array.isArray(r)&&Array.isArray(t[n])){t[n]=t[n].concat(r);return}if("object"==typeof r&&"object"==typeof t[n]){if(null===t[n]){t[n]=r;return}for(var i in r)e(t[n],i,r[i])}})(e,n,t[n]);return e}(B(),e)}].concat(n))}(Z)),G($(W(e)))):W(e),X=(e,t)=>{for(let n in t)e.hasOwnProperty(n)?e[n]=W(e[n],t[n]):e[n]=t[n];return e},Q=(e,t)=>{let{extend:n=null,slots:s={},variants:u={},compoundVariants:d=[],compoundSlots:h=[],defaultVariants:p={}}=e,f={...K,...t},m=null!=n&&n.base?W(n.base,null==e?void 0:e.base):null==e?void 0:e.base,g=null!=n&&n.variants&&!i(n.variants)?l(u,n.variants):u,v=null!=n&&n.defaultVariants&&!i(n.defaultVariants)?{...n.defaultVariants,...p}:p;i(f.twMergeConfig)||o(f.twMergeConfig,Z)||(J=!0,Z=f.twMergeConfig);let y=i(null==n?void 0:n.slots),b=i(s)?{}:{base:W(null==e?void 0:e.base,y&&(null==n?void 0:n.base)),...s},w=y?b:X({...null==n?void 0:n.slots},i(b)?{base:null==e?void 0:e.base}:b),_=e=>{if(i(g)&&i(s)&&y)return Y(m,null==e?void 0:e.class,null==e?void 0:e.className)(f);if(d&&!Array.isArray(d))throw TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof d}`);if(h&&!Array.isArray(h))throw TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof h}`);let t=(e,t,n=[],r)=>{let i=n;if("string"==typeof t)i=i.concat(c(t).split(" ").map(t=>`${e}:${t}`));else if(Array.isArray(t))i=i.concat(t.reduce((t,n)=>t.concat(`${e}:${n}`),[]));else if("object"==typeof t&&"string"==typeof r){for(let n in t)if(t.hasOwnProperty(n)&&n===r){let o=t[n];if(o&&"string"==typeof o){let t=c(o);i[r]?i[r]=i[r].concat(t.split(" ").map(t=>`${e}:${t}`)):i[r]=t.split(" ").map(t=>`${e}:${t}`)}else Array.isArray(o)&&o.length>0&&(i[r]=o.reduce((t,n)=>t.concat(`${e}:${n}`),[]))}}return i},o=(n,o=g,s=null,a=null)=>{var l;let c=o[n];if(!c||i(c))return null;let u=null!=(l=null==a?void 0:a[n])?l:null==e?void 0:e[n];if(null===u)return null;let d=r(u),h=Array.isArray(f.responsiveVariants)&&f.responsiveVariants.length>0||!0===f.responsiveVariants,p=null==v?void 0:v[n],m=[];if("object"==typeof d&&h)for(let[e,n]of Object.entries(d)){let r=c[n];if("initial"===e){p=n;continue}Array.isArray(f.responsiveVariants)&&!f.responsiveVariants.includes(e)||(m=t(e,r,m,s))}let y=c[d]||c[r(p)];return"object"==typeof m&&"string"==typeof s&&m[s]?X(m,y):m.length>0?(m.push(y),m):y},l=(e,t)=>{if(!g||"object"!=typeof g)return null;let n=[];for(let r in g){let i=o(r,g,e,t),s="base"===e&&"string"==typeof i?i:i&&i[e];s&&(n[n.length]=s)}return n},u={};for(let t in e)void 0!==e[t]&&(u[t]=e[t]);let p=(t,n)=>{var r;let i="object"==typeof(null==e?void 0:e[t])?{[t]:null==(r=e[t])?void 0:r.initial}:{};return{...v,...u,...i,...n}},b=(e=[],t)=>{let n=[];for(let{class:r,className:i,...o}of e){let e=!0;for(let[n,r]of Object.entries(o)){let i=p(n,t);if(Array.isArray(r)){if(!r.includes(i[n])){e=!1;break}}else if(i[n]!==r){e=!1;break}}e&&(r&&n.push(r),i&&n.push(i))}return n},_=e=>{let t=b(d,e);return a(b(null==n?void 0:n.compoundVariants,e),t)},C=e=>{let t=_(e);if(!Array.isArray(t))return t;let n={};for(let e of t)if("string"==typeof e&&(n.base=Y(n.base,e)(f)),"object"==typeof e)for(let[t,r]of Object.entries(e))n[t]=Y(n[t],r)(f);return n},x=e=>{if(h.length<1)return null;let t={};for(let{slots:n=[],class:r,className:o,...s}of h){if(!i(s)){let t=!0;for(let n of Object.keys(s)){let r=p(n,e)[n];if(void 0===r||(Array.isArray(s[n])?!s[n].includes(r):s[n]!==r)){t=!1;break}}if(!t)continue}for(let e of n)t[e]=t[e]||[],t[e].push([r,o])}return t};if(!i(s)||!y){let e={};if("object"==typeof w&&!i(w))for(let t of Object.keys(w))e[t]=e=>{var n,r;return Y(w[t],l(t,e),(null!=(n=C(e))?n:[])[t],(null!=(r=x(e))?r:[])[t],null==e?void 0:e.class,null==e?void 0:e.className)(f)};return e}return Y(m,g?Object.keys(g).map(e=>o(e,g)):null,_(),null==e?void 0:e.class,null==e?void 0:e.className)(f)};return _.variantKeys=(()=>{if(!(!g||"object"!=typeof g))return Object.keys(g)})(),_.extend=n,_.base=m,_.slots=w,_.variants=g,_.defaultVariants=v,_.compoundSlots=h,_.compoundVariants=d,_}},22970:function(e,t,n){"use strict";n.d(t,{CR:function(){return u},FC:function(){return p},Jh:function(){return l},KL:function(){return f},XA:function(){return c},ZT:function(){return i},_T:function(){return s},ev:function(){return d},mG:function(){return a},pi:function(){return o},qq:function(){return h}});var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function a(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}function l(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function d(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function p(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{var n;(n=i[e](t)).value instanceof h?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(e){u(o[0][3],e)}}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function f(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=c(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}"function"==typeof SuppressedError&&SuppressedError},30195:function(e,t,n){"use strict";let r;n.d(t,{z:function(){return e8}}),(e0=e3||(e3={})).assertEqual=e=>e,e0.assertIs=function(e){},e0.assertNever=function(e){throw Error()},e0.arrayToEnum=e=>{let t={};for(let n of e)t[n]=n;return t},e0.getValidEnumValues=e=>{let t=e0.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),n={};for(let r of t)n[r]=e[r];return e0.objectValues(n)},e0.objectValues=e=>e0.objectKeys(e).map(function(t){return e[t]}),e0.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e0.find=(e,t)=>{for(let n of e)if(t(n))return n},e0.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e0.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e0.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(e4||(e4={})).mergeShapes=(e,t)=>({...e,...t});let i=e3.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),o=e=>{switch(typeof e){case"undefined":return i.undefined;case"string":return i.string;case"number":return isNaN(e)?i.nan:i.number;case"boolean":return i.boolean;case"function":return i.function;case"bigint":return i.bigint;case"symbol":return i.symbol;case"object":if(Array.isArray(e))return i.array;if(null===e)return i.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return i.promise;if("undefined"!=typeof Map&&e instanceof Map)return i.map;if("undefined"!=typeof Set&&e instanceof Set)return i.set;if("undefined"!=typeof Date&&e instanceof Date)return i.date;return i.object;default:return i.unknown}},s=e3.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class a extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){let n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,e3.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},n=[];for(let r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}a.create=e=>new a(e);let l=(e,t)=>{let n;switch(e.code){case s.invalid_type:n=e.received===i.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case s.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,e3.jsonStringifyReplacer)}`;break;case s.unrecognized_keys:n=`Unrecognized key(s) in object: ${e3.joinValues(e.keys,", ")}`;break;case s.invalid_union:n="Invalid input";break;case s.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${e3.joinValues(e.options)}`;break;case s.invalid_enum_value:n=`Invalid enum value. Expected ${e3.joinValues(e.options)}, received '${e.received}'`;break;case s.invalid_arguments:n="Invalid function arguments";break;case s.invalid_return_type:n="Invalid function return type";break;case s.invalid_date:n="Invalid date";break;case s.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:e3.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case s.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case s.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case s.custom:n="Invalid input";break;case s.invalid_intersection_types:n="Intersection results could not be merged";break;case s.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case s.not_finite:n="Number must be finite";break;default:n=t.defaultError,e3.assertNever(e)}return{message:n}},c=l;function u(){return c}let d=e=>{let{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o},a="";for(let e of r.filter(e=>!!e).slice().reverse())a=e(s,{data:t,defaultError:a}).message;return{...i,path:o,message:i.message||a}};function h(e,t){let n=d({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,u(),l].filter(e=>!!e)});e.common.issues.push(n)}class p{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let r of t){if("aborted"===r.status)return f;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let e of t)n.push({key:await e.key,value:await e.value});return p.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let r of t){let{key:t,value:i}=r;if("aborted"===t.status||"aborted"===i.status)return f;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||r.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}}let f=Object.freeze({status:"aborted"}),m=e=>({status:"dirty",value:e}),g=e=>({status:"valid",value:e}),v=e=>"aborted"===e.status,y=e=>"dirty"===e.status,b=e=>"valid"===e.status,w=e=>"undefined"!=typeof Promise&&e instanceof Promise;(e1=e5||(e5={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},e1.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class _{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let C=(e,t)=>{if(b(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new a(e.common.issues);return this._error=t,this._error}}};function x(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=r?r:t.defaultError}:{message:null!=n?n:t.defaultError},description:i}}class k{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return o(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new p,ctx:{common:e.parent.common,data:e.data,parsedType:o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(w(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:o(e)},i=this._parseSync({data:e,path:r.path,parent:r});return C(r,i)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:o(e)},r=this._parse({data:e,path:n.path,parent:n});return C(n,await (w(r)?r:Promise.resolve(r)))}refine(e,t){let n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{let i=e(t),o=()=>r.addIssue({code:s.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(o(),!1)):!!i||(o(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new el({schema:this,typeName:e6.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ec.create(this,this._def)}nullable(){return eu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return K.create(this,this._def)}promise(){return ea.create(this,this._def)}or(e){return W.create([this,e],this._def)}and(e){return J.create(this,e,this._def)}transform(e){return new el({...x(this._def),schema:this,typeName:e6.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ed({...x(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:e6.ZodDefault})}brand(){return new em({typeName:e6.ZodBranded,type:this,...x(this._def)})}catch(e){return new eh({...x(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:e6.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eg.create(this,e)}readonly(){return ev.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let S=/^c[^\s-]{8,}$/i,E=/^[a-z][a-z0-9]*$/,T=/^[0-9A-HJKMNP-TV-Z]{26}$/,P=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,I=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,R=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,O=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,A=e=>e.precision?e.offset?RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");class N extends k{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==i.string){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.string,received:t.parsedType}),f}let n=new p;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(h(t=this._getOrReturnCtx(e,t),{code:s.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if("max"===i.kind)e.data.length>i.value&&(h(t=this._getOrReturnCtx(e,t),{code:s.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if("length"===i.kind){let r=e.data.length>i.value,o=e.data.length<i.value;(r||o)&&(t=this._getOrReturnCtx(e,t),r?h(t,{code:s.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&h(t,{code:s.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if("email"===i.kind)I.test(e.data)||(h(t=this._getOrReturnCtx(e,t),{validation:"email",code:s.invalid_string,message:i.message}),n.dirty());else if("emoji"===i.kind)r||(r=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),r.test(e.data)||(h(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:s.invalid_string,message:i.message}),n.dirty());else if("uuid"===i.kind)P.test(e.data)||(h(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:s.invalid_string,message:i.message}),n.dirty());else if("cuid"===i.kind)S.test(e.data)||(h(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:s.invalid_string,message:i.message}),n.dirty());else if("cuid2"===i.kind)E.test(e.data)||(h(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:s.invalid_string,message:i.message}),n.dirty());else if("ulid"===i.kind)T.test(e.data)||(h(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:s.invalid_string,message:i.message}),n.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){h(t=this._getOrReturnCtx(e,t),{validation:"url",code:s.invalid_string,message:i.message}),n.dirty()}else if("regex"===i.kind)i.regex.lastIndex=0,i.regex.test(e.data)||(h(t=this._getOrReturnCtx(e,t),{validation:"regex",code:s.invalid_string,message:i.message}),n.dirty());else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(h(t=this._getOrReturnCtx(e,t),{code:s.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(h(t=this._getOrReturnCtx(e,t),{code:s.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(h(t=this._getOrReturnCtx(e,t),{code:s.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty());else if("datetime"===i.kind)A(i).test(e.data)||(h(t=this._getOrReturnCtx(e,t),{code:s.invalid_string,validation:"datetime",message:i.message}),n.dirty());else if("ip"===i.kind){var o,a;o=e.data,("v4"===(a=i.version)||!a)&&R.test(o)||("v6"===a||!a)&&O.test(o)||(h(t=this._getOrReturnCtx(e,t),{validation:"ip",code:s.invalid_string,message:i.message}),n.dirty())}else e3.assertNever(i);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:s.invalid_string,...e5.errToObj(n)})}_addCheck(e){return new N({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...e5.errToObj(e)})}url(e){return this._addCheck({kind:"url",...e5.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...e5.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...e5.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...e5.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...e5.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...e5.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...e5.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...e5.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...e5.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...e5.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...e5.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...e5.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...e5.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...e5.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...e5.errToObj(t)})}nonempty(e){return this.min(1,e5.errToObj(e))}trim(){return new N({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}N.create=e=>{var t;return new N({checks:[],typeName:e6.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...x(e)})};class L extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==i.number){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.number,received:t.parsedType}),f}let n=new p;for(let r of this._def.checks)"int"===r.kind?e3.isInteger(e.data)||(h(t=this._getOrReturnCtx(e,t),{code:s.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(h(t=this._getOrReturnCtx(e,t),{code:s.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(h(t=this._getOrReturnCtx(e,t),{code:s.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==function(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}(e.data,r.value)&&(h(t=this._getOrReturnCtx(e,t),{code:s.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(h(t=this._getOrReturnCtx(e,t),{code:s.not_finite,message:r.message}),n.dirty()):e3.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,e5.toString(t))}gt(e,t){return this.setLimit("min",e,!1,e5.toString(t))}lte(e,t){return this.setLimit("max",e,!0,e5.toString(t))}lt(e,t){return this.setLimit("max",e,!1,e5.toString(t))}setLimit(e,t,n,r){return new L({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:e5.toString(r)}]})}_addCheck(e){return new L({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:e5.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:e5.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:e5.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:e5.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:e5.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:e5.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:e5.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:e5.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:e5.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&e3.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}L.create=e=>new L({checks:[],typeName:e6.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...x(e)});class M extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==i.bigint){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.bigint,received:t.parsedType}),f}let n=new p;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(h(t=this._getOrReturnCtx(e,t),{code:s.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(h(t=this._getOrReturnCtx(e,t),{code:s.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(h(t=this._getOrReturnCtx(e,t),{code:s.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):e3.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,e5.toString(t))}gt(e,t){return this.setLimit("min",e,!1,e5.toString(t))}lte(e,t){return this.setLimit("max",e,!0,e5.toString(t))}lt(e,t){return this.setLimit("max",e,!1,e5.toString(t))}setLimit(e,t,n,r){return new M({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:e5.toString(r)}]})}_addCheck(e){return new M({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:e5.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:e5.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:e5.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:e5.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:e5.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}M.create=e=>{var t;return new M({checks:[],typeName:e6.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...x(e)})};class D extends k{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==i.boolean){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.boolean,received:t.parsedType}),f}return g(e.data)}}D.create=e=>new D({typeName:e6.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...x(e)});class j extends k{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==i.date){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.date,received:t.parsedType}),f}if(isNaN(e.data.getTime()))return h(this._getOrReturnCtx(e),{code:s.invalid_date}),f;let n=new p;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(h(t=this._getOrReturnCtx(e,t),{code:s.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(h(t=this._getOrReturnCtx(e,t),{code:s.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):e3.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new j({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:e5.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:e5.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}j.create=e=>new j({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:e6.ZodDate,...x(e)});class U extends k{_parse(e){if(this._getType(e)!==i.symbol){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.symbol,received:t.parsedType}),f}return g(e.data)}}U.create=e=>new U({typeName:e6.ZodSymbol,...x(e)});class F extends k{_parse(e){if(this._getType(e)!==i.undefined){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.undefined,received:t.parsedType}),f}return g(e.data)}}F.create=e=>new F({typeName:e6.ZodUndefined,...x(e)});class V extends k{_parse(e){if(this._getType(e)!==i.null){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.null,received:t.parsedType}),f}return g(e.data)}}V.create=e=>new V({typeName:e6.ZodNull,...x(e)});class B extends k{constructor(){super(...arguments),this._any=!0}_parse(e){return g(e.data)}}B.create=e=>new B({typeName:e6.ZodAny,...x(e)});class z extends k{constructor(){super(...arguments),this._unknown=!0}_parse(e){return g(e.data)}}z.create=e=>new z({typeName:e6.ZodUnknown,...x(e)});class H extends k{_parse(e){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.never,received:t.parsedType}),f}}H.create=e=>new H({typeName:e6.ZodNever,...x(e)});class q extends k{_parse(e){if(this._getType(e)!==i.undefined){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.void,received:t.parsedType}),f}return g(e.data)}}q.create=e=>new q({typeName:e6.ZodVoid,...x(e)});class K extends k{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==i.array)return h(t,{code:s.invalid_type,expected:i.array,received:t.parsedType}),f;if(null!==r.exactLength){let e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(h(t,{code:e?s.too_big:s.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(h(t,{code:s.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(h(t,{code:s.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new _(t,e,t.path,n)))).then(e=>p.mergeArray(n,e));let o=[...t.data].map((e,n)=>r.type._parseSync(new _(t,e,t.path,n)));return p.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new K({...this._def,minLength:{value:e,message:e5.toString(t)}})}max(e,t){return new K({...this._def,maxLength:{value:e,message:e5.toString(t)}})}length(e,t){return new K({...this._def,exactLength:{value:e,message:e5.toString(t)}})}nonempty(e){return this.min(1,e)}}K.create=(e,t)=>new K({type:e,minLength:null,maxLength:null,exactLength:null,typeName:e6.ZodArray,...x(t)});class G extends k{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=e3.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==i.object){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.object,received:t.parsedType}),f}let{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof H&&"strip"===this._def.unknownKeys))for(let e in n.data)o.includes(e)||a.push(e);let l=[];for(let e of o){let t=r[e],i=n.data[e];l.push({key:{status:"valid",value:e},value:t._parse(new _(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof H){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)l.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)a.length>0&&(h(n,{code:s.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let r=n.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new _(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of l){let n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e}).then(e=>p.mergeObjectSync(t,e)):p.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return e5.errToObj,new G({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,o,s;let a=null!==(o=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==o?o:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=e5.errToObj(e).message)&&void 0!==s?s:a}:{message:a}}}:{}})}strip(){return new G({...this._def,unknownKeys:"strip"})}passthrough(){return new G({...this._def,unknownKeys:"passthrough"})}extend(e){return new G({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new G({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:e6.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new G({...this._def,catchall:e})}pick(e){let t={};return e3.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new G({...this._def,shape:()=>t})}omit(e){let t={};return e3.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new G({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof G){let n={};for(let r in t.shape){let i=t.shape[r];n[r]=ec.create(e(i))}return new G({...t._def,shape:()=>n})}return t instanceof K?new K({...t._def,type:e(t.element)}):t instanceof ec?ec.create(e(t.unwrap())):t instanceof eu?eu.create(e(t.unwrap())):t instanceof Y?Y.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return e3.objectKeys(this.shape).forEach(n=>{let r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}),new G({...this._def,shape:()=>t})}required(e){let t={};return e3.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof ec;)e=e._def.innerType;t[n]=e}}),new G({...this._def,shape:()=>t})}keyof(){return ei(e3.objectKeys(this.shape))}}G.create=(e,t)=>new G({shape:()=>e,unknownKeys:"strip",catchall:H.create(),typeName:e6.ZodObject,...x(t)}),G.strictCreate=(e,t)=>new G({shape:()=>e,unknownKeys:"strict",catchall:H.create(),typeName:e6.ZodObject,...x(t)}),G.lazycreate=(e,t)=>new G({shape:e,unknownKeys:"strip",catchall:H.create(),typeName:e6.ZodObject,...x(t)});class W extends k{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{let n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;let n=e.map(e=>new a(e.ctx.common.issues));return h(t,{code:s.invalid_union,unionErrors:n}),f});{let e;let r=[];for(let i of n){let n={...t,common:{...t.common,issues:[]},parent:null},o=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=r.map(e=>new a(e));return h(t,{code:s.invalid_union,unionErrors:i}),f}}get options(){return this._def.options}}W.create=(e,t)=>new W({options:e,typeName:e6.ZodUnion,...x(t)});let $=e=>{if(e instanceof en)return $(e.schema);if(e instanceof el)return $(e.innerType());if(e instanceof er)return[e.value];if(e instanceof eo)return e.options;if(e instanceof es)return Object.keys(e.enum);if(e instanceof ed)return $(e._def.innerType);if(e instanceof F)return[void 0];else if(e instanceof V)return[null];else return null};class Z extends k{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.object)return h(t,{code:s.invalid_type,expected:i.object,received:t.parsedType}),f;let n=this.discriminator,r=t.data[n],o=this.optionsMap.get(r);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(h(t,{code:s.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),f)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let r=new Map;for(let n of t){let t=$(n.shape[e]);if(!t)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(r.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new Z({typeName:e6.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...x(n)})}}class J extends k{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(v(e)||v(r))return f;let a=function e(t,n){let r=o(t),s=o(n);if(t===n)return{valid:!0,data:t};if(r===i.object&&s===i.object){let r=e3.objectKeys(n),i=e3.objectKeys(t).filter(e=>-1!==r.indexOf(e)),o={...t,...n};for(let r of i){let i=e(t[r],n[r]);if(!i.valid)return{valid:!1};o[r]=i.data}return{valid:!0,data:o}}if(r===i.array&&s===i.array){if(t.length!==n.length)return{valid:!1};let r=[];for(let i=0;i<t.length;i++){let o=e(t[i],n[i]);if(!o.valid)return{valid:!1};r.push(o.data)}return{valid:!0,data:r}}return r===i.date&&s===i.date&&+t==+n?{valid:!0,data:t}:{valid:!1}}(e.value,r.value);return a.valid?((y(e)||y(r))&&t.dirty(),{status:t.value,value:a.data}):(h(n,{code:s.invalid_intersection_types}),f)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}J.create=(e,t,n)=>new J({left:e,right:t,typeName:e6.ZodIntersection,...x(n)});class Y extends k{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.array)return h(n,{code:s.invalid_type,expected:i.array,received:n.parsedType}),f;if(n.data.length<this._def.items.length)return h(n,{code:s.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),f;!this._def.rest&&n.data.length>this._def.items.length&&(h(n,{code:s.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let r=[...n.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new _(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>p.mergeArray(t,e)):p.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Y({...this._def,rest:e})}}Y.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Y({items:e,typeName:e6.ZodTuple,rest:null,...x(t)})};class X extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.object)return h(n,{code:s.invalid_type,expected:i.object,received:n.parsedType}),f;let r=[],o=this._def.keyType,a=this._def.valueType;for(let e in n.data)r.push({key:o._parse(new _(n,e,n.path,e)),value:a._parse(new _(n,n.data[e],n.path,e))});return n.common.async?p.mergeObjectAsync(t,r):p.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new X(t instanceof k?{keyType:e,valueType:t,typeName:e6.ZodRecord,...x(n)}:{keyType:N.create(),valueType:e,typeName:e6.ZodRecord,...x(t)})}}class Q extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.map)return h(n,{code:s.invalid_type,expected:i.map,received:n.parsedType}),f;let r=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map(([e,t],i)=>({key:r._parse(new _(n,e,n.path,[i,"key"])),value:o._parse(new _(n,t,n.path,[i,"value"]))}));if(n.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let n of a){let r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return f;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let n of a){let r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return f;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}Q.create=(e,t,n)=>new Q({valueType:t,keyType:e,typeName:e6.ZodMap,...x(n)});class ee extends k{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.set)return h(n,{code:s.invalid_type,expected:i.set,received:n.parsedType}),f;let r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(h(n,{code:s.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(h(n,{code:s.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let o=this._def.valueType;function a(e){let n=new Set;for(let r of e){if("aborted"===r.status)return f;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}let l=[...n.data.values()].map((e,t)=>o._parse(new _(n,e,n.path,t)));return n.common.async?Promise.all(l).then(e=>a(e)):a(l)}min(e,t){return new ee({...this._def,minSize:{value:e,message:e5.toString(t)}})}max(e,t){return new ee({...this._def,maxSize:{value:e,message:e5.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ee.create=(e,t)=>new ee({valueType:e,minSize:null,maxSize:null,typeName:e6.ZodSet,...x(t)});class et extends k{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.function)return h(t,{code:s.invalid_type,expected:i.function,received:t.parsedType}),f;function n(e,n){return d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,u(),l].filter(e=>!!e),issueData:{code:s.invalid_arguments,argumentsError:n}})}function r(e,n){return d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,u(),l].filter(e=>!!e),issueData:{code:s.invalid_return_type,returnTypeError:n}})}let o={errorMap:t.common.contextualErrorMap},c=t.data;if(this._def.returns instanceof ea){let e=this;return g(async function(...t){let i=new a([]),s=await e._def.args.parseAsync(t,o).catch(e=>{throw i.addIssue(n(t,e)),i}),l=await Reflect.apply(c,this,s);return await e._def.returns._def.type.parseAsync(l,o).catch(e=>{throw i.addIssue(r(l,e)),i})})}{let e=this;return g(function(...t){let i=e._def.args.safeParse(t,o);if(!i.success)throw new a([n(t,i.error)]);let s=Reflect.apply(c,this,i.data),l=e._def.returns.safeParse(s,o);if(!l.success)throw new a([r(s,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new et({...this._def,args:Y.create(e).rest(z.create())})}returns(e){return new et({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new et({args:e||Y.create([]).rest(z.create()),returns:t||z.create(),typeName:e6.ZodFunction,...x(n)})}}class en extends k{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}en.create=(e,t)=>new en({getter:e,typeName:e6.ZodLazy,...x(t)});class er extends k{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return h(t,{received:t.data,code:s.invalid_literal,expected:this._def.value}),f}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ei(e,t){return new eo({values:e,typeName:e6.ZodEnum,...x(t)})}er.create=(e,t)=>new er({value:e,typeName:e6.ZodLiteral,...x(t)});class eo extends k{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),n=this._def.values;return h(t,{expected:e3.joinValues(n),received:t.parsedType,code:s.invalid_type}),f}if(-1===this._def.values.indexOf(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return h(t,{received:t.data,code:s.invalid_enum_value,options:n}),f}return g(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return eo.create(e)}exclude(e){return eo.create(this.options.filter(t=>!e.includes(t)))}}eo.create=ei;class es extends k{_parse(e){let t=e3.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==i.string&&n.parsedType!==i.number){let e=e3.objectValues(t);return h(n,{expected:e3.joinValues(e),received:n.parsedType,code:s.invalid_type}),f}if(-1===t.indexOf(e.data)){let e=e3.objectValues(t);return h(n,{received:n.data,code:s.invalid_enum_value,options:e}),f}return g(e.data)}get enum(){return this._def.values}}es.create=(e,t)=>new es({values:e,typeName:e6.ZodNativeEnum,...x(t)});class ea extends k{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==i.promise&&!1===t.common.async?(h(t,{code:s.invalid_type,expected:i.promise,received:t.parsedType}),f):g((t.parsedType===i.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ea.create=(e,t)=>new ea({type:e,typeName:e6.ZodPromise,...x(t)});class el extends k{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===e6.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{h(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){let e=r.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then(e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n})):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===r.type){let e=e=>{let t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?f:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))));{let r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?f:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}}if("transform"===r.type){if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>b(e)?Promise.resolve(r.transform(e.value,i)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!b(e))return e;let o=r.transform(e.value,i);if(o instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}}e3.assertNever(r)}}el.create=(e,t,n)=>new el({schema:e,typeName:e6.ZodEffects,effect:t,...x(n)}),el.createWithPreprocess=(e,t,n)=>new el({schema:t,effect:{type:"preprocess",transform:e},typeName:e6.ZodEffects,...x(n)});class ec extends k{_parse(e){return this._getType(e)===i.undefined?g(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ec.create=(e,t)=>new ec({innerType:e,typeName:e6.ZodOptional,...x(t)});class eu extends k{_parse(e){return this._getType(e)===i.null?g(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eu.create=(e,t)=>new eu({innerType:e,typeName:e6.ZodNullable,...x(t)});class ed extends k{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===i.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ed.create=(e,t)=>new ed({innerType:e,typeName:e6.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...x(t)});class eh extends k{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return w(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new a(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new a(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}eh.create=(e,t)=>new eh({innerType:e,typeName:e6.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...x(t)});class ep extends k{_parse(e){if(this._getType(e)!==i.nan){let t=this._getOrReturnCtx(e);return h(t,{code:s.invalid_type,expected:i.nan,received:t.parsedType}),f}return{status:"valid",value:e.data}}}ep.create=e=>new ep({typeName:e6.ZodNaN,...x(e)});let ef=Symbol("zod_brand");class em extends k{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class eg extends k{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?f:"dirty"===e.status?(t.dirty(),m(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{let e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?f:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new eg({in:e,out:t,typeName:e6.ZodPipeline})}}class ev extends k{_parse(e){let t=this._def.innerType._parse(e);return b(t)&&(t.value=Object.freeze(t.value)),t}}ev.create=(e,t)=>new ev({innerType:e,typeName:e6.ZodReadonly,...x(t)});let ey=(e,t={},n)=>e?B.create().superRefine((r,i)=>{var o,s;if(!e(r)){let e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,a=null===(s=null!==(o=e.fatal)&&void 0!==o?o:n)||void 0===s||s;i.addIssue({code:"custom",..."string"==typeof e?{message:e}:e,fatal:a})}}):B.create(),eb={object:G.lazycreate};(e2=e6||(e6={})).ZodString="ZodString",e2.ZodNumber="ZodNumber",e2.ZodNaN="ZodNaN",e2.ZodBigInt="ZodBigInt",e2.ZodBoolean="ZodBoolean",e2.ZodDate="ZodDate",e2.ZodSymbol="ZodSymbol",e2.ZodUndefined="ZodUndefined",e2.ZodNull="ZodNull",e2.ZodAny="ZodAny",e2.ZodUnknown="ZodUnknown",e2.ZodNever="ZodNever",e2.ZodVoid="ZodVoid",e2.ZodArray="ZodArray",e2.ZodObject="ZodObject",e2.ZodUnion="ZodUnion",e2.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e2.ZodIntersection="ZodIntersection",e2.ZodTuple="ZodTuple",e2.ZodRecord="ZodRecord",e2.ZodMap="ZodMap",e2.ZodSet="ZodSet",e2.ZodFunction="ZodFunction",e2.ZodLazy="ZodLazy",e2.ZodLiteral="ZodLiteral",e2.ZodEnum="ZodEnum",e2.ZodEffects="ZodEffects",e2.ZodNativeEnum="ZodNativeEnum",e2.ZodOptional="ZodOptional",e2.ZodNullable="ZodNullable",e2.ZodDefault="ZodDefault",e2.ZodCatch="ZodCatch",e2.ZodPromise="ZodPromise",e2.ZodBranded="ZodBranded",e2.ZodPipeline="ZodPipeline",e2.ZodReadonly="ZodReadonly";let ew=N.create,e_=L.create,eC=ep.create,ex=M.create,ek=D.create,eS=j.create,eE=U.create,eT=F.create,eP=V.create,eI=B.create,eR=z.create,eO=H.create,eA=q.create,eN=K.create,eL=G.create,eM=G.strictCreate,eD=W.create,ej=Z.create,eU=J.create,eF=Y.create,eV=X.create,eB=Q.create,ez=ee.create,eH=et.create,eq=en.create,eK=er.create,eG=eo.create,eW=es.create,e$=ea.create,eZ=el.create,eJ=ec.create,eY=eu.create,eX=el.createWithPreprocess,eQ=eg.create;var e0,e1,e2,e3,e4,e5,e6,e8=Object.freeze({__proto__:null,defaultErrorMap:l,setErrorMap:function(e){c=e},getErrorMap:u,makeIssue:d,EMPTY_PATH:[],addIssueToContext:h,ParseStatus:p,INVALID:f,DIRTY:m,OK:g,isAborted:v,isDirty:y,isValid:b,isAsync:w,get util(){return e3},get objectUtil(){return e4},ZodParsedType:i,getParsedType:o,ZodType:k,ZodString:N,ZodNumber:L,ZodBigInt:M,ZodBoolean:D,ZodDate:j,ZodSymbol:U,ZodUndefined:F,ZodNull:V,ZodAny:B,ZodUnknown:z,ZodNever:H,ZodVoid:q,ZodArray:K,ZodObject:G,ZodUnion:W,ZodDiscriminatedUnion:Z,ZodIntersection:J,ZodTuple:Y,ZodRecord:X,ZodMap:Q,ZodSet:ee,ZodFunction:et,ZodLazy:en,ZodLiteral:er,ZodEnum:eo,ZodNativeEnum:es,ZodPromise:ea,ZodEffects:el,ZodTransformer:el,ZodOptional:ec,ZodNullable:eu,ZodDefault:ed,ZodCatch:eh,ZodNaN:ep,BRAND:ef,ZodBranded:em,ZodPipeline:eg,ZodReadonly:ev,custom:ey,Schema:k,ZodSchema:k,late:eb,get ZodFirstPartyTypeKind(){return e6},coerce:{string:e=>N.create({...e,coerce:!0}),number:e=>L.create({...e,coerce:!0}),boolean:e=>D.create({...e,coerce:!0}),bigint:e=>M.create({...e,coerce:!0}),date:e=>j.create({...e,coerce:!0})},any:eI,array:eN,bigint:ex,boolean:ek,date:eS,discriminatedUnion:ej,effect:eZ,enum:eG,function:eH,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>ey(t=>t instanceof e,t),intersection:eU,lazy:eq,literal:eK,map:eB,nan:eC,nativeEnum:eW,never:eO,null:eP,nullable:eY,number:e_,object:eL,oboolean:()=>ek().optional(),onumber:()=>e_().optional(),optional:eJ,ostring:()=>ew().optional(),pipeline:eQ,preprocess:eX,promise:e$,record:eV,set:ez,strictObject:eM,string:ew,symbol:eE,transformer:eZ,tuple:eF,undefined:eT,union:eD,unknown:eR,void:eA,NEVER:f,ZodIssueCode:s,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:a})},68765:function(e,t,n){"use strict";n.d(t,{BF:function(){return o},td:function(){return r.td}});var r=n(66712),i=n(2784);function o(e){let[t,n]=(0,i.useState)(e.value);return(0,i.useEffect)(()=>(0,r.cE)(()=>n(e.value)),[e]),t}var s=Symbol.for("react.element");Object.defineProperties(r.MZ.prototype,{$$typeof:{configurable:!0,value:s},type:{configurable:!0,value:function({data:e}){return o(e)}},props:{configurable:!0,get(){return{data:this}}},ref:{configurable:!0,value:null}})},71754:function(e){"use strict";e.exports=JSON.parse('{"Guide":{"character-book":"Character Book","blog":"Blog","home":"Home","chats":"Chats","discover":"Discover","create":"Create","character":"Character","voice":"Voice","remove-from-recents":"Remove from recents","RecentChatCategoryTitles":{"today":"Today","yesterday":"Yesterday","this-week":"This Week","last-week":"Last Week","this-month":"This Month","a-while-ago":"A While Ago"},"recent-chats":"Recent chats","research":"Research","scenes":"Scenes"},"Categories":{"adventure":"Adventure","advice-and-connection":"Advice & Connection","all":"All","anime":"Anime","assistants":"Assistants","astrology":"Astrology","creative_writing":"Creative Writing","creativity":"Creativity","emotional_support":"Emotional Support","emotional_wellness":"Emotional Wellness","entertainment":"Entertainment","entertainment-and-gaming":"Entertainment & Gaming","fantasy":"Fantasy","fortune_tellers":"Fortune Tellers","friendship":"Friendship","games":"Games","games-and-puzzles":"Games & Puzzles","health-and-wellness":"Health & Wellness","history":"History","history-and-philosophy":"History & Philosophy","humor":"Humor","language-learning":"Language Learning","learn_a_language":"Learn a Language","learning":"Learning","lgbtq":"LGBTQ+","lifestyle":"Lifestyle","music_and_audio":"Music","mystery":"Mystery","paranormal":"Paranormal","parody":"Parody","personal_growth":"Personal Growth","productivity":"Productivity","professional":"Professional","religion":"Religion","role-playing":"Role Playing","romance":"Romance","role-playing-games":"Role Playing Games","rpg-and-puzzles":"RPG & Puzzles","school-and-homework":"School & Homework","sci-fi":"Sci-Fi","sci_fi":"Sci-Fi","speaking_practice":"Speaking Practice","technology_and_coding":"Technology & Coding","trivia":"Trivia","trending":"Trending","video_games":"Video Games","writing":"Creativity & Writing"},"Feed":{"for-you":"For you","try-these":"Try these","featured":"Featured","try-saying":"Try saying","because-you-liked":"Because you liked {{ name }}","because-you-chatted":"Because you chatted with {{ name }}","UseCases":{"practice-a-new-language":"Practice a new language","brainstorm-ideas":"Brainstorm ideas","get-book-recommendations":"Get book recommendations","plan-a-trip":"Plan a trip","practice-interviewing":"Practice interviewing","write-a-story":"Write a story","play-a-game":"Play a game","help-me-make-a-decision":"Help me make a decision"},"with-character":"with {{name}}","Categories":{"All":"All","Anime":"Anime","Helpers":"Helpers","Anime Game Characters":"Anime Game Characters","Games":"Games","Game Characters":"Game Characters","Comedy":"Comedy","VTuber":"VTuber","Books":"Books","Image Generating":"Image Generating","Discussion":"Discussion","History":"History","Language Learning":"Language Learning","Religion":"Religion","Animals":"Animals","Philosophy":"Philosophy","Politics":"Politics"},"ExampleChats":{"CharacterAssistant":{"q0":"What type of fish is Dory from Finding Nemo?","q1":"Create an ad campaign for a new video game","q2":"Decide between the Macbook Air and Macbook Pro"},"ElonMusk":{"q0":"Why did you buy twitter?","q1":"What do you think about Jeff Bezos\' Blue Origin?","q2":"If you could time travel, when/where would you go?"},"AlternateTimeline":{"q0":"What if I invented a portal gun?","q1":"Access to my own personal time machine","q2":"Make me the negotiator for the first alien encounter"},"WhoWouldWin":{"q0":"Batman vs. Superman","q1":"Knight vs. Samurai","q2":"Lebron James vs. Michael Jordan"},"AreYouFeelingOkay":{"q0":"I had a hard time at work today","q1":"How can I be more successful in my profession","q2":"What is a good way to make a big change in life?"},"DebateChampion":{"q0":"Star Wars is overrated","q1":"Pepsi is better than Coca-Cola","q2":"Cats are better than dogs"}},"recommended":"Recommended","popular":"Popular","trending":"Trending","no-characters-found":"No characters found for this topic"},"CharacterEditor":{"best-practices":"Best practices","create-character":"Create Character","save-changes":"Save Changes","new-character":"New Character...","editing-character":"Editing {{name}}...","placeholder":"Search tags","Step":{"customize":"Customize","advanced":"Advanced"},"Form":{"character-name":"Character name","character-name-placeholder":"e.g. Albert Einstein","tagline":"Tagline","tagline-placeholder":"Add a short tagline of your Character","tagline-tooltip":"How your Character would describe themselves","description":"Description","description-placeholder":"How would your Character describe themselves?","description-tooltip":"How your Character would describe themselves","greeting":"Greeting","greeting-placeholder":"e.g. Hello, I am Albert. Ask me anything about my scientific contributions.","greeting-tooltip":"The first thing your Character will say at the beginning of every chat","dynamic-greeting-enabled":"Allow dynamic greetings","dynamic-greeting-enabled-tooltip":"Generate unique greetings based on your Character\'s personality, making each interaction feel new and engaging.","voice":"Voice","visibility":"Visibility","definition":"Definition","character-definition":"Definition","character-definition-placeholder":"What\'s your Character\'s backstory? How do you want it to talk or act?","character-definition-tooltip":"Specific instructions on how your bot will behave and how it responds to messages","keep-character-definition-private":"Keep Character definition private","more-options":"More options","GenerateAvatar":{"generate-image":"Generate image","upload-image":"Upload image","describe-character":"Describe Character","what-does-your-character-look-like":"What does your Character look like?","what-does-character-name-look-like":"What does {{ name }} look like?"},"tags-are-used-to-categorize-your-character":"Tags are used to categorize your character","maximum-number-of-tags-selected-num":"Maximum number of tags ({{num}}) selected"},"failed-to-save-changes-not-community-guidelines":"Failed to save your Character. Your changes may not meet Character.AI community guidelines.","no-perms":"You do not have permissions to edit this Character","character-created":"Success: Character created","character-updated":"Success: Character updated","character-created-failed":"Failed to create your Character. Please try again.","character-updated-failed":"Failed to update your Character. Please try again.","editing-locked":"Congratulations! Editing is locked at this time since your Character has many fans. Please see our Terms of Service for details.","sign-up-to-create-character":"Sign up or log in to create a Character","save-and-chat":"Save and Chat","user-message":"User message","character-message":"Character message","end-of-dialog":"End of dialog","add-new-dialog":"Add new dialog","other-info":"Other info","example-conversation":"Example conversation #{{number}}","text-mode":"Text Mode","interactive-mode":"Interactive Mode","interactive-warning":"Warning - Interactive mode may change the format of existing definition.","please-review-before-saving":"Please review before saving.","tags":"Tags","no-matching-tags":"No matching tags. If you\'d like to use this tag, please <1>request it</1>","tag-requested-thanks-for-the-input":"Tag requested! Thanks for the input!"},"VoiceEditor":{"create-voice":"Create Voice","save-changes":"Save Changes","no-perms":"You do not have permissions to edit this voice"},"Chat":{"similar-characters":"Similar Characters","title":"Chat with {{name}}","view-pinned-memories":"Pinned","chat-pinned-memories":"Pinned","view-chat-history":"View Chat History","chat-history":"History","view-archived-chats":"View Archived Chats","archived-history":"Archived History","archived-chat":"Chat archived","unarchived-chat":"Chat unarchived","previous-conversations":"Previous conversations","start-new-chat":"New chat","share-character":"Share","view-character-profile":"View Character profile","view-creator-profile":"View Creator profile","enable-voice":"Voice","disable-voice":"Disable Voice","voice-inactivity":"Voice muted due to inactivity","enable-voice-tooltip":"Turn voice on","disable-voice-tooltip":"Turn voice off","change-voice":"Change Voice","call-character":"Call Character","change-persona":"Change Persona","edit-character":"Edit Character","copy-character":"Copy Character","Image":{"something-went-wrong-making-this-image":"Something went wrong making this image","something-went-wrong-loading-this-image":"Something went wrong loading this image","creating-image":"Creating image"},"delete-messages":"Remove message","are-you-sure-you-want-to-delete-this-message":"Are you sure you want to remove this message?","delete-messages-action":"Remove message","report":"Report","Filter":{"you-can-continue-the-conversation-or-generate-a-new-response-by-swiping":"Send a new message to continue the conversation","sometimes-the-ai-generates-a-reply-that-doesnt-meet-our-guidelines":"This content has been filtered. Please make sure your chats comply with our Terms and Community Guidelines.","reported":"Reported"},"edited":"(edited)","edit-message":"Edit message","submit-edit":"Submit edit","tooltip-message-edited-by-user":"Message edited by user","created-by":"Created by <2>{{author}}</2>","send-a-message":"Send a message...","message":"Message...","message-char":"Message {{char}}...","rewind-conversation":"Rewind to here","duplicate-conversation":"New chat from here","duplicate-chat-started":"New chat started","do-not-leave-page":"Please wait. A new tab will open with your new chat.","are-you-sure-you-want-to-rewind-the-conversation-to-this-point":"Are you sure you want to rewind the conversation to this point?","rewind":"Rewind","rewind-successful":"Rewind successful","delete-successful":"Message successfully removed","delete-unsuccessful":"Something went wrong deleting message","sign-up-to-chat-with-character-name":"Sign up to chat with {{character}}","pin-message":"Pin message","unpin-message":"Unpin message","max-pin-limit-reached":"Maximum pinned memory limit reached","pinned":"Pinned","third-party-translation-detected-text-formatting-disabled":"Third-party translation detected, text formatting disabled","chat-with-character-on-character-ai":"Chat with {{ character }} on Character.AI!","are-you-sure-you-want-to-unpin":"Are you sure you want to unpin this memory?","no-pinned-memories-yet":"You don\'t have any pinned memories for this chat yet","no-archived-chats-yet":"No archived chats yet","no-chats-yet":"No chats yet","to-pin-a-memory":"To pin a memory, press on the three dots next to a chat message. This way, {{ name }} will always remember that message in this chat.","the-character":"the Character","sorry-this-character-is-not-available-to-chat":"Sorry, this Character is not available to chat","something-went-wrong-loading-the-chat":"Something went wrong loading the chat","reply-idea":"Reply idea","try-this-reply":"Try this reply","reply-idea-title":"Reply idea:","generate-reply":"Generate reply","sending-as":"Sending as: {{persona}}","too-many-messages-to-duplicate":"Too many messages to duplicate","too-many-model-changes":"Please wait a few minutes before switching chat styles again","upsells":{"upgrade-for-better-memory":"<0>Upgrade</0> for better memory","upgrade-for-faster-response-times":"<0>Upgrade</0> for faster response times","receiving-slow-responses":"Receiving slower responses.","slow-mode-until-time":"<0>Slow mode</0> until {{ time }}","expect-slower-responses-learn-more":"Expect slower responses <0>Learn more</0>","discount":"60% off c.ai+ your first month","discount-v2":"c.ai+ for <1>$9.99</1> $3.99 your first month"},"upgrade":"Upgrade","upgrade-suffix--for-faster-response-times":"for faster response times","play-voice":"Play voice","stop-voice":"Stop voice","abort-voice":"Abort voice","scroll-to-bottom":"Go to most recent message","ai-conversation-reset":"AI conversation reset","reset-ai-conversation":"Reset AI conversation","leave-room":"Leave group","delete-room":"Delete group","auto-reply":"Auto-reply","characters-can-auto-reply":"Characters can auto-reply","participants-count":"{{count}} participants","message-placeholder":"Message","view-room-details":"View group details","edit-room":"Edit group","create":"Create","room-characters-count":"Characters: {{count}} / {{max}}","are-you-sure-you-want-to-delete-this-room":"Are you sure you want to delete this group chat?","are-you-sure-you-want-to-leave-this-room":"Are you sure you want to leave this group chat?","remove-user":"Remove User","are-you-sure-you-want-to-kick-user-from-this-room":"Are you sure you want to kick {{user}} from this group?","sorry-this-room-is-unavailable-to-you":"Sorry this group chat is unavailable to you","edit-group-name":"Edit group name","enter-group-name":"Enter group name","disabled-with-other-humans-header":"Currently Unavailable","disabled-with-other-humans-body":"Chats with other people are currently unsupported. Create a new group chat only with Characters in the meantime.","user-input-filtered-message":"Your message may not meet our community guidelines and wasn\'t sent","licensed-professional-disclaimer":"This is not a real person or licensed professional. Nothing said here is a substitute for professional advice, diagnosis, or treatment.","ChatModelSelectorModal":{"title":"Chat style","subtitle":"Choose a model to influence the style of your chat","model-smart-description-v2":"Smart and more thoughtful","model-fast-description-v2":"Quick wits, faster words","model-default-description-v2":"Mix of speed & smarts","model-family-friendly-description":"Less spicy","model-memory-optimized-description":"Remembers details longer","model-romantic-description":"Cool for the summer","model-multilingual-description":"Better at languages","model-dynamic-description":"Pick the best for me","model-thinking-description":"Thoughtful and strategic","tooltip-model-availability":"The actual model used may vary based on system load and availability","dont-show-again":"Don\'t show again","start-chat":"Start new chat","upgrade-and-start-chat":"Upgrade and start new chat","continue-chat":"Continue chat","use-for-all-chats":"Use for all chats","unlocked-toast":"You\'ve unlocked Chat Styles!","style":"Style","beta-models":"Experimental models","beta-models-description":"You\'re one of the lucky first users to experience these experimental chat styles! These styles may evolve or be removed in the future so try them today."},"add-image":"Add Image","imagine-soon":"Imagine [soon]","chat-on-app":"Chat on the app"},"Feedback":{"tell-us-more":"Tell us more","submit-feedback":"Submit feedback","save-details":"Save details","anything-else":"Additional details","feedback":"Feedback","voice-feedback":"Voice Feedback","text-feedback":"Text Feedback"},"Voice":{"voices":"Voices","voice":"Voice","discover":"Discover","your-voices":"Your voices","recent":"Recent","saved":"Saved","play-sample":"Play Sample","select":"Select","no-voices":"No voices","enabled":"Voice enabled","error":"Voice error - try again","default":"Creator suggested","selected":"Currently Selected","system-suggested":"System suggested","search-label":"Search","enable-voice":"Give this Character a Voice","hold-to-change-voice":"Press & hold to switch voices","toggle-voice":"Toggle Character Voice","voice-on":"Voice On","voice-off":"Voice Muted","voice-error":"Voice error, try again","voice-inactivity":"Voice muted due to inactivity","voice-call-connection-failed":"Voice call connection failed","microphone-error":"Microphone error","you-probably-havent-granted-microphone-permissions":"You probably haven\'t granted microphone permissions"},"VoiceDetail":{"recent-chats":"Try with a recent chat","suggested-characters":"Try with these Characters"},"Form":{"labels":{"username":"Username","name":"Display Name","bio":"Description","date":"Birthday","email":"Email","month":"Month","day":"Day","year":"Year"},"cancel":"Cancel","confirm":"Confirm","save":"Save","remove":"Remove","invalid-characters":"Your input contains one or more invalid characters.","date-required-error":"Your date of birth is required","date-min-error":"That date is too far in the past","date-max-error":"That date is too far in the future","date-day-range-error":"Day must be between 1 and 31","date-year-range-error":"Year must be between {{minYear}} and {{maxYear}}"},"Home":{"hide-character":"Hide Character","title":"Character.AI","welcome-back":"Welcome back,","create-a-character":"Create a Character","not-vibing":"Not vibing with any Characters? Create one of your own! Customize things like their voice, conversation starts, their tone, and more!","witty":"witty","mentor":"mentor","more-options":"More Options","introducing-character-calls":"Introducing Character Calls","compact-try-it-on-the-c-ai-mobile-app":"Try it on the c.ai mobile app","talk-live-with-your-characters-on-the-c-ai-mobile-app":"Talk live with your Characters on the c.ai mobile app","Landing":{"character-multimedia-background":{"subtitle":{"wizard":"Explore mystical worlds with Wizard","gojo":"Step into Jujutsu sorcery with the Limitless One","sherlock_holmes":"Solve crimes with Detective","space_janitor":"Chart new worlds with Space Adventurer","ghost":"Uncover secrets of the shadows with Soldier","ellie":"Explore the deserted city with the Survivor","basketball_captain":"Chat after practice with Basketball Captain"}}}},"Share":{"character-link-copied":"Character link copied!","check-out-this-character":"Check out this Character\\n{{href}}","check-out-this-creator":"Check out this creator on Character.AI\\n{{href}}","share-link-copied":"{{title}} link copied!"},"Common":{"current-chat":"Current chat","chat":"Chat","search":"Search","one-moment-please":"One moment please...","regenerate":"Regenerate","generate":"Generate","hold-on":"Hold on a minute while we log you in.","no-results-at-this-time":"We\'re sorry, there are no results at this time","unsaved-changes-warning":"Changes you have made may not be saved","about":"About","_comment-view-character-book":"View Character Book","coming-soon":"Coming soon","close":"Close","login":"Login","logout":"Logout","deactivate":"Deactivate","cancel":"Cancel","try-again":"Try again","sign-in":"Sign in","sign-up":"Sign up","retry":"Retry","settings":"Settings","report":"Report","report-issue":"Report an Issue","manage":"Manage","num-chats":"{{num}} chats","num-chats_one":"{{num}} chat","num-chats_other":"{{num}} chats","num-character-chats":"{{num}} Character Chats","num-character-chats_one":"{{num}} Character Chat","num-character-chats_other":"{{num}} Character Chats","num-interactions":"{{num}} interactions","num-likes":"{{num}} likes","num-likes_one":"{{num}} like","num-likes_other":"{{num}} likes","reply":"Reply...","chats":"{{formattedCount}} Chats","chats_one":"{{formattedCount}} Chat","chats_other":"{{formattedCount}} Chats","interactions":"{{formattedCount}} Interactions","likes":"{{formattedCount}} Likes","likes_one":"{{formattedCount}} Like","likes_other":"{{formattedCount}} Likes","copy":"Copy","view-character-details":"View Character Details","message-copied-to-clipboard":"Message copied to clipboard","remember-everything-characters-say-are-made-up":"Remember: Everything Characters say is made up!","fiction-warning-collapsed":"This is A.I. and not a real person. Treat everything it says as fiction","fiction-warning-expanded":"This is an A.I. chatbot and not a real person. Treat everything it says as fiction. What is said should not be relied upon as fact or advice.","optional":"Optional","new":"New","default":"Default","persona":"Persona","characters":"Characters","creators":"Creators","select":"Select","unselect":"Unselect","success":"Success","active":"Active","submit":"Submit","next":"Next","studio":"Studio","back":"Back","characterCount":"pluralized_value","characterCount_one":"{{created}} Character","characterCount_other":"{{created}} Characters","edit":"Edit","rename":"Rename","archive":"Archive","unarchive":"Unarchive","new-chat":"New Chat","hide-character":"Hide Character","make-default":"Make default","clear-default":"Clear default","clear-search":"Clear search","add":"Add","delete":"Delete","loading":"Loading...","Visibility":{"public":"Public","unlisted":"Unlisted","private":"Private","Details":{"public":"Available for others to discover and chat with","unlisted":"Available for others to chat with via link","private":"Only available to you"}},"character-interactions":"Character interactions","continue":"Continue","export-data":"Export data","delete-account":"Delete account","generic-error":"Error: Please try again","success-request-initiated":"Success: Request initiated","labels":"Labels","legacy":"Legacy","or":"OR","use-of-character-ai-is-bound-by-our-terms-of-service-and-privacy-policy":"Use of Character.AI is bound by our <1>Terms of Service</1> and <3>Privacy Policy</3>.","try-it-out":"Try it out","cai-attribution":"By @c.ai","legacy-site":"Back to old site","c-ai-chat-title":"c.ai - {{name}}","cai":"c.ai","something-went-wrong-please-try-again-later":"Something went wrong, please try again later.","like":"Like","dislike":"Dislike","company-motto":"Personalized AI for every moment of your day","join-us":"Join us!","copyright":"\xa9 Copyright {{year}} Character Technologies, Inc.","yes":"Yes","done":"Done","code-copied-to-clipboard":"Code copied to clipboard","describe-your-image":"Describe your image","share":"Share","hello":"Hello","comment":"Comment","reset":"Reset","email-suggestion":"Use this email instead?","navigation-menu":"Navigation menu","rate":"Rate {{ number }} star","rate_plural":"Rate {{ number }} stars","add-remove":"Add / Remove","room":"Group Chat","users":"Users","save":"Save","change":"Change","view-more":"View more","terms-and-conditions":"Terms and Conditions","current":"Current","join-our-community":"Join our community","go-to-c-ai":"Go to c.ai","download":"Download","see-more":"See more","shared":"Shared","link-copied-to-clipboard":"Link copied to clipboard"},"SettingsPreferences":{"theme":"Theme","light":"Light","dark":"Dark","system":"System","language":"Language","default":"Default","classic":"Classic","canary":"Preview","prod":"Stable","dense":"Dense","chat-haptics-enabled":"Haptics on","chat-haptics-disabled":"Haptics off"},"GetTheApp":{"iphone-download-the-app":"Download the Character.AI mobile app from the App Store","android-download-the-app":"Download the Character.AI mobile app from the Google Play Store","scan-the-qr-code":"Scan the QR code to get the Character.AI app","get-app":"Get app"},"Subscription":{"free":"Free","upgrade":"Upgrade","subscribe":"Subscribe","limited-offer":"Limited offer","upgrade-to":"Upgrade to","re-upgrade-to":"Re-upgrade to","cai-plus":"c.ai+","your-current-plan":"Your current plan","upgrade-your-plan-today":"Upgrade your plan today","feature-turbo-messages-name":"Turbo Messages","feature-turbo-messages-description":"Unlimited faster messages","feature-description-faster-response":"Faster response times","feature-description-dedicated-servers":"Dedicated servers, faster responses","feature-better-memory-name":"Better Memory","feature-better-memory-description":"Characters remember more","feature-customize-chats-name":"Customize Your Chats","feature-customize-chats-description":"Colors, backgrounds and more","feature-special-perks-name":"Special Perks","feature-special-perks-description":"Priority access to select new features","price-per-month":"<price>{{price}}</price>/month","button-call-to-action":"Subscribe for {{price}}/mo","button-discount-subtitle":"<0>{{discounted}}</0> <1>{{original}}</1> for first month, then <2>{{original}}/mo</2>","button-disclaimer":"Auto renews monthly until canceled","trial":{"claim":"Claim free months of","button-call-to-action":"Subscribe to claim free trial","button-disclaimer":"Subscription resumes monthly for {{price}} after free months expire"},"trial-extension":{"claim":"Claim free months of","button-call-to-action":"Claim free months","button-disclaimer":"Auto renews monthly for {{price}} after trial expires"},"already-subscribed":{"title":"You\'re subscribed to","button-call-to-action":"Ok","button-disclaimer":"Manage subscription"},"free-month":{"title":"You qualify for a\\nfree month of ","button-subtitle":"No credit card required","button-call-to-action":"Claim your free month now","button-disclaimer":"Skip for now"},"features":{"better-memory":{"sub":"Characters remember more with frequent updates"},"chat-styles":{"main":"Chat Styles","sub":"Access our latest and best models"},"higher-limits":{"main":"Higher Limits","sub":"Longer personas, more muted words & swipes"},"customize-your-chat":{"sub":"Response Length, image backgrounds, + more"},"exclusive-perks":{"main":"Exclusive Perks","sub":"Unlock new features first & invitation to the c.ai+ community"}}},"Throttled":{"modal":{"variant1":{"title":"Expect slower replies","description":"Heavy messaging is slowing down our servers. You may notice delayed responses for about {{ timeRemaining }} minutes while we manage the load. \\n\\nThanks for your patience "},"variant2":{"description":"Heavy messaging is slowing down our servers. You may notice delayed responses while we manage the load.\\n\\nThanks for your patience "},"variant3":{"description":"Heavy messaging is slowing down our servers. Upgrade to c.ai+ for fast responses now."},"variant4":{"description":"Heavy messaging is slowing down our servers. You may notice delayed responses for about {{ timeRemaining }} minutes while we work through the load. Upgrade to c.ai+ for fast responses now."},"variant5":{"title":"Messaging temporarily slowed","description":"It\'s a little busy right now, so messaging is slowed for a bit to keep things running smoothly.\\n\\nUpgrade to c.ai+ for faster responses and no slowdowns, even during peak times."},"variant6":{"title":"You\'re cruising in slow mode","description":"Due to high traffic, messages will be temporarily slowed. This helps keep things stable for everyone. Thanks for your patience.\\n\\nUpgrade to c.ai+ and always skip slow mode."},"variant9":{"title":"Experiencing delays?","description":"You\'re receiving slower messages right now due to high traffic.\\n\\nUpgrade to c.ai+ to skip slow mode and enjoy quicker replies. Claim 60% off your first month today."}}},"DeleteAccount":{"manage-account-and-data":"Manage Account & Data","export-data-success":"You\'ll receive an email with a link to download your data.","this-action-cannot-be-undone":"This action cannot be undone","things-will-be-lost":"Characters, chats, and activity associated with your account will be lost.","remove-your-subscription":"Remember to remove your subscription before deleting your account","enter-username-to-confirm":"Enter username to confirm"},"Search":{"placeholder":"Search","something-went-wrong-loading-search-results":"Something went wrong loading search results","your-input-is-invalid":"Inputs cannot contain special characters or be too short","search-results":"Search results","no-results":"No Characters found, maybe make one?","no-creators-found-with-that-name":"No creators found with that name","no-characters-found":"No characters found.","no-creators-found":"No creators found.","recent":"Recent","top":"Top","no-results-create-character-cta":"It feels like someone is missing try creating your own.","results":{"no-results-found":"No results found.","try-these":"Try these instead."},"filters":{"relevance":"Relevance","likes":"Likes","popular":"Popular","newest":"Newest","followers":"Followers"},"tags":{"Anime":"Anime","Artist":"Artist","Boss":"Boss","Bully":"Bully","Coach":"Coach","Creative":"Creative","Designer":"Designer","Family":"Family","Famous":"Famous","Gaming":"Gaming","Hero":"Hero","K-Pop":"K-Pop","Lifestyle":"Lifestyle","Mafia":"Mafia","Maid":"Maid","Music":"Music","Police":"Police","Professor":"Professor","RPG":"RPG","Romance":"Romance","Soldier":"Soldier","Student":"Student","Teacher":"Teacher","Vampire":"Vampire","Vtuber":"Vtuber"}},"Signup":{"header":"Set Up Your Profile","we-need-one-last-thing":"We need one last thing from you","what-do-you-want-your-profile-image":"What do you want your profile image to look like?","claim-username":"Claim your username","username-placeholder":"Username","create-account-button":"Create account","disclaimer":"By continuing, you agree to our <2>Terms</2> and acknowledge our <6>Privacy Policy</6>.","disclaimer-new-home":"By continuing, you agree with the <2>Terms</2> and <6>Privacy Policy</6>","welcome":"Welcome to Character.AI","error-general":"There was an issue with your sign up.","error-signup-already-complete":"Signup already complete","error-couldnt-find-username":"Couldn\'t find user by username","error-acknowledge":"Must accept policies","error-missing-date-of-birth":"Missing date of birth","username-constraints":"Username and Display Name must be between 3-20 characters and contain only letters, numbers, underscore and dash","error-invalid-date":"Invalid date of birth","error-username-exists":"Error: Username not available","when-is-your-birthday":"When\'s your birthday?","your-birthday-is-not-public":"Your birthday won\'t be displayed publicly","check-your-email":"Check your email","click-on-the-verification-link":"Click on the verification link sent to","not-seeing-the-email":"Not seeing the email? Check your spam folder.","finish-setup":"Finish Setup","age-and-user-name":"Verify your age and claim a username","toChat":"Sign Up to Chat","ineligible":"Sorry, looks like you\'re not eligible to keep using our services.","Error":{"login-error":"There was an error logging you in: {{error}}"}},"Error":{"something-went-wrong":"Something went wrong.","please-refresh-or-try-again-later":"Please refresh or try again later","character-not-available-title":"This Character is no longer available","character-not-available-body":"Please select a different Character","required":"{{name}} is required","minLength":"{{name}} must be at least {{minLength}} characters","maxLength":"{{name}} must be at most {{maxLength}} characters","imageUploadFailed":"Failed to upload image","enter-valid-email":"Please enter a valid email","sorry-cannot-use":"Sorry, you cannot use Character.AI at this time.","something-went-wrong-creating-your-room":"Something went wrong creating your group chat","something-went-wrong-updating-your-room":"Something went wrong updating your group chat","please-allow-popups":"Sign in popup was blocked, please hit the button to try again","auth-failed":"Sign in failed. Please try again. If the issue persists, please contact support.","please-try-again":"Please try again in a few minutes.","join-the-conversation":"In the meantime, you can join our <2>Discord Server</2><3></3>or <5>view the status</5> of our services.","email-verification-help":"Need help with email verification? <2>Visit our help center</2>"},"Socials":{"join-our-discord":"Join our Discord","discord-linking-error":"There was a problem linking your Discord account. Please try again.","discord-linking-success":"Your Discord account has been successfully linked","discord-join-cai-plus":"You\'re invited to join the <1>c.ai+</1> community on Discord","plus-discord-invite-title":"You\'re invited to join the c.ai+ community on Discord","regular-discord-invite-title":"Join the Character Community on Discord","plus-discord-invite-description":"Link your Character account with Discord and get access to exclusive c.ai+ channels","discord-regular-invite-description":"Link your Character account with Discord and unlock special channels, commands and more","link-account-and-join":"Link account and join","open-discord":"Open community","relink-discord":"Re-link your account","discord-account-already-linked":"Your Discord account has already been linked, to continue open the community"},"Help":{"about-us":"About us","contact-us":"Contact us","community":"Community","work-with-us":"Work with us","terms-of-service":"Terms of Service","privacy-policy":"Privacy Policy","your-privacy-choices":"Your Privacy Choices","blog":"Blog","press":"Press","help-center":"Help Center","socials":"Socials","if-you-have-any-questions-or-need-help-visit-our-help-center":"If you have any questions or need help, visit our Help Center."},"Profile":{"title":"Character.AI  User profile of {{name}}","num-followers":"{{formatted}} Followers","num-followers_one":"{{formatted}} Followers","num-followers_other":"{{formatted}} Followers","num_following":"{{formatted}} Following","followers_num":"Followers {{formatted}}","followers_num_one":"Follower {{formatted}}","followers_num_other":"Followers {{formatted}}","following_num":"Following {{formatted}}","characters":"Characters","voices":"Voices","liked":"Liked","personas":"Personas","muted-words":"Muted words","remixes":"Remixes","followButton":"Follow","followButtonFollowing":"Following","remixes-soon":"Remixes are coming soon","block":"Block","unblock":"Unblock","block-confirmation":"Blocked {{name}}","unblock-confirmation":"Unblocked {{name}}","block-failed":"Failed to block {{name}}","unblock-failed":"Failed to unblock {{name}}","settings-button":"Settings","no-characters":"This user hasn\'t made any Characters yet.","no-characters-you":"You haven\'t made any Characters yet.","no-characters-liked":"You haven\'t liked any Characters yet.","create-a-voice":"Create a voice","no-voices":"This user hasn\'t made any voices yet.","user-profile":"User Profile","SortOption":{"Alphabetical":"Alphabetical","MostChats":"Most Chats","MostLikes":"Most Likes"},"Filter":"Filter","FilterOption":{"ALL":"All","PUBLIC":"Public","UNLISTED":"Unlisted","PRIVATE":"Private"},"Tags":"All"},"feedback-utils":{"boring":"Boring","not-boring":"Not Boring","not-true":"Not True","true":"True","repetitive":"Repetitive","not-repetitive":"Not Repetitive","out-of-character":"Out of Character","not-out-of-character":"Not Out of Character","good-memory":"Good Memory","bad-memory":"Bad Memory","not-bad-memory":"Not Bad Memory","funny":"Funny","not-funny":"Not Funny","interesting":"Interesting","not-interesting":"Not Interesting","too-long":"Too Long","not-too-long":"Not Too Long","too-short":"Too Short","not-too-short":"Not Too Short","helpful":"Helpful","not-helpful":"Not Helpful","ends-chat-early":"Ended Chat Early","not-ends-chat-early":"Not Ended Chat Early","voice-wrong-voice":"Wrong Voice","voice-low-quality":"Low Quality","voice-incorrect-pronounciation":"Incorrect Pronounciation","voice-repeated-words":"Repeated Words","voice-missing-words":"Missing Words","voice-too-fast":"Too Fast","voice-too-slow":"Too Slow","swipe_memory_conversation_details":"Forgetting Conversation Details","swipe_memory_character_details":"Forgetting Character Details","swipe_memory_persona_details":"Forgetting Persona Details","swipe_out_of_character":"Going out of Character","no_issues":"No problems, just swiping","why-the-swipe":"Why the swipe?","memory-issues":"Bad memory?","too-flirty":"Too Flirty"},"Scenarios":{"what-do-you-want-to-do":"What do you want to do?","cooking":{"cook-something-for-dinner":"Cook something for dinner!"},"travel":{"go-on-an-adventure":"Go on an adventure!"},"creativity":{"nurture-your-creativity":"Nurture your creativity"},"who-do-you-want-talk-to":"Who do you want to talk to?","support":{"trusted-circle":"A trusted circle of support"},"learn":{"learn-something-new":"Learn something new today"},"challenge":{"epic-challenges-await":"Epic challenges await"},"exercise":{"get-fit-and-healthy":"Get fit and healthy","time-to-fell-your-best":"Time to feel your best"}},"Settings":{"account":"Account","profile":"Public profile","exp":"[Staff Only] Experiments","preferences":"Preferences","subscription":"Subscription","discord":"Go to community","link-discord":"Join community","get-the-app":"Get the app","chat-style":"Chat Style","chat-haptics":"Chat Haptics","preview-deployment":"Preview Release","parental-controls":"Parental Insights","muted-words":"Muted words","blocked-words":{"title":"Muted words","description":"Add a single word at a time you\'d prefer not to encounter in your conversations","add":"Add","input-helper":"Enter word to muted","errors":{"max-words-v2":"You\'ve reached the limit of {{maxWords}} words","already-blocked":"This word is already muted","must-be-single-word":"Must be a single word"}}},"User":{"profile":"Public profile","profile-updated":"Profile updated","profile-update-failed":"Profile update failed","error-username-exists":"Error: Username already exists","invite":"Invite"},"Character":{"by-username":"By @{{username}}"},"CharacterProfile":{"chat":"Chat","Tabs":{"About":"About","ChatStarters":"Chat Starters","SimilarCharacters":"Similar Characters"},"content-by-cai":"Content by c.ai","AboutSubSection":{"Description":"About {{characterName}}","Audience":"Who is {{characterName}} for","Expertise":"{{characterName}}\'s Area of Expertise","Expertise_s":"{{characterName}}\' Area of Expertise"},"ChatStarterDefaults":{"0":"If you could have any superpower for a day, what would you choose and how would you use it?","1":"What\'s the most hilarious or awkward story you\'ve got?","2":"Picture this: you\'re stranded on a deserted island. What three items do you bring with you?","3":"If you could instantly become an expert in one skill or hobby, what would it be?"}},"Persona":{"create-persona":"Create a persona","characters-will-remember":"Characters will remember your persona information to improve their conversations with you","create-multiple-personas-to":"Create multiple personas to change your background info between chats","name":"Name","background":"Background","make-default-for-new-chats":"Make default for new chats","create-persona-success":"Successfully created your persona","failed-persona-too-long":"Failed: Your persona definition is too long.","failed-persona-name-too-long":"Failed: Your persona name is too long.","failed-persona-name-too-short":"Failed: Your persona name is too short.","failed-to-create-same-name-persona":"You cannot create a persona with the same name","failed-to-create-persona":"Failed to create your persona","failed-to-create-invalid-characters-persona":"Your persona name can only contain only letters, numbers, underscore, and dashes.","remove-persona-success":"Successfully removed your persona","update-persona-success":"Successfully updated your persona","failed-to-delete-persona":"Failed to delete persona","failed-to-update-persona":"Failed to update persona","failed-to-enable-disable-persona":"Failed to {{action}} this persona as your default persona.","are-you-sure-you-want-to-remove":"Are you sure you want to remove this persona?"},"Auth":{"continue-with":"Continue with {{provider}}","continue-with-email":"Continue with email","verification-link":"Open the verification link sent to {{email}}","didnt-receive-email":"Didn\'t receive the email?","resend":"Resend","continue":"Continue","email":"Email","trouble-signing-in":"Trouble signing in?","trouble-receiving-email":"Get help with email verification"},"ExternalLinks":{"careers":"Careers","safety":"Safety","safety-center":"Safety Center","character-guide":"Character Guide","support":"Support","news":"News"},"Moderation":{"leave-comment":"Leave a comment","comment-placeholder":"Describe the issue in further detail","report-categories":{"abuse":"Threats & Harassment","violence":"Excessive Violence","falsity":"False Statements","hate":"Hate Speech","nsfw":"NSFW","sex_harass":"Sexual Harassment","minor":"Child Exploitation","self_harm":"Self Harm","terror":"Terrorism & Extremism","illegal":"Illegal Activities","drugs":"Drug Transactions","pii":"Invading Privacy","impersonate":"Impersonation","spam":"Commercial Spam"},"select-a-category":"Select a category","report-message-title":"Report Message","report-room-title":"Report Group","report-character":"Report Character","report-voice-title":"Report Voice","report-success":"Your report has been submitted.","report-failed":"Failed to create report. Please try again."},"Creator":{"topCharacters":"pluralized_field","topCharacters_one":"Top Character: {{character}}","topCharacters_other":"Top Characters: {{character}}"},"Monetization":{"faster-response-times":"Faster response times","upgrade-error":"Error: You already have a Subscription or you are not signed in","subscription-success":"Thank you for subscribing to c.ai+. You should notice the Character.AI+ logo at the top left. If you don\'t, it may take up to 30 minutes for your subscription to activate.","premium-feature-prefix":"Available for","for-20-muted-words":"<0>Upgrade to c.ai+</0> for 20 muted words","mutedwords-recover-words":"<0>Re-upgrade to c.ai+</0> to recover {{numWords}} word","mutedwords-recover-words-plural":"<0>Re-upgrade to c.ai+</0> to recover {{numWords}} words","no-payment-error":"You need to add a payment method before you can claim your trial extension.","swipeexpansion-upsell-title":"Unlock 3x more swipes","swipeexpansion-upsell-description":"Upgrade to c.ai+"},"Annotation":{"user":"User","annotator-labels":"Annotator","load-more":"Load more","previous-conversations":"Previous conversations","select-character":"Select a Character to start a new chat","edit":"Edit Mode","preview":"Preview Mode","mode":"{{mode}} Mode","questions":"Questions","delete-single":"Delete Message","delete-multiple":"Delete {{count}} Messages","no-turns-in-chat":"No turns in this chat","report-question":"Report Question","cancel-question-report":"Cancel Report","task-state-open":"Open","task-state-inprogress":"In Progress","task-state-reviewed":"Reviewed","task-state-needs-changes":"Needs Changes","task-state-making-changes":"Making Changes","task-state-needs-review":"Needs Review","task-state-inreview":"In Review","task-state-request-review":"Request Review","task-state-done":"Done","task-state-done-bad":"Done (Bad)","task-state-punted":"Punted","selection":"Selection","selection-help":"Defines how multi-selection works. For instance, whether you want to select the AI-only messages or All messages.","select-all-messages":"All Messages","select-ai-messages":"AI Messages","are-you-sure-you-want-to-delete-these-messages":"Are you sure you want to delete these messages?","all-tasks-completed":"Seems like you have completed all the tasks.\\nPlease contact your manager for further instructions","error-loading-task":"Error loading the task: {{taskError}}","error-loading-chat":"Error loading the chat. You might not have access to the chat","error-chat-not-assigned":"Chat not assigned to this task","error-task-not-assigned":"Task not assigned to a user on Jira","previous-task":"Previous task","next-task":"Next task","skip-labels":"Skip","skip-labels-tooltip":"If you are unsure about what labels to use, select this option to skip labeling this message","task-id":"Task ID","instructions":"Instructions","preview-hint":"Preview Markdown","task-detail-hint":"Task details","settings-hint":"Settings","assignee":"Assignee","annotator-role":"Annotator","reviewer-role":"Reviewer","manager-role":"Manager","viewer-role":"Viewer","role-and-mode-info":"Viewing as {{role}} in {{mode}} mode","edit-hint":"Edit","readonly-hint":"Read-Only","model-server-override":"Model Server Override","toggle-thread-status-open":"Reopen","toggle-thread-status-resolved":"Resolve","toggle-thread-status-dismissed":"Dismiss","toggle-thread-status-deleted":"Delete","thread-status-open":"Open","thread-status-resolved":"Resolved","thread-status-dismissed":"Dismissed","thread-status-deleted":"Deleted","cycle-thread-severity":"Click to toggle Severity","thread-severity-info":"Info","thread-severity-error":"Error","thread-severity-warning":"Warning","add-comment":"Add comment here...","change-task-state":"Changing Task State","change-task-state-confirmation":"Are you sure you want to change the Task State to {{state}}?"},"CookieConsent":{"header-text":"We use essential cookies to make our site work. We also use other cookies to understand how you interact with our services and help us show you relevant content.","subtext":"By clicking \\"Accept All\\" below, you consent to our use of cookies as further detailed in our Privacy Policy.","accept-all":"Accept All","reject-all":"Reject All"},"legacy":{"_comment":"We updated our chat system and need to ask users to migrate certain older chats to our new system. This presents a simple modal explaining the users the action they need to take.","migrate-confirmation":"Your chats are migrating. Please check back in a few minutes.","migrate-body":"Looks like this chat is from the old/beta site.","migrate-note":"Note: Longer chats may take up to an hour to migrate.","migrate-action":"Migrate chat now","migrate-in-progress":"Migration in progress","migrate-starting":"Starting migration"},"Legal":{"terms-of-service":"Character.AI Terms of Service","privacy-policy":"Character.AI Privacy Policy","privacy-choices":"Character.AI - Your Privacy Choices","community-guidelines":"Character.AI Community Guidelines"},"EducationTooltip":{"chat-input-text":"Try sending a message in your preferred language."},"EducationCTA":{"Voice":{"title":"Characters now have a voice","description":"Hear your chats out loud","button":"Try with voice"}},"VoicePolicy":{"title":"Creating a Character Voice","item-1":"Always use Character Voices for good, and have fun!","item-2":"Never record third parties without their consent","item-3":"Don\'t use protected intellectual property without approval","item-4":"Don\'t use voices to engage in deepfakes, fraud, scams, or bullying","agree-btn":"Agree & Continue"},"EditVoice":{"screen":{"title":"Edit Voice","update":"Update Voice","edit-success":"Voice updated","discard-voice-confirmation":"Are you sure you want to abandon updating this voice?","delete-voice-confirmation":"Are you sure you want to delete this voice?","delete-voice-details":"This may take a few hours to be removed for everyone"}},"CreateVoice":{"cta":{"title":"Give your Characters a Voice","button-text":"Create Voice"},"screen":{"create-a-voice":"Create Voice","name-label":"Voice Name","voice-name-constraints":"Voice name is required and must be between {{min}} and {{max}} characters and contain only letters, numbers, underscore, dash, and space","gender-label":"Gender","description-label":"Description","voice-description-constraints":"Voice description must be less than {{max}} characters","generating-voice":"Generating Voice...","creating-voice":"This may take a few seconds","generate-button":"Generate Voice","visibility-label":"Visibility","save-button":"Save Voice","voice-preview-text-label":"Voice Intro","voice-preview-text-constraints":"Voice preview text must be less than {{max}} characters","upload-clip":"Upload sound","upload-clip-description":"Upload a 3-15s audio file","tap-record":"Tap to record","record-clip":"Record sound","record":"Record","stop":"Stop","rerecord":"Re-record","record-clip-description":"Record your own clip with the mic","voice-clip-length":"Upload a clip 3-15s long.","english-only":"Only English is supported at this time","clip-length-instructions":"Record a clip 3-15s long.","avoid-background-noise":"Avoid background noise.","voice-upload-error":"Error uploading voice file - please pick another one","character-voice-label":"Character Voice","select-voice-label":"Select Voice","voice-preview-instructions":"How your voice will be heard while previewing","voice-create-success":"Voice successfully created!","voice-create-success-2":"Go to a chat or Character editor to use the voice","delete-voice":"Delete Voice","sample-text-label":"Help me find what to say","try-saying":"Try saying...","voice-record-sample-text":"Once upon a time, in a land full of bouncy kangaroos and colorful parrots, Sam the sloth had a dream. He wanted to join the kangaroo hopping contest. Everyone cheered him on as he gave it his best hop.","make-voice-public":"Make voice public","make-voice-public-description":"Others can use with any Character","re-upload":"Re-upload","discard-voice-confirmation":"Are you sure you want to abandon creating this voice?","discard-voice-confirmation-details":"Your changes will not be saved","feature-not-available-region":"This feature is unavailable in your region","voice-integrity-error":"Cannot create voice","voice-integrity-error-details":"Audio clip does not meet our content policy","voice-name-integrity-error-details":"Invalid Voice name","voice-description-integrity-error-details":"Invalid Voice description","rate-voice":"How is the quality?","voice-feedback-title":"Voice Feedback","text-feedback-success":"Feedback submitted","upload-tips":"For best results, upload a clear 10-15 second audio clip (anything beyond 15s will be clipped). Avoid background noise.","upload-sound":"Upload Sound","upload-sound-desc":"Click or drag to upload an audio file","discard":"Discard","new-voice":"New Voice","voice-name-placeholder":"e.g. Albert Einstein","voice-description-placeholder":"Gentle and uplifting male with a subtle British accent","create":"Create","upload-error-too-short":"Audio file too short","upload-error-too-long":"Audio file too long","upload-error-description":"Upload a clip between 3-15 seconds"}},"VoiceVisibilityModal":{"title":"Making your voice public","description":"Anyone can discover and use this voice for their Character chats. You can always change this later.","confirm":"Confirm & Create voice","confirm-save":"Confirm & Update voice"},"Pages":{"titles":{"default":"Personalized AI for every moment of your day","about":"About","termsOfService":"Terms of Service","characterChat":"Chat with {{name}}","userProfile":"Profile of {{name}}","topic":"{{category}} Characters","topicCharacters":"Top {{category}} Characters"},"descriptions":{"default":"Chat with millions of AI Characters anytime, anywhere. Super-intelligent chat bots that hear you, understand you, and remember you.","characterChat":"Chat with {{name}}: {{title}}. Powered by an industry leading, AI large language model (LLM).","profileDefault":"{{name}}\'s profile on Character.AI. Find or create the Character that\'s right for you. Chat with them, learn from them, and have fun!","topic":"Browse {{category}} characters on Character.AI","topicCharacters":"Discover and chat with the best {{category}} characters on Character.AI. Browse through a collection of the best {{category}} characters."}},"Interests":{"skip-button":"Skip","done-button":"Next","welcome-header":"Welcome to Character","welcome-question":"What are your interests?","custom-interests-label":"Type anything","interests":{"homework-study-help":"Homework & Study Help","personal-growth":"Personal Growth","fitness-exercise":"Fitness & Exercise","meditation-mindfulness":"Meditation & Mindfulness","video-games":"Video Games","books-reading":"Books & Reading","movies-tv":"Movies & TV","writing":"Writing","career-advice":"Career Advice","language-learning":"Language Learning","personal-finance":"Personal Finance","productivity-time-management":"Productivity & Time Management","sports":"Sports","anime":"Anime","cooking-nutrition":"Cooking & Nutrition","travel-culture":"Travel & Culture","relationships-social-advice":"Relationships & Social Advice","news-current-events":"News & Current Events","mental-health-support":"Mental Health & Support","coding-programming":"Coding & Programming","spirituality-religion":"Spirituality & Religion","games-puzzles":"Games & Puzzles","comedy":"Comedy","interactive-storytelling":"Interactive Storytelling"},"pick-three":"Pick three or more"},"Months":{"january":"January","february":"February","march":"March","april":"April","may":"May","june":"June","july":"July","august":"August","september":"September","october":"October","november":"November","december":"December"},"Calls":{"status-calling":"Calling...","status-no-voice-selected":"No voice selected","status-muted":"Muted","status-listening":"Listening","status-start-speaking":"Start speaking","status-ai-thinking":"AI thinking","status-tap-to-interrupt":"Tap to interrupt","hang-up":"Hang up","mute":"Mute","unmute":"Unmute","calls-available-on-the-app":"Calls available on the app","call-name":"Call {{name}}","voice-call-disconnected":"Voice call disconnected","voice-unavailable":"Voice unavailable"},"Errors":{"please-try-again-later":"Please try again later"},"SafetyMonitor":{"ChatDisabled":{"title":"TIMED OUT FOR {{ time }}","description":"You can\'t chat with characters during this time out."},"Warnings":{"2_warnings_remaining":"Remember to comply with our Terms of Service","1_warnings_remaining":"Continued violation of our Terms of Service may result in restricted use","0_warnings_remaining":"This conversation has violated our community guidelines. You\'ve been timed out from chatting for 24 hours."}},"SelfHarmSupport":{"title":"Help is available","body-1":"If you or someone you know is struggling or in a crisis, you\'re not alone. There are resources out there to help:","heading-2":"If you\'re in the United States","body-2":"Contact the National Suicide Prevention Lifeline at 988. Crisis workers are available 24 hours a day. Calls are free and confidential.","heading-3":"If you\'re in another country","body-3":"To find a crisis center near you, visit the International Association for Suicide Prevention.","body-4":"If you\'re thinking about engaging in self-harm or suicidal behavior, please seek help as soon as possible by contacting one of these services.","call":"Call 988","visit":"Visit findahelpline.com"},"Survey":{"title":"Share your thoughts","body":"Shape the future of Character.AI with your valuable feedback!","start-survey":"Start Survey","thank-you":"Thank you!"},"Sitemap":{"directoryResults":"Character Directory Results for: {{resultPage}}","characters":"Characters"},"Customization":{"customize":"Customize","chat-color":"Chat color","preview":"Preview","wallpaper":"Wallpaper","wallpaper-subtitle":"Customize your chat with AI-generated wallpapers","save-failed":"There was a problem saving changes. Please try again.","set-wallpaper":"Add wallpaper","generate-description":"Describe a scene, object, or character for your background","generate-placeholder":"Describe the wallpaper...","image-prompt-error-title":"Cannot create wallpaper","image-prompt-error-description":"Prompt does not meet our content policy","select-wallpaper":"Select as your wallpaper","ColorSchemes":{"red":"Red","peach":"Peach","clay":"Clay","honey":"Honey","yellow":"Yellow","green":"Green","pine":"Pine","aqua":"Aqua","blue":"Blue","indigo":"Indigo","purple":"Purple","silver":"Silver","grey":"Grey","black":"Black"}},"SignInDialog":{"heading":"Sign in","invite-code":"Invite code:"},"SignUpDialog":{"heading-1":"Immerse yourself in interactive entertainment","heading-2":"One last step...","subheading-1":"With Character.ai","subheading-2":"What year were you born"},"SignUpDialogNewHome":{"heading-1":"<0>Get access to</0><1><2>10M+</2> Characters</1>","subheading-1":"Sign up in just ten seconds","placeholder":"Your email address","email-continue-button":"Continue with email"},"NewHomeMobileUpsell":{"heading-1":"<0>Get access to</0><1><2>10M+</2> characters</1>","app-upsell":"Get the Character.AI App","continue-web-button":"Continue on web"},"CharacterSpotlight":{"ellie-williams-caption":"Explore the deserted city with Ellie Williams","basketball-captain-caption":"Chat after practice with Basketball Captain","ghost-caption":"Uncover secrets of the shadows with Ghost","gojo-satoru-caption":"Step into jujutsu sorcery with Gojo Satoru","sherlock-holmes-caption":"Solve crimes with Sherlock Holmes","space-adventurer-caption":"Chart new worlds with Space Adventurer","wizard-caption":"Explore mystical worlds with Wizard"},"social":{"view-profile":"View profile"},"Social":{"kick-user":"Kick user"},"Birthdate":{"error-general":"An error occurred when trying to update your birthday. Visit support.character.ai"},"Invite":{"share-short-cta":"Invite","share-cta":"Claim your free month of c.ai+","accept-header-2":"has invited you to Character.ai","accept-description":"Accept the invite and claim your free month of <2>c.ai+</2> to start chatting with millions of Characters that hear you, understand you and remember you.","accept-cta":"Accept Invite","invite-header":"Invite friends, Get a free month of <2>c.ai+</2>","invite-description":"For every friend you invite that joins Character, earn a month free of turbo messages, better memory & more with <2>c.ai+</2><3>Not available to existing c.ai+ members that have already created accounts via iOS or Android.</3>","invite-non-owner-description":"Share with friends to help {{name}} get free months of <1>c.ai+</1>","invite-cta":"Invite now","subscribe-is-plus":"Claim free months of","invite-logged-in-cta":"Share","back-home":"Back to Character.ai","referral-status":"See your referral status","profile-cta":"Get invite code","meta":{"title":"Claim your free month of c.ai+","schema":{"about":"You have been invited to Character.ai","recipient":"You","name":"{{agent}}\'s invite to Character.ai","alternate-name":"Character.ai Invite","description":"{{name}} (@{{username}}) has invited you to claim a free month of Character.ai"}},"upsell":{"upsell-text":"Share your invite code with friends and earn a free month of <1>c.ai+</1>","cta":"Get invite code"},"status":{"title":"Get inviting!","title-max-redeemed":"Thank you!","title-ineligible":"Thank you!","redemption-info-header_one":"You\'ve helped {{count}} friend claim a free month","redemption-info-header_other":"You\'ve helped {{count}} friends claim a free month","reward-info-header":"You\'ve earned {{count}} of {{max}} free months","reward-info-header-all":"You\'ve earned all {{max}} available free months","last-reward-at":"Last month earned on {{lastRewardAtString}}"},"eligibility":{"ineligible-subscription-type":"You currently don\'t meet the requirements to receive any free months.","ineligible-max-redeemed":"You have already received the maximum rewards for inviting friends, amazing!","eligible_one":"Congrats! You\'re eligible for {{count}} more free month by inviting {{count}} more friend.","eligible_other":"Congrats! You\'re eligible for {{count}} more free months by inviting {{count}} more friends."}},"Email":{"signin-link-preview":"Sign in to Character.AI","signin-link-main":"Your sign in link for Character.AI","signin-button":"Login to Character.AI","signin-link-instructions":"This link and code will only be valid for a short time. If the link does not work, you can use the link below directly:"},"Games":{"beta":"Beta","beta-tooltip":"Games is in beta and will be available for a short time!","score":"Score","points":"Points","judge":"Judge","you":"You","opponent":"Opponent","play":"Play","play-challenge":"Challenge","daily-challenge":"Daily Challenge","for-date":"for {{ date }}","play-again":"Play Again","stop-game":"Stop Game","play-a-game":"Play a Game","interrupted":"You\'ve stopped the game!","you-started-game":"You\'ve started {{ gameName }}","rules":"Rules","your-high-scores":"Your high scores","select-a-game":"Select a game to play with {{ characterName }}","your-friend":"your friend","default-description":"Play a word game with {{ characterName }}","oops-description":"You lost! Try again?","win-description":"You won! You earned {{ score }} Points","stop-description":"You stopped the game!","same-thing-you-win":"Same thing! You win!","too-many-turns-you-lose":"Too many turns, you lost!","winner-name":"{{ name }} won!","round-tie":"Round {{ round }} is a tie","tie-reason":"Too close to call!","to":"to","tie-winner":"both","round-winner":"Round {{ round }} to {{ name }}","matchme-rules":"Answer the question how you think {{ characterName }} would over {{ maxRounds }} rounds. Each round, you can score up to 200 points if your answers are close!","matchme-rules-with-question":"Answer the question how you think {{ characterName }} would over {{ maxRounds }} rounds. Each round, you can score up to 200 points if your answers are close!\\n\\nQuestion:\\n**{{ question }}**","matchme-end-description":"You\'ve finished with {{ score }} points!","same-thing-rules":"Guess the hidden word your Character will say. For example, you say \'ocean\', and they respond with \'plant\'. The Character tries to bridge the gap  so \'seaweed\' could be a good guess. Say the same word to win  don\'t repeat words, or you lose!","speakeasy-rules":"Get {{ characterName }} to say\\n**{{ goal }}**\\n\\nYou can\'t say any of these words\\n**{{ blocked }}**","speakeasy-start-rules":"Help your character guess the secret word. Use clever clues to guide them, but avoid saying the forbidden words  guess quickly to earn the highest score!","war-of-words-rules":"You have five rounds to outsmart your character. Whether it\'s a tennis match, a battle of sass, or another creative showdown, the goal is to come out on top. A referee will decide the winner of each round!","other-player":"the other player","invalid-guess":"\\"{{ userGuess }}\\" is not a legal guess, you lost!","already-guessed":"you already guessed \\"{{ userGuess }}\\", you lost!","guess-word-you-win":"{{ characterName }} said, \\"{{ word }}\\". You win!","you-said-forbidden-word-zero-points":"You said \\"{{ forbiddenWord }}\\", a forbidden word. You get 0 points!","you-passed-card":"You passed the card \\"{{ word }}\\". You get 0 points!","guess-word-card-correct":"{{ characterName }} said \\"{{ word }}\\". You get {{ cardScore }} points from time and {{ streakBonus }} from streak bonus!","score-per-last-card":"{{ score }} current card score","pass":"Pass","confirm-challenge":"You can only play the daily {{ gameName }} challenge once. Ready to play with {{ characterName }}?","theme":"THEME: {{ theme }}","already-played":"You already played the challenge today","play-todays-game":"Play today\'s challenge set!","survey":"Share your feedback","pro-tip":"We recommend starting a new chat before playing so it does not affect your ongoing roleplay or conversation."},"Contests":{"registered-confirmation-title_ES-ID-PT-ONLY":"You\'re Registered!","tips-headline_ES-ID-PT-ONLY":"Tips to win:","modal":{"invite-raffle_ES-ID-PT-ONLY":{"title":"Invite Friends and you could win {{amount}}","subtitle":"February 1-28, 2025","main-text":"Get 1 raffle entry for each friend who joins and chats with 3 characters.","prizes":{"first":"\uD83E\uDD47 {{amount}}","second":"\uD83E\uDD48 1 Year Free c.ai+","third":"\uD83E\uDD49 1 Year Free c.ai+"},"primary-button":"Start Inviting","tips-button":"Tips to win","close-button":"Close"},"creator-competition_PT-BR-ONLY":{"title":"Create Characters and you could win {{amount}}","subtitle":"February 1-28, 2025","main-text":"Create Portuguese speaking characters. Earn points when users chat with them.","prizes":{"first":"\uD83E\uDD47 {{amount}}","second":"\uD83E\uDD48 1 Year Free c.ai+","third":"\uD83E\uDD49 1 Year Free c.ai+"},"primary-button":"Start Creating","tips-button":"Tips to win","close-button":"Close"}}},"OpenLinkConfirmation":{"title":"Leaving Character.AI","message":"You are now leaving Character.AI to an external site. Do you wish to continue?"},"PhoneVerification":{"title":"Verify Your Identity","title-2":"Verifying your identity","description":"Enter your phone number","send-code":"Send code","verify":"Verify","code-issues":"Didn\'t receive a code?","code-sent":"We\'ve sent a verification code to {{phoneNumber}}","resend-code":"Resend code","enter-code":"Enter code","go-back":"Go back","error":"Something went wrong. Please try again.","invalid-code":"Invalid code. Please try again.","invalid-code-2":"Incorrect code. Please try again.","invalid-phone-number":"Invalid phone number","resending-code":"Resending code...","sending-code":"Sending code...","verifying-code":"Verifying code...","code-sent-success":"Code sent successfully!","code-sent-error":"There was an error sending the code. Please try again.","code-verification-error":"There was an error verifying the code. Please try again.","skip-verification":"Skip verification","skip-verification-confirmation":"Are you sure you want to skip verification?","skip":"Skip"},"ParentalControls":{"title":"Parental insights","description":"Enter your parent\'s email to share your AI journey - they\'ll get weekly stats about your activity (your chat content will stay private)","invite-parent-or-guardian":"Invite Parent or Guardian","resend-email":"Resend Invitation","cancel-invitation":"Cancel Invitation","cancel-request":"Cancel Request","request-remove-email":"Request remove email","resend-remove-request":"Resend request to remove","cancel-remove-request":"Cancel request","parents-and-guardians":"Parents and Guardians","status":{"invitation-sent":"Invitation sent","request-sent":"Removal requested","linked":"Linked","unknown":"Unknown"},"request-remove":"Request to remove","confirm-remove-email":"Request to remove email","confirm-remove-email-description":"A confirmation email will be sent to the connected email with a link to approve this removal.","toast":{"invitation-sent":"An invitation email has been sent to your parent or guardian","confirmation-sent":"A confirmation email has been sent to your parent or guardian","invitation-cancelled":"The invitation has been cancelled","request-cancelled":"The request to remove has been cancelled","request-sent":"The request to remove has been sent","delete-request-error":"Failed to delete request","parental-insights":"Parental insights"},"confirmation":{"processing":"Processing...","success-title-confirm":"Woohoo!","success-title-unconfirm":"Success!","start-updates-generic":"You\'ll now start getting weekly updates on your teen\'s activity","start-updates-personalized":"You\'ll now start getting weekly updates on {{realName}}\'s Character.AI activity","stop-updates-personalized":"You will no longer receive weekly updates on {{realName}}\'s Character.AI activity","stop-updates-generic":"You will no longer receive weekly updates on your teen\'s activity","check-spam":"If you can\'t find anything in your inbox by next week make sure to check your spam folder first!","got-questions":"Got questions?","click-here":"Click here","error-title":"Oops, something went wrong","error-description":"There was an issue processing your request. Please try again later.","return-home":"Return Home","company-address":"Character Technologies, Inc., #1152, 700 El Camino Real, Suite 120, Menlo Park CA 94025"},"email-placeholder":"Email address","invalid-email":"Invalid email address","invite":"Invite","sending":"Sending...","help-center":"Help center","add-parent-error":"Failed to add parent"},"NuxEducationProgressBanner":{"pick-someone":"Pick someone for your first chat","have-a-chat":"Have a chat that includes at least 3 messages back and forth","how-is-your-chat-going":"How is your chat going?","thanks-for-your-feedback":"Thanks! Your feedback helps us give you better recommendations"},"beta":{"you-are-using-a-beta-feature":"You are using a beta feature","dialog-description":"You\'re one of the lucky first to experience this experimental feature! This feature may evolve or be removed in the future."},"Careers":{"meta-title":"Join Us","meta-description":"Character.AI empowers people to connect, learn, and tell stories through interactive entertainment.","heading":"Join the team shaping the\\n future of AI entertainment","subheading":"We\'re seeking passionate builders\\n to shape AI-driven storytelling.","open-roles":"View Open Roles","our-team":{"title":"Our Team","description":"We are a small, passionate team building the future of entertainment and exploration. By leveraging our deep technical expertise in AI and machine learning, along with extensive experience in launching global consumer products, we are creating immersive experiences that spark curiosity and offer endless ways to explore and create. Come join us."},"working-at-cai":{"title":"Working at Character.AI","sections":{"build-the-future":{"title":"Build the Future","description":"We\'re changing the way people think about entertainment and exploration. Leveraging advancements in natural language processing, generative AI, and interactive technologies, we\'re redefining what\'s possible in AI experiences."},"create-with-purpose":{"title":"Create with Purpose","description":"Our team designs immersive experiences for the millions of users who visit our platform. Be a part of building a product at the crossroads where storytelling, gaming, social connection, and creativity converge."},"collaborate":{"title":"Collaborate with the Best","description":"Join a high-performing team that thrives on collaboration. We combine deep expertise in generative AI and emerging technologies with a proven track record of bringing consumer products to market."}}},"our-values":{"title":"Our Values","sections":{"users-first":{"title":"Users First","description":"We solve tradeoffs with a clear framework: users > company > teamin that order. We optimize for users first, knowing this creates a cycle that sustains our company and supports our team. By prioritizing user value, we build lasting success for both our company and team."},"one-team":{"title":"One Team","description":"We will only win if we work as one team, collaborate with trust, empathy, and curiosity, and assume good intent in every interaction. We\'re kind  which is different from \\"nice.\\" True kindness means speaking candidly and listening openly. It means giving clear, timely feedback that helps us grow as a team. We seek clarity when needed, share feedback openly, and embrace it with radical receptivity, knowing it\'s key to our improvement. By working together and helping each other get better, we ensure we all win."},"think-transformational":{"title":"Think Transformational","description":"We aim to redefine what\'s possible for our users, our company, and our industry. We embrace ambitious, almost uncomfortable goals because that\'s what it takes to win. Transformation requires bold thinking, disciplined execution, a commitment to excellence, and a relentless drive to achieve meaningful, lasting impact. It\'s about constantly  innovating, challenging the status quo, and working together to turn bold ideas into reality."},"find-a-way":{"title":"Find a Way","description":"We\'re all responsible for building a generational platform. We\'re obsessed: we have pride of ownership and care deeply about our platform.  When things are broken, we call it out and make sure the owner is taking action, and if no one owns it, we volunteer to fix it personally. We ask more of ourselves, hold ourselves accountable and make the impossible possible. We don\'t make excuses  we find a way."},"fast-and-responsible":{"title":"Fast and Responsible","description":"We ship fast and work hard, but speed doesn\'t mean cutting corners. We\'re meticulous with our foundations and hold what we ship to a high bar of quality. Decisive leadership empowers us to act swiftly, considering diverse viewpoints and uniting behind decisions with \\"disagree and commit.\\" Through continuous experimentation, measurement, and iteration, we build smarter, adapt quickly, and constantly improve."}}},"big-statement":"AI is the future of entertainment \\n providing unlimited opportunities to explore, create, and connect.","perks-and-benefits":{"title":"Perks and Benefits","description":"Our benefits package is designed to support employees\' personal and professional well-being, offering parental leave, holiday time off, and a health and wellness stipend to help our team thrive.","daily-meals":{"title":"Daily Meals","description":"Fuel for focus. We provide daily lunch in our Bay Area, NYC and Seattle hubs, along with a monthly DoorDash credit for all employees. Let us take one thing off your plate so you can spend your energy where it matters most to you."},"time-away":{"title":"Time Away","description":"Take time to thrive. With 20 days of accrued PTO annually, accrued sick time and 12 company-paid holidays, you\'ll have the opportunity to recharge, reconnect, and rediscover."},"wellness-stipend":{"title":"Wellness Stipend","description":"Wellness, your way. Whether it\'s yoga classes, mental health apps, or gym memberships, use your money every four months stipend to invest in what makes you feel balanced and unstoppable."},"commuter-allowance":{"title":"Commuter Allowance","description":"We\'ll get you rolling. We contribute $50 monthly to a commuter pre-tax account, helping make your journey to work a little easier."},"retirement-fund":{"title":"Retirement Fund","description":"Invest in your dreams. We match a percentage of your contributions, up to the 2025 IRS cap of $23,500meaning a maximum company match of $5,875 per calendar year through Empower. Your future deserves it."},"parental-leave":{"title":"Parental Leave","description":"Every new chapter begins with care. We offer 20 weeks of paid leave for birthing parents and 12 weeks for non-birthing parents, ensuring your family gets the spotlight it deserves."},"medical-insurance":{"title":"Medical Insurance","description":"Your health, your choice. Choose between a PPO or an HSA plan with 100% of your premiums and 80% of your dependents\'."},"life-insurance":{"title":"Life, AD&D, and LTD","description":"Security for every chapter. Life and AD&D insurance come fully covered by us, as does Long-Term Disability (LTD). You focus on the story ahead, and we\'ve got the rest."},"dental-insurance":{"title":"Dental Insurance","description":"For smiles that last a lifetime. Our Principal plan covers 100% of your premiums and 80% of your dependents\'."},"vision-insurance":{"title":"Vision Insurance","description":"See the world your way. Principal covers 100% of your premiums and 80% of your dependents\'."}},"want-to-join-us":"We\'d love to work with someone like you","latest-company-updates":"Latest Company Updates","continue-reading":"Continue reading","alts":{"join-the-team":"People working on laptops in a modern, open office space with tiered wooden seating and natural light.","build-the-future":"A man stands in front of a whiteboard explaining a diagram to his colleague.","create-with-purpose":"Two people engage in a discussion while standing in a kitchenette.","collaborate":"Two people sitting at a table with laptops, smiling and talking in a modern office common area."}},"About":{"meta-title":"About Character.AI","our-purpose":{"title":"Our Purpose","description":"Character.AI empowers people to connect, learn, and tell stories through interactive entertainment.\\n Millions of people visit Character.AI every month, using our technology to supercharge their imaginations.","sections":{"entertainment":{"title":"Limitless Entertainment","description":"Character.AI leads you to the crossroads where storytelling, gaming, social connection, and creative expression converge to captivate you like never before."},"creation":{"title":"Neverending Ways to Create","description":"If you can imagine it, you can bring it life  from heroes, to settings, to stories and challenges. With Character.AI, you don\'t just follow the fun, you make it happen."},"connection":{"title":"Unbounded Connection","description":"Be a part of an expansive community. With Character.AI, you can connect with creators or find your own fans, and build on the imaginations of others to co-create entirely new worlds."},"discovery":{"title":"Endless Exploration","description":"Character.AI ignites your curiosity, offering millions of Characters to discover, unlimited conversations to explore, and infinite adventures through every new door waiting to be opened."}}},"discover-opportunities":{"title":"Discover Opportunities at Character","description":"Our team has deep technical expertise in AI and machine learning as well as bringing global consumer products to market. Come join us"},"offices":"We are headquartered in San Francisco with offices in Silicon Valley, Seattle, and New York.","inquiries":"<0>For media inquiries, reach out to </0><1>press@character.ai</1>","its-nice-to-see-ya":"it\'s nice to see ya","paragraph-7":"They are both committed to pushing the capabilities of technology for the benefit of every person.","Company":"Company","product":"Product","web-app":"Web App","iphone-app":"iPhone App","android-app":"Android App","resources":"Resources","faqs":"FAQs","safety-center":"Safety Center","learn-more":"Learn more","in-the-news":"In the News","about-c-ai":"About c.ai","alts":{"about-hero":"People working at computer stations in an open office space, with a neon sign on the wall that reads \'We empower people to connect, learn and tell stories through interactive entertainment.\'"}},"Video":{"dialogue":"Dialogue","trim":"Trim","listen":"Listen","starting-magic":"Starting magic...","create-video":"Create Video","make-sure-your-image-includes-a-face":"Make sure your image includes a face. Well re-style photos of real people.","or-drag-an-image-here":"Or drag an image here","hang-tight-weve-got-your-video-in-line-for-processing":"Hang tight! We\'ve got your video in line for processing.","your-super-awesome-video-will-show-up-here":"Your super awesome video will show up here","generating-progress-math-round-progress-100-0":"Generating {{percentage}}%","generate-audio":"Generate audio","audio-longer-than-0-s-might-get-clipped":"Audio longer than {{seconds}}s might get clipped!","upload-audio":"Upload Audio","error-uploading-audio":"Error uploading audio","image-description":"Image Description","please-select-an-image-smaller-than-size-mb":"Please select an image smaller than {{size}}MB","please-select-audio-smaller-than-size-mb":"Please select an audio file smaller than {{size}}MB","Policy":"This tool is for creativity, not chaos. \\n\\nBe kind to your C.ai community. No impersonating people. No bullying. No deepfakes. No use of protected intellectual property without permission.\\n\\nOne strike & youre out. No appeals. No drama. \\n\\nBy tapping Agree and Continue, you consent to the processing of any biometric information or identifiers. You also agree to use Avatars FX in line with our <2>Terms of Service</2>, <4>Privacy Policy</4>, and <6>Community Guidelines</6>. And you agree to have fun!","using-avatar-fx":"Using {{name}}","landing-description":"Thank you for your interest in using Avatar FX!\\n\\nWe\'re currently in a limited beta with early access available to a small group of creators and are rolling this out to all our c.ai+ subscribers as quickly as we can.","apply-for-early-access":" Apply for early access ","failed-to-upload-image":"Failed to upload image","try-a-different-image":"Try a different image","error-transforming-image":"Error transforming image","read-more-about-avatar-fx-video-generation":"Read more about our work on AvatarFX and video generation <2>here</2>.","upgrade-to-c-ai":"Upgrade to c.ai+","caiplus-description":"As a c.ai+ user, you\'re in our rollout queue!\\n\\nWe are just trying to make sure our servers don\'t explode!","audio-must-be-longer-than-limit-seconds":"Audio must be longer than {{seconds}} seconds","numleft-left-today":"{{num}} left today","try-an-image":"Try an image","try-an-example":"Try an example","video-unavailable":"Video unavailable","video-by":"Video by","transcript-is-too-long":"Transcript is too long","Landing":{"video-gen-from-character-ai":"Video gen from character.ai","make-images-come-to-life":"Make Images Come to Life","out-now-for-all-c-ai-members":"Out now for all c.ai+ members!"},"select-character":"Select Character","or":"OR","post-video-to-c-ai":"Post video to c.ai","your-video-will-be-posted-on-your-profile":"Your video will be posted on your profile on the c.ai mobile app and public to all users.","share-link":"Share link:","post-to-feed":"Post to feed","copy-share-link":"Copy share link","posted-to-c-ai":"Posted to c.ai!","post-to":"Post to c.ai","try-a-different-art-style":" Restyle image ","Error":{"GENERIC_IMAGE_SAFETY":"Looks like this image is unsafe - choose a new one","IMAGE_VIOLATES_GUIDELINES":"This looks like a real persons photo - <1>choose a new image</1> or try giving this one a fresh new look.","CONTENT_VIOLATES_GUIDELINES_GENERAL":"Looks like the image description includes unsafe content - edit and retry","QUOTA_EXCEEDED":"You have reached your limit for today","NO_FACE_DETECTED":"No face found in image. Please try again with a different image.","NOT_CONTAIN_REALISTIC_YOUTH":"Looks like this image includes a child - choose a new one","NOT_CONTAIN_BLOCKED_CELEBRITY_IP":"Looks like this image includes protected content - choose a new one","UNSAFE_TEXT_AUDIO_CONTENT":"Looks like this script includes unsafe content - edit and retry"},"remix":"Remix","watch-your-images-come-to-life":"Watch your images come to life!","welcome-to-avatarfx":"Welcome to AvatarFX","grab-an-image":"Grab an image","choose-a-voice":"Choose a voice","write-a-fun-script":"Write a fun script","past-avatarfx-creations":"Past AvatarFX Creations","requirements":{"limit_reached":"You have reached your limit for today","single":"Please {{requirement}}","two":"Please {{first}} and {{second}}","multiple":"Please {{list}} and {{last}}","image":"provide an image","voice":"select a voice","audio":"generate audio","longer_audio":"provide a longer audio clip"},"delimiter":{"comma":", "}},"Videocharacter-image":"Avatar Image","Safety":{"meta-title":"Safety Center","meta-description":"Character.AIs safety-by-design approach is anchored by our goal of creating a safe and engaging experience.","topics":{"title":"Topics","description":"Explore the topics below to discover more about each safety subject.","cards":{"parental-insights":"Parental Insights","content-moderation":"Content Moderation","teen-safety":"Teen Safety","reporting":"Reporting","read-more":"Continue reading"}},"parental-insights":{"title":"Our Parental Insights Tool","steps":{"step-1":{"title":"Step 1","description":"Your teen can get started by selecting the parental insights tab in Preferences. They can add multiple parents or guardians through this same process."},"step-2":{"title":"Step 2","description":"They can input your email and invite you to share their activity."},"step-3":{"title":"Step 3","description":"Check your inbox for an invitation from your teen to access the feature (make sure to check your spam if you cant find the initial email). Click Agree."},"step-4":{"title":"Step 4","description":"Receive a weekly activity report which will include the time spent by your teen on Character.AI and the top Characters they are interacting with."},"step-5":{"title":"Step 5","description":"To stop sharing their activity, your teen can request to remove an email address by selecting the drop down next to the address in the parental insights tab. Youll receive an email letting you know the request has been made and requiring you to confirm that this request has been approved."}}},"guidelines":{"title":"Learn about our guidelines to keep Character.ai safe and welcoming for all.","cards":{"community-guidelines":"View our community guidelines","support":"Get support","teen-safety":"Our commitment to teen safety","read-more":"Learn more"}},"alts":{"safety-hero":"Modern open-plan office at night with several people working at desks equipped with large computer monitors. The room is well-lit with rows of hanging light bulbs and has a minimalistic design featuring white walls, high ceilings, and large windows.","parental-insights":"User icon","content-moderation":"Slider controls icon","teen-safety":"Shield security icon","reporting":"Flag icon"}},"Safety-ParentalInsights":{"meta-title":"Parental Insights","subtitle":"Building a space to create, explore, and connect","description":"Our goal is to build a platform that is both engaging and safe for our community. Thats why weve created separate Character.AI experiences for adults and teens, and have developed specific safety features with teens in mind.","how-it-works":{"title":"How it works","content":"The new Parental Insights feature provides parents and guardians access to a summary of their teens activity on the platform. These insights help give a clearer understanding of how users under 18 engage with Character.AI, including:","bullets":{"1":"Daily average time spent on the platform across both web and mobile.","2":"Top Characters a teen has interacted with most frequently during the week. This does not include a users chat content.","3":"Time spent on each Character, giving parents insight into engagement patterns.","4":"C.ai+ subscription status."}}},"Safety-ContentModeration":{"meta-title":"Our Approach to Content Moderation","meta-description":"We take a safety-by-design approach, putting the safety of our users at the center of the product design process. Our dedicated Trust & Safety team has deep experience working to create effective and thoughtful safety policies and operational processes for emerging technologies.","subtitle":"protecting our community standards","automated-tools":"Automated Tools: We use proprietary tools that seek to block certain violating content before it can be posted. Like other solutions in this space, these tools are evolving quickly and we will continue to improve them over time.","moderation":"Moderation: Our Trust & Safety team includes internal personnel, contracted moderators, and vendors - as is standard in the industry. Our Trust & Safety moderators work around the clock, focused on taking appropriate action on reported content. We provide them with the technical tools necessary to keep Character.AI a positive experience and are constantly looking for ways to evolve these tools to better serve our users.","dmca":"DMCA: We respect the intellectual property of others, and we ask our users to do the same. To put that policy into practice, we have a robust Digital Millennium Copyright Act (DMCA) takedown protocol for copyright infringement. That protocol is described in detail in our Terms of Service"},"Safety-Reporting":{"meta-title":"How to Report on Character.AI","meta-description":"We give our users a host of tools so they can report content  whether from a Character or a user  that they believe violates our Terms. For example, we provide tools so users can separately flag messages and users. Our website also contains several reporting options so users can reach us to report improper content.","subtitle":"Tools for reporting","web":"Web: On the Character chat page, click the three dots on the top right, and select the flag. Choose the reason that best matches why youre reporting the character, adding any additional details you think will be helpful for our content moderation teams before submitting the report.","mobile":"Mobile: On the Character chat page, click the Character name, then View Character. Select the flag Report option and choose the reason that best matches why youre reporting the character, adding any additional details you think will be helpful for our content moderation teams before submitting the report.","reporting-users":"Reporting Users: On the users profile page, click the report button directly under their username. Choose the reason that best matches why youre reporting the user, adding any additional details you think will be helpful for our content moderation teams before submitting the report."},"Safety-TeenSafety":{"meta-title":"How We Prioritize Teen Safety","meta-description":"We have created  a different Character.AI experience for teens from what is available to adults  with specific safety features that place more conservative limits on responses from the model and a narrower set of Characters.","model":"The Model","model-description":"For users under 18, we serve a version of our Large Language model that is designed to reduce the likelihood of users encountering, or prompting the model to return, sensitive or suggestive content. This initiative has produced two distinct user experiences on the Character.AI platform: one for teens and one for adults.","model-outputs":"Model Outputs","model-outputs-description":"Our under-18 model has additional and more conservative classifiers than the model for our adult users so we can enforce our content policies and filter out sensitive content from our models responses.","user-inputs":"User Inputs","user-inputs-description":"We have controls to user inputs that allow for detection, response, and intervention related to inputs from all users. If we detect that a user has submitted content that violates our Terms of Service or Community Guidelines, that content will be blocked from the users conversation with the Character.","characters":"Characters","characters-description":"While hundreds of millions of user-created Characters exist on the platform, teen users are only able to access a narrower set of Characters. Filters are applied to remove Characters related to sensitive or mature topics. In addition, if Characters related to those sensitive or mature topics are reported to us, we will block them from teen users.","working-with-experts":"Working with experts","working-with-experts-description":"We collaborate with several teen online safety experts as part of our safety-by-design process as we develop new features, and they also will provide their perspective on our existing product experience."},"Scenes":{"choose-character":"Select Character","suggested":"Suggested","select-a-character":"Select a Character","start-scene":"Start Scene","not-found":"Scene could not be found.","search-all":"Search All","coming-soon":"Coming Soon","see-scene-description":"See Scene description","hide-scene-description":"Hide description"},"CharacterSelector":{"select-character":"Select Character","recommended":"Recommended","discover":"Discover","your-characters":"Your Characters","recent":"Recent"}}')}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],function(){return t(31139),t(86570),t(37043)}),_N_E=e.O()}]);