"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7669],{72422:function(e,t,s){s.d(t,{m:function(){return v}});var a=s(52322),r=s(2784),l=s(37940),n=s(35981),i=s(93326),c=s(92599),o=s(55264),d=s(39097),u=s.n(d),m=s(10386),x=s(7552);let f=["description","definition"],h=e=>{let{character:t}=e,{t:s}=(0,m.$G)(),r=e=>{o.Wj.copyTextToClipboard(null!=e?e:"",s("Common.message-copied-to-clipboard"),"ChatMessage")};return(0,a.jsx)("div",{className:"h-full overflow-y-auto w-full flex flex-col gap-2 pb-2",children:f.map(e=>t[e]?(0,a.jsxs)("div",{className:"h-fit max-h-full flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,a.jsx)("p",{children:s("CharacterEditor.Form.".concat(e))}),(0,a.jsx)(i.zx,{onPress:()=>r(t[e]),variant:"ghost",size:"sm",startContent:(0,a.jsx)(c.TIy,{height:"1rem"}),analytics:{name:"elementClicked",properties:{type:"copy-".concat(e),referrer:"ViewCharacterSheet"}},children:s("Common.copy")})]}),(0,a.jsx)("p",{className:"text-sm whitespace-pre-line",children:t[e]})]},e):null)})},p=r.forwardRef((e,t)=>{let{character:s}=e,{t:l}=(0,m.$G)(),[n,o]=(0,r.useState)(!1);return(0,a.jsxs)(x.yo,{onOpenChange:o,open:n,modal:!1,children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(i.zx,{variant:"ghost",className:"w-full flex flex-row justify-between rounded-spacing-xs",onPress:()=>{o(!0)},endContent:(0,a.jsx)(c.tEF,{width:"1rem",height:"1rem"}),children:l("Common.view-character-details")})}),(0,a.jsxs)(x.ue,{className:"flex h-full flex-col w-96 max-w-80",ref:t,children:[(0,a.jsx)(x.sw,{children:(0,a.jsxs)(x.Tu,{className:"flex flex-row items-center gap-6",children:[(0,a.jsx)(c.XCv,{className:"text-muted-foreground size-4"}),l("Common.view-character-details")]})}),(0,a.jsx)(h,{character:s})]})]})});p.displayName="ViewCharacterSheet";let j=r.forwardRef((e,t)=>{let{characterId:s}=e,{t:r}=(0,m.$G)();return(0,a.jsx)(u(),{href:o.nN.character(s),children:(0,a.jsxs)("div",{ref:t,className:"p-2 px-3 w-full flex justify-between items-center bg-surface-elevation-3 hover:bg-[--transparency-4] text-primary rounded-spacing-s",children:[r("Common.edit"),(0,a.jsx)(c.dY8,{width:"1rem",height:"1rem"})]})})});j.displayName="EditOption";let g=e=>{let{thisIsMyCharacter:t,character:s}=e;return(0,r.useMemo)(()=>{let e=[];return t&&e.push({content:(0,a.jsx)(j,{characterId:s.external_id}),asChild:!0,key:"edit"}),s.copyable&&f.map(e=>!!s[e]).some(Boolean)&&!t&&e.push({content:(0,a.jsx)(p,{character:s}),asChild:!0,key:"view"}),e},[t,s])},v=e=>{let{thisIsMyCharacter:t,character:s,alwaysShow:c,contentClassName:o}=e,d=g({character:s,thisIsMyCharacter:t}),[u,m]=(0,r.useState)(!1);return d.length?(0,a.jsx)(n.C,{options:d,setIsOpen:m,isOpen:u,triggerClassName:c?"opacity-100":"",contentClassName:o,asChild:!0,children:(0,a.jsx)(i.zx,{variant:c?"outline":"ghost",color:"secondary",isIconOnly:!0,preventDefault:!0,onPress:()=>m(!u),children:(0,a.jsx)(l.evw,{})})}):null}},54770:function(e,t,s){s.d(t,{u:function(){return b}});var a=s(52322),r=s(21236),l=s(55541),n=s(74251),i=s(67938),c=s(61676),o=s(55264),d=s(70677),u=s(5632),m=s(2784),x=s(10386),f=s(51813),h=s(92197),p=s(77009),j=s(93326),g=s(50090),v=s(92599),N=s(95856),w=s(72422);let y=e=>{let{tags:t}=e;return(0,a.jsx)("div",{className:"flex flex-row flex-wrap gap-1 mt-2 mb-2",children:t.map(e=>(0,a.jsx)("span",{className:"px-1.5 py-0.5 gap-1 bg-surface-elevation-2 text-primary text-xs leading-4 rounded-sm",children:e.display_name},e.tag_id))})};function b(e){let{referrer:t,character:s,optionsProps:l,hideAuthor:d,clickableAuthor:v,ctaProps:b,href:_,className:k,infoClassName:z,nameClassName:S,avatarSize:V,searchResultCharacterIds:I,index:P,onClick:R,trackImpressions:O=!1,openInNewTab:E=!1,searchUuid:T}=e,{participant__name:D,avatar_file_name:$,title:G,greeting:L,participant__num_interactions:M,user__username:A,upvotes:B}=s,q=o.nN.chat(s.external_id),F=null!=_?_:q,Y=(0,u.useRouter)(),H=(0,n.Dv)(),{t:U}=(0,x.$G)(),W=(0,m.useRef)(null),Z=(0,i.O)(W,{enabled:O,onlyTriggerOnce:!0});return(0,m.useEffect)(()=>{Z&&r.iN.contentViewed({content:s.external_id,type:"character_list_result",referrer:t,index:P,component:"CharacterListItemStandard",search_uuid:T})},[s.external_id,Z,t,P,T]),(0,a.jsx)(g.Z,{href:F,target:E?"_blank":void 0,className:(0,c.cn)("group flex w-full flex-row justify-between hover:bg-surface-elevation-3 hover:rounded-spacing-m p-2 items-center",k),onClick:R,analytics:{name:"characterSelected",properties:{link:F,referrer:t,type:"CharacterListItemStandard",character_id:s.external_id,all_search_result_ids:I,index:P,search_uuid:T}},children:(0,a.jsxs)("div",{ref:W,className:"flex w-full flex-row gap-3 items-center text-md relative",children:[(0,a.jsx)(N.B7,{name:D,src:$,size:null!=V?V:H?52:90,circle:!1}),(0,a.jsxs)("div",{className:"w-full flex flex-1 min-w-0 flex-col justify-center",children:[(0,a.jsx)("p",{className:(0,c.cn)("text-md sm:text-lg",S),children:D}),(0,a.jsx)("p",{className:(0,c.cn)("w-full text-sm sm:text-md line-clamp-1 text-ellipsis break-anywhere overflow-hidden whitespace-normal text-muted-foreground",z),children:G||L}),!!s.tags&&(0,a.jsx)(y,{tags:s.tags}),(0,a.jsx)("div",{className:"w-full flex gap-1 sm:gap-2 text-muted-foreground items-center overflow-hidden",children:(()=>{let e=[];return M&&M>0&&e.push((0,a.jsx)("div",{className:"flex items-center justify-start",children:(0,a.jsx)(p.k,{type:"interactions",num:M,iconProps:{size:"1em",className:"mr-1"},textClassname:z,omitQuantifier:!0})},"num-interactions")),B&&B>0&&(e.length>=1&&e.push((0,a.jsx)("span",{children:"•"},"dot-upvotes")),e.push((0,a.jsx)("div",{className:"flex items-center justify-start",children:(0,a.jsx)(p.k,{type:"upvotes",num:B,iconProps:{size:"1em",className:"mr-1"},textClassname:z})},"num-upvotes"))),A&&!d&&(e.length>=1&&e.push((0,a.jsx)("span",{children:"•"},"dot-creator")),e.push((0,a.jsx)(h.f,{author:A,clickable:v,className:z},"creator-link"))),(0,a.jsx)(a.Fragment,{children:e.map(e=>e)})})()})]}),!!E&&(0,a.jsx)("div",{className:"absolute right-3 top-3 pointer-events-none",children:(0,a.jsx)("div",{className:"opacity-0 group-hover:opacity-100 group-hover:bg-surface-elevation-2 group-hover:border-1 group-hover:border-surface-elevation-3 rounded-full",children:(0,a.jsx)(f.Ig3,{className:"h-5 w-5"})})}),!!l&&(0,a.jsx)("div",{className:"z-50",children:(0,a.jsx)(w.m,{character:s,thisIsMyCharacter:l.thisIsMyCharacter})}),!!(null==l?void 0:l.showVisibility)&&(0,a.jsx)("div",{className:"absolute right-3 top-3",children:(0,a.jsx)(C,{visibility:s.visibility})}),!!b&&(0,a.jsx)(j.zx,{preventDefault:!0,className:"hidden md:block bg-surface-elevation-2 hover:bg-scrim-8 px-0",variant:"ghost",onPress:()=>{Y.push(b.link)},children:U("Common.chat")})]})})}let C=e=>{let{visibility:t}=e,{t:s}=(0,x.$G)();switch(t){case d.pA.PUBLIC:return(0,a.jsx)(l.l,{content:s("Common.Visibility.public"),side:"left",children:(0,a.jsx)("div",{children:(0,a.jsx)(v.n9J,{className:"size-4 text-muted-foreground"})})});case d.pA.UNLISTED:return(0,a.jsx)(l.l,{content:s("Common.Visibility.unlisted"),side:"left",children:(0,a.jsx)("div",{children:(0,a.jsx)(v.xPt,{className:"size-4 text-muted-foreground"})})});case d.pA.PRIVATE:return(0,a.jsx)(l.l,{content:s("Common.Visibility.private"),side:"left",children:(0,a.jsx)("div",{children:(0,a.jsx)(v.mBM,{className:"size-4 text-muted-foreground"})})});default:return(0,a.jsx)("div",{})}}},92734:function(e,t,s){s.d(t,{P:function(){return n}});var a=s(52322),r=s(61676),l=s(66582);let n=e=>{let{header:t,children:s,containerClassName:n,innerClassName:i,childrenClassName:c,handleScroll:o}=e;return(0,a.jsx)("div",{className:(0,r.cn)("h-full w-full flex flex-row justify-center",n),onScroll:o,children:(0,a.jsx)("div",{className:(0,r.cn)("flex h-full w-full flex-col justify-between px-4 sm:px-8 pt-6 max-w-7xl items-center",{"p-0":l.tq}),children:(0,a.jsxs)("div",{className:(0,r.cn)("w-full h-full",i),children:[t,(0,a.jsx)("ol",{className:(0,r.cn)("flex flex-col",c),children:s})]})})})}},4630:function(e,t,s){s.d(t,{a:function(){return d}});var a=s(52322),r=s(35740),l=s(74251),n=s(61676),i=s(55264),c=s(50090),o=s(46086);let d=()=>{let e=(0,l.Dv)(),{user:t}=(0,r.a)();return t?null:(0,a.jsx)("div",{className:"flex flex-row w-full justify-start",children:(0,a.jsx)(c.Z,{href:i.nN.home(),className:(0,n.cn)("flex items-center h-fit",e?"pt-2":"pt-1",{"pl-2":e}),analytics:{name:"linkOpened",properties:{referrer:"LogoHeaderSignedOut",link:i.nN.home()}},children:(0,a.jsx)(o.t,{size:e?"mini":"regular"})})})}},30597:function(e,t,s){s.d(t,{d:function(){return m}});var a=s(52322),r=s(35740),l=s(61676),n=s(55264),i=s(6302),c=s(5632),o=s(66582),d=s(92734),u=s(4630);let m=e=>{let{children:t,showFullHeader:s,containerClassName:m,headerClassName:x,childrenClassName:f,handleScroll:h}=e,{asPath:p}=(0,c.useRouter)(),j=p.startsWith(n.nN.chat("")),{user:g}=(0,r.a)();return g?t:(0,a.jsx)(d.P,{header:s||j?(0,a.jsx)(i.$C,{hideSearch:!0,className:x}):(0,a.jsx)(u.a,{}),containerClassName:(0,l.cn)(j&&"pt-1 absolute top-0",j&&!o.tq&&"overflow-y-auto",m),innerClassName:(0,l.cn)(j&&o.tq&&"overflow-y-auto"),childrenClassName:(0,l.cn)(j&&"h-full w-full items-center",f),handleScroll:h,children:t})}},7552:function(e,t,s){s.d(t,{Tu:function(){return f},sw:function(){return o},ue:function(){return x},yo:function(){return c}});var a=s(52322),r=s(99248),l=s(10929),n=s(2784),i=s(61676);let c=r.fC;r.xz;let o=r.x8,d=r.h_,u=n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-scrim data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l,ref:t})});u.displayName=r.aV.displayName;let m=(0,l.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l border-l-accent data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right max-w-xs"}},defaultVariants:{side:"right"}}),x=n.forwardRef((e,t)=>{let{side:s="right",className:l,children:n,...c}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(u,{}),(0,a.jsx)(r.VY,{ref:t,className:(0,i.cn)(m({side:s}),l),...c,children:n})]})});function f(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})}x.displayName=r.VY.displayName,f.displayName="SheetHeader",n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold text-foreground",s),...l})}).displayName=r.Dx.displayName,n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...l})}).displayName=r.dk.displayName}}]);