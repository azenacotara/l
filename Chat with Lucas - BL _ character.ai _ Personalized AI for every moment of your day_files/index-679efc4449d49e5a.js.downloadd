(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{87314:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7434)}])},63276:function(e,t,r){"use strict";r.d(t,{b:function(){return c},x:function(){return o}});var l=r(48364),a=r(75657),s=r(92642),n=r(2784);let i=e=>{let{name:t,operationName:r,attributes:l}=e,i=(0,n.useRef)(),c=(0,n.useRef)();return{start:(0,n.useCallback)(()=>{i.current||a.GK({name:t,op:r,attributes:l},e=>{i.current=e,c.current=Date.now()})},[t,r,l]),finish:(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(i.current){if(e){s.n_({message:"Span aborted: ".concat(t),level:"warning",data:{operationName:r,attributes:l}}),i.current=void 0,c.current=void 0;return}c.current&&(c.current=void 0),i.current.end(),i.current=void 0}},[t,r,l])}},c=e=>{let t=(0,n.useRef)(!1),{start:r,finish:l}=i({name:"FirstChunkLatency",operationName:"streaming",attributes:{measure_latency:"first_chunk"}}),a=(0,n.useCallback)(()=>{t.current||(t.current=!0,r())},[r]);return(0,n.useEffect)(()=>{"none"===e&&(t.current=!1),t.current&&"streaming"===e&&(t.current=!1,l())},[e,l]),{startMeasurement:a}},o=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a=!(arguments.length>3)||void 0===arguments[3]||arguments[3],s="loading",c=(0,n.useRef)(null),{start:o,finish:d}=i({name:t,operationName:s});(0,n.useEffect)(()=>{if(a)return e?(o(),r&&(c.current=setTimeout(()=>{d(!0),(0,l.H)("useMeasureLoadingLatency aborted due to timeout",{extra:{referrer:t,operationName:s,timeout:r}})},r))):!e&&(d(),c.current&&(clearTimeout(c.current),c.current=null)),()=>{c.current&&clearTimeout(c.current)}},[e,o,d,r,t,a])}},7434:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return tk},default:function(){return tF},runtime:function(){return t_}});var l=r(52322),a=r(20808),s=r(6669),n=r(50567),i=r(21236),c=r(35505),o=r(92488),d=r(61676),u=r(6302);let h=e=>{let{children:t,headerClassName:r,innerClassName:a,handleScroll:s}=e;return(0,l.jsx)("div",{className:"flex flex-col justify-between overflow-hidden flex dark:bg-[#18181B]",children:(0,l.jsx)("div",{className:(0,d.cn)("w-full"),onScroll:s,children:(0,l.jsxs)("div",{className:a,children:[(0,l.jsx)(u.$C,{className:(0,d.cn)(r,"border-b border-[#D4D4DA] dark:border-none"),hideSearch:!0,referrer:"NewHomeWrapper",onButtonPress:()=>{o.SZ.value=!0,i.iN.elementClicked({referrer:"NewHomeWrapper",action:"signin_button_clicked"})},isNewHome:!0}),(0,l.jsx)("div",{children:t}),(0,l.jsx)(c.$,{})]})})})};var m=r(9365),x=r(63276),f=r(35740),p=r(57489),v=r(86777),g=r(34318),j=r(15030),b=r(83614),w=r(66582);function y(e){var t,r,l;let{client:a}=(0,b.useStatsigClient)(),s="control";w.tq||(s=a.getExperiment(n.F5.LoggedOutHomePageRecommendations).get("variant","control"));let i="new-nux-recs"!==s,{user:c}=(0,f.a)(),{data:o,isLoading:d}=g.h.discovery.recommended.useQuery({lang:null==e?void 0:e.lang},{enabled:!!c,cacheTime:j.yV,staleTime:j.yV,refetchInterval:j.yV}),{data:u,isLoading:h}=g.h.discovery.recommendedAnonymous.useQuery({},{enabled:!c&&i,cacheTime:j.yV,staleTime:j.yV,refetchInterval:j.yV}),{data:m,isLoading:x}=g.h.discovery.recommendedAnonymousNux.useQuery({},{enabled:!c&&!i,cacheTime:j.yV,staleTime:j.yV,refetchInterval:j.yV});return{recommendedCharacters:null!==(l=null!==(r=null!==(t=null==o?void 0:o.characters)&&void 0!==t?t:null==u?void 0:u.characters)&&void 0!==r?r:null==m?void 0:m.characters)&&void 0!==l?l:[],isLoading:d&&!!c||h&&!c||x&&!c,recommendedUuid:null==o?void 0:o.recommendedUuid}}var N=r(82876),A=r(2784);let C=()=>{let e=(0,N.useSearchParams)(),t=null==e?void 0:e.get("settings");(0,A.useEffect)(()=>{t&&(o.bB.value=!0)},[t])};var S=r(93326),k=r(92599),_=r(55264),I=r(57352),F=r(96577),G=r.n(F);let R={noblewoman:{src:"/_next/static/media/noblewoman.18e59535.webp",height:96,width:96,blurDataURL:"data:image/webp;base64,UklGRmoAAABXRUJQVlA4IF4AAADwAQCdASoIAAgAAkA4JbACdAD0prQ/KAAA/tBy6PjhtvKXQNIM+2jwB7GfIJT7jyvm99P7C2JTM3A8AAXragLTQKGqDTiSUw5++9J/63Qi9WtE4ext+BzQ+oa9AAAA",blurWidth:8,blurHeight:8},philosopher:{src:"/_next/static/media/philosopher.2733e35b.webp",height:87,width:96,blurDataURL:"data:image/webp;base64,UklGRmAAAABXRUJQVlA4IFQAAADwAQCdASoIAAcAAkA4JbACdAD0mb5BlnAA/t4rWVLA0GMvHrhBNEHPo7fQkcczIyts7He8LLSexBrtQn4YQrpUX+85tCOw9whIh7G3/edp2koAAAA=",blurWidth:8,blurHeight:7},zeus:{src:"/_next/static/media/zeus.ad885461.webp",height:128,width:128,blurDataURL:"data:image/webp;base64,UklGRpQAAABXRUJQVlA4WAoAAAAQAAAABwAABwAAQUxQSBUAAAABF9D/iAgQZNsMbRJDu/IZIvof+BsAVlA4IFgAAAAQAgCdASoIAAgAAkA4JYgCdAYoBkUeucQAAP7vaq/0eij0MLcMmliBOYa9Bk+Wvajp9ROVi59bD4+1sm/iyeYIeuiOYy/dzs++8QoUuSKDZoz/JuL5sQAA",blurWidth:8,blurHeight:8}},E=e=>{let{controls:t,variants:r,children:a,className:s}=e;return(0,l.jsx)(I.E.div,{className:(0,d.cn)("absolute",s),initial:"hidden",animate:t,variants:r,children:a})},H=e=>{let{alt:t,controls:r,variants:a}=e;return(0,l.jsx)(E,{controls:r,variants:a,children:(0,l.jsx)(G(),{className:"rounded-full",src:R[t],alt:t,width:15,height:15})})},O=e=>{let{controls:t,variants:r,className:a}=e;return(0,l.jsx)(E,{controls:t,variants:r,children:(0,l.jsx)(k.uAs,{height:"32px",width:"32px",className:a})})},q=e=>{let{text:t,controls:r,variants:a,className:s}=e;return(0,l.jsx)(E,{controls:r,variants:a,children:(0,l.jsx)("div",{className:(0,d.cn)("bg-surface-elevation-3 px-3 py-1 w-fit rounded-full",s),children:t})})};var z=r(57035),P=r(61336),M=r(19209);function Q(){let e=!1,t=new Set,r={subscribe:e=>(t.add(e),()=>void t.delete(e)),start(r,l){(0,z.k)(e,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");let a=[];return t.forEach(e=>{a.push((0,M.d)(e,r,{transitionOverride:l}))}),Promise.all(a)},set:r=>((0,z.k)(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),t.forEach(e=>{(0,P.gg)(e,r)})),stop(){t.forEach(e=>{!function(e){e.values.forEach(e=>e.stop())}(e)})},mount:()=>(e=!0,()=>{e=!1,r.stop()})};return r}var T=r(3105),D=r(23617);let B=function(){let e=(0,T.h)(Q);return(0,D.L)(e.mount,[]),e},U={some:0,all:1};var L=r(10386);let W=(e,t,r,l)=>{var a,s,n,i;return{hidden:{scale:null!==(a=null==r?void 0:r.hidden)&&void 0!==a?a:.2,opacity:null!==(s=null==l?void 0:l.hidden)&&void 0!==s?s:0,...null!=t?t:{top:162,left:300}},visible:{scale:null!==(n=null==r?void 0:r.visible)&&void 0!==n?n:1,opacity:null!==(i=null==l?void 0:l.visible)&&void 0!==i?i:1,transition:{ease:"easeInOut",duration:.75*Math.random()+.15},...e}}},Y=()=>{let{t:e}=(0,L.$G)(),t=B(),r=(0,A.useRef)(null),a=function(e,{root:t,margin:r,amount:l,once:a=!1}={}){let[s,n]=(0,A.useState)(!1);return(0,A.useEffect)(()=>{if(!e.current||a&&s)return;let i={root:t&&t.current||void 0,margin:r,amount:l};return function(e,t,{root:r,margin:l,amount:a="some"}={}){var s;let n=("string"==typeof(s=e)?s=document.querySelectorAll(s):s instanceof Element&&(s=[s]),Array.from(s||[])),i=new WeakMap,c=new IntersectionObserver(e=>{e.forEach(e=>{let r=i.get(e.target);if(!!r!==e.isIntersecting){if(e.isIntersecting){let r=t(e);"function"==typeof r?i.set(e.target,r):c.unobserve(e.target)}else r&&(r(e),i.delete(e.target))}})},{root:r,rootMargin:l,threshold:"number"==typeof a?a:U[a]});return n.forEach(e=>c.observe(e)),()=>c.disconnect()}(e.current,()=>(n(!0),a?void 0:()=>n(!1)),i)},[t,e,r,a]),s}(r);return((0,A.useEffect)(()=>{a?t.start("visible"):t.start("hidden")},[t,a]),w.tq)?null:(0,l.jsx)("div",{className:"w-full flex justify-center",ref:r,children:(0,l.jsxs)("div",{className:"w-[600px] h-[250px] relative",children:[(0,l.jsx)(H,{controls:t,variants:W({top:80,left:150}),alt:"zeus"}),(0,l.jsx)(O,{controls:t,className:"text-accent",variants:W({top:90,left:50})}),(0,l.jsx)(H,{controls:t,alt:"noblewoman",variants:W({top:140,left:110})}),(0,l.jsx)(H,{controls:t,variants:W({top:180,left:20},void 0,void 0,{hidden:.2,visible:.5}),alt:"philosopher"}),(0,l.jsx)(q,{text:e("Home.witty"),controls:t,variants:W({top:200,left:90})}),(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)(E,{controls:t,variants:W({top:125,left:184},{top:125,left:300},{hidden:0,visible:1}),children:(0,l.jsx)(G(),{className:"opacity-50 rounded-spacing-s",src:R.philosopher,alt:"philosopher",width:75,height:75,priority:!0,fetchPriority:"high",quality:25})}),(0,l.jsx)(E,{className:"z-10",controls:t,variants:W({top:100,left:240},{top:100,left:240,x:0,y:0},{hidden:0,visible:1},{hidden:1,visible:1}),children:(0,l.jsx)(G(),{className:"rounded-spacing-s",src:R.zeus,alt:"zeus",width:125,height:125,priority:!0,fetchPriority:"high",quality:25})}),(0,l.jsx)(E,{controls:t,variants:W({top:125,left:340},{top:125,left:240},{hidden:0,visible:1}),children:(0,l.jsx)(G(),{className:"opacity-50 rounded-spacing-s",src:R.noblewoman,alt:"noblewoman",width:75,height:75,priority:!0,fetchPriority:"high",quality:25})})]}),(0,l.jsx)(H,{controls:t,alt:"philosopher",variants:W({top:80,left:440})}),(0,l.jsx)(q,{text:e("Home.mentor"),controls:t,variants:W({top:97,left:520}),className:"text-accent"}),(0,l.jsx)(O,{controls:t,variants:W({top:150,left:460})}),(0,l.jsx)(H,{controls:t,alt:"noblewoman",variants:W({top:180,left:540},void 0,void 0,{hidden:.2,visible:.5})}),(0,l.jsx)(H,{controls:t,alt:"zeus",variants:W({top:230,left:500},void 0,void 0,{hidden:.2,visible:.5})})]})})};var V=r(39097),Z=r.n(V);let X=()=>{let{t:e}=(0,L.$G)();return(0,l.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[(0,l.jsx)(Y,{}),(0,l.jsxs)("div",{className:"my-spacing-xl max-w-[480px] w-full flex flex-col gap-spacing-s  items-center",children:[(0,l.jsx)("p",{className:"text-display",children:e("Home.create-a-character")}),(0,l.jsx)("p",{className:"text-muted-foreground flex text-center text-md",children:e("Home.not-vibing")}),(0,l.jsx)(S.zx,{as:Z(),href:_.nN.character(),startContent:(0,l.jsx)(k.qzz,{height:"16px",width:"16px"}),children:e("Home.create-a-character")})]})]})};var $=r(27714),K=r(65239),J=r(7702),ee=r(95856);function et(e){let{height:t=280,width:r=280,children:a,className:s}=e,[n,i]=(0,A.useState)(30),[c,o]=(0,A.useState)(0);return(0,l.jsx)("div",{onMouseMove:e=>{let t=e.currentTarget.getBoundingClientRect(),r=e.clientX-t.left,l=e.clientY-t.top,{offsetWidth:a}=e.currentTarget,{offsetHeight:s}=e.currentTarget;i(r/a*100),o(l/s*100)},className:(0,d.cn)("rounded-spacing-m p-4 flex-col flex gap-4 card-effect",s),style:{height:t,width:r,background:"radial-gradient(at \n              ".concat(n,"% ").concat(c,"%, var(--accent), var(--primary-foreground))")},children:a})}var er=r(50090),el=r(34581);function ea(e){var t;let{characterId:r}=e,{t:a}=(0,L.$G)(),{info:s}=(0,p.X)(r);if(!s||!s.character)return(0,l.jsx)(et,{children:(0,l.jsx)(el.O,{})});let{character:n}=s;return(0,l.jsx)(et,{children:!!n&&(0,l.jsxs)(er.Z,{href:_.nN.chat(n.external_id),className:"flex flex-col gap-4 h-full w-full group",analytics:{name:"characterSelected",properties:{character_id:n.external_id,referrer:"CharacterScenario"}},children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(ee.B7,{name:n.name,size:48,src:n.avatar_file_name}),(0,l.jsx)("div",{children:n.name})]}),(0,l.jsxs)("div",{className:"flex flex-col justify-between h-full flex-1",children:[(0,l.jsx)("div",{className:"max-h-36 overflow-hidden line-clamp-3 text-lg",children:null!==(t=n.greeting)&&void 0!==t?t:n.title}),(0,l.jsx)("div",{className:"text-muted-foreground font-sans font-light group-hover:text-foreground",children:a("Common.reply")})]})]})})}var es=r(39300);function en(e){let{scenario:t,flipScenario:r}=e,{t:a}=(0,L.$G)("",{keyPrefix:"Scenarios"}),[s,n]=(0,A.useState)(0),c=(0,A.useRef)(null),[o,d]=(0,A.useState)(!1);return(0,A.useEffect)(()=>{d(!0)},[]),(0,l.jsxs)("div",{className:"h-[300px] bg-contain overflow-hidden rounded-lg rounded-r-none absolute w-full z-0",style:{minWidth:400,maxWidth:800},children:[!!o&&(0,l.jsx)("video",{ref:c,autoPlay:!0,muted:!0,playsInline:!0,controls:!1,style:{width:800,height:300},preload:"auto",className:"object-cover object-center select-none",id:"hero-scenario-video",children:(0,l.jsx)("source",{src:t.videoSrc,type:"video/mp4"})}),(0,l.jsx)("div",{className:"m-h-[300px] h-[300px] absolute z-10 top-0",style:{width:800,backgroundImage:"linear-gradient(to left, var(--background), var(--hero-transparent))"}}),(0,l.jsxs)("div",{className:"absolute z-10 p-10 justify-between h-full items-start flex flex-col top-0",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-muted-foreground text-lg",children:t.questionRaw||a(t.question||"what-do-you-want-to-do")}),(0,l.jsx)("div",{className:"text-display typing-effect",children:t.answerRaw||a(t.answer)})]}),(0,l.jsx)(S.zx,{autoFocus:!1,onPress:()=>{i.iN.elementClicked({referrer:"HeroScenario",value:"FlipScenario"}),n(s+360),r()},isIconOnly:!0,variant:"ghost",className:"bg-[--transparency-4] text-[var(--G150)]",children:(0,l.jsx)(I.E.div,{animate:{rotate:s},children:(0,l.jsx)($.a2,{children:(0,l.jsx)(es.P$5,{size:18})})})})]})]})}let ei={hidden:{opacity:0,y:20},visible:e=>({opacity:1,y:0,transition:{delay:.1+.05*e}})},ec=[{question:"what-do-you-want-to-do",answer:"travel.go-on-an-adventure",characterIds:["GS_OvZ-lQyol_APHNZxOoHnc3LaanTvKeyROJhThpTw","aOfH1UKakUv-x3uNz8mG13kQx4lt28-RFkDcSc6gCck"],videoSrc:"https://characterai.io/static/editorial/scenarios/travel_s.mp4"},{question:"what-do-you-want-to-do",answer:"creativity.nurture-your-creativity",characterIds:["arSFby5bCipvQXcsMxxkYLRALdWZOC8Ub5pFtGklplc","v3t5o5EX32l-gB77NYX3l9Rh8C1lIGYSkI-HVNSg7r0"],videoSrc:"https://characterai.io/static/editorial/scenarios/creativity_s.mp4"},{question:"exercise.time-to-fell-your-best",answer:"exercise.get-fit-and-healthy",characterIds:["zADxAm8Kj3mG-Q_-BW4Sid_2R93_6Wbwn624Dcj97eA","-5jgnIpNmQuiuD6bL55MOtASTbvscvGR_cqvfqAE08M"],videoSrc:"https://characterai.io/static/editorial/scenarios/waterfall.mp4"},{question:"who-do-you-want-talk-to",answer:"support.trusted-circle",characterIds:["MOShz6OM2KhNGtuigfTGuLEM9UtSKYFv4P8cKuMTPgg","tTAS4lqAmkceojvxPBEE79OtxoBbXmsIntaQ6RG_4kI"],videoSrc:"https://characterai.io/static/editorial/scenarios/lighthouse.mp4"},{question:"what-do-you-want-to-do",answer:"learn.learn-something-new",characterIds:["nW7KYac14FpdUnugT4811pD-zHBCUZmfNU68x9oKoI0","S0nUbNqZf-iuFYxCO4NJsanAoZHhbNLBNB-eUHc-xZY"],videoSrc:"https://characterai.io/static/editorial/scenarios/library.mp4"},{question:"what-do-you-want-to-do",answer:"challenge.epic-challenges-await",characterIds:["tkhOCDS13d53UxbMHPspMMsCuaMHvlvf8XyPs2NnzHI","6AVP64tYv-bpx35cjZz_liuhqbksYo7BRYgVepiKO0U"],videoSrc:"https://characterai.io/static/editorial/scenarios/dice.mp4"}];function eo(){var e;let t=(0,b.useDynamicConfig)(n.Lo.ScenarioOverride).get("scenarios",null),[r,a]=(0,A.useState)(0),s=(0,A.useMemo)(()=>(0,_.Sy)(t||ec,new Date().getUTCDay()),[t]),i=(0,A.useCallback)(()=>a(e=>(e+1)%s.length),[s]);return(0,A.useEffect)(()=>{let e=setTimeout(()=>i(),15e3);return()=>clearTimeout(e)},[i,r]),(0,l.jsxs)($.a2,{className:"rounded-lg gap-10 bg-background items-center justify-between hidden xl:flex my-6 relative pb-6",children:[(0,l.jsx)(en,{scenario:s[r],flipScenario:i}),(0,l.jsx)(K.M,{children:(0,l.jsx)(J.tq,{slidesPerView:"auto",style:{marginRight:4},cssMode:!0,children:null===(e=s[r])||void 0===e?void 0:e.characterIds.map((e,t)=>(0,l.jsx)(J.o5,{style:{width:"auto"},className:"px-2",children:(0,l.jsx)(I.E.div,{variants:ei,initial:"hidden",animate:"visible",custom:t,children:(0,l.jsx)(ea,{characterId:e})},t)},t))})})]},r)}var ed=r(80729);let eu=e=>{let{category:t,enabled:r=!0}=e,{user:l}=(0,f.a)(),a=g.h.discovery.charactersByCurated.useQuery({category:t},{cacheTime:j.Rt,staleTime:j.Rt,refetchInterval:j.Rt,enabled:!!l&&r}).data,s=g.h.discovery.charactersByCuratedAnon.useQuery({category:t},{cacheTime:j.Rt,staleTime:j.Rt,refetchInterval:j.Rt,enabled:!l&&r}).data;return null!=a?a:s};function eh(){var e,t;let{user:r}=(0,f.a)();if(r){let{data:t}=g.h.discovery.curatedCategories.useQuery(void 0,{cacheTime:j.sr,staleTime:j.sr,refetchInterval:j.sr});return{categories:null!==(e=null==t?void 0:t.categories)&&void 0!==e?e:[]}}let{data:l}=g.h.discovery.curatedCategoriesAnon.useQuery(void 0,{cacheTime:j.sr,staleTime:j.sr,refetchInterval:j.sr});return{categories:null!==(t=null==l?void 0:l.categories)&&void 0!==t?t:[]}}var em=r(83862),ex=r(75049),ef=r(97679),ep=r(67938),ev=r(38978),eg=r(5632);let ej=A.forwardRef((e,t)=>{let{character_id:r,referrer:a,onCallback:s}=e,{t:n}=(0,L.$G)(),[c,o]=(0,A.useState)(!1),d=(0,ev.bA)(r),u=(0,N.usePathname)(),h=(0,eg.useRouter)(),m=g.h.useUtils(),x=(0,A.useCallback)(async()=>{o(!0),i.iN.elementClicked({character_id:r,type:"HideCharacterButton",referrer:a}),await d(),_.nN.chat(r)===u&&await h.push("/"),await m.discovery.invalidate(),o(!1),s()},[d,h,u,r,m,s,a]);return(0,l.jsx)(S.zx,{isLoading:c,ref:t,variant:"ghost",className:"justify-start text-sm hover:bg-accent rounded-spacing-s",onPress:x,preventDefault:!0,children:n("Common.hide-character")})});ej.displayName="HideCharacterButton";var eb=r(88585),ew=r(73210),ey=r(37940);function eN(e){let{characterId:t,className:r,onCallback:a,recentCharacter:s,creatorName:n}=e,{t:i}=(0,L.$G)(),[c,o]=(0,A.useState)(!1),u=(0,em.YQ)();return(0,l.jsx)("div",{className:(0,d.cn)("opacity-0 group-hover:opacity-40 hover:opacity-100 bottom-0 right-0 transition-all group-hover:delay-400",{"opacity-100":c,"opacity-40":u},r),children:(0,l.jsxs)(ew.h_,{open:c,onOpenChange:e=>{o(e),null==a||a(e)},children:[(0,l.jsx)(ew.$F,{asChild:!0,children:(0,l.jsx)(S.zx,{className:"min-w-unit-6 w-unit-6 h-unit-6 bg-background",variant:"ghost",size:"sm",isIconOnly:!0,onPress:()=>{o(!0),null==a||a(!0)},preventDefault:!0,name:i("Home.more-options"),"aria-label":i("Home.more-options"),children:(0,l.jsx)(ey.evw,{})})}),(0,l.jsxs)(ew.AW,{align:"end",className:(0,d.cn)("flex flex-col rounded-spacing-m overflow-hidden shadow-md"),children:[!!n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ew.Xi,{asChild:!0,children:(0,l.jsx)(S.zx,{variant:"ghost",className:"justify-start max-w-36",as:Z(),href:_.nN.profile(n),children:(0,l.jsxs)("span",{className:"w-full truncate",children:["@",n]})})}),(0,l.jsx)(ew.VD,{})]}),(0,l.jsx)(ew.Xi,{asChild:!0,children:s?(0,l.jsx)(eb.y,{character_id:t,referrer:"CharacterCard",onCallback:()=>{o(!1),null==a||a(!1)}}):(0,l.jsx)(ej,{character_id:t,referrer:"CharacterCard",onCallback:()=>{o(!1),null==a||a(!1)}})})]})]})})}let eA=e=>{let t=new URL(_.Wj.getCDNImageSource(e,_.t7.LARGE400));return t.searchParams.set("webp","true"),t.searchParams.set("anim","0"),t.toString()},eC=e=>{let{name:t,avatar_file_name:r,external_id:a,referrer:s,title:n,recentCharacter:i,user__username:c}=e,{user:o}=(0,f.a)(),u=(0,A.useMemo)(()=>(0,_.yC)(t),[t]);return(0,l.jsxs)("div",{className:"relative h-full w-full group",children:[(0,l.jsx)(er.Z,{href:_.nN.chat(a),"aria-label":"Character: ".concat(t),analytics:{name:"characterSelected",properties:{title:n,referrer:s||"FlexCharacterCard",character_id:a}},children:(0,l.jsxs)("div",{className:(0,d.cn)("flex justify-center items-center h-full w-full bg-cover bg-no-repeat bg-center rounded-spacing-s",{[u]:!r}),style:{backgroundImage:r?"url(".concat(eA(r),")"):void 0},children:[!r&&(0,l.jsx)("div",{className:"text-3xl opacity-75",children:t[0]}),(0,l.jsx)("div",{className:"absolute h-full w-full top-0 left-0 z-10 bg-gradient-to-t from-background to-40%"}),(0,l.jsx)("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 w-full text-center text-sm line-clamp-2 px-1.5 text-ellipsis z-10",children:t})]})}),!!o&&(0,l.jsx)("div",{className:"absolute top-1 right-1 z-10",children:(0,l.jsx)(eN,{characterId:a,recentCharacter:i,creatorName:c})})]})};var eS=r(50033);function ek(){return(0,l.jsx)("div",{className:"w-[312px] h-[146px] bg-surface-elevation-2 rounded-3xl",children:(0,l.jsxs)("div",{className:"p-4 flex flex-row h-full space-x-3",children:[(0,l.jsx)(el.O,{className:"w-[90px] h-[122px] rounded-2xl"}),(0,l.jsxs)("div",{className:"h-full w-full overflow-auto space-y-2",children:[(0,l.jsx)(el.O,{className:"h-4 w-full "}),(0,l.jsx)(el.O,{className:"h-4 w-full"}),(0,l.jsx)("div",{className:"h-4 w-full"}),(0,l.jsx)(el.O,{className:"h-4 w-full"}),(0,l.jsx)(el.O,{className:"h-4 w-full"})]})]})})}let e_=e=>{let{character:t,componentName:r,index:a,trackImpressions:s=!1,referrer:n,feedUuid:c}=e,o=t.external_id,d=(0,A.useRef)(null),u=(0,ep.O)(d,{enabled:s,onlyTriggerOnce:!0});return(0,A.useEffect)(()=>{u&&i.iN.contentViewed({content:o,type:"character_card",referrer:n,index:a,component:r,feed_uuid:c})},[o,u,n,a,r,c]),(0,l.jsx)("div",{ref:d,children:(0,l.jsx)(eS.O,{...t,image:t.avatar_file_name,name:t.participant__name||t.name,index:a})})};function eI(e){let{characters:t,title:r,titleAvatarProps:a,hideTitle:s,slimCharacterCards:n,trackImpressions:i=!1,referrer:c,componentName:o,feedUuid:u}=e,h=(0,A.useRef)(null);(0,em.Zq)(h);let m=()=>s?null:r&&a?(0,l.jsxs)("div",{className:"flex flex-row gap-2 items-center w-full line-clamp-2",children:[(0,l.jsx)(ee.B7,{...a}),(0,l.jsx)("p",{className:"w-full text-lg-medium text-ellipsis break-words line-clamp-2",children:r})]}):(0,l.jsx)("p",{className:"text-lg-medium",children:r});if(null==t||0===t.length){let e=Array(10).fill(0).map((e,t)=>(0,l.jsx)("div",{children:(0,l.jsx)(ek,{})},"$loading-".concat(t)));return(0,l.jsxs)("div",{className:"w-full h-full",children:[(0,l.jsxs)("div",{className:"mb-4 ml-4",children:[m(),(0,l.jsx)("div",{})]}),(0,l.jsx)("div",{className:"flex flex-row overflow-hidden space-x-2",children:e})]})}let x=[ef.Gk,ef.W_,ef.Rv];return w.tq&&x.push(ef.tl),(0,l.jsxs)("div",{className:"w-full h-full",children:[(0,l.jsxs)("div",{className:(0,d.cn)("mb-4 ml-4",n&&"ml-0"),children:[m(),(0,l.jsx)("div",{})]}),(0,l.jsx)("div",{ref:h,children:(0,l.jsx)(J.tq,{slidesPerView:"auto",mousewheel:{forceToAxis:!0},freeMode:!0,autoHeight:w.tq,cssMode:w.tq,navigation:!0,modules:x,className:"shelfSwiper w-full",watchSlidesProgress:!0,children:t.map((e,t)=>(0,l.jsx)(J.o5,{style:{width:w.tq?"fit-content":"auto"},className:"pr-2 last:pr-0",children:n?(0,l.jsx)("div",{className:"w-24 h-32",children:(0,l.jsx)(eC,{...e,title:r,referrer:"HomeShelf",recentCharacter:!0})}):(0,l.jsx)(er.Z,{href:_.nN.chat(e.external_id),"aria-label":"Character: ".concat(e.participant__name),analytics:{name:"characterSelected",properties:{title:r,referrer:c,character_id:e.external_id,index:t,component:o,feed_uuid:u}},className:"flex w-fit group",children:(0,l.jsx)(e_,{character:e,index:t,trackImpressions:i,referrer:c,componentName:o,feedUuid:u})})},e.external_id))})})]})}let eF=()=>{let{categories:e}=eh(),{t}=(0,L.$G)(),r=(0,A.useRef)(null);(0,em.Zq)(r);let a=[ef.Gk,ef.W_,ef.Rv],s=e[0],[n,i]=(0,A.useState)(s),{characters:c}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.x4,t=eu({category:(e||j.x4).trim()}),{recommendedCharacters:r}=y();if(null==t?void 0:t.characters){let e=[...r].map(e=>e.external_id);return{characters:t.characters.filter(t=>!e.includes(t.external_id))}}return{characters:null}}(n);return w.tq&&a.push(ef.tl),(0,A.useEffect)(()=>{n||i(s)},[n,s]),(0,l.jsxs)(ed.mQ,{className:"w-full flex flex-col mt-2",tabIndex:-1,value:n,onValueChange:i,children:[(0,l.jsx)(ed.dr,{className:"w-full flex justify-start items-start",ref:r,children:(0,l.jsx)(J.tq,{slidesPerView:"auto",mousewheel:{forceToAxis:!0},freeMode:!0,autoHeight:w.tq,cssMode:w.tq,navigation:!w.tq,modules:a,className:(0,d.cn)("shelfSwiper","w-full"),watchSlidesProgress:!0,children:e.map(e=>(0,l.jsx)(J.o5,{style:{width:"auto"},className:"px-1",children:(0,l.jsx)(ed.SP,{value:e,className:"mb-6 border-b-none rounded-spacing-s my-0 text-md-medium p-3 data-[state=active]:text-primary-foreground data-[state=active]:bg-primary data-[state=inactive]:bg-surface-elevation-2",children:ex.Ml[e]?t("Categories.".concat(ex.Ml[e])):t("Feed.Categories.".concat(e))})},e))})}),e.map(e=>(0,l.jsx)(ed.nU,{value:e,className:"w-full",children:(0,l.jsx)("li",{className:"mb-6",children:(0,l.jsx)(eI,{characters:c,title:e,hideTitle:!0,referrer:"CategoryShelf"})})},e))]})};var eG=r(48364),eR=r(85256);let eE=e=>e.replace("characterai.io/scenes/","characterai.io/i/200/scenes/"),eH=e=>{let{scene:t}=e,{t:r}=(0,L.$G)(),{character_info:a}=t||{};if(!t)return(0,l.jsx)(el.O,{className:"h-[278px] w-[200px] rounded-spacing-s",style:{width:j.SO}});let s=a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ee.B7,{className:"inline-block mr-1 align-middle",name:a.name,src:a.avatar_file_name,size:28}),(0,l.jsx)("span",{children:a.name})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"inline pr-1",children:[(0,l.jsx)(eR.sdR,{size:28,className:"inline"}),(0,l.jsx)("span",{className:"inline-block overflow-hidden",style:{color:"white",background:"var(--blue)",width:"12px",height:"12px",borderRadius:"50%",marginLeft:"-11px",lineHeight:"13px",paddingLeft:"2px",marginBottom:"-10px",fontSize:"15px",fontWeight:"100"},children:"+"})]}),r("Scenes.choose-character")]}),n=_.nN.sceneDetails(t.scene_id);return(0,l.jsxs)(er.Z,{style:{width:j.SO,color:"var(--G50)"},className:"h-[278px] w-[200px] flex flex-col gap-2 items-center bg-surface-elevation-1 hover:bg-scrim-8 overflow-hidden rounded-spacing-l relative",href:n,analytics:{name:"linkHandled",properties:{link:n,referrer:"SceneCard"}},shallow:!0,children:[(0,l.jsx)(eO,{backgroundImageURL:t.background_image_url}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 items-center w-full h-full relative p-3",children:[(0,l.jsx)("div",{className:"flex flex-col w-full items-end",children:(0,l.jsx)(k.ma8,{className:"size-6"})}),(0,l.jsxs)("div",{className:"flex flex-col justify-end grow w-full gap-1",children:[(0,l.jsx)("p",{className:"line-clamp-3 text-ellipsis",children:null==t?void 0:t.title}),(0,l.jsx)("p",{className:"line-clamp-1 text-ellipsis text-sm",children:s})]})]})]})},eO=e=>{let{backgroundImageURL:t}=e;return(0,l.jsxs)("div",{className:"absolute left-0 w-full h-full flex justify-center items-center overflow-hidden pointer-events-none",children:[(0,l.jsx)("div",{className:"foreground-image absolute w-full h-full bg-cover bg-center ",style:{backgroundImage:t?"url(".concat(eE(t),")"):void 0}}),(0,l.jsx)("div",{className:"foreground-layer tint-layer absolute w-full h-full",style:{background:"linear-gradient(      180deg,      rgba(0, 0, 0, 0.3) 0%,      rgba(0, 0, 0, 0) 30%,      rgba(0, 0, 0, 0.6) 65%,      rgba(0, 0, 0, 0.6) 100%    )"}})]})};var eq=r(7979);let ez=e=>{let{colElems:t,renderGridCard:r}=e,a=t.map(e=>r(e));return(0,l.jsx)("div",{className:(0,d.cn)("w-full flex flex-col gap-2"),children:a})},eP=e=>{let{grid:t,renderGridCard:r}=e,a=(0,A.useRef)(null);(0,em.Zq)(a);let s=[ef.Gk,ef.W_,ef.Rv];return w.tq&&s.push(ef.tl),(0,l.jsx)("div",{className:"relative group w-full flex",ref:a,children:(0,l.jsx)(J.tq,{slidesPerView:"auto",mousewheel:{forceToAxis:!0},freeMode:!0,cssMode:w.tq,navigation:!0,modules:s,className:"shelfSwiper",watchSlidesProgress:!0,children:t.map((e,t)=>(0,l.jsx)(J.o5,{style:{width:"auto"},className:"px-1",children:(0,l.jsx)(ez,{colElems:e,renderGridCard:r})},"col-".concat(t)))})})},eM=e=>{let{key:t,scene:r}=e;return(0,l.jsx)(eH,{scene:r},t)},eQ=()=>{var e;let{t}=(0,L.$G)(),{user:r}=(0,f.a)(),{scenes:a,isLoading:s,error:n}=(0,eq.MU)();(0,A.useEffect)(()=>{n&&(0,eG.H)("Error fetching scenes",{error:n})},[n]);let i=s?[[{key:"loading-1"}],[{key:"loading-2"}],[{key:"loading-3"}],[{key:"loading-4"}]]:null!==(e=null==a?void 0:a.map(e=>[{key:e.scene_id,scene:e}]))&&void 0!==e?e:[];return r&&0!==i.length?(0,l.jsxs)("div",{className:"w-full flex flex-col gap-4 mb-4",children:[(0,l.jsx)("p",{className:"ml-4 text-lg-medium",children:t("Guide.scenes")}),(0,l.jsx)(eP,{grid:i,renderGridCard:eM})]}):null};var eT=r(84938),eD=r(24497);let eB=e=>{let{voice:t}=e;if(!t)return(0,l.jsx)(el.O,{className:"h-[88px] min-w-[200px] rounded-spacing-s",style:{width:j.Rn}});let r=_.qL.voice(t.id);return(0,l.jsxs)(er.Z,{style:{width:j.Rn},className:"min-w-[200px] h-[88px] flex flex-row gap-2 p-3 items-center bg-surface-elevation-1 hover:bg-scrim-8 rounded-spacing-s",href:r,analytics:{name:"linkHandled",properties:{link:r,referrer:"VoiceCard"}},shallow:!0,children:[(0,l.jsx)(eD.K,{id:t.id,preventDefault:!0,className:"min-w-14 min-h-14 border-4"}),(0,l.jsxs)("div",{className:"flex flex-col items-start min-h-full",children:[(0,l.jsx)("p",{className:"line-clamp-2 text-ellipsis",children:null==t?void 0:t.name}),(0,l.jsx)("p",{className:"line-clamp-2 text-ellipsis text-muted-foreground text-md",children:null==t?void 0:t.description})]})]})},eU=e=>{let{key:t,voice:r}=e;return(0,l.jsx)(eB,{voice:r},t)},eL=()=>{var e;let{t}=(0,L.$G)(),{user:r}=(0,f.a)(),{featuredVoices:a,isLoading:s}=(0,eT.yo)(),n=s?[[{key:"loading-1"}],[{key:"loading-2"}],[{key:"loading-3"}],[{key:"loading-4"}]]:null!==(e=null==a?void 0:a.map(e=>[{key:e.id,voice:e}]))&&void 0!==e?e:[];return r&&0!==n.length?(0,l.jsxs)("div",{className:"w-full flex flex-col gap-4 mb-4",children:[(0,l.jsx)("p",{className:"ml-4 text-lg-medium",children:t("Voice.voices")}),(0,l.jsx)(eP,{grid:n,renderGridCard:eU})]}):null};var eW=r(91308);let eY=[{characterId:"YpuGnNPQiGvb0DIg77pDUruORvqEPQAxmabNuOIGylo",questionKey:"WhoWouldWin"},{characterId:"6HhWfeDjetnxESEcThlBQtEUo0O8YHcXyHqCgN7b2hY",questionKey:"ElonMusk"},{characterId:"W4MWmsvbFFnKF8b9e3Eg6ZUNzdhqvEZYy-tNRtxB_Og",questionKey:"AlternateTimeline"},{characterId:"GxP9L6QQ-qocxM9sYfvwywDw6wwfSmBJUjalAlD1ZCY",questionKey:"DebateChampion"},{characterId:"YntB_ZeqRq2l_aVf2gWDCZl4oBttQzDvhj9cXafWcF8",questionKey:"CharacterAssistant"},{characterId:"7yDt2WH6Y_OpaAV4GsxKcY5xIQ8QT5M0kgpDQ6VAflI",questionKey:"AreYouFeelingOkay"}],eV=e=>{let{noTitleMargin:t}=e,{t:r}=(0,L.$G)(),a=(0,A.useMemo)(()=>(0,_.Sy)(eY.map(e=>[e])),[]);return(0,l.jsxs)("div",{className:"w-full flex flex-col gap-4 mb-4 pr-2",children:[(0,l.jsx)("p",{className:(0,d.cn)("ml-4 text-lg-medium",t&&"ml-0"),children:r("Feed.try-saying")}),(0,l.jsx)(eP,{grid:a,renderGridCard:e=>(0,A.createElement)(eW.ZI,{...e,key:e.characterId})})]})},eZ=e=>{let{name:t,characterId:r,label:a,avatar_file_name:s}=e,{t:n}=(0,L.$G)(),i=_.nN.chat(r);return(0,l.jsxs)(er.Z,{style:{width:j.Rn},className:"min-w-[200px] flex flex-row gap-2 p-3 items-center bg-surface-elevation-1 hover:bg-scrim-8 rounded-spacing-s",href:i,analytics:{name:"characterSelected",properties:{link:i,referrer:"UseCaseCard",characterId:r}},children:[(0,l.jsx)(ee.B7,{name:t,size:54,src:s}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"line-clamp-1 text-ellipsis",children:a}),(0,l.jsx)("p",{className:"line-clamp-1 text-ellipsis text-muted-foreground text-md",children:n("Feed.with-character",{name:t})})]})]})},eX=e=>{let{characterId:t,label:r}=e,{info:a}=(0,p.X)(t);if(!a||!a.character||!a.character.name)return(0,l.jsx)(el.O,{className:"h-20 min-w-[200px] rounded-spacing-s",style:{width:j.Rn}});let{character:s}=a;return(0,l.jsx)(eZ,{characterId:t,label:r,name:s.name,avatar_file_name:s.avatar_file_name})},e$=e=>[[{characterId:"A9zlEuzpvWiH8h0PNWEvZPK-PQifYxS-V24D3ncqIyU",label:e("Feed.UseCases.practice-a-new-language")},{characterId:"uD71krOYYFjVkYwspviH_8tYTybsf5eAGdwhNlFJAls",label:e("Feed.UseCases.plan-a-trip")}],[{characterId:"f4hEGbw8ywUrjsrye03EJxiBdooy--HiOWgU2EiRJ0s",label:e("Feed.UseCases.practice-interviewing")},{characterId:"9ZSDyg3OuPbFgDqGwy3RpsXqJblE4S1fKA_oU3yvfTM",label:e("Feed.UseCases.write-a-story")}],[{characterId:"Hu84TYGgte3qVoQuy75x6Q1-ORjQbgoe2qaFoTkjaOM",label:e("Feed.UseCases.brainstorm-ideas")},{characterId:"_FrgO6M-xCuTi72BYHbt-dQN2QsjNXnl-eKJGrjJttc",label:e("Feed.UseCases.play-a-game")}],[{characterId:"WLcau8HDbkAPlnU9GPZvLVQ4QaWMhktCmgGFgG2nb5c",label:e("Feed.UseCases.get-book-recommendations")},{characterId:"9wIR0NXzqD76sfJWRsHCGGb8IkPljhINj8WDy_2xjcg",label:e("Feed.UseCases.help-me-make-a-decision")}]],eK=e=>(0,l.jsx)(eX,{...e},e.characterId),eJ=()=>{let{t:e}=(0,L.$G)();return(0,l.jsxs)("div",{className:"w-full flex flex-col gap-4 mb-4",children:[(0,l.jsx)("p",{className:"ml-4 text-lg-medium",children:e("Feed.try-these")}),(0,l.jsx)(eP,{grid:e$(e),renderGridCard:eK})]})};function e0(){(0,s.Xu)("Home"),C();let{user:e}=(0,f.a)(),t=(0,n.EY)(n.F5.PopularAndTrending).config.enabled,r=(0,n.EY)(n.F5.ScenesShelfPlacement),{config:{disableScenarios:a}}=(0,n.EY)(n.F5.DisableScenarios);return(0,l.jsxs)("div",{className:(0,d.cn)("pl-2 md:pl-0 mt-2",!e&&"pt-8"),children:[!a&&(0,l.jsx)(eo,{}),e?(0,l.jsx)(e2,{}):(0,l.jsx)(e4,{}),"below-for-you"===r.config.shelf_location&&(0,l.jsx)(eQ,{}),(0,l.jsx)(e8,{}),"below-featured"===r.config.shelf_location&&(0,l.jsx)(eQ,{}),!!t&&(0,l.jsx)(e5,{}),(0,l.jsx)(eJ,{}),!!e&&(0,l.jsx)(eL,{}),(0,l.jsx)(eF,{}),(0,l.jsx)(eV,{}),(0,l.jsx)(X,{})]})}let e1=e=>{let{className:t=""}=e,{t:r}=(0,L.$G)(),{recentCharacters:a,isLoading:s}=(0,v.Z)();if((0,x.x)(s,"RecentChatShelf"),0===a.length)return null;let n=null==a?void 0:a.map(e=>({external_id:e.character_id,avatar_file_name:e.avatar_file_name||"",participant__name:e.name,name:e.name}));return(0,l.jsx)("li",{className:(0,d.cn)("mb-6",t),children:(0,l.jsx)(eI,{characters:n,title:r("Guide.recent-chats"),slimCharacterCards:!0,referrer:"HomeShelf",componentName:"RecentChatShelf"})})},e2=()=>{let{t:e,i18n:t}=(0,L.$G)(),{recommendedCharacters:r,isLoading:a,recommendedUuid:s}=y({lang:t.language}),i=(0,b.useGateValue)(n.F5.NRTRecommendationEvents);return(0,x.x)(a,"ForYouShelf"),(0,l.jsx)("li",{className:"mb-6",children:(0,l.jsx)(eI,{characters:r,title:e("Feed.for-you"),referrer:"HomeShelf",trackImpressions:i,componentName:"ForYouShelf",feedUuid:s})},e("Feed.for-you"))},e4=()=>{let{i18n:e}=(0,L.$G)(),{recommendedCharacters:t,isLoading:r}=y({lang:e.language}),{t:a}=(0,L.$G)();return(0,x.x)(r,"ForAnonymousShelf"),(0,l.jsx)("li",{className:"mb-6",children:(0,l.jsx)(eI,{characters:t,title:a("Feed.for-you"),referrer:"HomeShelf",componentName:"ForAnonymousShelf"})},a("Feed.for-you"))},e5=()=>{let{data:e,isLoading:t}=g.h.discovery.curatedLists.useQuery({listIds:["cold_start_popular_characters_l30d_v1","cold_start_trending_characters_v1"]});(0,x.x)(t,"AutoCuratedShelves");let r=null==e?void 0:e.cold_start_popular_characters_l30d_v1,a=null==e?void 0:e.cold_start_trending_characters_v1;return(0,l.jsxs)(l.Fragment,{children:[!!r&&(0,l.jsx)(e3,{characters:r}),!!a&&(0,l.jsx)(e6,{characters:a})]})},e3=e=>{let{characters:t}=e,{t:r}=(0,L.$G)();return(0,l.jsx)("li",{className:"mb-6",children:(0,l.jsx)(eI,{characters:t,title:r("Feed.popular"),referrer:"HomeShelf",componentName:"PopularShelf"})})},e6=e=>{let{characters:t}=e,{t:r}=(0,L.$G)();return(0,l.jsx)("li",{className:"mb-6",children:(0,l.jsx)(eI,{characters:t,title:r("Feed.trending"),referrer:"HomeShelf",componentName:"TrendingShelf"})})},e8=()=>{let{t:e}=(0,L.$G)(),t=(0,b.useDynamicConfig)(n.Lo.FeaturedCharacters).get("characterIds",[]),{characters:r,isLoading:a}=(0,p.H)(t);return((0,x.x)(a,"FeaturedShelf"),r&&0===r.length)?null:(0,l.jsx)("li",{className:"mb-6",children:(0,l.jsx)(eI,{characters:r,title:e("Feed.featured"),referrer:"HomeShelf",componentName:"FeaturedShelf"})},e("Feed.featured"))};var e7=r(12264),e9=r(83542),te=function(e,t){var r=(0,A.useState)(null),l=r[0],a=r[1];return(0,A.useEffect)(function(){if(e.current&&"function"==typeof IntersectionObserver){var r=new IntersectionObserver(function(e){a(e[0])},t);return r.observe(e.current),function(){a(null),r.disconnect()}}return function(){}},[e.current,t.threshold,t.root,t.rootMargin]),l};let tt=e=>{var t,r;let{value:a,onChange:s}=e,{t:n}=(0,L.$G)(),{categories:i}=eh(),c=(0,A.useRef)(null),o=(0,A.useRef)(null),u=(0,A.useRef)(null),h=["All",...i],m=null===(t=te(c,{root:u.current,threshold:.9}))||void 0===t?void 0:t.isIntersecting,x=null===(r=te(o,{root:u.current,threshold:.9}))||void 0===r?void 0:r.isIntersecting,f=e=>{let t=e.currentTarget;e.stopPropagation();let r=t.scrollWidth-t.offsetWidth;e.shiftKey?(e.preventDefault(),t.scrollBy({left:e.deltaY})):(t.scrollLeft+e.deltaX<0||t.scrollLeft+e.deltaX>r)&&(e.preventDefault(),t.scrollLeft=Math.max(0,Math.min(r,t.scrollLeft+e.deltaX)))};(0,A.useEffect)(()=>{let e=u.current;return null==e||e.addEventListener("wheel",f,{passive:!1}),()=>{null==e||e.removeEventListener("wheel",f)}},[]);let p=e=>0===e&&c||e===h.length-1&&o||null;return(0,l.jsxs)("div",{className:"sticky top-0 z-30 h-16 w-full group overflow-hidden",children:[(0,l.jsx)(K.M,{children:!m&&(0,l.jsx)(I.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:(0,d.cn)("absolute left-0 h-full w-16 bg-gradient-to-r from-background to-transparent cursor-pointer flex items-center"),onClick:()=>{var e;null===(e=u.current)||void 0===e||e.scrollBy({left:-250,behavior:"smooth"})},children:(0,l.jsx)("div",{className:"px-2 py-3 opacity-0 pointer-fine:group-hover:opacity-100 transition-all",children:(0,l.jsx)(k.XCv,{className:"h-6 w-6 text-foreground rotate-180"})})})}),(0,l.jsx)(K.M,{children:!x&&(0,l.jsx)(I.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:(0,d.cn)("absolute right-0 h-full w-16 bg-gradient-to-l from-background to-transparent cursor-pointer flex items-center justify-end"),onClick:()=>{var e;null===(e=u.current)||void 0===e||e.scrollBy({left:250,behavior:"smooth"})},children:(0,l.jsx)("div",{className:"px-2 py-3 opacity-0 pointer-fine:group-hover:opacity-100 transition-all",children:(0,l.jsx)(k.XCv,{className:"h-6 w-6 text-foreground"})})})}),(0,l.jsx)("div",{className:"overflow-x-scroll scrollbar-hide bg-background h-full flex items-center",ref:u,children:(0,l.jsx)(ed.mQ,{tabIndex:-1,value:a,onValueChange:s,children:(0,l.jsx)(ed.dr,{className:"h-auto w-full flex justify-start items-start gap-2 pl-0",children:h.map((e,t)=>(0,l.jsx)(ed.SP,{value:e,className:"h-10 mb-6 border-b-none rounded-spacing-s my-0 p-3 data-[state=active]:text-primary-foreground data-[state=active]:bg-primary data-[state=inactive]:bg-surface-elevation-2",ref:p(t),children:n("Categories.".concat(ex.Ml[e]))},e))})})})]})};var tr=r(73145);function tl(e){let{children:t}=e;return(0,l.jsx)("div",{className:"col-span-full mt-3 mb-2 border-y-1 py-3",children:t})}function ta(){C();let{user:e}=(0,f.a)(),[t,r]=(0,A.useState)("All"),{data:a}=g.h.discovery.characterFeed.useQuery(void 0,{enabled:!!e}),{data:s}=g.h.discovery.characterFeedAnonymous.useQuery(void 0,{enabled:!e}),n=e?a:s,i=eu({category:t,enabled:"All"!==t}),[c,o]=(0,A.useState)([]),{recentCharacters:u}=(0,v.Z)(),h=(0,A.useRef)(null),m=(0,A.useRef)(null),x=te(m,{root:null,rootMargin:"0px",threshold:.5}),[p,j]=(0,A.useState)(6),[b,w]=(0,A.useState)(20),y=(0,A.useRef)(null),N=(0,A.useRef)({}),S=(0,A.useMemo)(()=>{var e,r,l,a,s;return"All"!==t?((l=N.current)[t]||(l[t]=null==i?void 0:i.characters),null!==(a=null===(r=N.current[t])||void 0===r?void 0:r.filter(e=>!!e.avatar_file_name))&&void 0!==a?a:[]):null!==(s=null==n?void 0:null===(e=n.characters)||void 0===e?void 0:e.filter(e=>!!e.avatar_file_name))&&void 0!==s?s:[]},[t,null==n?void 0:n.characters,i]),k=b<S.length;(0,A.useEffect)(()=>{let e=Math.ceil(Math.min(b,S.length)/p),t=[];for(let r=0;r<e;r++){let e=S.slice(r*p,(r+1)*p);e.length>0&&e.length===p&&t.push(e)}o(t)},[S,p,b]),(0,A.useEffect)(()=>{window.scrollTo({top:0})},[t]);let _=(0,A.useCallback)(()=>{var e;h.current&&j(Math.max(Math.floor(((null===(e=h.current)||void 0===e?void 0:e.clientWidth)+16)/156),1))},[]);(0,e9.yU)({ref:h,onResize:_}),(0,A.useEffect)(()=>((null==x?void 0:x.isIntersecting)?y.current=setTimeout(()=>{w(e=>e+20)},500+500*Math.random()):y.current&&(clearTimeout(y.current),y.current=null),()=>{y.current&&(clearTimeout(y.current),y.current=null)}),[x]);let I={2:u.length>0?(0,l.jsx)(e1,{className:"mb-0"}):null,[e?4:2]:(0,l.jsx)(eV,{noTitleMargin:!0}),[e?12:5]:(0,l.jsx)(X,{})};return(0,l.jsxs)("div",{className:(0,d.cn)("mx-2",!e&&"pt-8"),children:[(0,l.jsx)(tt,{value:t,onChange:e=>{w(20),r(e)}}),(0,l.jsx)(tr.J,{ref:h,children:"All"===t&&n||i?(0,l.jsxs)(l.Fragment,{children:[c.map((e,r)=>(0,l.jsxs)(A.Fragment,{children:["All"===t&&!!I[r]&&(0,l.jsx)(tl,{children:I[r]}),e.map(e=>(0,l.jsx)(e7.O,{children:(0,l.jsx)(eC,{...e,referrer:"HomeFeed"})},e.external_id))]},"".concat(r,"-").concat(e.length))),!!k&&Array.from({length:2*p}).map((e,t)=>(0,l.jsx)(e7.O,{ref:0===t?m:null,children:(0,l.jsx)(el.O,{className:"w-full h-full"})},"skeleton-".concat(t)))]}):Array.from({length:50}).map((e,t)=>(0,l.jsx)(e7.O,{children:(0,l.jsx)(el.O,{className:"w-full h-full"})},"skeleton-".concat(t)))})]})}var ts=r(79298),tn=r(1337),ti=r(59131),tc=r(15584),to=r(70537),td=r(9010),tu=r(54972),th=r(39452),tm=r(92304),tx=r(89363),tf=r(46962),tp=r(96445),tv=r(88883),tg=r(63955),tj=r(30195);let tb="NewLoggedOutHomepage",tw=e=>{let{sentEmail:t,handleContinue:r,referrer:a,shouldAutoFocus:s}=e,{t:n}=(0,L.$G)(),c=(0,eg.useRouter)(),u=(0,A.useRef)(null),h=(0,tc.BF)(o.SZ),m=tj.z.object({email:tj.z.string().max(320).email(n("Error.enter-valid-email"))}),x=(0,tg.cI)({resolver:(0,tv.F)(m),mode:"onSubmit",defaultValues:{email:""},disabled:t}),f=x.watch(),p=async e=>{var l,a;let s=await x.trigger(Object.keys(null!==(a=x.formState.defaultValues)&&void 0!==a?a:{}));!t&&s&&(null===(l=localStorage)||void 0===l||l.setItem(j.pT,c.asPath),await r(e.email))};return(0,A.useEffect)(()=>{h&&u.current&&u.current.focus()},[h]),(0,l.jsx)(th.l0,{...x,children:(0,l.jsxs)("form",{onSubmit:x.handleSubmit(p),className:"flex flex-col gap-2",children:[(0,l.jsxs)("div",{className:"rounded-xl border border-gray-500 px-4 py-3 flex items-center h-[50px]",children:[(0,l.jsx)(k.LQS,{className:"h-5 w-5 text-gray-500"}),(0,l.jsx)(tg.Qr,{name:"email",control:x.control,render:e=>{let{field:t}=e;return(0,l.jsx)(tu.C,{...t,ref:u,type:"email",autoFocus:s,placeholder:"Your email address",className:"bg-transparent border-none w-full h-14 pl-3",checks:(0,th.XF)(m,"email"),errorClassname:"-mt-6 mb-1",label:"",onFocus:()=>i.iN.authStarted({provider:"email",extra:"on-focus",referrer:null!=a?a:"SignInButtons"})})}})]}),(0,l.jsxs)($.a2,{children:[(0,l.jsx)(S.zx,{type:"submit",className:(0,d.cn)("rounded-xl py-[5px] h-[45px] items-center bg-button-filled text-lg","w-full flex justify-center"),isDisabled:!f.email||t||(0,tp.Z)(),children:(0,l.jsx)("div",{className:"flex justify-between w-full items-center",children:(0,l.jsx)("div",{className:"w-full flex-1 text-md",children:n("Common.continue")})})}),(0,l.jsx)(tm._,{className:(0,d.cn)("w-full flex justify-center mt-2",t?"":"hidden"),children:n("Common.one-moment-please")})]})]})})},ty=e=>{let{referrer:t}=e,r=(0,tc.BF)(o.n_),a=(0,tc.BF)(o.Aq),s=(0,tc.BF)(o.MX),n=!!s,{onPressApple:i,onPressGoogle:c,handleContinue:u,sentEmail:h}=(0,tx._w)(null!=t?t:tb),[m,x]=(0,A.useState)(!1),{t:f}=(0,L.$G)(),p=(0,tp.Z)(),v=(0,tf.G)(),g=v?"black":"white",j=(0,d.cn)("rounded-xl h-[50px] w-[356px] items-center bg-button-filled text-lg");return r?(0,l.jsx)(td.$,{}):(0,l.jsxs)("div",{className:(0,d.cn)("flex flex-col space-y-[12px] w-full"),tabIndex:0,children:[!!n&&(0,l.jsxs)("div",{className:"text-center p-1",children:[f("SignInDialog.invite-code")," ",s]}),(0,l.jsx)(S.zx,{onPress:c,isDisabled:p,className:j,children:(0,l.jsxs)("div",{className:"flex justify-between w-full items-center",children:[(0,l.jsx)(k._8Z,{height:"1.5em"}),(0,l.jsx)("div",{className:"w-full flex-1 text-md",children:f("Auth.continue-with",{provider:"Google"})})]})}),(0,l.jsx)(S.zx,{isDisabled:p,onPress:i,className:j,children:(0,l.jsxs)("div",{className:"flex justify-between w-full items-center",children:[(0,l.jsx)(k.qwG,{height:"1.5em",fill:g}),(0,l.jsx)("div",{className:"w-full flex-1 text-md",children:f("Auth.continue-with",{provider:"Apple"})})]})}),!n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-muted-foreground font-thin text-sm text-center",children:f("Common.or")}),!m&&(0,l.jsx)(S.zx,{variant:"outline",onPress:()=>{x(!0),o.Aq.value=!0},className:(0,d.cn)("rounded-xl h-[50px] items-center text-lg border border-gray-500",{"bg-surface-elevation-2":v}),children:(0,l.jsxs)("div",{className:"flex justify-between w-full items-center",children:[(0,l.jsx)(k.LQS,{className:"h-5 w-5 text-gray-500"}),(0,l.jsx)("div",{className:(0,d.cn)("w-full flex-1 text-md",{"text-gray-400 font-medium":v}),children:f("Auth.continue-with-email")})]})})]}),!!m&&(0,l.jsx)(tw,{sentEmail:h,handleContinue:u,shouldAutoFocus:a,referrer:null!=t?t:tb})]})},tN=()=>(0,tc.BF)(o.SZ)?(0,l.jsx)("div",{className:(0,d.cn)("fixed inset-0 bg-black/60 transition-opacity duration-300 z-10 bg-black/50 dark:bg-black/70"),"aria-hidden":"true",onClick:()=>{o.SZ.value=!1}}):null,tA=e=>{let{children:t,viewType:r}=e,a=(0,tc.BF)(o.Aq);return(0,l.jsxs)("div",{className:(0,d.cn)("z-11 relative flex flex-1 items-center min-h-screen px-5",r.includes("large")?"justify-start":"justify-center",{"pt-[10vh]":"abridged"===r}),children:[(0,l.jsx)(tN,{}),(0,l.jsx)("div",{className:(0,d.cn)("bg-[#FAFAFA] dark:bg-surface-elevation-2 border-none bg-cover bg-center flex flex-col","border-none dark:border dark:border-white/5","w-[400px]",a?"h-[494px]":"h-[442px]","min-w-[380px] min-h-[432px]","rounded-[24px]","py-6 px-5","space-y-8","z-20 translate-y-[theme(spacing.overlay-offset)]","transition-all duration-300 ease-in-out",{"shadow-md":"minimal"!==r,"bg-background-elevation-1":"minimal"===r}),children:t})]})},tC=e=>{let{viewType:t,colorGradientClassName:r}=e,{t:a}=(0,ti.$G)();return(0,l.jsxs)(tA,{viewType:t,children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-[36px] leading-[40px] tracking-[-0.02em] font-semibold",children:(0,l.jsxs)(ti.cC,{i18nKey:"SignUpDialogNewHome.heading-1",children:[(0,l.jsx)("span",{className:"block",children:"Get access to"}),(0,l.jsxs)("span",{className:"block",children:[(0,l.jsx)("span",{className:(0,d.cn)("bg-gradient-to-r",r,"text-transparent bg-clip-text"),children:"10M+"})," Characters"]})]})}),(0,l.jsx)("p",{className:"text-gray-800 text-[18px] dark:text-white",children:a("SignUpDialogNewHome.subheading-1")})]}),(0,l.jsxs)("div",{className:"flex-1 self-center w-full",children:[(0,l.jsx)(ty,{}),(0,l.jsx)("div",{className:"flex justify-center mt-[20px]",children:(0,l.jsx)(ts.C,{size:"text-[11px]/[16px]"})})]})]})},tS=()=>{let e=(0,tn.C)(),t="",r=!0,a=(0,to.E6)();switch(e){case"minimal":r=!1;break;case"abridged":t=(0,d.cn)("fixed left-0 right-0 top-[34px] h-[490px] w-screen overflow-hidden bg-background-elevation-1");break;default:t=(0,d.cn)("absolute","w-[75%] h-[580px]","rounded-lg overflow-hidden","top-1/2 translate-y-[calc(-50%+theme(spacing.overlay-offset))]","transition-all duration-300 ease-in-out",{"left-[23%]":"large"===e,"left-[20%]":"large-with-shift"===e})}return(0,l.jsx)("div",{className:"relative min-h-screen flex items-center justify-center overflow-hidden h-screen",children:(0,l.jsxs)("div",{className:"relative flex items-center justify-center w-full max-w-[1440px] overflow-hidden",children:[r&&(0,l.jsx)($.a2,{children:(0,l.jsx)(to.DJ,{info:a,className:t,useVideo:!0})}),(0,l.jsx)(tC,{viewType:e,colorGradientClassName:a.colorGradientClassName})]})})};var tk=!0;let t_="experimental-edge",tI=e=>{let{extraProps:t}=e;(0,m.O)();let r=(0,s.wz)(a.b.HomeFeed),{loggedOutHomePageRecommendationsVariant:i}=t,c=(0,b.useStatsigClient)();return((0,A.useEffect)(()=>{w.tq||c.getExperiment(n.F5.LoggedOutHomePageRecommendations)},[c]),"control"===i)?(0,l.jsx)(tS,{}):r?(0,l.jsx)(ta,{}):(0,l.jsx)(e0,{})};tI.getLayout=function(e,t,r){let{loggedOutHomePageRecommendationsVariant:a}=r;return"control"===a?(0,l.jsx)(h,{children:e}):(0,l.jsxs)("div",{className:(0,d.cn)("flex flex-col justify-between px-4 sm:px-8 pt-6",{"px-0":w.tq}),children:[(0,l.jsx)("title",{children:t("Home.title")}),(0,l.jsxs)("div",{className:"max-w-7xl self-center w-full",children:[(0,l.jsx)("div",{className:"pb-4 pr-2 z-30 bg-background",children:(0,l.jsx)(u.uN,{})}),(0,l.jsx)("ol",{className:"flex flex-col",children:e})]}),(0,l.jsx)("div",{className:"mt-24 pt-10",children:(0,l.jsx)(c.$,{})})]})},tI.SignedOut=tI;var tF=tI},75049:function(e,t,r){"use strict";var l,a;r.d(t,{Ml:function(){return n},Qo:function(){return l},bq:function(){return s}}),(a=l||(l={})).About="About",a.ChatStarters="ChatStarters",a.SimilarCharacters="SimilarCharacters";let s="About";Object.values(l);let n={All:"all",Trending:"trending",Assistants:"assistants","Games & Puzzles":"games-and-puzzles","School & Homework":"school-and-homework","Role Playing Games":"role-playing-games",Professional:"professional","Entertainment & Gaming":"entertainment-and-gaming",Humor:"humor","Health & Wellness":"health-and-wellness","Language Learning":"language-learning",Anime:"anime",Writing:"writing",Lifestyle:"lifestyle","History & Philosophy":"history-and-philosophy","Advice & Connection":"advice-and-connection",Creativity:"creativity","Sci-Fi":"sci-fi","Creativity & Writing":"writing",Learning:"learning",Parody:"parody","RPG & Puzzles":"rpg-and-puzzles",History:"history"}},73145:function(e,t,r){"use strict";r.d(t,{J:function(){return s}});var l=r(52322),a=r(61676);let s=(0,r(2784).forwardRef)((e,t)=>{let{children:r,className:s}=e;return(0,l.jsx)("div",{className:(0,a.cn)("grid grid-cols-flex gap-4",s),style:{"--feed-item-width":"".concat(312,"px")},ref:t,children:r})});s.displayName="FlexGrid"},12264:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});var l=r(52322),a=r(61676);let s=(0,r(2784).forwardRef)((e,t)=>{let{children:r,className:s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("w-full h-[146px]",s),children:r})});s.displayName="FlexGridItem"},50033:function(e,t,r){"use strict";r.d(t,{O:function(){return d}});var l=r(52322),a=r(95856),s=r(92197),n=r(92599),i=r(61676),c=r(55264),o=r(15030);function d(e){let{name:t,image:r,user__username:d,greeting:u,title:h,participant__num_interactions:m,upvotes:x,index:f}=e;return(0,l.jsx)("div",{className:(0,i.cn)("group/card h-[146px] bg-surface-elevation-1 hover:cursor-pointer hover:bg-scrim-8 rounded-spacing-m relative"),style:{width:o.Rn},children:(0,l.jsx)("div",{className:"w-full h-full p-4 flex flex-col gap-2",children:(0,l.jsxs)("div",{className:"flex flex-row h-full space-x-3 w-full",children:[(0,l.jsx)(a.B7,{name:t,size:90,height:114,cdnOverride:c.t7.MEDIUM200,circle:!1,src:r,priority:f?f<4:void 0}),(0,l.jsxs)("div",{className:"overflow-auto h-full flex flex-col justify-between w-full",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mb-[2px] text-md-medium leading-tight line-clamp-1 text-ellipsis break-anywhere overflow-hidden whitespace-normal",children:t}),!!d&&(0,l.jsx)(s.f,{author:d,className:"mb-[5px]",clickable:!1,link:!1}),(0,l.jsx)("p",{className:"text-foreground font-normal line-clamp-3 text-sm text-ellipsis overflow-hidden whitespace-normal break-anywhere",children:h||u})]}),null!=m&&(0,l.jsx)("div",{className:"w-full flex flex-row justify-between items-center",children:(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-1 items-center",children:[(0,l.jsx)(n.kBi,{width:"14px",height:"14px",className:"text-muted-foreground"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,c.HN)(m)})]}),!!x&&(0,l.jsxs)("div",{className:"flex flex-row gap-1 items-center",children:[(0,l.jsx)(n.lbB,{width:"14px",height:"14px",className:"text-muted-foreground"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,c.HN)(x)})]})]})})]})]})})})}}},function(e){e.O(0,[6739,3371,7702,7679,6302,2888,9774,179],function(){return e(e.s=87314)}),_N_E=e.O()}]);